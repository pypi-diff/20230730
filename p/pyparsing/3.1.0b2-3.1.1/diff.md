# Comparing `tmp/pyparsing-3.1.0b2.tar.gz` & `tmp/pyparsing-3.1.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "pyparsing-3.1.0b2.tar", last modified: Sat May 20 02:42:08 2023, max compression
+gzip compressed data, was "pyparsing-3.1.1.tar", last modified: Sun Jul 30 15:06:14 2023, max compression
```

## Comparing `pyparsing-3.1.0b2.tar` & `pyparsing-3.1.1.tar`

### file list

```diff
@@ -1,162 +1,163 @@
--rw-r--r--   0        0        0      120 2023-04-08 05:25:24.240679 pyparsing-3.1.0b2/.coveragerc
--rw-r--r--   0        0        0     2282 2023-04-08 05:25:24.240679 pyparsing-3.1.0b2/.gitignore
--rw-r--r--   0        0        0      126 2023-04-08 05:25:24.240679 pyparsing-3.1.0b2/.pre-commit-config.yaml
--rw-r--r--   0        0        0      784 2023-04-08 05:25:24.240679 pyparsing-3.1.0b2/BUILDING.md
--rw-r--r--   0        0        0   173324 2023-05-20 02:38:31.673207 pyparsing-3.1.0b2/CHANGES
--rw-r--r--   0        0        0     3341 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/CODE_OF_CONDUCT.rst
--rw-r--r--   0        0        0     6891 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/CONTRIBUTING.md
--rw-r--r--   0        0        0     1023 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/LICENSE
--rw-r--r--   0        0        0     3463 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/README.rst
--rw-r--r--   0        0        0       36 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/docs/CODE_OF_CONDUCT.rst
--rw-r--r--   0        0        0    64360 2023-05-20 02:38:31.673207 pyparsing-3.1.0b2/docs/HowToUsePyparsing.rst
--rw-r--r--   0        0        0      606 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/docs/Makefile
--rw-r--r--   0        0        0   236402 2023-04-08 05:25:24.248679 pyparsing-3.1.0b2/docs/_static/pyparsingClassDiagram_1.5.2.jpg
--rw-r--r--   0        0        0   287969 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/_static/pyparsingClassDiagram_3.0.9.jpg
--rw-r--r--   0        0        0    42634 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/_static/sql_railroad.html
--rw-r--r--   0        0        0     5463 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/conf.py
--rw-r--r--   0        0        0      537 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/index.rst
--rw-r--r--   0        0        0       34 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/docs/make_sphinx_docs.bat
--rw-r--r--   0        0        0       64 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/modules.rst
--rw-r--r--   0        0        0      120 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/pyparsing.rst
--rw-r--r--   0        0        0     6039 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/docs/pyparsing_class_diagram.puml
--rw-r--r--   0        0        0    31566 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/docs/whats_new_in_3_0_0.rst
--rw-r--r--   0        0        0    10375 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/0README.html
--rw-r--r--   0        0        0    39138 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/AcManForm.dfm
--rw-r--r--   0        0        0    21112 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/LAparser.py
--rw-r--r--   0        0        0     1443 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/Setup.ini
--rw-r--r--   0        0        0     3671 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/SimpleCalc.py
--rw-r--r--   0        0        0    43724 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/SingleForm.dfm
--rw-r--r--   0        0        0     7608 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/TAP.py
--rw-r--r--   0        0        0        0 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/__init__.py
--rw-r--r--   0        0        0    21862 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/adventureEngine.py
--rw-r--r--   0        0        0    11143 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/antlr_grammar.py
--rw-r--r--   0        0        0     2955 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/antlr_grammar_tests.py
--rw-r--r--   0        0        0     2251 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/apicheck.py
--rw-r--r--   0        0        0     4188 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/bf.py
--rw-r--r--   0        0        0    64015 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/bigquery_view_parser.py
--rw-r--r--   0        0        0    15575 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/booleansearchparser.py
--rw-r--r--   0        0        0     4257 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/btpyparse.py
--rw-r--r--   0        0        0      817 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/builtin_parse_action_demo.py
--rw-r--r--   0        0        0      853 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/cLibHeader.py
--rw-r--r--   0        0        0     3035 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/chemical_formulas.py
--rw-r--r--   0        0        0      707 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/commasep.py
--rw-r--r--   0        0        0     2043 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/configParse.py
--rw-r--r--   0        0        0     1395 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/cpp_enum_parser.py
--rw-r--r--   0        0        0     2633 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/cuneiform_python.py
--rw-r--r--   0        0        0     2021 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/datetime_parse_actions.py
--rw-r--r--   0        0        0     7591 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/decaf_parser.py
--rw-r--r--   0        0        0    16157 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/delta_time.py
--rw-r--r--   0        0        0     7212 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/dfmparse.py
--rw-r--r--   0        0        0     3048 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/dhcpd_leases_parser.py
--rw-r--r--   0        0        0     1776 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/dictExample.py
--rw-r--r--   0        0        0     2152 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/dictExample2.py
--rw-r--r--   0        0        0     4247 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/ebnf.py
--rw-r--r--   0        0        0     2403 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/ebnftest.py
--rw-r--r--   0        0        0     6316 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/eval_arith.py
--rw-r--r--   0        0        0     2199 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/excel_expr.py
--rw-r--r--   0        0        0    10518 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/fourFn.py
--rw-r--r--   0        0        0     5416 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/gen_ctypes.py
--rw-r--r--   0        0        0     1138 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/getNTPserversNew.py
--rw-r--r--   0        0        0      518 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/greeting.py
--rw-r--r--   0        0        0      425 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/greetingInGreek.py
--rw-r--r--   0        0        0      495 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/greetingInKorean.py
--rw-r--r--   0        0        0      509 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/groupUsingListAllMatches.py
--rw-r--r--   0        0        0     1977 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/hola_mundo.py
--rw-r--r--   0        0        0     1109 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/htmlStripper.py
--rw-r--r--   0        0        0     2096 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/htmlTableParser.py
--rw-r--r--   0        0        0     3565 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/httpServerLogParser.py
--rw-r--r--   0        0        0     7714 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/idlParse.py
--rw-r--r--   0        0        0     2688 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/include_preprocessor.py
--rw-r--r--   0        0        0     1022 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/indentedGrammarExample.py
--rw-r--r--   0        0        0      712 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/indented_block_example.py
--rw-r--r--   0        0        0     8279 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/inv_regex.py
--rw-r--r--   0        0        0    18536 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/javascript_grammar.g
--rw-r--r--   0        0        0     4809 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/jsonParser.py
--rw-r--r--   0        0        0     1439 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/left_recursion.py
--rw-r--r--   0        0        0     1563 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/linenoExample.py
--rw-r--r--   0        0        0     1612 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/listAllMatches.py
--rw-r--r--   0        0        0     7995 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/lua_parser.py
--rw-r--r--   0        0        0     8592 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/lucene_grammar.py
--rw-r--r--   0        0        0     1824 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/macroExpander.py
--rw-r--r--   0        0        0     1520 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/make_diagram.py
--rw-r--r--   0        0        0      586 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/matchPreviousDemo.py
--rw-r--r--   0        0        0      752 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/mozilla.ics
--rw-r--r--   0        0        0     2773 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/mozillaCalendarParser.py
--rw-r--r--   0        0        0      579 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/nested.py
--rw-r--r--   0        0        0     1892 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/nested_markup.py
--rw-r--r--   0        0        0     3859 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/number_words.py
--rw-r--r--   0        0        0     1374 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/numerics.py
--rw-r--r--   0        0        0     4445 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/oc.py
--rw-r--r--   0        0        0     1927 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/one_to_ninety_nine.py
--rw-r--r--   0        0        0     1721 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/parseTabularData.py
--rw-r--r--   0        0        0     2559 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/parse_python_value.py
--rw-r--r--   0        0        0      853 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/parse_results_sum_example.py
--rw-r--r--   0        0        0     2400 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/partial_gene_match.py
--rw-r--r--   0        0        0     3416 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/pgn.py
--rw-r--r--   0        0        0     2221 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/position.py
--rw-r--r--   0        0        0     3982 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/protobuf_parser.py
--rw-r--r--   0        0        0     8271 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/pythonGrammarParser.py
--rw-r--r--   0        0        0     1586 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/railroad_diagram_demo.py
--rw-r--r--   0        0        0     2908 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/range_check.py
--rw-r--r--   0        0        0   123651 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/readJson.py
--rw-r--r--   0        0        0     1846 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/removeLineBreaks.py
--rw-r--r--   0        0        0     2493 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/romanNumerals.py
--rw-r--r--   0        0        0     7609 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/rosettacode.py
--rw-r--r--   0        0        0     2414 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/scanExamples.py
--rw-r--r--   0        0        0      962 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/searchParserAppDemo.py
--rw-r--r--   0        0        0    10654 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/searchparser.py
--rw-r--r--   0        0        0     8225 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/select_parser.py
--rw-r--r--   0        0        0     5351 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/sexpParser.py
--rw-r--r--   0        0        0     1729 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/shapes.py
--rw-r--r--   0        0        0     2477 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/simpleArith.py
--rw-r--r--   0        0        0     3275 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/simpleBool.py
--rw-r--r--   0        0        0     3234 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/simpleSQL.py
--rw-r--r--   0        0        0     1108 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/simpleWiki.py
--rw-r--r--   0        0        0    29375 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/snmp_api.h
--rw-r--r--   0        0        0     3141 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/sql2dot.py
--rw-r--r--   0        0        0     2795 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/stackish.py
--rw-r--r--   0        0        0     1145 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/statemachine/documentSignoffDemo.py
--rw-r--r--   0        0        0     2879 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/statemachine/documentsignoffstate.pystate
--rw-r--r--   0        0        0     1759 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/libraryBookDemo.py
--rw-r--r--   0        0        0      542 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/librarybookstate.pystate
--rw-r--r--   0        0        0    12422 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/statemachine.py
--rw-r--r--   0        0        0      550 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/trafficLightDemo.py
--rw-r--r--   0        0        0     1149 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/trafficlightstate.pystate
--rw-r--r--   0        0        0     2441 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/vending_machine.py
--rw-r--r--   0        0        0     1192 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/video_demo.py
--rw-r--r--   0        0        0      861 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/videostate.pystate
--rw-r--r--   0        0        0     8926 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/test_bibparse.py
--rw-r--r--   0        0        0     5139 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/unicode_denormalizer.py
--rw-r--r--   0        0        0     1054 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/urlExtractor.py
--rw-r--r--   0        0        0     2458 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/urlExtractorNew.py
--rw-r--r--   0        0        0    31898 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/verilog_parse.py
--rw-r--r--   0        0        0      912 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/withAttribute.py
--rw-r--r--   0        0        0     2995 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/wordsToNum.py
--rw-r--r--   0        0        0     9103 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/pyparsing/__init__.py
--rw-r--r--   0        0        0     6567 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/pyparsing/actions.py
--rw-r--r--   0        0        0    13387 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/pyparsing/common.py
--rw-r--r--   0        0        0   224460 2023-05-20 02:38:31.689207 pyparsing-3.1.0b2/pyparsing/core.py
--rw-r--r--   0        0        0    24198 2023-05-20 02:38:31.689207 pyparsing-3.1.0b2/pyparsing/diagram/__init__.py
--rw-r--r--   0        0        0     9523 2023-04-08 05:25:24.276679 pyparsing-3.1.0b2/pyparsing/exceptions.py
--rw-r--r--   0        0        0    38646 2023-05-20 02:38:31.689207 pyparsing-3.1.0b2/pyparsing/helpers.py
--rw-r--r--   0        0        0        0 2023-04-08 05:25:24.276679 pyparsing-3.1.0b2/pyparsing/py.typed
--rw-r--r--   0        0        0    26692 2023-05-20 02:38:31.693207 pyparsing-3.1.0b2/pyparsing/results.py
--rw-r--r--   0        0        0    13488 2023-04-08 05:25:24.276679 pyparsing-3.1.0b2/pyparsing/testing.py
--rw-r--r--   0        0        0    10634 2023-04-08 05:25:24.276679 pyparsing-3.1.0b2/pyparsing/unicode.py
--rw-r--r--   0        0        0     8670 2023-05-20 02:38:31.693207 pyparsing-3.1.0b2/pyparsing/util.py
--rw-r--r--   0        0        0     1729 2023-04-08 17:31:07.743485 pyparsing-3.1.0b2/pyproject.toml
--rw-r--r--   0        0        0      500 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/README.md
--rw-r--r--   0        0        0        0 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/__init__.py
--rw-r--r--   0        0        0     2851 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/diag_embed.html
--rw-r--r--   0        0        0     2915 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/diag_no_embed.html
--rw-r--r--   0        0        0    12369 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/json_parser_tests.py
--rw-r--r--   0        0        0      347 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/karthik.ini
--rw-r--r--   0        0        0      667 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/mypy-ignore-cases/forward_methods.py
--rw-r--r--   0        0        0       11 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/parsefiletest_input_file.txt
--rw-r--r--   0        0        0       38 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/requirements.txt
--rw-r--r--   0        0        0     9994 2023-05-20 02:38:31.693207 pyparsing-3.1.0b2/tests/test_diagram.py
--rw-r--r--   0        0        0     1092 2023-05-20 02:38:31.693207 pyparsing-3.1.0b2/tests/test_examples.py
--rw-r--r--   0        0        0    25716 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/test_simple_unit.py
--rw-r--r--   0        0        0   363422 2023-05-20 02:38:31.705207 pyparsing-3.1.0b2/tests/test_unit.py
--rw-r--r--   0        0        0      390 2023-04-14 11:55:53.228294 pyparsing-3.1.0b2/tox.ini
--rw-r--r--   0        0        0     4929 1970-01-01 00:00:00.000000 pyparsing-3.1.0b2/PKG-INFO
+-rw-r--r--   0        0        0      120 2023-07-30 02:19:32.401360 pyparsing-3.1.1/.coveragerc
+-rw-r--r--   0        0        0     2282 2023-04-03 16:31:30.067838 pyparsing-3.1.1/.gitignore
+-rw-r--r--   0        0        0      126 2023-04-03 16:31:30.067838 pyparsing-3.1.1/.pre-commit-config.yaml
+-rw-r--r--   0        0        0      784 2023-04-03 16:31:30.067838 pyparsing-3.1.1/BUILDING.md
+-rw-r--r--   0        0        0   174168 2023-07-29 22:35:57.838364 pyparsing-3.1.1/CHANGES
+-rw-r--r--   0        0        0     3341 2023-04-03 16:31:30.071838 pyparsing-3.1.1/CODE_OF_CONDUCT.rst
+-rw-r--r--   0        0        0     6891 2023-04-03 16:31:30.071838 pyparsing-3.1.1/CONTRIBUTING.md
+-rw-r--r--   0        0        0     1023 2023-04-03 16:31:30.071838 pyparsing-3.1.1/LICENSE
+-rw-r--r--   0        0        0     3626 2023-06-25 00:49:46.082798 pyparsing-3.1.1/README.rst
+-rw-r--r--   0        0        0       36 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/CODE_OF_CONDUCT.rst
+-rw-r--r--   0        0        0    64360 2023-06-18 15:37:46.483999 pyparsing-3.1.1/docs/HowToUsePyparsing.rst
+-rw-r--r--   0        0        0      606 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/Makefile
+-rw-r--r--   0        0        0   236402 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/_static/pyparsingClassDiagram_1.5.2.jpg
+-rw-r--r--   0        0        0   287969 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/_static/pyparsingClassDiagram_3.0.9.jpg
+-rw-r--r--   0        0        0    42634 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/_static/sql_railroad.html
+-rw-r--r--   0        0        0     5463 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/conf.py
+-rw-r--r--   0        0        0      537 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/index.rst
+-rw-r--r--   0        0        0       34 2023-06-18 15:37:46.483999 pyparsing-3.1.1/docs/make_sphinx_docs.bat
+-rw-r--r--   0        0        0       64 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/modules.rst
+-rw-r--r--   0        0        0      120 2023-04-03 16:31:30.071838 pyparsing-3.1.1/docs/pyparsing.rst
+-rw-r--r--   0        0        0     6039 2023-06-18 15:37:46.483999 pyparsing-3.1.1/docs/pyparsing_class_diagram.puml
+-rw-r--r--   0        0        0    31566 2023-06-18 15:37:46.483999 pyparsing-3.1.1/docs/whats_new_in_3_0_0.rst
+-rw-r--r--   0        0        0    10375 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/0README.html
+-rw-r--r--   0        0        0    39138 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/AcManForm.dfm
+-rw-r--r--   0        0        0    21112 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/LAparser.py
+-rw-r--r--   0        0        0     1443 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/Setup.ini
+-rw-r--r--   0        0        0     3671 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/SimpleCalc.py
+-rw-r--r--   0        0        0    43724 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/SingleForm.dfm
+-rw-r--r--   0        0        0     7608 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/TAP.py
+-rw-r--r--   0        0        0        0 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/__init__.py
+-rw-r--r--   0        0        0    22142 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/adventureEngine.py
+-rw-r--r--   0        0        0    11143 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/antlr_grammar.py
+-rw-r--r--   0        0        0     2955 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/antlr_grammar_tests.py
+-rw-r--r--   0        0        0     2251 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/apicheck.py
+-rw-r--r--   0        0        0     4248 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/bf.py
+-rw-r--r--   0        0        0    64015 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/bigquery_view_parser.py
+-rw-r--r--   0        0        0    15624 2023-07-29 22:35:57.838364 pyparsing-3.1.1/examples/booleansearchparser.py
+-rw-r--r--   0        0        0     4257 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/btpyparse.py
+-rw-r--r--   0        0        0      817 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/builtin_parse_action_demo.py
+-rw-r--r--   0        0        0      853 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/cLibHeader.py
+-rw-r--r--   0        0        0     3035 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/chemical_formulas.py
+-rw-r--r--   0        0        0      707 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/commasep.py
+-rw-r--r--   0        0        0     2043 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/configParse.py
+-rw-r--r--   0        0        0     1395 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/cpp_enum_parser.py
+-rw-r--r--   0        0        0     2633 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/cuneiform_python.py
+-rw-r--r--   0        0        0     2021 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/datetime_parse_actions.py
+-rw-r--r--   0        0        0     7591 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/decaf_parser.py
+-rw-r--r--   0        0        0    16209 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/delta_time.py
+-rw-r--r--   0        0        0     7212 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/dfmparse.py
+-rw-r--r--   0        0        0     3048 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/dhcpd_leases_parser.py
+-rw-r--r--   0        0        0     1776 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/dictExample.py
+-rw-r--r--   0        0        0     2152 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/dictExample2.py
+-rw-r--r--   0        0        0     4247 2023-04-03 16:31:30.071838 pyparsing-3.1.1/examples/ebnf.py
+-rw-r--r--   0        0        0     2403 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/ebnftest.py
+-rw-r--r--   0        0        0     6316 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/eval_arith.py
+-rw-r--r--   0        0        0     2255 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/excel_expr.py
+-rw-r--r--   0        0        0    10518 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/fourFn.py
+-rw-r--r--   0        0        0     5416 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/gen_ctypes.py
+-rw-r--r--   0        0        0     1138 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/getNTPserversNew.py
+-rw-r--r--   0        0        0      518 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/greeting.py
+-rw-r--r--   0        0        0      425 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/greetingInGreek.py
+-rw-r--r--   0        0        0      495 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/greetingInKorean.py
+-rw-r--r--   0        0        0      509 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/groupUsingListAllMatches.py
+-rw-r--r--   0        0        0     2068 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/hola_mundo.py
+-rw-r--r--   0        0        0     1719 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/html_stripper.py
+-rw-r--r--   0        0        0     2210 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/html_table_parser.py
+-rw-r--r--   0        0        0     3565 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/httpServerLogParser.py
+-rw-r--r--   0        0        0     7714 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/idlParse.py
+-rw-r--r--   0        0        0     2688 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/include_preprocessor.py
+-rw-r--r--   0        0        0     1022 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/indentedGrammarExample.py
+-rw-r--r--   0        0        0      712 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/indented_block_example.py
+-rw-r--r--   0        0        0     8279 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/inv_regex.py
+-rw-r--r--   0        0        0    18536 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/javascript_grammar.g
+-rw-r--r--   0        0        0     4809 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/jsonParser.py
+-rw-r--r--   0        0        0     1439 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/left_recursion.py
+-rw-r--r--   0        0        0     1530 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/lineno_example.py
+-rw-r--r--   0        0        0     1612 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/listAllMatches.py
+-rw-r--r--   0        0        0     7995 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/lua_parser.py
+-rw-r--r--   0        0        0     8643 2023-06-18 22:09:37.304000 pyparsing-3.1.1/examples/lucene_grammar.py
+-rw-r--r--   0        0        0     1813 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/macro_expander.py
+-rw-r--r--   0        0        0     1597 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/make_diagram.py
+-rw-r--r--   0        0        0      586 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/matchPreviousDemo.py
+-rw-r--r--   0        0        0      752 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/mozilla.ics
+-rw-r--r--   0        0        0     2773 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/mozillaCalendarParser.py
+-rw-r--r--   0        0        0      579 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/nested.py
+-rw-r--r--   0        0        0     1892 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/nested_markup.py
+-rw-r--r--   0        0        0     3859 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/number_words.py
+-rw-r--r--   0        0        0     1374 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/numerics.py
+-rw-r--r--   0        0        0     4445 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/oc.py
+-rw-r--r--   0        0        0     1927 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/one_to_ninety_nine.py
+-rw-r--r--   0        0        0     1721 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/parseTabularData.py
+-rw-r--r--   0        0        0     2559 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/parse_python_value.py
+-rw-r--r--   0        0        0      853 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/parse_results_sum_example.py
+-rw-r--r--   0        0        0     2400 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/partial_gene_match.py
+-rw-r--r--   0        0        0     3416 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/pgn.py
+-rw-r--r--   0        0        0     2221 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/position.py
+-rw-r--r--   0        0        0     3982 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/protobuf_parser.py
+-rw-r--r--   0        0        0     8271 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/pythonGrammarParser.py
+-rw-r--r--   0        0        0     1586 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/railroad_diagram_demo.py
+-rw-r--r--   0        0        0     2908 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/range_check.py
+-rw-r--r--   0        0        0   123627 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/readJson.py
+-rw-r--r--   0        0        0     1846 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/removeLineBreaks.py
+-rw-r--r--   0        0        0     2493 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/romanNumerals.py
+-rw-r--r--   0        0        0     7609 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/rosettacode.py
+-rw-r--r--   0        0        0     2414 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/scanExamples.py
+-rw-r--r--   0        0        0      962 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/searchParserAppDemo.py
+-rw-r--r--   0        0        0    10654 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/searchparser.py
+-rw-r--r--   0        0        0     8225 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/select_parser.py
+-rw-r--r--   0        0        0     5351 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/sexpParser.py
+-rw-r--r--   0        0        0     1729 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/shapes.py
+-rw-r--r--   0        0        0     2477 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/simpleArith.py
+-rw-r--r--   0        0        0     3275 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/simpleBool.py
+-rw-r--r--   0        0        0     3234 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/simpleSQL.py
+-rw-r--r--   0        0        0     1108 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/simpleWiki.py
+-rw-r--r--   0        0        0    29375 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/snmp_api.h
+-rw-r--r--   0        0        0     3141 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/sql2dot.py
+-rw-r--r--   0        0        0     2774 2023-07-29 22:35:57.838364 pyparsing-3.1.1/examples/stackish.py
+-rw-r--r--   0        0        0     1145 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/documentSignoffDemo.py
+-rw-r--r--   0        0        0     2879 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/documentsignoffstate.pystate
+-rw-r--r--   0        0        0     1759 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/libraryBookDemo.py
+-rw-r--r--   0        0        0      542 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/librarybookstate.pystate
+-rw-r--r--   0        0        0    12422 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/statemachine.py
+-rw-r--r--   0        0        0      550 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/trafficLightDemo.py
+-rw-r--r--   0        0        0     1149 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/trafficlightstate.pystate
+-rw-r--r--   0        0        0     2441 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/vending_machine.py
+-rw-r--r--   0        0        0     1192 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/video_demo.py
+-rw-r--r--   0        0        0      861 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/statemachine/videostate.pystate
+-rw-r--r--   0        0        0     1200 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/tag_emitter.py
+-rw-r--r--   0        0        0     8926 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/test_bibparse.py
+-rw-r--r--   0        0        0     5139 2023-06-18 15:37:46.483999 pyparsing-3.1.1/examples/unicode_denormalizer.py
+-rw-r--r--   0        0        0     1054 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/urlExtractor.py
+-rw-r--r--   0        0        0     2458 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/urlExtractorNew.py
+-rw-r--r--   0        0        0    31898 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/verilog_parse.py
+-rw-r--r--   0        0        0      912 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/withAttribute.py
+-rw-r--r--   0        0        0     2995 2023-04-03 16:31:30.075838 pyparsing-3.1.1/examples/wordsToNum.py
+-rw-r--r--   0        0        0     9148 2023-07-29 22:35:57.838364 pyparsing-3.1.1/pyparsing/__init__.py
+-rw-r--r--   0        0        0     6567 2023-04-03 16:31:30.075838 pyparsing-3.1.1/pyparsing/actions.py
+-rw-r--r--   0        0        0    13387 2023-06-18 15:37:46.483999 pyparsing-3.1.1/pyparsing/common.py
+-rw-r--r--   0        0        0   226596 2023-07-29 22:35:57.838364 pyparsing-3.1.1/pyparsing/core.py
+-rw-r--r--   0        0        0    24198 2023-06-18 15:37:46.483999 pyparsing-3.1.1/pyparsing/diagram/__init__.py
+-rw-r--r--   0        0        0     9523 2023-04-03 16:31:30.075838 pyparsing-3.1.1/pyparsing/exceptions.py
+-rw-r--r--   0        0        0    38646 2023-06-18 15:37:46.483999 pyparsing-3.1.1/pyparsing/helpers.py
+-rw-r--r--   0        0        0        0 2023-04-03 16:31:30.079838 pyparsing-3.1.1/pyparsing/py.typed
+-rw-r--r--   0        0        0    26692 2023-06-18 15:37:46.483999 pyparsing-3.1.1/pyparsing/results.py
+-rw-r--r--   0        0        0    13488 2023-04-03 16:31:30.079838 pyparsing-3.1.1/pyparsing/testing.py
+-rw-r--r--   0        0        0    10634 2023-04-03 16:31:30.079838 pyparsing-3.1.1/pyparsing/unicode.py
+-rw-r--r--   0        0        0     8670 2023-06-18 15:37:46.483999 pyparsing-3.1.1/pyparsing/util.py
+-rw-r--r--   0        0        0     1729 2023-04-08 16:59:07.131753 pyparsing-3.1.1/pyproject.toml
+-rw-r--r--   0        0        0      500 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/README.md
+-rw-r--r--   0        0        0        0 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/__init__.py
+-rw-r--r--   0        0        0     2851 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/diag_embed.html
+-rw-r--r--   0        0        0     2915 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/diag_no_embed.html
+-rw-r--r--   0        0        0    12369 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/json_parser_tests.py
+-rw-r--r--   0        0        0      347 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/karthik.ini
+-rw-r--r--   0        0        0      667 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/mypy-ignore-cases/forward_methods.py
+-rw-r--r--   0        0        0       11 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/parsefiletest_input_file.txt
+-rw-r--r--   0        0        0       38 2023-04-03 16:31:30.079838 pyparsing-3.1.1/tests/requirements.txt
+-rw-r--r--   0        0        0     9994 2023-06-18 15:37:46.483999 pyparsing-3.1.1/tests/test_diagram.py
+-rw-r--r--   0        0        0     1328 2023-07-29 22:35:57.838364 pyparsing-3.1.1/tests/test_examples.py
+-rw-r--r--   0        0        0    25803 2023-06-18 22:09:37.304000 pyparsing-3.1.1/tests/test_simple_unit.py
+-rw-r--r--   0        0        0   369450 2023-07-29 22:35:57.838364 pyparsing-3.1.1/tests/test_unit.py
+-rw-r--r--   0        0        0      390 2023-04-16 23:46:51.367190 pyparsing-3.1.1/tox.ini
+-rw-r--r--   0        0        0     5090 1970-01-01 00:00:00.000000 pyparsing-3.1.1/PKG-INFO
```

### Comparing `pyparsing-3.1.0b2/.gitignore` & `pyparsing-3.1.1/.gitignore`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/BUILDING.md` & `pyparsing-3.1.1/BUILDING.md`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/CHANGES` & `pyparsing-3.1.1/CHANGES`

 * *Files 0% similar despite different names*

```diff
@@ -9,14 +9,35 @@
 at least late 2023 if not 2024. So there is plenty of time to convert existing parsers to
 the new function names before the old functions are completely removed. (Big
 help from Devin J. Pohly in structuring the code to enable this peaceful transition.)
 
 Version 3.2.0 will also discontinue support for Python versions 3.6 and 3.7.
 
 
+Version 3.1.1 - July, 2023
+--------------------------
+- Fixed regression in Word(min), reported by Ricardo Coccioli, good catch! (Issue #502)
+
+- Fixed bug in bad exception messages raised by Forward expressions. PR submitted
+  by Kyle Sunden, thanks for your patience and collaboration on this (#493).
+
+- Fixed regression in SkipTo, where ignored expressions were not checked when looking
+  for the target expression. Reported by catcombo, Issue #500.
+
+- Fixed type annotation for enable_packrat, PR submitted by Mike Urbach, thanks! (Issue #498)
+
+- Some general internal code cleanup. (Instigated by Michal Čihař, Issue #488)
+
+
+Version 3.1.0 - June, 2023
+--------------------------
+- Added `tag_emitter.py` to examples. This example demonstrates how to insert
+  tags into your parsed results that are not part of the original parsed text.
+
+
 Version 3.1.0b2 - May, 2023
 ---------------------------
 - Updated `create_diagram()` code to be compatible with railroad-diagrams package
   version 3.0. Fixes Issue #477 (railroad diagrams generated with black bars),
   reported by Sam Morley-Short.
 
 - Fixed bug in `NotAny`, where parse actions on the negated expr were not being run.
```

### Comparing `pyparsing-3.1.0b2/CODE_OF_CONDUCT.rst` & `pyparsing-3.1.1/CODE_OF_CONDUCT.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/CONTRIBUTING.md` & `pyparsing-3.1.1/CONTRIBUTING.md`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/LICENSE` & `pyparsing-3.1.1/LICENSE`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/README.rst` & `pyparsing-3.1.1/README.rst`

 * *Files 3% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 PyParsing -- A Python Parsing Module
 ====================================
 
-|Version| |Build Status| |Coverage| |License| |Python Versions|
+|Version| |Build Status| |Coverage| |License| |Python Versions| |Snyk Score|
 
 Introduction
 ============
 
 The pyparsing module is an alternative approach to creating and
 executing simple grammars, vs. the traditional lex/yacc approach, or the
 use of regular expressions. The pyparsing module provides a library of
@@ -83,7 +83,11 @@
 .. |License| image:: https://img.shields.io/pypi/l/pyparsing.svg?style=flat-square
     :target: https://pypi.org/project/pyparsing/
     :alt: License
 
 .. |Python Versions| image:: https://img.shields.io/pypi/pyversions/pyparsing.svg?style=flat-square
     :target: https://pypi.org/project/python-liquid/
     :alt: Python versions
+
+.. |Snyk Score| image:: https://snyk.io//advisor/python/pyparsing/badge.svg
+   :target: https://snyk.io//advisor/python/pyparsing
+   :alt: pyparsing
```

### Comparing `pyparsing-3.1.0b2/docs/HowToUsePyparsing.rst` & `pyparsing-3.1.1/docs/HowToUsePyparsing.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/docs/Makefile` & `pyparsing-3.1.1/docs/Makefile`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/docs/_static/pyparsingClassDiagram_1.5.2.jpg` & `pyparsing-3.1.1/docs/_static/pyparsingClassDiagram_1.5.2.jpg`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/docs/_static/pyparsingClassDiagram_3.0.9.jpg` & `pyparsing-3.1.1/docs/_static/pyparsingClassDiagram_3.0.9.jpg`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/docs/_static/sql_railroad.html` & `pyparsing-3.1.1/docs/_static/sql_railroad.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/docs/conf.py` & `pyparsing-3.1.1/docs/conf.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/docs/index.rst` & `pyparsing-3.1.1/docs/index.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/docs/pyparsing_class_diagram.puml` & `pyparsing-3.1.1/docs/pyparsing_class_diagram.puml`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/docs/whats_new_in_3_0_0.rst` & `pyparsing-3.1.1/docs/whats_new_in_3_0_0.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/0README.html` & `pyparsing-3.1.1/examples/0README.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/AcManForm.dfm` & `pyparsing-3.1.1/examples/AcManForm.dfm`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/LAparser.py` & `pyparsing-3.1.1/examples/LAparser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/Setup.ini` & `pyparsing-3.1.1/examples/Setup.ini`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/SimpleCalc.py` & `pyparsing-3.1.1/examples/SimpleCalc.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/SingleForm.dfm` & `pyparsing-3.1.1/examples/SingleForm.dfm`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/TAP.py` & `pyparsing-3.1.1/examples/TAP.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/adventureEngine.py` & `pyparsing-3.1.1/examples/adventureEngine.py`

 * *Files 2% similar despite different names*

```diff
@@ -643,93 +643,93 @@
             cmd.command(p)
     print()
     print("You ended the game with:")
     for i in p.inv:
         print(" -", a_or_an(i))
 
 
-# ====================
-# start game definition
-roomMap = """
-     d-Z
-     |
-   f-c-e
-   . |
-   q<b
-     |
-     A
-"""
-rooms = createRooms(roomMap)
-rooms["A"].desc = "You are standing on the front porch of a wooden shack."
-rooms["b"].desc = "You are in a garden."
-rooms["c"].desc = "You are in a kitchen."
-rooms["d"].desc = "You are on the back porch."
-rooms["e"].desc = "You are in a library."
-rooms["f"].desc = "You are on the patio."
-rooms["q"].desc = "You are sinking in quicksand.  You're dead..."
-rooms["q"].gameOver = True
-
-# define global variables for referencing rooms
-frontPorch = rooms["A"]
-garden = rooms["b"]
-kitchen = rooms["c"]
-backPorch = rooms["d"]
-library = rooms["e"]
-patio = rooms["f"]
-
-# create items
-itemNames = (
-    """sword.diamond.apple.flower.coin.shovel.book.mirror.telescope.gold bar""".split(
-        "."
+if __name__ == '__main__':
+    # start game definition
+    roomMap = """
+         d-Z
+         |
+       f-c-e
+       . |
+       q<b
+         |
+         A
+    """
+    rooms = createRooms(roomMap)
+    rooms["A"].desc = "You are standing on the front porch of a wooden shack."
+    rooms["b"].desc = "You are in a garden."
+    rooms["c"].desc = "You are in a kitchen."
+    rooms["d"].desc = "You are on the back porch."
+    rooms["e"].desc = "You are in a library."
+    rooms["f"].desc = "You are on the patio."
+    rooms["q"].desc = "You are sinking in quicksand.  You're dead..."
+    rooms["q"].gameOver = True
+
+    # define global variables for referencing rooms
+    frontPorch = rooms["A"]
+    garden = rooms["b"]
+    kitchen = rooms["c"]
+    backPorch = rooms["d"]
+    library = rooms["e"]
+    patio = rooms["f"]
+
+    # create items
+    itemNames = (
+        """sword.diamond.apple.flower.coin.shovel.book.mirror.telescope.gold bar""".split(
+            "."
+        )
     )
-)
-for itemName in itemNames:
-    Item(itemName)
-Item.items["apple"].isDeadly = True
-Item.items["mirror"].isFragile = True
-Item.items["coin"].isVisible = False
-Item.items["shovel"].usableConditionTest = lambda p, t: p.room is garden
+    for itemName in itemNames:
+        Item(itemName)
+    Item.items["apple"].isDeadly = True
+    Item.items["mirror"].isFragile = True
+    Item.items["coin"].isVisible = False
+    Item.items["shovel"].usableConditionTest = lambda p, t: p.room is garden
 
 
-def use_shovel(p, subj, target):
-    coin = Item.items["coin"]
-    if not coin.isVisible and coin in p.room.inv:
-        coin.isVisible = True
+    def use_shovel(p, subj, target):
+        coin = Item.items["coin"]
+        if not coin.isVisible and coin in p.room.inv:
+            coin.isVisible = True
 
 
-Item.items["shovel"].useAction = use_shovel
+    Item.items["shovel"].useAction = use_shovel
 
-Item.items["telescope"].isTakeable = False
+    Item.items["telescope"].isTakeable = False
 
 
-def use_telescope(p, subj, target):
-    print("You don't see anything.")
+    def use_telescope(p, subj, target):
+        print("You don't see anything.")
 
 
-Item.items["telescope"].useAction = use_telescope
+    Item.items["telescope"].useAction = use_telescope
 
-OpenableItem("treasure chest", Item.items["gold bar"])
-Item.items["chest"] = Item.items["treasure chest"]
-Item.items["chest"].isTakeable = False
-Item.items["chest"].cantTakeMessage = "It's too heavy!"
+    OpenableItem("treasure chest", Item.items["gold bar"])
+    Item.items["chest"] = Item.items["treasure chest"]
+    Item.items["chest"].isTakeable = False
+    Item.items["chest"].cantTakeMessage = "It's too heavy!"
 
-OpenableItem("mailbox")
-Item.items["mailbox"].isTakeable = False
-Item.items["mailbox"].cantTakeMessage = "It's nailed to the wall!"
+    OpenableItem("mailbox")
+    Item.items["mailbox"].isTakeable = False
+    Item.items["mailbox"].cantTakeMessage = "It's nailed to the wall!"
 
-putItemInRoom("mailbox", frontPorch)
-putItemInRoom("shovel", frontPorch)
-putItemInRoom("coin", garden)
-putItemInRoom("flower", garden)
-putItemInRoom("apple", library)
-putItemInRoom("mirror", library)
-putItemInRoom("telescope", library)
-putItemInRoom("book", kitchen)
-putItemInRoom("diamond", backPorch)
-putItemInRoom("treasure chest", patio)
+    putItemInRoom("mailbox", frontPorch)
+    putItemInRoom("shovel", frontPorch)
+    putItemInRoom("coin", garden)
+    putItemInRoom("flower", garden)
+    putItemInRoom("apple", library)
+    putItemInRoom("mirror", library)
+    putItemInRoom("telescope", library)
+    putItemInRoom("book", kitchen)
+    putItemInRoom("diamond", backPorch)
+    putItemInRoom("treasure chest", patio)
 
-# create player
-plyr = Player("Bob")
-plyr.take(Item.items["sword"])
+    # create player
+    plyr = Player("Bob")
+    plyr.take(Item.items["sword"])
 
-# start game
-playGame(plyr, frontPorch)
+    # start game
+    playGame(plyr, frontPorch)
```

### Comparing `pyparsing-3.1.0b2/examples/antlr_grammar.py` & `pyparsing-3.1.1/examples/antlr_grammar.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/antlr_grammar_tests.py` & `pyparsing-3.1.1/examples/antlr_grammar_tests.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/apicheck.py` & `pyparsing-3.1.1/examples/apicheck.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/bf.py` & `pyparsing-3.1.1/examples/bf.py`

 * *Files 3% similar despite different names*

```diff
@@ -94,44 +94,44 @@
 
 class IncrPtr(Instruction):
     def execute(self, bf_engine: BFEngine):
         bf_engine.ptr += 1
 
 
 class DecrPtr(Instruction):
-    def execute(self, bf_engine):
+    def execute(self, bf_engine: BFEngine):
         bf_engine.ptr -= 1
 
 
 class IncrPtrValue(Instruction):
-    def execute(self, bf_engine):
+    def execute(self, bf_engine: BFEngine):
         bf_engine.at_ptr += 1
 
 
 class DecrPtrValue(Instruction):
-    def execute(self, bf_engine):
+    def execute(self, bf_engine: BFEngine):
         bf_engine.at_ptr -= 1
 
 
 class OutputPtrValue(Instruction):
-    def execute(self, bf_engine):
+    def execute(self, bf_engine: BFEngine):
         bf_engine.output_value_at_ptr()
 
 
 class InputPtrValue(Instruction):
-    def execute(self, bf_engine):
+    def execute(self, bf_engine: BFEngine):
         bf_engine.input_value()
 
 
 class RunInstructionLoop(Instruction):
     def __init__(self, tokens):
         super().__init__(tokens)
         self.instructions = self.tokens[0][1:-1]
 
-    def execute(self, bf_engine):
+    def execute(self, bf_engine: BFEngine):
         while bf_engine.at_ptr:
             for i in self.instructions:
                 i.execute(bf_engine)
 
 
 # add parse actions to all BF instruction expressions
 PLUS.add_parse_action(IncrPtrValue)
```

### Comparing `pyparsing-3.1.0b2/examples/bigquery_view_parser.py` & `pyparsing-3.1.1/examples/bigquery_view_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/booleansearchparser.py` & `pyparsing-3.1.1/examples/booleansearchparser.py`

 * *Files 0% similar despite different names*

```diff
@@ -86,17 +86,19 @@
     alphanums,
     CaselessKeyword,
     Group,
     Forward,
     Suppress,
     OneOrMore,
     one_of,
+    ParserElement,
 )
 import re
 
+ParserElement.enablePackrat()
 
 # Updated on 02 Dec 2021 according to ftp://ftp.unicode.org/Public/UNIDATA/Blocks.txt
 # (includes characters not found in the BasicMultilingualPlane)
 alphabet_ranges = [
     # CYRILIC: https://en.wikipedia.org/wiki/Cyrillic_(Unicode_block)
     [int("0400", 16), int("04FF", 16)],
     # ARABIC: https://en.wikipedia.org/wiki/Arabic_(Unicode_block) (Arabic (0600–06FF)+ Syriac (0700–074F)+ Arabic Supplement (0750–077F))
```

### Comparing `pyparsing-3.1.0b2/examples/btpyparse.py` & `pyparsing-3.1.1/examples/btpyparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/builtin_parse_action_demo.py` & `pyparsing-3.1.1/examples/builtin_parse_action_demo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/cLibHeader.py` & `pyparsing-3.1.1/examples/cLibHeader.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/chemical_formulas.py` & `pyparsing-3.1.1/examples/chemical_formulas.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/commasep.py` & `pyparsing-3.1.1/examples/commasep.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/configParse.py` & `pyparsing-3.1.1/examples/configParse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/cpp_enum_parser.py` & `pyparsing-3.1.1/examples/cpp_enum_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/cuneiform_python.py` & `pyparsing-3.1.1/examples/cuneiform_python.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/datetime_parse_actions.py` & `pyparsing-3.1.1/examples/datetime_parse_actions.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/decaf_parser.py` & `pyparsing-3.1.1/examples/decaf_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/delta_time.py` & `pyparsing-3.1.1/examples/delta_time.py`

 * *Files 2% similar despite different names*

```diff
@@ -64,15 +64,15 @@
 
 def plural(s):
     return CK(s) | CK(s + "s").add_parse_action(pp.replaceWith(s))
 
 
 week, day, hour, minute, second = map(plural, "week day hour minute second".split())
 time_units = hour | minute | second
-any_time_units = (week | day | time_units).set_name("time_units")
+any_time_units = (week | day | time_units).set_name("any_time_units")
 
 am = CL("am")
 pm = CL("pm")
 COLON = pp.Suppress(":")
 
 in_ = CK("in").set_parse_action(pp.replaceWith(1))
 from_ = CK("from").set_parse_action(pp.replaceWith(1))
@@ -91,15 +91,17 @@
 )
 
 a_qty = (CK("a") | CK("an")).set_parse_action(pp.replaceWith(1))
 the_qty = CK("the").set_parse_action(pp.replaceWith(1))
 qty = pp.ungroup(
     (integer | couple | a_qty | the_qty).set_name("qty_expression")
 ).set_name("qty")
-time_ref_present = pp.Empty().add_parse_action(pp.replace_with(True))("time_ref_present")
+time_ref_present = pp.Empty().add_parse_action(pp.replace_with(True))(
+    "time_ref_present"
+)
 
 
 def fill_24hr_time_fields(t):
     t["HH"] = t[0]
     t["MM"] = t[1]
     t["SS"] = 0
     t["ampm"] = ("am", "pm")[t.HH >= 12]
@@ -107,27 +109,29 @@
 
 def fill_default_time_fields(t):
     for fld in "HH MM SS".split():
         if fld not in t:
             t[fld] = 0
 
 
+# get weekday names from the calendar module
 weekday_name_list = list(calendar.day_name)
 weekday_name = pp.one_of(weekday_name_list).set_name("weekday_name")
 
-_24hour_time = ~(integer + any_time_units).set_name("numbered_time_units") + pp.Word(pp.nums, exact=4).set_name("HHMM").add_parse_action(
+# expressions for military 2400 time
+_24hour_time = ~(pp.Word(pp.nums) + any_time_units).set_name("numbered_time_units") + pp.Word(
+    pp.nums, exact=4, as_keyword=True
+).set_name("HHMM").add_parse_action(
     lambda t: [int(t[0][:2]), int(t[0][2:])], fill_24hr_time_fields
 )
 _24hour_time.set_name("0000 time")
 ampm = am | pm
 timespec = (
     integer("HH")
-    + pp.Opt(
-        CK("o'clock") | COLON + integer("MM") + pp.Opt(COLON + integer("SS"))
-    )
+    + pp.Opt(CK("o'clock") | COLON + integer("MM") + pp.Opt(COLON + integer("SS")))
     + (am | pm)("ampm")
 ).add_parse_action(fill_default_time_fields)
 absolute_time = _24hour_time | timespec
 absolute_time.set_name("absolute time")
 
 absolute_time_of_day = noon | midnight | now | absolute_time
 absolute_time_of_day.set_name("time of day")
@@ -320,14 +324,15 @@
 
 time_and_day.add_parse_action(save_original_string, compute_timestamp, remove_temp_keys)
 
 
 time_expression = time_and_day
 
 
+# fmt: off
 def main():
     current_time = datetime.now()
     # test grammar
     tests = """\
         today
         tomorrow
         yesterday
@@ -376,19 +381,19 @@
         last Sunday at 2pm
         10 seconds ago
         100 seconds ago
         1000 seconds ago
         10000 seconds ago
     """
 
-    # fmt: on
-    time_of_day = timedelta(hours=current_time.hour,
-                            minutes=current_time.minute,
-                            seconds=current_time.second,
-                            )
+    time_of_day = timedelta(
+        hours=current_time.hour,
+        minutes=current_time.minute,
+        seconds=current_time.second,
+    )
     expected = {
         "now": timedelta(0),
         "10 seconds ago": timedelta(seconds=-10),
         "100 seconds ago": timedelta(seconds=-100),
         "1000 seconds ago": timedelta(seconds=-1000),
         "10000 seconds ago": timedelta(seconds=-10000),
         "10 minutes ago": timedelta(minutes=-10),
```

### Comparing `pyparsing-3.1.0b2/examples/dfmparse.py` & `pyparsing-3.1.1/examples/dfmparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/dhcpd_leases_parser.py` & `pyparsing-3.1.1/examples/dhcpd_leases_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/dictExample.py` & `pyparsing-3.1.1/examples/dictExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/dictExample2.py` & `pyparsing-3.1.1/examples/dictExample2.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/ebnf.py` & `pyparsing-3.1.1/examples/ebnf.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/ebnftest.py` & `pyparsing-3.1.1/examples/ebnftest.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/eval_arith.py` & `pyparsing-3.1.1/examples/eval_arith.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/fourFn.py` & `pyparsing-3.1.1/examples/fourFn.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/gen_ctypes.py` & `pyparsing-3.1.1/examples/gen_ctypes.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/getNTPserversNew.py` & `pyparsing-3.1.1/examples/getNTPserversNew.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/greeting.py` & `pyparsing-3.1.1/examples/greeting.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/hola_mundo.py` & `pyparsing-3.1.1/examples/hola_mundo.py`

 * *Files 10% similar despite different names*

```diff
@@ -3,14 +3,15 @@
 # importamos los símbolos requeridos desde el módulo
 from pyparsing import (
     Word,
     one_of,
     nums,
     Group,
     OneOrMore,
+    Opt,
     pyparsing_unicode as ppu,
 )
 
 # usamos las letras en latin1, que incluye las como 'ñ', 'á', 'é', etc.
 alphas = ppu.Latin1.alphas
 
 # Aqui decimos que la gramatica "saludo" DEBE contener
@@ -20,47 +21,53 @@
 saludo = Word(alphas) + "," + Word(alphas) + one_of("! . ?")
 tokens = saludo.parse_string("Hola, Mundo !")
 
 # Ahora parseamos una cadena, "Hola, Mundo!",
 # el metodo parseString, nos devuelve una lista con los tokens
 # encontrados, en caso de no haber errores...
 for i, token in enumerate(tokens):
-    print("Token %d -> %s" % (i, token))
+    print(f"Token {i} -> {token}")
 
 # imprimimos cada uno de los tokens Y listooo!!, he aquí a salida
 # Token 0 -> Hola
 # Token 1 -> ,
 # Token 2-> Mundo
 # Token 3 -> !
 
 # ahora cambia el parseador, aceptando saludos con mas que una sola palabra antes que ','
 saludo = Group(OneOrMore(Word(alphas))) + "," + Word(alphas) + one_of("! . ?")
 tokens = saludo.parse_string("Hasta mañana, Mundo !")
 
 for i, token in enumerate(tokens):
-    print("Token %d -> %s" % (i, token))
+    print(f"Token {i} -> {token}")
 
 # Ahora parseamos algunas cadenas, usando el metodo runTests
-saludo.run_tests(
-    """\
-    Hola, Mundo!
-    Hasta mañana, Mundo !
-""",
+saludo.run_tests("""\
+        Hola, Mundo!
+        Hasta mañana, Mundo !
+    """,
     fullDump=False,
 )
 
 # Por supuesto, se pueden "reutilizar" gramáticas, por ejemplo:
 numimag = Word(nums) + "i"
 numreal = Word(nums)
-numcomplex = numreal + "+" + numimag
-print(numcomplex.parse_string("3+5i"))
+numcomplex = numimag | numreal + Opt("+" + numimag)
 
 # Funcion para cambiar a complejo numero durante parsear:
 def hace_python_complejo(t):
     valid_python = "".join(t).replace("i", "j")
-    return complex(valid_python)
+    for tipo in (int, complex):
+        try:
+            return tipo(valid_python)
+        except ValueError:
+            pass
 
 
 numcomplex.set_parse_action(hace_python_complejo)
-print(numcomplex.parse_string("3+5i"))
+numcomplex.run_tests("""\
+    3
+    5i
+    3+5i   
+""")
 
 # Excelente!!, bueno, los dejo, me voy a seguir tirando código...
```

### Comparing `pyparsing-3.1.0b2/examples/httpServerLogParser.py` & `pyparsing-3.1.1/examples/httpServerLogParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/idlParse.py` & `pyparsing-3.1.1/examples/idlParse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/include_preprocessor.py` & `pyparsing-3.1.1/examples/include_preprocessor.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/indentedGrammarExample.py` & `pyparsing-3.1.1/examples/indentedGrammarExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/indented_block_example.py` & `pyparsing-3.1.1/examples/indented_block_example.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/inv_regex.py` & `pyparsing-3.1.1/examples/inv_regex.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/javascript_grammar.g` & `pyparsing-3.1.1/examples/javascript_grammar.g`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/jsonParser.py` & `pyparsing-3.1.1/examples/jsonParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/left_recursion.py` & `pyparsing-3.1.1/examples/left_recursion.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/listAllMatches.py` & `pyparsing-3.1.1/examples/listAllMatches.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/lua_parser.py` & `pyparsing-3.1.1/examples/lua_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/lucene_grammar.py` & `pyparsing-3.1.1/examples/lucene_grammar.py`

 * *Files 2% similar despite different names*

```diff
@@ -307,15 +307,16 @@
         +*:* -*:*        
 
         a:b:c
         a:b:c~
         a:b:c*
         a:b:c~2.0
         """
-    z = """
+    # strings with backslashes still to be tested
+    z = r"""
         \+blah
         \-blah
         foo \|| bar
         foo \AND bar
         \a
         a\-b:c
         a\+b:c
```

### Comparing `pyparsing-3.1.0b2/examples/macroExpander.py` & `pyparsing-3.1.1/examples/macro_expander.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,61 +1,64 @@
-# macroExpander.py
-#
-# Example pyparsing program for performing macro expansion, similar to
-# the C pre-processor.  This program is not as fully-featured, simply
-# processing macros of the form:
-#     #def xxx yyyyy
-# and replacing xxx with yyyyy in the rest of the input string.  Macros
-# can also be composed using other macros, such as
-#     #def zzz xxx+1
-# Since xxx was previously defined as yyyyy, then zzz will be replaced
-# with yyyyy+1.
-#
-# Copyright 2007 by Paul McGuire
-#
-from pyparsing import *
-
-# define the structure of a macro definition (the empty term is used
-# to advance to the next non-whitespace character)
-identifier = Word(alphas + "_", alphanums + "_")
-macroDef = "#def" + identifier("macro") + empty + restOfLine("value")
-
-# define a placeholder for defined macros - initially nothing
-macroExpr = Forward()
-macroExpr << NoMatch()
-
-# global dictionary for macro definitions
-macros = {}
-
-# parse action for macro definitions
-def processMacroDefn(s, l, t):
-    macroVal = macroExpander.transformString(t.value)
-    macros[t.macro] = macroVal
-    macroExpr << MatchFirst(map(Keyword, macros.keys()))
-    return "#def " + t.macro + " " + macroVal
-
-
-# parse action to replace macro references with their respective definition
-def processMacroRef(s, l, t):
-    return macros[t[0]]
-
-
-# attach parse actions to expressions
-macroExpr.setParseAction(processMacroRef)
-macroDef.setParseAction(processMacroDefn)
-
-# define pattern for scanning through the input string
-macroExpander = macroExpr | macroDef
-
-
-# test macro substitution using transformString
-testString = """
-    #def A 100
-    #def ALEN A+1
-
-    char Astring[ALEN];
-    char AA[A];
-    typedef char[ALEN] Acharbuf;
-    """
-
-print(macroExpander.transformString(testString))
-print(macros)
+# macro_expander.py
+#
+# Example pyparsing program for performing macro expansion, similar to
+# the C pre-processor.  This program is not as fully-featured, simply
+# processing macros of the form:
+#     #def xxx yyyyy
+# and replacing xxx with yyyyy in the rest of the input string.  Macros
+# can also be composed using other macros, such as
+#     #def zzz xxx+1
+# Since xxx was previously defined as yyyyy, then zzz will be replaced
+# with yyyyy+1.
+#
+# Copyright 2007, 2023 by Paul McGuire
+#
+import pyparsing as pp
+
+# define the structure of a macro definition (the empty term is used
+# to advance to the next non-whitespace character)
+identifier = pp.common.identifier
+macro_def = "#def" + identifier("macro") + pp.empty + pp.restOfLine("value")
+
+# define a placeholder for defined macros - initially nothing
+macro_expr = pp.Forward()
+macro_expr << pp.NoMatch()
+
+# global dictionary for macro definitions
+macros = {}
+
+
+# parse action for macro definitions
+def process_macro_defn(t):
+    macro_val = macro_expander.transform_string(t.value)
+    macros[t.macro] = macro_val
+    macro_expr << pp.MatchFirst(map(pp.Keyword, macros))
+    return f"#def {t.macro} {macro_val}"
+
+
+# parse action to replace macro references with their respective definition
+def process_macro_ref(t):
+    return macros[t[0]]
+
+
+# attach parse actions to expressions
+macro_expr.set_parse_action(process_macro_ref)
+macro_def.set_parse_action(process_macro_defn)
+
+# define pattern for scanning through the input string
+macro_expander = macro_expr | macro_def
+
+
+# test macro substitution using transformString
+test_string = """
+    #def A 100
+    #def ALEN A+1
+
+    char Astring[ALEN];
+    char AA[A];
+    typedef char[ALEN] Acharbuf;
+    """
+
+print(test_string)
+print("-" * 40)
+print(macro_expander.transform_string(test_string))
+print(macros)
```

### Comparing `pyparsing-3.1.0b2/examples/make_diagram.py` & `pyparsing-3.1.1/examples/make_diagram.py`

 * *Files 3% similar despite different names*

```diff
@@ -21,14 +21,16 @@
 # from examples.chemicalFormulas import formula as imported_expr
 # from examples.romanNumerals import romanNumeral as imported_expr
 # from examples.protobuf_parser import parser as imported_expr
 # from examples.parsePythonValue import listItem as imported_expr
 # from examples.one_to_ninety_nine import one_to_99 as imported_expr
 # from examples.simpleSQL import simpleSQL as imported_expr
 # from examples.simpleBool import boolExpr as imported_expr
+# from examples.adventureEngine import Parser; imported_expr = Parser().bnf
+
 grammar = imported_expr
 
 # or define a custom grammar here
 # import pyparsing as pp
 # grammar = pp.Or(["foo", "bar"]) + pp.Word(pp.nums) + pp.pyparsing_common.uuid
 
 grammar.create_diagram(output_html="output.html", show_results_names=True)
```

### Comparing `pyparsing-3.1.0b2/examples/matchPreviousDemo.py` & `pyparsing-3.1.1/examples/matchPreviousDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/mozilla.ics` & `pyparsing-3.1.1/examples/mozilla.ics`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/mozillaCalendarParser.py` & `pyparsing-3.1.1/examples/mozillaCalendarParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/nested.py` & `pyparsing-3.1.1/examples/nested.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/nested_markup.py` & `pyparsing-3.1.1/examples/nested_markup.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/number_words.py` & `pyparsing-3.1.1/examples/number_words.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/numerics.py` & `pyparsing-3.1.1/examples/numerics.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/oc.py` & `pyparsing-3.1.1/examples/oc.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/one_to_ninety_nine.py` & `pyparsing-3.1.1/examples/one_to_ninety_nine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/parseTabularData.py` & `pyparsing-3.1.1/examples/parseTabularData.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/parse_python_value.py` & `pyparsing-3.1.1/examples/parse_python_value.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/parse_results_sum_example.py` & `pyparsing-3.1.1/examples/parse_results_sum_example.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/partial_gene_match.py` & `pyparsing-3.1.1/examples/partial_gene_match.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/pgn.py` & `pyparsing-3.1.1/examples/pgn.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/position.py` & `pyparsing-3.1.1/examples/position.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/protobuf_parser.py` & `pyparsing-3.1.1/examples/protobuf_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/pythonGrammarParser.py` & `pyparsing-3.1.1/examples/pythonGrammarParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/railroad_diagram_demo.py` & `pyparsing-3.1.1/examples/railroad_diagram_demo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/range_check.py` & `pyparsing-3.1.1/examples/range_check.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/readJson.py` & `pyparsing-3.1.1/examples/readJson.py`

 * *Files 0% similar despite different names*

```diff
@@ -1891,26 +1891,28 @@
 {"last_update":"1182356477", "numofapproved":"1", "id":"3343"},
 {"last_update":"1182418583", "numofapproved":"1", "id":"3381"},
 {"last_update":"1184568502", "numofapproved":"1", "id":"4905"},
 {"last_update":"1189151603", "numofapproved":"1", "id":"8581"},
 {"last_update":"1191595695", "numofapproved":"1", "id":"11621"},
 {"last_update":"1193105000", "numofapproved":"1", "id":"13421"},
 {"last_update":"1195104657", "numofapproved":"1", "id":"16701"}],
-"request_timestamp":1206363392.08521, "request_call":"requestDetails",
-"instance":"tbedi", "call_time":"0.10059", "request_date":"2008-03-2412:56:32 UTC", "request_url":"http://cmsdoc.cern.ch/cms/test/aprom/phedex/dev/gowri/datasvc/tbedi/requestDetails?format=json"}}
+"request_timestamp":1206363392.08521,
+"request_call":"requestDetails",
+"instance":"tbedi",
+"call_time":"0.10059",
+"request_date":"2008-03-2412:56:32 UTC",
+"request_url":"http://cmsdoc.cern.ch/cms/test/aprom/phedex/dev/gowri/datasvc/tbedi/requestDetails?format=json"}}
 """
 
 from jsonParser import jsonObject
 
-data = jsonObject.parseString(s)
+data = jsonObject.parseString(s)[0]
 
-# ~ from pprint import pprint
-# ~ pprint( data[0].asList() )
-# ~ print
-# ~ print data.dump()
-print(data.phedex.call_time)
-print(data.phedex.instance)
-print(data.phedex.request_call)
-print(len(data.phedex.request))
-for req in data.phedex.request[:10]:
-    # ~ print req.dump()
-    print("-", req.id, req.last_update)
+# from pprint import pprint
+# pprint(data)
+# print()
+print(data["phedex"]["call_time"])
+print(data["phedex"]["instance"])
+print(data["phedex"]["request_call"])
+print(len(data["phedex"]["request"]))
+for req in data["phedex"]["request"][:10]:
+    print("-", req["id"], req["last_update"])
```

### Comparing `pyparsing-3.1.0b2/examples/removeLineBreaks.py` & `pyparsing-3.1.1/examples/removeLineBreaks.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/romanNumerals.py` & `pyparsing-3.1.1/examples/romanNumerals.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/rosettacode.py` & `pyparsing-3.1.1/examples/rosettacode.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/scanExamples.py` & `pyparsing-3.1.1/examples/scanExamples.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/searchParserAppDemo.py` & `pyparsing-3.1.1/examples/searchParserAppDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/searchparser.py` & `pyparsing-3.1.1/examples/searchparser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/select_parser.py` & `pyparsing-3.1.1/examples/select_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/sexpParser.py` & `pyparsing-3.1.1/examples/sexpParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/shapes.py` & `pyparsing-3.1.1/examples/shapes.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/simpleArith.py` & `pyparsing-3.1.1/examples/simpleArith.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/simpleBool.py` & `pyparsing-3.1.1/examples/simpleBool.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/simpleSQL.py` & `pyparsing-3.1.1/examples/simpleSQL.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/simpleWiki.py` & `pyparsing-3.1.1/examples/simpleWiki.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/snmp_api.h` & `pyparsing-3.1.1/examples/snmp_api.h`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/sql2dot.py` & `pyparsing-3.1.1/examples/sql2dot.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/stackish.py` & `pyparsing-3.1.1/examples/stackish.py`

 * *Files 10% similar despite different names*

```diff
@@ -24,76 +24,64 @@
     sizing the data with the NUMBER similar to Dan Bernstein's netstrings
     setup.
 SPACE White space is basically ignored. This is interesting because since
     Stackish is serialized consistently this means you can use \n as the
     separation character and perform reasonable diffs on two structures.
 """
 
-from pyparsing import (
-    Suppress,
-    Word,
-    nums,
-    alphas,
-    alphanums,
-    Combine,
-    oneOf,
-    Optional,
-    QuotedString,
-    Forward,
-    Group,
-    ZeroOrMore,
-    srange,
-    pyparsing_common as ppc,
-)
+import pyparsing as pp
+ppc = pp.common
 
-MARK, UNMARK, AT, COLON, QUOTE = map(Suppress, "[]@:'")
+MARK, UNMARK, AT, COLON, QUOTE = pp.Suppress.using_each("[]@:'")
 
 NUMBER = ppc.integer()
 FLOAT = ppc.real()
-STRING = QuotedString('"', multiline=True) | QuotedString("'", multiline=True)
-WORD = Word(alphas, alphanums + "_:")
-ATTRIBUTE = Combine(AT + WORD)
+STRING = pp.QuotedString('"', multiline=True) | pp.QuotedString("'", multiline=True)
+WORD = pp.DelimitedList(pp.Word(pp.alphas, pp.alphanums + "_"), delim=":", combine=True)
+ATTRIBUTE = pp.Combine(AT + WORD)
 
-strBody = Forward()
+str_body = pp.Forward()
 
 
-def setBodyLength(tokens):
-    strBody << Word(srange(r"[\0x00-\0xffff]"), exact=int(tokens[0]))
+def set_body_length(tokens):
+    str_body << pp.Word(pp.srange(r"[\0x00-\0xffff]"), exact=int(tokens[0]))
     return ""
 
 
-BLOB = Combine(
-    QUOTE + Word(nums).setParseAction(setBodyLength) + COLON + strBody + QUOTE
+BLOB = pp.Combine(
+    QUOTE + pp.Word(pp.nums).set_parse_action(set_body_length) + COLON + str_body + QUOTE
 )
 
-item = Forward()
-
 
-def assignUsing(s):
-    def assignPA(tokens):
+def assign_using(s):
+    def assign_pa(tokens):
         if s in tokens:
             tokens[tokens[s]] = tokens[0]
             del tokens[s]
 
-    return assignPA
+    return assign_pa
 
 
+item = pp.Forward()
+
 GROUP = (
     MARK
-    + Group(
-        ZeroOrMore(
-            (item + Optional(ATTRIBUTE)("attr")).setParseAction(assignUsing("attr"))
-        )
+    + pp.Group(
+        (item + ATTRIBUTE[0, 1]("attr")).set_parse_action(assign_using("attr"))[...]
     )
     + (WORD("name") | UNMARK)
-).setParseAction(assignUsing("name"))
+).set_parse_action(assign_using("name"))
 item <<= FLOAT | NUMBER | STRING | BLOB | GROUP
 
-item.runTests(
-    """\
-    [ '10:1234567890' @name 25 @age +0.45 @percentage person:zed
-    [ [ "hello" 1 child root
-    [ "child" [ 200 '4:like' "I" "hello" things root
-    [ [ "data" [ 2 1 ] @numbers child root
-    [ [ 1 2 3 ] @test 4 5 6 root
-    """
-)
+if __name__ == '__main__':
+
+    success, _ = item.run_tests(
+        """\
+        [ '10:1234567890' @name 25 @age +0.45 @percentage person:zed
+        [ [ "hello" 1 child root
+        [ "child" [ 200 '4:like' "I" "hello" things root
+        [ [ "data" [ 2 1 ] @numbers child root
+        [ [ 1 2 3 ] @test 4 5 6 root
+        """
+    )
+
+    assert success
```

### Comparing `pyparsing-3.1.0b2/examples/statemachine/documentSignoffDemo.py` & `pyparsing-3.1.1/examples/statemachine/documentSignoffDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/documentsignoffstate.pystate` & `pyparsing-3.1.1/examples/statemachine/documentsignoffstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/libraryBookDemo.py` & `pyparsing-3.1.1/examples/statemachine/libraryBookDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/librarybookstate.pystate` & `pyparsing-3.1.1/examples/statemachine/librarybookstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/statemachine.py` & `pyparsing-3.1.1/examples/statemachine/statemachine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/trafficLightDemo.py` & `pyparsing-3.1.1/examples/statemachine/trafficLightDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/trafficlightstate.pystate` & `pyparsing-3.1.1/examples/statemachine/trafficlightstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/vending_machine.py` & `pyparsing-3.1.1/examples/statemachine/vending_machine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/video_demo.py` & `pyparsing-3.1.1/examples/statemachine/video_demo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/statemachine/videostate.pystate` & `pyparsing-3.1.1/examples/statemachine/videostate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/test_bibparse.py` & `pyparsing-3.1.1/examples/test_bibparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/unicode_denormalizer.py` & `pyparsing-3.1.1/examples/unicode_denormalizer.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/urlExtractor.py` & `pyparsing-3.1.1/examples/urlExtractor.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/urlExtractorNew.py` & `pyparsing-3.1.1/examples/urlExtractorNew.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/verilog_parse.py` & `pyparsing-3.1.1/examples/verilog_parse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/withAttribute.py` & `pyparsing-3.1.1/examples/withAttribute.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/examples/wordsToNum.py` & `pyparsing-3.1.1/examples/wordsToNum.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/__init__.py` & `pyparsing-3.1.1/pyparsing/__init__.py`

 * *Files 2% similar despite different names*

```diff
@@ -116,16 +116,16 @@
     def __str__(self):
         return f"{__name__} {self.__version__} / {__version_time__}"
 
     def __repr__(self):
         return f"{__name__}.{type(self).__name__}({', '.join('{}={!r}'.format(*nv) for nv in zip(self._fields, self))})"
 
 
-__version_info__ = version_info(3, 1, 0, "beta", 2)
-__version_time__ = "20 May 2023 02:03 UTC"
+__version_info__ = version_info(3, 1, 1, "final", 1)
+__version_time__ = "29 Jul 2023 22:27 UTC"
 __version__ = __version_info__.__version__
 __versionTime__ = __version_time__
 __author__ = "Paul McGuire <ptmcg.gm+pyparsing@gmail.com>"
 
 from .util import *
 from .exceptions import *
 from .actions import *
@@ -315,8 +315,11 @@
     "stringEnd",
     "stringStart",
     "tokenMap",
     "traceParseAction",
     "unicodeString",
     "withAttribute",
     "withClass",
+    "common",
+    "unicode",
+    "testing",
 ]
```

### Comparing `pyparsing-3.1.0b2/pyparsing/actions.py` & `pyparsing-3.1.1/pyparsing/actions.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/common.py` & `pyparsing-3.1.1/pyparsing/common.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/core.py` & `pyparsing-3.1.1/pyparsing/core.py`

 * *Files 0% similar despite different names*

```diff
@@ -1782,12248 +1782,12382 @@
 00006f50: 2020 2020 2020 2020 2020 7265 7475 726e            return
 00006f60: 206c 6f63 0a20 2020 2020 2020 2065 7870   loc.        exp
 00006f70: 7273 466f 756e 6420 3d20 5472 7565 0a20  rsFound = True. 
 00006f80: 2020 2020 2020 2069 676e 6f72 655f 6578         ignore_ex
 00006f90: 7072 5f66 6e73 203d 205b 652e 5f70 6172  pr_fns = [e._par
 00006fa0: 7365 2066 6f72 2065 2069 6e20 7365 6c66  se for e in self
 00006fb0: 2e69 676e 6f72 6545 7870 7273 5d0a 2020  .ignoreExprs].  
-00006fc0: 2020 2020 2020 7768 696c 6520 6578 7072        while expr
-00006fd0: 7346 6f75 6e64 3a0a 2020 2020 2020 2020  sFound:.        
-00006fe0: 2020 2020 6578 7072 7346 6f75 6e64 203d      exprsFound =
-00006ff0: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
-00007000: 2020 2066 6f72 2069 676e 6f72 655f 666e     for ignore_fn
-00007010: 2069 6e20 6967 6e6f 7265 5f65 7870 725f   in ignore_expr_
-00007020: 666e 733a 0a20 2020 2020 2020 2020 2020  fns:.           
-00007030: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00007040: 2020 2020 2020 2020 2020 2020 2020 7768                wh
-00007050: 696c 6520 313a 0a20 2020 2020 2020 2020  ile 1:.         
-00007060: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00007070: 6f63 2c20 6475 6d6d 7920 3d20 6967 6e6f  oc, dummy = igno
-00007080: 7265 5f66 6e28 696e 7374 7269 6e67 2c20  re_fn(instring, 
-00007090: 6c6f 6329 0a20 2020 2020 2020 2020 2020  loc).           
-000070a0: 2020 2020 2020 2020 2020 2020 2065 7870               exp
-000070b0: 7273 466f 756e 6420 3d20 5472 7565 0a20  rsFound = True. 
-000070c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000070d0: 7863 6570 7420 5061 7273 6545 7863 6570  xcept ParseExcep
-000070e0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
-000070f0: 2020 2020 2020 2020 2020 7061 7373 0a20            pass. 
-00007100: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
-00007110: 630a 0a20 2020 2064 6566 2070 7265 5061  c..    def prePa
-00007120: 7273 6528 7365 6c66 2c20 696e 7374 7269  rse(self, instri
-00007130: 6e67 3a20 7374 722c 206c 6f63 3a20 696e  ng: str, loc: in
-00007140: 7429 202d 3e20 696e 743a 0a20 2020 2020  t) -> int:.     
-00007150: 2020 2069 6620 7365 6c66 2e69 676e 6f72     if self.ignor
-00007160: 6545 7870 7273 3a0a 2020 2020 2020 2020  eExprs:.        
-00007170: 2020 2020 6c6f 6320 3d20 7365 6c66 2e5f      loc = self._
-00007180: 736b 6970 4967 6e6f 7261 626c 6573 2869  skipIgnorables(i
-00007190: 6e73 7472 696e 672c 206c 6f63 290a 0a20  nstring, loc).. 
-000071a0: 2020 2020 2020 2069 6620 7365 6c66 2e73         if self.s
-000071b0: 6b69 7057 6869 7465 7370 6163 653a 0a20  kipWhitespace:. 
-000071c0: 2020 2020 2020 2020 2020 2069 6e73 7472             instr
-000071d0: 6c65 6e20 3d20 6c65 6e28 696e 7374 7269  len = len(instri
-000071e0: 6e67 290a 2020 2020 2020 2020 2020 2020  ng).            
-000071f0: 7768 6974 655f 6368 6172 7320 3d20 7365  white_chars = se
-00007200: 6c66 2e77 6869 7465 4368 6172 730a 2020  lf.whiteChars.  
-00007210: 2020 2020 2020 2020 2020 7768 696c 6520            while 
-00007220: 6c6f 6320 3c20 696e 7374 726c 656e 2061  loc < instrlen a
-00007230: 6e64 2069 6e73 7472 696e 675b 6c6f 635d  nd instring[loc]
-00007240: 2069 6e20 7768 6974 655f 6368 6172 733a   in white_chars:
-00007250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007260: 206c 6f63 202b 3d20 310a 0a20 2020 2020   loc += 1..     
-00007270: 2020 2072 6574 7572 6e20 6c6f 630a 0a20     return loc.. 
-00007280: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-00007290: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-000072a0: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-000072b0: 5472 7565 293a 0a20 2020 2020 2020 2072  True):.        r
-000072c0: 6574 7572 6e20 6c6f 632c 205b 5d0a 0a20  eturn loc, [].. 
-000072d0: 2020 2064 6566 2070 6f73 7450 6172 7365     def postParse
-000072e0: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-000072f0: 206c 6f63 2c20 746f 6b65 6e6c 6973 7429   loc, tokenlist)
-00007300: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00007310: 2074 6f6b 656e 6c69 7374 0a0a 2020 2020   tokenlist..    
-00007320: 2320 4070 726f 6669 6c65 0a20 2020 2064  # @profile.    d
-00007330: 6566 205f 7061 7273 654e 6f43 6163 6865  ef _parseNoCache
-00007340: 280a 2020 2020 2020 2020 7365 6c66 2c20  (.        self, 
-00007350: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-00007360: 6f41 6374 696f 6e73 3d54 7275 652c 2063  oActions=True, c
-00007370: 616c 6c50 7265 5061 7273 653d 5472 7565  allPreParse=True
-00007380: 0a20 2020 2029 202d 3e20 5475 706c 655b  .    ) -> Tuple[
-00007390: 696e 742c 2050 6172 7365 5265 7375 6c74  int, ParseResult
-000073a0: 735d 3a0a 2020 2020 2020 2020 5452 592c  s]:.        TRY,
-000073b0: 204d 4154 4348 2c20 4641 494c 203d 2030   MATCH, FAIL = 0
-000073c0: 2c20 312c 2032 0a20 2020 2020 2020 2064  , 1, 2.        d
-000073d0: 6562 7567 6769 6e67 203d 2073 656c 662e  ebugging = self.
-000073e0: 6465 6275 6720 2023 2061 6e64 2064 6f41  debug  # and doA
-000073f0: 6374 696f 6e73 290a 2020 2020 2020 2020  ctions).        
-00007400: 6c65 6e5f 696e 7374 7269 6e67 203d 206c  len_instring = l
-00007410: 656e 2869 6e73 7472 696e 6729 0a0a 2020  en(instring)..  
-00007420: 2020 2020 2020 6966 2064 6562 7567 6769        if debuggi
-00007430: 6e67 206f 7220 7365 6c66 2e66 6169 6c41  ng or self.failA
-00007440: 6374 696f 6e3a 0a20 2020 2020 2020 2020  ction:.         
-00007450: 2020 2023 2070 7269 6e74 2822 4d61 7463     # print("Matc
-00007460: 6820 7b7d 2061 7420 6c6f 6320 7b7d 287b  h {} at loc {}({
-00007470: 7d2c 207b 7d29 222e 666f 726d 6174 2873  }, {})".format(s
-00007480: 656c 662c 206c 6f63 2c20 6c69 6e65 6e6f  elf, loc, lineno
-00007490: 286c 6f63 2c20 696e 7374 7269 6e67 292c  (loc, instring),
-000074a0: 2063 6f6c 286c 6f63 2c20 696e 7374 7269   col(loc, instri
-000074b0: 6e67 2929 290a 2020 2020 2020 2020 2020  ng))).          
-000074c0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-000074d0: 2020 2020 2020 2069 6620 6361 6c6c 5072         if callPr
-000074e0: 6550 6172 7365 2061 6e64 2073 656c 662e  eParse and self.
-000074f0: 6361 6c6c 5072 6570 6172 7365 3a0a 2020  callPreparse:.  
-00007500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007510: 2020 7072 655f 6c6f 6320 3d20 7365 6c66    pre_loc = self
-00007520: 2e70 7265 5061 7273 6528 696e 7374 7269  .preParse(instri
-00007530: 6e67 2c20 6c6f 6329 0a20 2020 2020 2020  ng, loc).       
-00007540: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00007550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007560: 2020 2070 7265 5f6c 6f63 203d 206c 6f63     pre_loc = loc
-00007570: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007580: 2074 6f6b 656e 735f 7374 6172 7420 3d20   tokens_start = 
-00007590: 7072 655f 6c6f 630a 2020 2020 2020 2020  pre_loc.        
-000075a0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-000075b0: 6465 6275 6741 6374 696f 6e73 2e64 6562  debugActions.deb
-000075c0: 7567 5f74 7279 3a0a 2020 2020 2020 2020  ug_try:.        
-000075d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000075e0: 2e64 6562 7567 4163 7469 6f6e 732e 6465  .debugActions.de
-000075f0: 6275 675f 7472 7928 696e 7374 7269 6e67  bug_try(instring
-00007600: 2c20 746f 6b65 6e73 5f73 7461 7274 2c20  , tokens_start, 
-00007610: 7365 6c66 2c20 4661 6c73 6529 0a20 2020  self, False).   
-00007620: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00007630: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
-00007640: 6f72 206f 7220 7072 655f 6c6f 6320 3e3d  or or pre_loc >=
-00007650: 206c 656e 5f69 6e73 7472 696e 673a 0a20   len_instring:. 
-00007660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007670: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00007680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007690: 6c6f 632c 2074 6f6b 656e 7320 3d20 7365  loc, tokens = se
-000076a0: 6c66 2e70 6172 7365 496d 706c 2869 6e73  lf.parseImpl(ins
-000076b0: 7472 696e 672c 2070 7265 5f6c 6f63 2c20  tring, pre_loc, 
-000076c0: 646f 4163 7469 6f6e 7329 0a20 2020 2020  doActions).     
-000076d0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000076e0: 7863 6570 7420 496e 6465 7845 7272 6f72  xcept IndexError
-000076f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00007700: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00007710: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
-00007720: 6e73 7472 696e 672c 206c 656e 5f69 6e73  nstring, len_ins
-00007730: 7472 696e 672c 2073 656c 662e 6572 726d  tring, self.errm
-00007740: 7367 2c20 7365 6c66 290a 2020 2020 2020  sg, self).      
-00007750: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00007760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007770: 2020 2020 6c6f 632c 2074 6f6b 656e 7320      loc, tokens 
-00007780: 3d20 7365 6c66 2e70 6172 7365 496d 706c  = self.parseImpl
-00007790: 2869 6e73 7472 696e 672c 2070 7265 5f6c  (instring, pre_l
-000077a0: 6f63 2c20 646f 4163 7469 6f6e 7329 0a20  oc, doActions). 
-000077b0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-000077c0: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-000077d0: 7272 3a0a 2020 2020 2020 2020 2020 2020  rr:.            
-000077e0: 2020 2020 2320 7072 696e 7428 2245 7863      # print("Exc
-000077f0: 6570 7469 6f6e 2072 6169 7365 643a 222c  eption raised:",
-00007800: 2065 7272 290a 2020 2020 2020 2020 2020   err).          
-00007810: 2020 2020 2020 6966 2073 656c 662e 6465        if self.de
-00007820: 6275 6741 6374 696f 6e73 2e64 6562 7567  bugActions.debug
-00007830: 5f66 6169 6c3a 0a20 2020 2020 2020 2020  _fail:.         
-00007840: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00007850: 6465 6275 6741 6374 696f 6e73 2e64 6562  debugActions.deb
-00007860: 7567 5f66 6169 6c28 0a20 2020 2020 2020  ug_fail(.       
-00007870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007880: 2069 6e73 7472 696e 672c 2074 6f6b 656e   instring, token
-00007890: 735f 7374 6172 742c 2073 656c 662c 2065  s_start, self, e
-000078a0: 7272 2c20 4661 6c73 650a 2020 2020 2020  rr, False.      
-000078b0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-000078c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000078d0: 6966 2073 656c 662e 6661 696c 4163 7469  if self.failActi
-000078e0: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
-000078f0: 2020 2020 2020 2020 7365 6c66 2e66 6169          self.fai
-00007900: 6c41 6374 696f 6e28 696e 7374 7269 6e67  lAction(instring
-00007910: 2c20 746f 6b65 6e73 5f73 7461 7274 2c20  , tokens_start, 
-00007920: 7365 6c66 2c20 6572 7229 0a20 2020 2020  self, err).     
-00007930: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00007940: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00007950: 2020 2020 2020 2020 2020 2069 6620 6361             if ca
-00007960: 6c6c 5072 6550 6172 7365 2061 6e64 2073  llPreParse and s
-00007970: 656c 662e 6361 6c6c 5072 6570 6172 7365  elf.callPreparse
-00007980: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00007990: 2020 7072 655f 6c6f 6320 3d20 7365 6c66    pre_loc = self
-000079a0: 2e70 7265 5061 7273 6528 696e 7374 7269  .preParse(instri
-000079b0: 6e67 2c20 6c6f 6329 0a20 2020 2020 2020  ng, loc).       
-000079c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-000079d0: 2020 2020 2020 2020 2020 2070 7265 5f6c             pre_l
-000079e0: 6f63 203d 206c 6f63 0a20 2020 2020 2020  oc = loc.       
-000079f0: 2020 2020 2074 6f6b 656e 735f 7374 6172       tokens_star
-00007a00: 7420 3d20 7072 655f 6c6f 630a 2020 2020  t = pre_loc.    
-00007a10: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00007a20: 6d61 7949 6e64 6578 4572 726f 7220 6f72  mayIndexError or
-00007a30: 2070 7265 5f6c 6f63 203e 3d20 6c65 6e5f   pre_loc >= len_
-00007a40: 696e 7374 7269 6e67 3a0a 2020 2020 2020  instring:.      
-00007a50: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
-00007a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a70: 2020 206c 6f63 2c20 746f 6b65 6e73 203d     loc, tokens =
-00007a80: 2073 656c 662e 7061 7273 6549 6d70 6c28   self.parseImpl(
-00007a90: 696e 7374 7269 6e67 2c20 7072 655f 6c6f  instring, pre_lo
-00007aa0: 632c 2064 6f41 6374 696f 6e73 290a 2020  c, doActions).  
-00007ab0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00007ac0: 6365 7074 2049 6e64 6578 4572 726f 723a  cept IndexError:
-00007ad0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007ae0: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
-00007af0: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
-00007b00: 6e67 2c20 6c65 6e5f 696e 7374 7269 6e67  ng, len_instring
-00007b10: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
-00007b20: 656c 6629 0a20 2020 2020 2020 2020 2020  elf).           
-00007b30: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00007b40: 2020 2020 2020 206c 6f63 2c20 746f 6b65         loc, toke
-00007b50: 6e73 203d 2073 656c 662e 7061 7273 6549  ns = self.parseI
-00007b60: 6d70 6c28 696e 7374 7269 6e67 2c20 7072  mpl(instring, pr
-00007b70: 655f 6c6f 632c 2064 6f41 6374 696f 6e73  e_loc, doActions
-00007b80: 290a 0a20 2020 2020 2020 2074 6f6b 656e  )..        token
-00007b90: 7320 3d20 7365 6c66 2e70 6f73 7450 6172  s = self.postPar
-00007ba0: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
-00007bb0: 2c20 746f 6b65 6e73 290a 0a20 2020 2020  , tokens)..     
-00007bc0: 2020 2072 6574 5f74 6f6b 656e 7320 3d20     ret_tokens = 
-00007bd0: 5061 7273 6552 6573 756c 7473 280a 2020  ParseResults(.  
-00007be0: 2020 2020 2020 2020 2020 746f 6b65 6e73            tokens
-00007bf0: 2c20 7365 6c66 2e72 6573 756c 7473 4e61  , self.resultsNa
-00007c00: 6d65 2c20 6173 4c69 7374 3d73 656c 662e  me, asList=self.
-00007c10: 7361 7665 4173 4c69 7374 2c20 6d6f 6461  saveAsList, moda
-00007c20: 6c3d 7365 6c66 2e6d 6f64 616c 5265 7375  l=self.modalResu
-00007c30: 6c74 730a 2020 2020 2020 2020 290a 2020  lts.        ).  
-00007c40: 2020 2020 2020 6966 2073 656c 662e 7061        if self.pa
-00007c50: 7273 6541 6374 696f 6e20 616e 6420 2864  rseAction and (d
-00007c60: 6f41 6374 696f 6e73 206f 7220 7365 6c66  oActions or self
-00007c70: 2e63 616c 6c44 7572 696e 6754 7279 293a  .callDuringTry):
-00007c80: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00007c90: 6465 6275 6767 696e 673a 0a20 2020 2020  debugging:.     
-00007ca0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-00007cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007cc0: 2020 2020 666f 7220 666e 2069 6e20 7365      for fn in se
-00007cd0: 6c66 2e70 6172 7365 4163 7469 6f6e 3a0a  lf.parseAction:.
-00007ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007cf0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00007d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d10: 2020 2020 2020 2020 2074 6f6b 656e 7320           tokens 
-00007d20: 3d20 666e 2869 6e73 7472 696e 672c 2074  = fn(instring, t
-00007d30: 6f6b 656e 735f 7374 6172 742c 2072 6574  okens_start, ret
-00007d40: 5f74 6f6b 656e 7329 2020 2320 7479 7065  _tokens)  # type
-00007d50: 3a20 6967 6e6f 7265 205b 6361 6c6c 2d61  : ignore [call-a
-00007d60: 7267 2c20 6172 672d 7479 7065 5d0a 2020  rg, arg-type].  
-00007d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d80: 2020 2020 2020 6578 6365 7074 2049 6e64        except Ind
-00007d90: 6578 4572 726f 7220 6173 2070 6172 7365  exError as parse
-00007da0: 5f61 6374 696f 6e5f 6578 633a 0a20 2020  _action_exc:.   
-00007db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007dc0: 2020 2020 2020 2020 2065 7863 203d 2050           exc = P
-00007dd0: 6172 7365 4578 6365 7074 696f 6e28 2265  arseException("e
-00007de0: 7863 6570 7469 6f6e 2072 6169 7365 6420  xception raised 
-00007df0: 696e 2070 6172 7365 2061 6374 696f 6e22  in parse action"
-00007e00: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00007e10: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-00007e20: 6973 6520 6578 6320 6672 6f6d 2070 6172  ise exc from par
-00007e30: 7365 5f61 6374 696f 6e5f 6578 630a 0a20  se_action_exc.. 
-00007e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e50: 2020 2020 2020 2069 6620 746f 6b65 6e73         if tokens
-00007e60: 2069 7320 6e6f 7420 4e6f 6e65 2061 6e64   is not None and
-00007e70: 2074 6f6b 656e 7320 6973 206e 6f74 2072   tokens is not r
-00007e80: 6574 5f74 6f6b 656e 733a 0a20 2020 2020  et_tokens:.     
-00007e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ea0: 2020 2020 2020 2072 6574 5f74 6f6b 656e         ret_token
-00007eb0: 7320 3d20 5061 7273 6552 6573 756c 7473  s = ParseResults
-00007ec0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00006fc0: 2020 2020 2020 6c61 7374 5f6c 6f63 203d        last_loc =
+00006fd0: 206c 6f63 0a20 2020 2020 2020 2077 6869   loc.        whi
+00006fe0: 6c65 2065 7870 7273 466f 756e 643a 0a20  le exprsFound:. 
+00006ff0: 2020 2020 2020 2020 2020 2065 7870 7273             exprs
+00007000: 466f 756e 6420 3d20 4661 6c73 650a 2020  Found = False.  
+00007010: 2020 2020 2020 2020 2020 666f 7220 6967            for ig
+00007020: 6e6f 7265 5f66 6e20 696e 2069 676e 6f72  nore_fn in ignor
+00007030: 655f 6578 7072 5f66 6e73 3a0a 2020 2020  e_expr_fns:.    
+00007040: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+00007050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007060: 2020 2020 2077 6869 6c65 2031 3a0a 2020       while 1:.  
+00007070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007080: 2020 2020 2020 6c6f 632c 2064 756d 6d79        loc, dummy
+00007090: 203d 2069 676e 6f72 655f 666e 2869 6e73   = ignore_fn(ins
+000070a0: 7472 696e 672c 206c 6f63 290a 2020 2020  tring, loc).    
+000070b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000070c0: 2020 2020 6578 7072 7346 6f75 6e64 203d      exprsFound =
+000070d0: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
+000070e0: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
+000070f0: 7365 4578 6365 7074 696f 6e3a 0a20 2020  seException:.   
+00007100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007110: 2070 6173 730a 2020 2020 2020 2020 2020   pass.          
+00007120: 2020 2320 6368 6563 6b20 6966 2061 6c6c    # check if all
+00007130: 2069 676e 6f72 6520 6578 7072 7320 6d61   ignore exprs ma
+00007140: 7463 6865 6420 6275 7420 6469 646e 2774  tched but didn't
+00007150: 2061 6374 7561 6c6c 7920 6164 7661 6e63   actually advanc
+00007160: 6520 7468 6520 7061 7273 6520 6c6f 6361  e the parse loca
+00007170: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+00007180: 2069 6620 6c6f 6320 3d3d 206c 6173 745f   if loc == last_
+00007190: 6c6f 633a 0a20 2020 2020 2020 2020 2020  loc:.           
+000071a0: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+000071b0: 2020 2020 2020 206c 6173 745f 6c6f 6320         last_loc 
+000071c0: 3d20 6c6f 630a 2020 2020 2020 2020 7265  = loc.        re
+000071d0: 7475 726e 206c 6f63 0a0a 2020 2020 6465  turn loc..    de
+000071e0: 6620 7072 6550 6172 7365 2873 656c 662c  f preParse(self,
+000071f0: 2069 6e73 7472 696e 673a 2073 7472 2c20   instring: str, 
+00007200: 6c6f 633a 2069 6e74 2920 2d3e 2069 6e74  loc: int) -> int
+00007210: 3a0a 2020 2020 2020 2020 6966 2073 656c  :.        if sel
+00007220: 662e 6967 6e6f 7265 4578 7072 733a 0a20  f.ignoreExprs:. 
+00007230: 2020 2020 2020 2020 2020 206c 6f63 203d             loc =
+00007240: 2073 656c 662e 5f73 6b69 7049 676e 6f72   self._skipIgnor
+00007250: 6162 6c65 7328 696e 7374 7269 6e67 2c20  ables(instring, 
+00007260: 6c6f 6329 0a0a 2020 2020 2020 2020 6966  loc)..        if
+00007270: 2073 656c 662e 736b 6970 5768 6974 6573   self.skipWhites
+00007280: 7061 6365 3a0a 2020 2020 2020 2020 2020  pace:.          
+00007290: 2020 696e 7374 726c 656e 203d 206c 656e    instrlen = len
+000072a0: 2869 6e73 7472 696e 6729 0a20 2020 2020  (instring).     
+000072b0: 2020 2020 2020 2077 6869 7465 5f63 6861         white_cha
+000072c0: 7273 203d 2073 656c 662e 7768 6974 6543  rs = self.whiteC
+000072d0: 6861 7273 0a20 2020 2020 2020 2020 2020  hars.           
+000072e0: 2077 6869 6c65 206c 6f63 203c 2069 6e73   while loc < ins
+000072f0: 7472 6c65 6e20 616e 6420 696e 7374 7269  trlen and instri
+00007300: 6e67 5b6c 6f63 5d20 696e 2077 6869 7465  ng[loc] in white
+00007310: 5f63 6861 7273 3a0a 2020 2020 2020 2020  _chars:.        
+00007320: 2020 2020 2020 2020 6c6f 6320 2b3d 2031          loc += 1
+00007330: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00007340: 206c 6f63 0a0a 2020 2020 6465 6620 7061   loc..    def pa
+00007350: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
+00007360: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
+00007370: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
+00007380: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
+00007390: 2c20 5b5d 0a0a 2020 2020 6465 6620 706f  , []..    def po
+000073a0: 7374 5061 7273 6528 7365 6c66 2c20 696e  stParse(self, in
+000073b0: 7374 7269 6e67 2c20 6c6f 632c 2074 6f6b  string, loc, tok
+000073c0: 656e 6c69 7374 293a 0a20 2020 2020 2020  enlist):.       
+000073d0: 2072 6574 7572 6e20 746f 6b65 6e6c 6973   return tokenlis
+000073e0: 740a 0a20 2020 2023 2040 7072 6f66 696c  t..    # @profil
+000073f0: 650a 2020 2020 6465 6620 5f70 6172 7365  e.    def _parse
+00007400: 4e6f 4361 6368 6528 0a20 2020 2020 2020  NoCache(.       
+00007410: 2073 656c 662c 2069 6e73 7472 696e 672c   self, instring,
+00007420: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
+00007430: 5472 7565 2c20 6361 6c6c 5072 6550 6172  True, callPrePar
+00007440: 7365 3d54 7275 650a 2020 2020 2920 2d3e  se=True.    ) ->
+00007450: 2054 7570 6c65 5b69 6e74 2c20 5061 7273   Tuple[int, Pars
+00007460: 6552 6573 756c 7473 5d3a 0a20 2020 2020  eResults]:.     
+00007470: 2020 2054 5259 2c20 4d41 5443 482c 2046     TRY, MATCH, F
+00007480: 4149 4c20 3d20 302c 2031 2c20 320a 2020  AIL = 0, 1, 2.  
+00007490: 2020 2020 2020 6465 6275 6767 696e 6720        debugging 
+000074a0: 3d20 7365 6c66 2e64 6562 7567 2020 2320  = self.debug  # 
+000074b0: 616e 6420 646f 4163 7469 6f6e 7329 0a20  and doActions). 
+000074c0: 2020 2020 2020 206c 656e 5f69 6e73 7472         len_instr
+000074d0: 696e 6720 3d20 6c65 6e28 696e 7374 7269  ing = len(instri
+000074e0: 6e67 290a 0a20 2020 2020 2020 2069 6620  ng)..        if 
+000074f0: 6465 6275 6767 696e 6720 6f72 2073 656c  debugging or sel
+00007500: 662e 6661 696c 4163 7469 6f6e 3a0a 2020  f.failAction:.  
+00007510: 2020 2020 2020 2020 2020 2320 7072 696e            # prin
+00007520: 7428 224d 6174 6368 207b 7d20 6174 206c  t("Match {} at l
+00007530: 6f63 207b 7d28 7b7d 2c20 7b7d 2922 2e66  oc {}({}, {})".f
+00007540: 6f72 6d61 7428 7365 6c66 2c20 6c6f 632c  ormat(self, loc,
+00007550: 206c 696e 656e 6f28 6c6f 632c 2069 6e73   lineno(loc, ins
+00007560: 7472 696e 6729 2c20 636f 6c28 6c6f 632c  tring), col(loc,
+00007570: 2069 6e73 7472 696e 6729 2929 0a20 2020   instring))).   
+00007580: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
+00007590: 2020 2020 2020 2020 2020 2020 2020 6966                if
+000075a0: 2063 616c 6c50 7265 5061 7273 6520 616e   callPreParse an
+000075b0: 6420 7365 6c66 2e63 616c 6c50 7265 7061  d self.callPrepa
+000075c0: 7273 653a 0a20 2020 2020 2020 2020 2020  rse:.           
+000075d0: 2020 2020 2020 2020 2070 7265 5f6c 6f63           pre_loc
+000075e0: 203d 2073 656c 662e 7072 6550 6172 7365   = self.preParse
+000075f0: 2869 6e73 7472 696e 672c 206c 6f63 290a  (instring, loc).
+00007600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007610: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00007620: 2020 2020 2020 2020 2020 7072 655f 6c6f            pre_lo
+00007630: 6320 3d20 6c6f 630a 2020 2020 2020 2020  c = loc.        
+00007640: 2020 2020 2020 2020 746f 6b65 6e73 5f73          tokens_s
+00007650: 7461 7274 203d 2070 7265 5f6c 6f63 0a20  tart = pre_loc. 
+00007660: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00007670: 6620 7365 6c66 2e64 6562 7567 4163 7469  f self.debugActi
+00007680: 6f6e 732e 6465 6275 675f 7472 793a 0a20  ons.debug_try:. 
+00007690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000076a0: 2020 2073 656c 662e 6465 6275 6741 6374     self.debugAct
+000076b0: 696f 6e73 2e64 6562 7567 5f74 7279 2869  ions.debug_try(i
+000076c0: 6e73 7472 696e 672c 2074 6f6b 656e 735f  nstring, tokens_
+000076d0: 7374 6172 742c 2073 656c 662c 2046 616c  start, self, Fal
+000076e0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+000076f0: 2020 2020 6966 2073 656c 662e 6d61 7949      if self.mayI
+00007700: 6e64 6578 4572 726f 7220 6f72 2070 7265  ndexError or pre
+00007710: 5f6c 6f63 203e 3d20 6c65 6e5f 696e 7374  _loc >= len_inst
+00007720: 7269 6e67 3a0a 2020 2020 2020 2020 2020  ring:.          
+00007730: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+00007740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007750: 2020 2020 2020 206c 6f63 2c20 746f 6b65         loc, toke
+00007760: 6e73 203d 2073 656c 662e 7061 7273 6549  ns = self.parseI
+00007770: 6d70 6c28 696e 7374 7269 6e67 2c20 7072  mpl(instring, pr
+00007780: 655f 6c6f 632c 2064 6f41 6374 696f 6e73  e_loc, doActions
+00007790: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000077a0: 2020 2020 2020 6578 6365 7074 2049 6e64        except Ind
+000077b0: 6578 4572 726f 723a 0a20 2020 2020 2020  exError:.       
+000077c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000077d0: 2072 6169 7365 2050 6172 7365 4578 6365   raise ParseExce
+000077e0: 7074 696f 6e28 696e 7374 7269 6e67 2c20  ption(instring, 
+000077f0: 6c65 6e5f 696e 7374 7269 6e67 2c20 7365  len_instring, se
+00007800: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
+00007810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007820: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00007830: 2020 2020 2020 2020 2020 206c 6f63 2c20             loc, 
+00007840: 746f 6b65 6e73 203d 2073 656c 662e 7061  tokens = self.pa
+00007850: 7273 6549 6d70 6c28 696e 7374 7269 6e67  rseImpl(instring
+00007860: 2c20 7072 655f 6c6f 632c 2064 6f41 6374  , pre_loc, doAct
+00007870: 696f 6e73 290a 2020 2020 2020 2020 2020  ions).          
+00007880: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+00007890: 6f6e 2061 7320 6572 723a 0a20 2020 2020  on as err:.     
+000078a0: 2020 2020 2020 2020 2020 2023 2070 7269             # pri
+000078b0: 6e74 2822 4578 6365 7074 696f 6e20 7261  nt("Exception ra
+000078c0: 6973 6564 3a22 2c20 6572 7229 0a20 2020  ised:", err).   
+000078d0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000078e0: 7365 6c66 2e64 6562 7567 4163 7469 6f6e  self.debugAction
+000078f0: 732e 6465 6275 675f 6661 696c 3a0a 2020  s.debug_fail:.  
+00007900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007910: 2020 7365 6c66 2e64 6562 7567 4163 7469    self.debugActi
+00007920: 6f6e 732e 6465 6275 675f 6661 696c 280a  ons.debug_fail(.
+00007930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007940: 2020 2020 2020 2020 696e 7374 7269 6e67          instring
+00007950: 2c20 746f 6b65 6e73 5f73 7461 7274 2c20  , tokens_start, 
+00007960: 7365 6c66 2c20 6572 722c 2046 616c 7365  self, err, False
+00007970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007980: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+00007990: 2020 2020 2020 2069 6620 7365 6c66 2e66         if self.f
+000079a0: 6169 6c41 6374 696f 6e3a 0a20 2020 2020  ailAction:.     
+000079b0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000079c0: 656c 662e 6661 696c 4163 7469 6f6e 2869  elf.failAction(i
+000079d0: 6e73 7472 696e 672c 2074 6f6b 656e 735f  nstring, tokens_
+000079e0: 7374 6172 742c 2073 656c 662c 2065 7272  start, self, err
+000079f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00007a00: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
+00007a10: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00007a20: 2020 6966 2063 616c 6c50 7265 5061 7273    if callPrePars
+00007a30: 6520 616e 6420 7365 6c66 2e63 616c 6c50  e and self.callP
+00007a40: 7265 7061 7273 653a 0a20 2020 2020 2020  reparse:.       
+00007a50: 2020 2020 2020 2020 2070 7265 5f6c 6f63           pre_loc
+00007a60: 203d 2073 656c 662e 7072 6550 6172 7365   = self.preParse
+00007a70: 2869 6e73 7472 696e 672c 206c 6f63 290a  (instring, loc).
+00007a80: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00007a90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00007aa0: 2020 7072 655f 6c6f 6320 3d20 6c6f 630a    pre_loc = loc.
+00007ab0: 2020 2020 2020 2020 2020 2020 746f 6b65              toke
+00007ac0: 6e73 5f73 7461 7274 203d 2070 7265 5f6c  ns_start = pre_l
+00007ad0: 6f63 0a20 2020 2020 2020 2020 2020 2069  oc.            i
+00007ae0: 6620 7365 6c66 2e6d 6179 496e 6465 7845  f self.mayIndexE
+00007af0: 7272 6f72 206f 7220 7072 655f 6c6f 6320  rror or pre_loc 
+00007b00: 3e3d 206c 656e 5f69 6e73 7472 696e 673a  >= len_instring:
+00007b10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007b20: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00007b30: 2020 2020 2020 2020 2020 6c6f 632c 2074            loc, t
+00007b40: 6f6b 656e 7320 3d20 7365 6c66 2e70 6172  okens = self.par
+00007b50: 7365 496d 706c 2869 6e73 7472 696e 672c  seImpl(instring,
+00007b60: 2070 7265 5f6c 6f63 2c20 646f 4163 7469   pre_loc, doActi
+00007b70: 6f6e 7329 0a20 2020 2020 2020 2020 2020  ons).           
+00007b80: 2020 2020 2065 7863 6570 7420 496e 6465       except Inde
+00007b90: 7845 7272 6f72 3a0a 2020 2020 2020 2020  xError:.        
+00007ba0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00007bb0: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
+00007bc0: 2869 6e73 7472 696e 672c 206c 656e 5f69  (instring, len_i
+00007bd0: 6e73 7472 696e 672c 2073 656c 662e 6572  nstring, self.er
+00007be0: 726d 7367 2c20 7365 6c66 290a 2020 2020  rmsg, self).    
+00007bf0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00007c00: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
+00007c10: 632c 2074 6f6b 656e 7320 3d20 7365 6c66  c, tokens = self
+00007c20: 2e70 6172 7365 496d 706c 2869 6e73 7472  .parseImpl(instr
+00007c30: 696e 672c 2070 7265 5f6c 6f63 2c20 646f  ing, pre_loc, do
+00007c40: 4163 7469 6f6e 7329 0a0a 2020 2020 2020  Actions)..      
+00007c50: 2020 746f 6b65 6e73 203d 2073 656c 662e    tokens = self.
+00007c60: 706f 7374 5061 7273 6528 696e 7374 7269  postParse(instri
+00007c70: 6e67 2c20 6c6f 632c 2074 6f6b 656e 7329  ng, loc, tokens)
+00007c80: 0a0a 2020 2020 2020 2020 7265 745f 746f  ..        ret_to
+00007c90: 6b65 6e73 203d 2050 6172 7365 5265 7375  kens = ParseResu
+00007ca0: 6c74 7328 0a20 2020 2020 2020 2020 2020  lts(.           
+00007cb0: 2074 6f6b 656e 732c 2073 656c 662e 7265   tokens, self.re
+00007cc0: 7375 6c74 734e 616d 652c 2061 734c 6973  sultsName, asLis
+00007cd0: 743d 7365 6c66 2e73 6176 6541 734c 6973  t=self.saveAsLis
+00007ce0: 742c 206d 6f64 616c 3d73 656c 662e 6d6f  t, modal=self.mo
+00007cf0: 6461 6c52 6573 756c 7473 0a20 2020 2020  dalResults.     
+00007d00: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
+00007d10: 7365 6c66 2e70 6172 7365 4163 7469 6f6e  self.parseAction
+00007d20: 2061 6e64 2028 646f 4163 7469 6f6e 7320   and (doActions 
+00007d30: 6f72 2073 656c 662e 6361 6c6c 4475 7269  or self.callDuri
+00007d40: 6e67 5472 7929 3a0a 2020 2020 2020 2020  ngTry):.        
+00007d50: 2020 2020 6966 2064 6562 7567 6769 6e67      if debugging
+00007d60: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00007d70: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00007d80: 2020 2020 2020 2020 2020 2066 6f72 2066             for f
+00007d90: 6e20 696e 2073 656c 662e 7061 7273 6541  n in self.parseA
+00007da0: 6374 696f 6e3a 0a20 2020 2020 2020 2020  ction:.         
+00007db0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00007dc0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00007dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007de0: 746f 6b65 6e73 203d 2066 6e28 696e 7374  tokens = fn(inst
+00007df0: 7269 6e67 2c20 746f 6b65 6e73 5f73 7461  ring, tokens_sta
+00007e00: 7274 2c20 7265 745f 746f 6b65 6e73 2920  rt, ret_tokens) 
+00007e10: 2023 2074 7970 653a 2069 676e 6f72 6520   # type: ignore 
+00007e20: 5b63 616c 6c2d 6172 672c 2061 7267 2d74  [call-arg, arg-t
+00007e30: 7970 655d 0a20 2020 2020 2020 2020 2020  ype].           
+00007e40: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+00007e50: 6570 7420 496e 6465 7845 7272 6f72 2061  ept IndexError a
+00007e60: 7320 7061 7273 655f 6163 7469 6f6e 5f65  s parse_action_e
+00007e70: 7863 3a0a 2020 2020 2020 2020 2020 2020  xc:.            
+00007e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e90: 6578 6320 3d20 5061 7273 6545 7863 6570  exc = ParseExcep
+00007ea0: 7469 6f6e 2822 6578 6365 7074 696f 6e20  tion("exception 
+00007eb0: 7261 6973 6564 2069 6e20 7061 7273 6520  raised in parse 
+00007ec0: 6163 7469 6f6e 2229 0a20 2020 2020 2020  action").       
 00007ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ee0: 2020 746f 6b65 6e73 2c0a 2020 2020 2020    tokens,.      
-00007ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f00: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-00007f10: 6573 756c 7473 4e61 6d65 2c0a 2020 2020  esultsName,.    
-00007f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f30: 2020 2020 2020 2020 2020 2020 6173 4c69              asLi
-00007f40: 7374 3d73 656c 662e 7361 7665 4173 4c69  st=self.saveAsLi
-00007f50: 7374 0a20 2020 2020 2020 2020 2020 2020  st.             
-00007f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f70: 2020 2061 6e64 2069 7369 6e73 7461 6e63     and isinstanc
-00007f80: 6528 746f 6b65 6e73 2c20 2850 6172 7365  e(tokens, (Parse
-00007f90: 5265 7375 6c74 732c 206c 6973 7429 292c  Results, list)),
-00007fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007fc0: 206d 6f64 616c 3d73 656c 662e 6d6f 6461   modal=self.moda
-00007fd0: 6c52 6573 756c 7473 2c0a 2020 2020 2020  lResults,.      
-00007fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ff0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00008000: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00008010: 7863 6570 7469 6f6e 2061 7320 6572 723a  xception as err:
-00008020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008030: 2020 2020 2023 2070 7269 6e74 2022 4578       # print "Ex
-00008040: 6365 7074 696f 6e20 7261 6973 6564 2069  ception raised i
-00008050: 6e20 7573 6572 2070 6172 7365 2061 6374  n user parse act
-00008060: 696f 6e3a 222c 2065 7272 0a20 2020 2020  ion:", err.     
-00008070: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00008080: 6620 7365 6c66 2e64 6562 7567 4163 7469  f self.debugActi
-00008090: 6f6e 732e 6465 6275 675f 6661 696c 3a0a  ons.debug_fail:.
-000080a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080b0: 2020 2020 2020 2020 7365 6c66 2e64 6562          self.deb
-000080c0: 7567 4163 7469 6f6e 732e 6465 6275 675f  ugActions.debug_
-000080d0: 6661 696c 280a 2020 2020 2020 2020 2020  fail(.          
-000080e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000080f0: 2020 696e 7374 7269 6e67 2c20 746f 6b65    instring, toke
-00008100: 6e73 5f73 7461 7274 2c20 7365 6c66 2c20  ns_start, self, 
-00008110: 6572 722c 2046 616c 7365 0a20 2020 2020  err, False.     
-00008120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008130: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00008140: 2020 2020 2020 2020 2072 6169 7365 0a20           raise. 
-00008150: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00008160: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008170: 2066 6f72 2066 6e20 696e 2073 656c 662e   for fn in self.
-00008180: 7061 7273 6541 6374 696f 6e3a 0a20 2020  parseAction:.   
-00008190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000081a0: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-000081b0: 2020 2020 2020 2020 2020 2020 2020 746f                to
-000081c0: 6b65 6e73 203d 2066 6e28 696e 7374 7269  kens = fn(instri
-000081d0: 6e67 2c20 746f 6b65 6e73 5f73 7461 7274  ng, tokens_start
-000081e0: 2c20 7265 745f 746f 6b65 6e73 2920 2023  , ret_tokens)  #
-000081f0: 2074 7970 653a 2069 676e 6f72 6520 5b63   type: ignore [c
-00008200: 616c 6c2d 6172 672c 2061 7267 2d74 7970  all-arg, arg-typ
-00008210: 655d 0a20 2020 2020 2020 2020 2020 2020  e].             
-00008220: 2020 2020 2020 2065 7863 6570 7420 496e         except In
-00008230: 6465 7845 7272 6f72 2061 7320 7061 7273  dexError as pars
-00008240: 655f 6163 7469 6f6e 5f65 7863 3a0a 2020  e_action_exc:.  
-00008250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008260: 2020 2020 2020 6578 6320 3d20 5061 7273        exc = Pars
-00008270: 6545 7863 6570 7469 6f6e 2822 6578 6365  eException("exce
-00008280: 7074 696f 6e20 7261 6973 6564 2069 6e20  ption raised in 
-00008290: 7061 7273 6520 6163 7469 6f6e 2229 0a20  parse action"). 
-000082a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000082b0: 2020 2020 2020 2072 6169 7365 2065 7863         raise exc
-000082c0: 2066 726f 6d20 7061 7273 655f 6163 7469   from parse_acti
-000082d0: 6f6e 5f65 7863 0a0a 2020 2020 2020 2020  on_exc..        
-000082e0: 2020 2020 2020 2020 2020 2020 6966 2074              if t
-000082f0: 6f6b 656e 7320 6973 206e 6f74 204e 6f6e  okens is not Non
-00008300: 6520 616e 6420 746f 6b65 6e73 2069 7320  e and tokens is 
-00008310: 6e6f 7420 7265 745f 746f 6b65 6e73 3a0a  not ret_tokens:.
-00008320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008330: 2020 2020 2020 2020 7265 745f 746f 6b65          ret_toke
-00008340: 6e73 203d 2050 6172 7365 5265 7375 6c74  ns = ParseResult
-00008350: 7328 0a20 2020 2020 2020 2020 2020 2020  s(.             
-00008360: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00008370: 6f6b 656e 732c 0a20 2020 2020 2020 2020  okens,.         
-00008380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008390: 2020 2073 656c 662e 7265 7375 6c74 734e     self.resultsN
-000083a0: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-000083b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000083c0: 2061 734c 6973 743d 7365 6c66 2e73 6176   asList=self.sav
-000083d0: 6541 734c 6973 740a 2020 2020 2020 2020  eAsList.        
-000083e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000083f0: 2020 2020 616e 6420 6973 696e 7374 616e      and isinstan
-00008400: 6365 2874 6f6b 656e 732c 2028 5061 7273  ce(tokens, (Pars
-00008410: 6552 6573 756c 7473 2c20 6c69 7374 2929  eResults, list))
-00008420: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00008430: 2020 2020 2020 2020 2020 2020 2020 6d6f                mo
-00008440: 6461 6c3d 7365 6c66 2e6d 6f64 616c 5265  dal=self.modalRe
-00008450: 7375 6c74 732c 0a20 2020 2020 2020 2020  sults,.         
-00008460: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-00008470: 0a20 2020 2020 2020 2069 6620 6465 6275  .        if debu
-00008480: 6767 696e 673a 0a20 2020 2020 2020 2020  gging:.         
-00008490: 2020 2023 2070 7269 6e74 2822 4d61 7463     # print("Matc
-000084a0: 6865 6422 2c20 7365 6c66 2c20 222d 3e22  hed", self, "->"
-000084b0: 2c20 7265 745f 746f 6b65 6e73 2e61 735f  , ret_tokens.as_
-000084c0: 6c69 7374 2829 290a 2020 2020 2020 2020  list()).        
-000084d0: 2020 2020 6966 2073 656c 662e 6465 6275      if self.debu
-000084e0: 6741 6374 696f 6e73 2e64 6562 7567 5f6d  gActions.debug_m
-000084f0: 6174 6368 3a0a 2020 2020 2020 2020 2020  atch:.          
-00008500: 2020 2020 2020 7365 6c66 2e64 6562 7567        self.debug
-00008510: 4163 7469 6f6e 732e 6465 6275 675f 6d61  Actions.debug_ma
-00008520: 7463 6828 0a20 2020 2020 2020 2020 2020  tch(.           
-00008530: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
-00008540: 672c 2074 6f6b 656e 735f 7374 6172 742c  g, tokens_start,
-00008550: 206c 6f63 2c20 7365 6c66 2c20 7265 745f   loc, self, ret_
-00008560: 746f 6b65 6e73 2c20 4661 6c73 650a 2020  tokens, False.  
-00008570: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-00008580: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00008590: 6c6f 632c 2072 6574 5f74 6f6b 656e 730a  loc, ret_tokens.
-000085a0: 0a20 2020 2064 6566 2074 7279 5f70 6172  .    def try_par
-000085b0: 7365 280a 2020 2020 2020 2020 7365 6c66  se(.        self
-000085c0: 2c0a 2020 2020 2020 2020 696e 7374 7269  ,.        instri
-000085d0: 6e67 3a20 7374 722c 0a20 2020 2020 2020  ng: str,.       
-000085e0: 206c 6f63 3a20 696e 742c 0a20 2020 2020   loc: int,.     
-000085f0: 2020 202a 2c0a 2020 2020 2020 2020 7261     *,.        ra
-00008600: 6973 655f 6661 7461 6c3a 2062 6f6f 6c20  ise_fatal: bool 
-00008610: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-00008620: 2064 6f5f 6163 7469 6f6e 733a 2062 6f6f   do_actions: boo
-00008630: 6c20 3d20 4661 6c73 652c 0a20 2020 2029  l = False,.    )
-00008640: 202d 3e20 696e 743a 0a20 2020 2020 2020   -> int:.       
-00008650: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-00008660: 2020 7265 7475 726e 2073 656c 662e 5f70    return self._p
-00008670: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
-00008680: 6f63 2c20 646f 4163 7469 6f6e 733d 646f  oc, doActions=do
-00008690: 5f61 6374 696f 6e73 295b 305d 0a20 2020  _actions)[0].   
-000086a0: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
-000086b0: 6546 6174 616c 4578 6365 7074 696f 6e3a  eFatalException:
-000086c0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000086d0: 7261 6973 655f 6661 7461 6c3a 0a20 2020  raise_fatal:.   
-000086e0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-000086f0: 7365 0a20 2020 2020 2020 2020 2020 2072  se.            r
-00008700: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
-00008710: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
-00008720: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
-00008730: 7365 6c66 290a 0a20 2020 2064 6566 2063  self)..    def c
-00008740: 616e 5f70 6172 7365 5f6e 6578 7428 7365  an_parse_next(se
-00008750: 6c66 2c20 696e 7374 7269 6e67 3a20 7374  lf, instring: st
-00008760: 722c 206c 6f63 3a20 696e 742c 2064 6f5f  r, loc: int, do_
-00008770: 6163 7469 6f6e 733a 2062 6f6f 6c20 3d20  actions: bool = 
-00008780: 4661 6c73 6529 202d 3e20 626f 6f6c 3a0a  False) -> bool:.
-00008790: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-000087a0: 2020 2020 2020 2020 2073 656c 662e 7472           self.tr
-000087b0: 795f 7061 7273 6528 696e 7374 7269 6e67  y_parse(instring
-000087c0: 2c20 6c6f 632c 2064 6f5f 6163 7469 6f6e  , loc, do_action
-000087d0: 733d 646f 5f61 6374 696f 6e73 290a 2020  s=do_actions).  
-000087e0: 2020 2020 2020 6578 6365 7074 2028 5061        except (Pa
-000087f0: 7273 6545 7863 6570 7469 6f6e 2c20 496e  rseException, In
-00008800: 6465 7845 7272 6f72 293a 0a20 2020 2020  dexError):.     
-00008810: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
-00008820: 6c73 650a 2020 2020 2020 2020 656c 7365  lse.        else
-00008830: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00008840: 7475 726e 2054 7275 650a 0a20 2020 2023  turn True..    #
-00008850: 2063 6163 6865 2066 6f72 206c 6566 742d   cache for left-
-00008860: 7265 6375 7273 696f 6e20 696e 2046 6f72  recursion in For
-00008870: 7761 7264 2072 6566 6572 656e 6365 730a  ward references.
-00008880: 2020 2020 7265 6375 7273 696f 6e5f 6c6f      recursion_lo
-00008890: 636b 203d 2052 4c6f 636b 2829 0a20 2020  ck = RLock().   
-000088a0: 2072 6563 7572 7369 6f6e 5f6d 656d 6f73   recursion_memos
-000088b0: 3a20 7479 7069 6e67 2e44 6963 745b 0a20  : typing.Dict[. 
-000088c0: 2020 2020 2020 2054 7570 6c65 5b69 6e74         Tuple[int
-000088d0: 2c20 2246 6f72 7761 7264 222c 2062 6f6f  , "Forward", boo
-000088e0: 6c5d 2c20 5475 706c 655b 696e 742c 2055  l], Tuple[int, U
-000088f0: 6e69 6f6e 5b50 6172 7365 5265 7375 6c74  nion[ParseResult
-00008900: 732c 2045 7863 6570 7469 6f6e 5d5d 0a20  s, Exception]]. 
-00008910: 2020 205d 203d 207b 7d0a 0a20 2020 2063     ] = {}..    c
-00008920: 6c61 7373 205f 4361 6368 6554 7970 6528  lass _CacheType(
-00008930: 6469 6374 293a 0a20 2020 2020 2020 2022  dict):.        "
-00008940: 2222 0a20 2020 2020 2020 2063 6c61 7373  "".        class
-00008950: 2074 6f20 6865 6c70 2074 7970 6520 6368   to help type ch
-00008960: 6563 6b69 6e67 0a20 2020 2020 2020 2022  ecking.        "
-00008970: 2222 0a0a 2020 2020 2020 2020 6e6f 745f  ""..        not_
-00008980: 696e 5f63 6163 6865 3a20 626f 6f6c 0a0a  in_cache: bool..
-00008990: 2020 2020 2020 2020 6465 6620 6765 7428          def get(
-000089a0: 7365 6c66 2c20 2a61 7267 7329 3a0a 2020  self, *args):.  
-000089b0: 2020 2020 2020 2020 2020 2e2e 2e0a 0a20            ..... 
-000089c0: 2020 2020 2020 2064 6566 2073 6574 2873         def set(s
-000089d0: 656c 662c 202a 6172 6773 293a 0a20 2020  elf, *args):.   
-000089e0: 2020 2020 2020 2020 202e 2e2e 0a0a 2020           .....  
-000089f0: 2020 2320 6172 6775 6d65 6e74 2063 6163    # argument cac
-00008a00: 6865 2066 6f72 206f 7074 696d 697a 696e  he for optimizin
-00008a10: 6720 7265 7065 6174 6564 2063 616c 6c73  g repeated calls
-00008a20: 2077 6865 6e20 6261 636b 7472 6163 6b69   when backtracki
-00008a30: 6e67 2074 6872 6f75 6768 2072 6563 7572  ng through recur
-00008a40: 7369 7665 2065 7870 7265 7373 696f 6e73  sive expressions
-00008a50: 0a20 2020 2070 6163 6b72 6174 5f63 6163  .    packrat_cac
-00008a60: 6865 203d 2028 0a20 2020 2020 2020 205f  he = (.        _
-00008a70: 4361 6368 6554 7970 6528 290a 2020 2020  CacheType().    
-00008a80: 2920 2023 2073 6574 206c 6174 6572 2062  )  # set later b
-00008a90: 7920 656e 6162 6c65 5f70 6163 6b72 6174  y enable_packrat
-00008aa0: 2829 3b20 7468 6973 2069 7320 6865 7265  (); this is here
-00008ab0: 2073 6f20 7468 6174 2072 6573 6574 5f63   so that reset_c
-00008ac0: 6163 6865 2829 2064 6f65 736e 2774 2066  ache() doesn't f
-00008ad0: 6169 6c0a 2020 2020 7061 636b 7261 745f  ail.    packrat_
-00008ae0: 6361 6368 655f 6c6f 636b 203d 2052 4c6f  cache_lock = RLo
-00008af0: 636b 2829 0a20 2020 2070 6163 6b72 6174  ck().    packrat
-00008b00: 5f63 6163 6865 5f73 7461 7473 203d 205b  _cache_stats = [
-00008b10: 302c 2030 5d0a 0a20 2020 2023 2074 6869  0, 0]..    # thi
-00008b20: 7320 6d65 7468 6f64 2067 6574 7320 7265  s method gets re
-00008b30: 7065 6174 6564 6c79 2063 616c 6c65 6420  peatedly called 
-00008b40: 6475 7269 6e67 2062 6163 6b74 7261 636b  during backtrack
-00008b50: 696e 6720 7769 7468 2074 6865 2073 616d  ing with the sam
-00008b60: 6520 6172 6775 6d65 6e74 7320 2d0a 2020  e arguments -.  
-00008b70: 2020 2320 7765 2063 616e 2063 6163 6865    # we can cache
-00008b80: 2074 6865 7365 2061 7267 756d 656e 7473   these arguments
-00008b90: 2061 6e64 2073 6176 6520 6f75 7273 656c   and save oursel
-00008ba0: 7665 7320 7468 6520 7472 6f75 626c 6520  ves the trouble 
-00008bb0: 6f66 2072 652d 7061 7273 696e 6720 7468  of re-parsing th
-00008bc0: 6520 636f 6e74 6169 6e65 6420 6578 7072  e contained expr
-00008bd0: 6573 7369 6f6e 0a20 2020 2064 6566 205f  ession.    def _
-00008be0: 7061 7273 6543 6163 6865 280a 2020 2020  parseCache(.    
-00008bf0: 2020 2020 7365 6c66 2c20 696e 7374 7269      self, instri
-00008c00: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
-00008c10: 6e73 3d54 7275 652c 2063 616c 6c50 7265  ns=True, callPre
-00008c20: 5061 7273 653d 5472 7565 0a20 2020 2029  Parse=True.    )
-00008c30: 202d 3e20 5475 706c 655b 696e 742c 2050   -> Tuple[int, P
-00008c40: 6172 7365 5265 7375 6c74 735d 3a0a 2020  arseResults]:.  
-00008c50: 2020 2020 2020 4849 542c 204d 4953 5320        HIT, MISS 
-00008c60: 3d20 302c 2031 0a20 2020 2020 2020 2054  = 0, 1.        T
-00008c70: 5259 2c20 4d41 5443 482c 2046 4149 4c20  RY, MATCH, FAIL 
-00008c80: 3d20 302c 2031 2c20 320a 2020 2020 2020  = 0, 1, 2.      
-00008c90: 2020 6c6f 6f6b 7570 203d 2028 7365 6c66    lookup = (self
-00008ca0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
-00008cb0: 2063 616c 6c50 7265 5061 7273 652c 2064   callPreParse, d
-00008cc0: 6f41 6374 696f 6e73 290a 2020 2020 2020  oActions).      
-00008cd0: 2020 7769 7468 2050 6172 7365 7245 6c65    with ParserEle
-00008ce0: 6d65 6e74 2e70 6163 6b72 6174 5f63 6163  ment.packrat_cac
-00008cf0: 6865 5f6c 6f63 6b3a 0a20 2020 2020 2020  he_lock:.       
-00008d00: 2020 2020 2063 6163 6865 203d 2050 6172       cache = Par
-00008d10: 7365 7245 6c65 6d65 6e74 2e70 6163 6b72  serElement.packr
-00008d20: 6174 5f63 6163 6865 0a20 2020 2020 2020  at_cache.       
-00008d30: 2020 2020 2076 616c 7565 203d 2063 6163       value = cac
-00008d40: 6865 2e67 6574 286c 6f6f 6b75 7029 0a20  he.get(lookup). 
-00008d50: 2020 2020 2020 2020 2020 2069 6620 7661             if va
-00008d60: 6c75 6520 6973 2063 6163 6865 2e6e 6f74  lue is cache.not
-00008d70: 5f69 6e5f 6361 6368 653a 0a20 2020 2020  _in_cache:.     
-00008d80: 2020 2020 2020 2020 2020 2050 6172 7365             Parse
-00008d90: 7245 6c65 6d65 6e74 2e70 6163 6b72 6174  rElement.packrat
-00008da0: 5f63 6163 6865 5f73 7461 7473 5b4d 4953  _cache_stats[MIS
-00008db0: 535d 202b 3d20 310a 2020 2020 2020 2020  S] += 1.        
-00008dc0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00008dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008de0: 2076 616c 7565 203d 2073 656c 662e 5f70   value = self._p
-00008df0: 6172 7365 4e6f 4361 6368 6528 696e 7374  arseNoCache(inst
-00008e00: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-00008e10: 696f 6e73 2c20 6361 6c6c 5072 6550 6172  ions, callPrePar
-00008e20: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
-00008e30: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
-00008e40: 4261 7365 4578 6365 7074 696f 6e20 6173  BaseException as
-00008e50: 2070 653a 0a20 2020 2020 2020 2020 2020   pe:.           
-00008e60: 2020 2020 2020 2020 2023 2063 6163 6865           # cache
-00008e70: 2061 2063 6f70 7920 6f66 2074 6865 2065   a copy of the e
-00008e80: 7863 6570 7469 6f6e 2c20 7769 7468 6f75  xception, withou
-00008e90: 7420 7468 6520 7472 6163 6562 6163 6b0a  t the traceback.
-00008ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008eb0: 2020 2020 6361 6368 652e 7365 7428 6c6f      cache.set(lo
-00008ec0: 6f6b 7570 2c20 7065 2e5f 5f63 6c61 7373  okup, pe.__class
-00008ed0: 5f5f 282a 7065 2e61 7267 7329 290a 2020  __(*pe.args)).  
-00008ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ef0: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
-00008f00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00008f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f20: 2020 6361 6368 652e 7365 7428 6c6f 6f6b    cache.set(look
-00008f30: 7570 2c20 2876 616c 7565 5b30 5d2c 2076  up, (value[0], v
-00008f40: 616c 7565 5b31 5d2e 636f 7079 2829 2c20  alue[1].copy(), 
-00008f50: 6c6f 6329 290a 2020 2020 2020 2020 2020  loc)).          
-00008f60: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00008f70: 2076 616c 7565 0a20 2020 2020 2020 2020   value.         
-00008f80: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00008f90: 2020 2020 2020 2020 2050 6172 7365 7245           ParserE
-00008fa0: 6c65 6d65 6e74 2e70 6163 6b72 6174 5f63  lement.packrat_c
-00008fb0: 6163 6865 5f73 7461 7473 5b48 4954 5d20  ache_stats[HIT] 
-00008fc0: 2b3d 2031 0a20 2020 2020 2020 2020 2020  += 1.           
-00008fd0: 2020 2020 2069 6620 7365 6c66 2e64 6562       if self.deb
-00008fe0: 7567 2061 6e64 2073 656c 662e 6465 6275  ug and self.debu
-00008ff0: 6741 6374 696f 6e73 2e64 6562 7567 5f74  gActions.debug_t
-00009000: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00009010: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00007ee0: 2020 2020 2072 6169 7365 2065 7863 2066       raise exc f
+00007ef0: 726f 6d20 7061 7273 655f 6163 7469 6f6e  rom parse_action
+00007f00: 5f65 7863 0a0a 2020 2020 2020 2020 2020  _exc..          
+00007f10: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00007f20: 2074 6f6b 656e 7320 6973 206e 6f74 204e   tokens is not N
+00007f30: 6f6e 6520 616e 6420 746f 6b65 6e73 2069  one and tokens i
+00007f40: 7320 6e6f 7420 7265 745f 746f 6b65 6e73  s not ret_tokens
+00007f50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00007f60: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00007f70: 745f 746f 6b65 6e73 203d 2050 6172 7365  t_tokens = Parse
+00007f80: 5265 7375 6c74 7328 0a20 2020 2020 2020  Results(.       
+00007f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007fa0: 2020 2020 2020 2020 2074 6f6b 656e 732c           tokens,
+00007fb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007fd0: 2073 656c 662e 7265 7375 6c74 734e 616d   self.resultsNam
+00007fe0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00007ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008000: 2020 2061 734c 6973 743d 7365 6c66 2e73     asList=self.s
+00008010: 6176 6541 734c 6973 740a 2020 2020 2020  aveAsList.      
+00008020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008030: 2020 2020 2020 2020 2020 616e 6420 6973            and is
+00008040: 696e 7374 616e 6365 2874 6f6b 656e 732c  instance(tokens,
+00008050: 2028 5061 7273 6552 6573 756c 7473 2c20   (ParseResults, 
+00008060: 6c69 7374 2929 2c0a 2020 2020 2020 2020  list)),.        
+00008070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008080: 2020 2020 2020 2020 6d6f 6461 6c3d 7365          modal=se
+00008090: 6c66 2e6d 6f64 616c 5265 7375 6c74 732c  lf.modalResults,
+000080a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000080b0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+000080c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000080d0: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+000080e0: 6173 2065 7272 3a0a 2020 2020 2020 2020  as err:.        
+000080f0: 2020 2020 2020 2020 2020 2020 2320 7072              # pr
+00008100: 696e 7420 2245 7863 6570 7469 6f6e 2072  int "Exception r
+00008110: 6169 7365 6420 696e 2075 7365 7220 7061  aised in user pa
+00008120: 7273 6520 6163 7469 6f6e 3a22 2c20 6572  rse action:", er
+00008130: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
+00008140: 2020 2020 2020 6966 2073 656c 662e 6465        if self.de
+00008150: 6275 6741 6374 696f 6e73 2e64 6562 7567  bugActions.debug
+00008160: 5f66 6169 6c3a 0a20 2020 2020 2020 2020  _fail:.         
+00008170: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00008180: 656c 662e 6465 6275 6741 6374 696f 6e73  elf.debugActions
+00008190: 2e64 6562 7567 5f66 6169 6c28 0a20 2020  .debug_fail(.   
+000081a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000081b0: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
+000081c0: 672c 2074 6f6b 656e 735f 7374 6172 742c  g, tokens_start,
+000081d0: 2073 656c 662c 2065 7272 2c20 4661 6c73   self, err, Fals
+000081e0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+000081f0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+00008200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008210: 7261 6973 650a 2020 2020 2020 2020 2020  raise.          
+00008220: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00008230: 2020 2020 2020 2020 666f 7220 666e 2069          for fn i
+00008240: 6e20 7365 6c66 2e70 6172 7365 4163 7469  n self.parseActi
+00008250: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+00008260: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00008270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008280: 2020 2020 2074 6f6b 656e 7320 3d20 666e       tokens = fn
+00008290: 2869 6e73 7472 696e 672c 2074 6f6b 656e  (instring, token
+000082a0: 735f 7374 6172 742c 2072 6574 5f74 6f6b  s_start, ret_tok
+000082b0: 656e 7329 2020 2320 7479 7065 3a20 6967  ens)  # type: ig
+000082c0: 6e6f 7265 205b 6361 6c6c 2d61 7267 2c20  nore [call-arg, 
+000082d0: 6172 672d 7479 7065 5d0a 2020 2020 2020  arg-type].      
+000082e0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+000082f0: 6365 7074 2049 6e64 6578 4572 726f 7220  cept IndexError 
+00008300: 6173 2070 6172 7365 5f61 6374 696f 6e5f  as parse_action_
+00008310: 6578 633a 0a20 2020 2020 2020 2020 2020  exc:.           
+00008320: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+00008330: 203d 2050 6172 7365 4578 6365 7074 696f   = ParseExceptio
+00008340: 6e28 2265 7863 6570 7469 6f6e 2072 6169  n("exception rai
+00008350: 7365 6420 696e 2070 6172 7365 2061 6374  sed in parse act
+00008360: 696f 6e22 290a 2020 2020 2020 2020 2020  ion").          
+00008370: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+00008380: 6973 6520 6578 6320 6672 6f6d 2070 6172  ise exc from par
+00008390: 7365 5f61 6374 696f 6e5f 6578 630a 0a20  se_action_exc.. 
+000083a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000083b0: 2020 2069 6620 746f 6b65 6e73 2069 7320     if tokens is 
+000083c0: 6e6f 7420 4e6f 6e65 2061 6e64 2074 6f6b  not None and tok
+000083d0: 656e 7320 6973 206e 6f74 2072 6574 5f74  ens is not ret_t
+000083e0: 6f6b 656e 733a 0a20 2020 2020 2020 2020  okens:.         
+000083f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00008400: 6574 5f74 6f6b 656e 7320 3d20 5061 7273  et_tokens = Pars
+00008410: 6552 6573 756c 7473 280a 2020 2020 2020  eResults(.      
+00008420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008430: 2020 2020 2020 746f 6b65 6e73 2c0a 2020        tokens,.  
+00008440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008450: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+00008460: 6573 756c 7473 4e61 6d65 2c0a 2020 2020  esultsName,.    
+00008470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008480: 2020 2020 2020 2020 6173 4c69 7374 3d73          asList=s
+00008490: 656c 662e 7361 7665 4173 4c69 7374 0a20  elf.saveAsList. 
+000084a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000084b0: 2020 2020 2020 2020 2020 2061 6e64 2069             and i
+000084c0: 7369 6e73 7461 6e63 6528 746f 6b65 6e73  sinstance(tokens
+000084d0: 2c20 2850 6172 7365 5265 7375 6c74 732c  , (ParseResults,
+000084e0: 206c 6973 7429 292c 0a20 2020 2020 2020   list)),.       
+000084f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008500: 2020 2020 206d 6f64 616c 3d73 656c 662e       modal=self.
+00008510: 6d6f 6461 6c52 6573 756c 7473 2c0a 2020  modalResults,.  
+00008520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008530: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00008540: 6966 2064 6562 7567 6769 6e67 3a0a 2020  if debugging:.  
+00008550: 2020 2020 2020 2020 2020 2320 7072 696e            # prin
+00008560: 7428 224d 6174 6368 6564 222c 2073 656c  t("Matched", sel
+00008570: 662c 2022 2d3e 222c 2072 6574 5f74 6f6b  f, "->", ret_tok
+00008580: 656e 732e 6173 5f6c 6973 7428 2929 0a20  ens.as_list()). 
+00008590: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+000085a0: 6c66 2e64 6562 7567 4163 7469 6f6e 732e  lf.debugActions.
+000085b0: 6465 6275 675f 6d61 7463 683a 0a20 2020  debug_match:.   
+000085c0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+000085d0: 662e 6465 6275 6741 6374 696f 6e73 2e64  f.debugActions.d
+000085e0: 6562 7567 5f6d 6174 6368 280a 2020 2020  ebug_match(.    
+000085f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008600: 696e 7374 7269 6e67 2c20 746f 6b65 6e73  instring, tokens
+00008610: 5f73 7461 7274 2c20 6c6f 632c 2073 656c  _start, loc, sel
+00008620: 662c 2072 6574 5f74 6f6b 656e 732c 2046  f, ret_tokens, F
+00008630: 616c 7365 0a20 2020 2020 2020 2020 2020  alse.           
+00008640: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+00008650: 7265 7475 726e 206c 6f63 2c20 7265 745f  return loc, ret_
+00008660: 746f 6b65 6e73 0a0a 2020 2020 6465 6620  tokens..    def 
+00008670: 7472 795f 7061 7273 6528 0a20 2020 2020  try_parse(.     
+00008680: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00008690: 2069 6e73 7472 696e 673a 2073 7472 2c0a   instring: str,.
+000086a0: 2020 2020 2020 2020 6c6f 633a 2069 6e74          loc: int
+000086b0: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
+000086c0: 2020 2020 2072 6169 7365 5f66 6174 616c       raise_fatal
+000086d0: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
+000086e0: 2020 2020 2020 2020 646f 5f61 6374 696f          do_actio
+000086f0: 6e73 3a20 626f 6f6c 203d 2046 616c 7365  ns: bool = False
+00008700: 2c0a 2020 2020 2920 2d3e 2069 6e74 3a0a  ,.    ) -> int:.
+00008710: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00008720: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00008730: 7365 6c66 2e5f 7061 7273 6528 696e 7374  self._parse(inst
+00008740: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+00008750: 696f 6e73 3d64 6f5f 6163 7469 6f6e 7329  ions=do_actions)
+00008760: 5b30 5d0a 2020 2020 2020 2020 6578 6365  [0].        exce
+00008770: 7074 2050 6172 7365 4661 7461 6c45 7863  pt ParseFatalExc
+00008780: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
+00008790: 2020 2020 6966 2072 6169 7365 5f66 6174      if raise_fat
+000087a0: 616c 3a0a 2020 2020 2020 2020 2020 2020  al:.            
+000087b0: 2020 2020 7261 6973 650a 2020 2020 2020      raise.      
+000087c0: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+000087d0: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+000087e0: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+000087f0: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
+00008800: 2020 6465 6620 6361 6e5f 7061 7273 655f    def can_parse_
+00008810: 6e65 7874 2873 656c 662c 2069 6e73 7472  next(self, instr
+00008820: 696e 673a 2073 7472 2c20 6c6f 633a 2069  ing: str, loc: i
+00008830: 6e74 2c20 646f 5f61 6374 696f 6e73 3a20  nt, do_actions: 
+00008840: 626f 6f6c 203d 2046 616c 7365 2920 2d3e  bool = False) ->
+00008850: 2062 6f6f 6c3a 0a20 2020 2020 2020 2074   bool:.        t
+00008860: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00008870: 7365 6c66 2e74 7279 5f70 6172 7365 2869  self.try_parse(i
+00008880: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+00008890: 5f61 6374 696f 6e73 3d64 6f5f 6163 7469  _actions=do_acti
+000088a0: 6f6e 7329 0a20 2020 2020 2020 2065 7863  ons).        exc
+000088b0: 6570 7420 2850 6172 7365 4578 6365 7074  ept (ParseExcept
+000088c0: 696f 6e2c 2049 6e64 6578 4572 726f 7229  ion, IndexError)
+000088d0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000088e0: 7475 726e 2046 616c 7365 0a20 2020 2020  turn False.     
+000088f0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00008900: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
+00008910: 0a0a 2020 2020 2320 6361 6368 6520 666f  ..    # cache fo
+00008920: 7220 6c65 6674 2d72 6563 7572 7369 6f6e  r left-recursion
+00008930: 2069 6e20 466f 7277 6172 6420 7265 6665   in Forward refe
+00008940: 7265 6e63 6573 0a20 2020 2072 6563 7572  rences.    recur
+00008950: 7369 6f6e 5f6c 6f63 6b20 3d20 524c 6f63  sion_lock = RLoc
+00008960: 6b28 290a 2020 2020 7265 6375 7273 696f  k().    recursio
+00008970: 6e5f 6d65 6d6f 733a 2074 7970 696e 672e  n_memos: typing.
+00008980: 4469 6374 5b0a 2020 2020 2020 2020 5475  Dict[.        Tu
+00008990: 706c 655b 696e 742c 2022 466f 7277 6172  ple[int, "Forwar
+000089a0: 6422 2c20 626f 6f6c 5d2c 2054 7570 6c65  d", bool], Tuple
+000089b0: 5b69 6e74 2c20 556e 696f 6e5b 5061 7273  [int, Union[Pars
+000089c0: 6552 6573 756c 7473 2c20 4578 6365 7074  eResults, Except
+000089d0: 696f 6e5d 5d0a 2020 2020 5d20 3d20 7b7d  ion]].    ] = {}
+000089e0: 0a0a 2020 2020 636c 6173 7320 5f43 6163  ..    class _Cac
+000089f0: 6865 5479 7065 2864 6963 7429 3a0a 2020  heType(dict):.  
+00008a00: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00008a10: 2020 636c 6173 7320 746f 2068 656c 7020    class to help 
+00008a20: 7479 7065 2063 6865 636b 696e 670a 2020  type checking.  
+00008a30: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
+00008a40: 2020 206e 6f74 5f69 6e5f 6361 6368 653a     not_in_cache:
+00008a50: 2062 6f6f 6c0a 0a20 2020 2020 2020 2064   bool..        d
+00008a60: 6566 2067 6574 2873 656c 662c 202a 6172  ef get(self, *ar
+00008a70: 6773 293a 0a20 2020 2020 2020 2020 2020  gs):.           
+00008a80: 202e 2e2e 0a0a 2020 2020 2020 2020 6465   .....        de
+00008a90: 6620 7365 7428 7365 6c66 2c20 2a61 7267  f set(self, *arg
+00008aa0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+00008ab0: 2e2e 2e0a 0a20 2020 2023 2061 7267 756d  .....    # argum
+00008ac0: 656e 7420 6361 6368 6520 666f 7220 6f70  ent cache for op
+00008ad0: 7469 6d69 7a69 6e67 2072 6570 6561 7465  timizing repeate
+00008ae0: 6420 6361 6c6c 7320 7768 656e 2062 6163  d calls when bac
+00008af0: 6b74 7261 636b 696e 6720 7468 726f 7567  ktracking throug
+00008b00: 6820 7265 6375 7273 6976 6520 6578 7072  h recursive expr
+00008b10: 6573 7369 6f6e 730a 2020 2020 7061 636b  essions.    pack
+00008b20: 7261 745f 6361 6368 6520 3d20 280a 2020  rat_cache = (.  
+00008b30: 2020 2020 2020 5f43 6163 6865 5479 7065        _CacheType
+00008b40: 2829 0a20 2020 2029 2020 2320 7365 7420  ().    )  # set 
+00008b50: 6c61 7465 7220 6279 2065 6e61 626c 655f  later by enable_
+00008b60: 7061 636b 7261 7428 293b 2074 6869 7320  packrat(); this 
+00008b70: 6973 2068 6572 6520 736f 2074 6861 7420  is here so that 
+00008b80: 7265 7365 745f 6361 6368 6528 2920 646f  reset_cache() do
+00008b90: 6573 6e27 7420 6661 696c 0a20 2020 2070  esn't fail.    p
+00008ba0: 6163 6b72 6174 5f63 6163 6865 5f6c 6f63  ackrat_cache_loc
+00008bb0: 6b20 3d20 524c 6f63 6b28 290a 2020 2020  k = RLock().    
+00008bc0: 7061 636b 7261 745f 6361 6368 655f 7374  packrat_cache_st
+00008bd0: 6174 7320 3d20 5b30 2c20 305d 0a0a 2020  ats = [0, 0]..  
+00008be0: 2020 2320 7468 6973 206d 6574 686f 6420    # this method 
+00008bf0: 6765 7473 2072 6570 6561 7465 646c 7920  gets repeatedly 
+00008c00: 6361 6c6c 6564 2064 7572 696e 6720 6261  called during ba
+00008c10: 636b 7472 6163 6b69 6e67 2077 6974 6820  cktracking with 
+00008c20: 7468 6520 7361 6d65 2061 7267 756d 656e  the same argumen
+00008c30: 7473 202d 0a20 2020 2023 2077 6520 6361  ts -.    # we ca
+00008c40: 6e20 6361 6368 6520 7468 6573 6520 6172  n cache these ar
+00008c50: 6775 6d65 6e74 7320 616e 6420 7361 7665  guments and save
+00008c60: 206f 7572 7365 6c76 6573 2074 6865 2074   ourselves the t
+00008c70: 726f 7562 6c65 206f 6620 7265 2d70 6172  rouble of re-par
+00008c80: 7369 6e67 2074 6865 2063 6f6e 7461 696e  sing the contain
+00008c90: 6564 2065 7870 7265 7373 696f 6e0a 2020  ed expression.  
+00008ca0: 2020 6465 6620 5f70 6172 7365 4361 6368    def _parseCach
+00008cb0: 6528 0a20 2020 2020 2020 2073 656c 662c  e(.        self,
+00008cc0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00008cd0: 646f 4163 7469 6f6e 733d 5472 7565 2c20  doActions=True, 
+00008ce0: 6361 6c6c 5072 6550 6172 7365 3d54 7275  callPreParse=Tru
+00008cf0: 650a 2020 2020 2920 2d3e 2054 7570 6c65  e.    ) -> Tuple
+00008d00: 5b69 6e74 2c20 5061 7273 6552 6573 756c  [int, ParseResul
+00008d10: 7473 5d3a 0a20 2020 2020 2020 2048 4954  ts]:.        HIT
+00008d20: 2c20 4d49 5353 203d 2030 2c20 310a 2020  , MISS = 0, 1.  
+00008d30: 2020 2020 2020 5452 592c 204d 4154 4348        TRY, MATCH
+00008d40: 2c20 4641 494c 203d 2030 2c20 312c 2032  , FAIL = 0, 1, 2
+00008d50: 0a20 2020 2020 2020 206c 6f6f 6b75 7020  .        lookup 
+00008d60: 3d20 2873 656c 662c 2069 6e73 7472 696e  = (self, instrin
+00008d70: 672c 206c 6f63 2c20 6361 6c6c 5072 6550  g, loc, callPreP
+00008d80: 6172 7365 2c20 646f 4163 7469 6f6e 7329  arse, doActions)
+00008d90: 0a20 2020 2020 2020 2077 6974 6820 5061  .        with Pa
+00008da0: 7273 6572 456c 656d 656e 742e 7061 636b  rserElement.pack
+00008db0: 7261 745f 6361 6368 655f 6c6f 636b 3a0a  rat_cache_lock:.
+00008dc0: 2020 2020 2020 2020 2020 2020 6361 6368              cach
+00008dd0: 6520 3d20 5061 7273 6572 456c 656d 656e  e = ParserElemen
+00008de0: 742e 7061 636b 7261 745f 6361 6368 650a  t.packrat_cache.
+00008df0: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+00008e00: 6520 3d20 6361 6368 652e 6765 7428 6c6f  e = cache.get(lo
+00008e10: 6f6b 7570 290a 2020 2020 2020 2020 2020  okup).          
+00008e20: 2020 6966 2076 616c 7565 2069 7320 6361    if value is ca
+00008e30: 6368 652e 6e6f 745f 696e 5f63 6163 6865  che.not_in_cache
+00008e40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008e50: 2020 5061 7273 6572 456c 656d 656e 742e    ParserElement.
+00008e60: 7061 636b 7261 745f 6361 6368 655f 7374  packrat_cache_st
+00008e70: 6174 735b 4d49 5353 5d20 2b3d 2031 0a20  ats[MISS] += 1. 
+00008e80: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00008e90: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00008ea0: 2020 2020 2020 2020 7661 6c75 6520 3d20          value = 
+00008eb0: 7365 6c66 2e5f 7061 7273 654e 6f43 6163  self._parseNoCac
+00008ec0: 6865 2869 6e73 7472 696e 672c 206c 6f63  he(instring, loc
+00008ed0: 2c20 646f 4163 7469 6f6e 732c 2063 616c  , doActions, cal
+00008ee0: 6c50 7265 5061 7273 6529 0a20 2020 2020  lPreParse).     
+00008ef0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00008f00: 7420 5061 7273 6542 6173 6545 7863 6570  t ParseBaseExcep
+00008f10: 7469 6f6e 2061 7320 7065 3a0a 2020 2020  tion as pe:.    
+00008f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f30: 2320 6361 6368 6520 6120 636f 7079 206f  # cache a copy o
+00008f40: 6620 7468 6520 6578 6365 7074 696f 6e2c  f the exception,
+00008f50: 2077 6974 686f 7574 2074 6865 2074 7261   without the tra
+00008f60: 6365 6261 636b 0a20 2020 2020 2020 2020  ceback.         
+00008f70: 2020 2020 2020 2020 2020 2063 6163 6865             cache
+00008f80: 2e73 6574 286c 6f6f 6b75 702c 2070 652e  .set(lookup, pe.
+00008f90: 5f5f 636c 6173 735f 5f28 2a70 652e 6172  __class__(*pe.ar
+00008fa0: 6773 2929 0a20 2020 2020 2020 2020 2020  gs)).           
+00008fb0: 2020 2020 2020 2020 2072 6169 7365 0a20           raise. 
+00008fc0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00008fd0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00008fe0: 2020 2020 2020 2020 2063 6163 6865 2e73           cache.s
+00008ff0: 6574 286c 6f6f 6b75 702c 2028 7661 6c75  et(lookup, (valu
+00009000: 655b 305d 2c20 7661 6c75 655b 315d 2e63  e[0], value[1].c
+00009010: 6f70 7928 292c 206c 6f63 2929 0a20 2020  opy(), loc)).   
 00009020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009030: 2020 2020 2073 656c 662e 6465 6275 6741       self.debugA
-00009040: 6374 696f 6e73 2e64 6562 7567 5f74 7279  ctions.debug_try
-00009050: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-00009060: 7365 6c66 2c20 6361 6368 655f 6869 743d  self, cache_hit=
-00009070: 5472 7565 2920 2023 2074 7970 653a 2069  True)  # type: i
-00009080: 676e 6f72 6520 5b63 616c 6c2d 6172 675d  gnore [call-arg]
-00009090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000090a0: 2020 2020 2065 7863 6570 7420 5479 7065       except Type
-000090b0: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
-000090c0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-000090d0: 6173 730a 2020 2020 2020 2020 2020 2020  ass.            
-000090e0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-000090f0: 6528 7661 6c75 652c 2045 7863 6570 7469  e(value, Excepti
-00009100: 6f6e 293a 0a20 2020 2020 2020 2020 2020  on):.           
-00009110: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-00009120: 2e64 6562 7567 2061 6e64 2073 656c 662e  .debug and self.
-00009130: 6465 6275 6741 6374 696f 6e73 2e64 6562  debugActions.deb
-00009140: 7567 5f66 6169 6c3a 0a20 2020 2020 2020  ug_fail:.       
-00009150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009160: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-00009170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009180: 2020 7365 6c66 2e64 6562 7567 4163 7469    self.debugActi
-00009190: 6f6e 732e 6465 6275 675f 6661 696c 280a  ons.debug_fail(.
-000091a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000091b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000091c0: 696e 7374 7269 6e67 2c20 6c6f 632c 2073  instring, loc, s
-000091d0: 656c 662c 2076 616c 7565 2c20 6361 6368  elf, value, cach
-000091e0: 655f 6869 743d 5472 7565 2020 2320 7479  e_hit=True  # ty
-000091f0: 7065 3a20 6967 6e6f 7265 205b 6361 6c6c  pe: ignore [call
-00009200: 2d61 7267 5d0a 2020 2020 2020 2020 2020  -arg].          
+00009030: 2072 6574 7572 6e20 7661 6c75 650a 2020   return value.  
+00009040: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00009050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009060: 5061 7273 6572 456c 656d 656e 742e 7061  ParserElement.pa
+00009070: 636b 7261 745f 6361 6368 655f 7374 6174  ckrat_cache_stat
+00009080: 735b 4849 545d 202b 3d20 310a 2020 2020  s[HIT] += 1.    
+00009090: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+000090a0: 656c 662e 6465 6275 6720 616e 6420 7365  elf.debug and se
+000090b0: 6c66 2e64 6562 7567 4163 7469 6f6e 732e  lf.debugActions.
+000090c0: 6465 6275 675f 7472 793a 0a20 2020 2020  debug_try:.     
+000090d0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+000090e0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+000090f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00009100: 2e64 6562 7567 4163 7469 6f6e 732e 6465  .debugActions.de
+00009110: 6275 675f 7472 7928 696e 7374 7269 6e67  bug_try(instring
+00009120: 2c20 6c6f 632c 2073 656c 662c 2063 6163  , loc, self, cac
+00009130: 6865 5f68 6974 3d54 7275 6529 2020 2320  he_hit=True)  # 
+00009140: 7479 7065 3a20 6967 6e6f 7265 205b 6361  type: ignore [ca
+00009150: 6c6c 2d61 7267 5d0a 2020 2020 2020 2020  ll-arg].        
+00009160: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00009170: 7074 2054 7970 6545 7272 6f72 3a0a 2020  pt TypeError:.  
+00009180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009190: 2020 2020 2020 7061 7373 0a20 2020 2020        pass.     
+000091a0: 2020 2020 2020 2020 2020 2069 6620 6973             if is
+000091b0: 696e 7374 616e 6365 2876 616c 7565 2c20  instance(value, 
+000091c0: 4578 6365 7074 696f 6e29 3a0a 2020 2020  Exception):.    
+000091d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000091e0: 6966 2073 656c 662e 6465 6275 6720 616e  if self.debug an
+000091f0: 6420 7365 6c66 2e64 6562 7567 4163 7469  d self.debugActi
+00009200: 6f6e 732e 6465 6275 675f 6661 696c 3a0a  ons.debug_fail:.
 00009210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009220: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-00009230: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00009240: 7074 2054 7970 6545 7272 6f72 3a0a 2020  pt TypeError:.  
-00009250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009260: 2020 2020 2020 2020 2020 7061 7373 0a20            pass. 
+00009220: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00009230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009240: 2020 2020 2020 2020 2073 656c 662e 6465           self.de
+00009250: 6275 6741 6374 696f 6e73 2e64 6562 7567  bugActions.debug
+00009260: 5f66 6169 6c28 0a20 2020 2020 2020 2020  _fail(.         
 00009270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009280: 2020 2072 6169 7365 2076 616c 7565 0a0a     raise value..
-00009290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000092a0: 7661 6c75 6520 3d20 6361 7374 2854 7570  value = cast(Tup
-000092b0: 6c65 5b69 6e74 2c20 5061 7273 6552 6573  le[int, ParseRes
-000092c0: 756c 7473 2c20 696e 745d 2c20 7661 6c75  ults, int], valu
-000092d0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-000092e0: 2020 206c 6f63 5f2c 2072 6573 756c 742c     loc_, result,
-000092f0: 2065 6e64 6c6f 6320 3d20 7661 6c75 655b   endloc = value[
-00009300: 305d 2c20 7661 6c75 655b 315d 2e63 6f70  0], value[1].cop
-00009310: 7928 292c 2076 616c 7565 5b32 5d0a 2020  y(), value[2].  
-00009320: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00009330: 2073 656c 662e 6465 6275 6720 616e 6420   self.debug and 
-00009340: 7365 6c66 2e64 6562 7567 4163 7469 6f6e  self.debugAction
-00009350: 732e 6465 6275 675f 6d61 7463 683a 0a20  s.debug_match:. 
-00009360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009370: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00009380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009390: 7365 6c66 2e64 6562 7567 4163 7469 6f6e  self.debugAction
-000093a0: 732e 6465 6275 675f 6d61 7463 6828 0a20  s.debug_match(. 
-000093b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000093c0: 2020 2020 2020 2020 2020 2069 6e73 7472             instr
-000093d0: 696e 672c 206c 6f63 5f2c 2065 6e64 6c6f  ing, loc_, endlo
-000093e0: 632c 2073 656c 662c 2072 6573 756c 742c  c, self, result,
-000093f0: 2063 6163 6865 5f68 6974 3d54 7275 6520   cache_hit=True 
-00009400: 2023 2074 7970 653a 2069 676e 6f72 6520   # type: ignore 
-00009410: 5b63 616c 6c2d 6172 675d 0a20 2020 2020  [call-arg].     
-00009420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009430: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00009440: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-00009450: 5479 7065 4572 726f 723a 0a20 2020 2020  TypeError:.     
-00009460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009470: 2020 2070 6173 730a 0a20 2020 2020 2020     pass..       
-00009480: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00009490: 6c6f 635f 2c20 7265 7375 6c74 0a0a 2020  loc_, result..  
-000094a0: 2020 5f70 6172 7365 203d 205f 7061 7273    _parse = _pars
-000094b0: 654e 6f43 6163 6865 0a0a 2020 2020 4073  eNoCache..    @s
-000094c0: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
-000094d0: 6465 6620 7265 7365 745f 6361 6368 6528  def reset_cache(
-000094e0: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
-000094f0: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
-00009500: 2e70 6163 6b72 6174 5f63 6163 6865 2e63  .packrat_cache.c
-00009510: 6c65 6172 2829 0a20 2020 2020 2020 2050  lear().        P
-00009520: 6172 7365 7245 6c65 6d65 6e74 2e70 6163  arserElement.pac
-00009530: 6b72 6174 5f63 6163 6865 5f73 7461 7473  krat_cache_stats
-00009540: 5b3a 5d20 3d20 5b30 5d20 2a20 6c65 6e28  [:] = [0] * len(
-00009550: 0a20 2020 2020 2020 2020 2020 2050 6172  .            Par
-00009560: 7365 7245 6c65 6d65 6e74 2e70 6163 6b72  serElement.packr
-00009570: 6174 5f63 6163 6865 5f73 7461 7473 0a20  at_cache_stats. 
-00009580: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00009590: 2050 6172 7365 7245 6c65 6d65 6e74 2e72   ParserElement.r
-000095a0: 6563 7572 7369 6f6e 5f6d 656d 6f73 2e63  ecursion_memos.c
-000095b0: 6c65 6172 2829 0a0a 2020 2020 5f70 6163  lear()..    _pac
-000095c0: 6b72 6174 456e 6162 6c65 6420 3d20 4661  kratEnabled = Fa
-000095d0: 6c73 650a 2020 2020 5f6c 6566 745f 7265  lse.    _left_re
-000095e0: 6375 7273 696f 6e5f 656e 6162 6c65 6420  cursion_enabled 
-000095f0: 3d20 4661 6c73 650a 0a20 2020 2040 7374  = False..    @st
-00009600: 6174 6963 6d65 7468 6f64 0a20 2020 2064  aticmethod.    d
-00009610: 6566 2064 6973 6162 6c65 5f6d 656d 6f69  ef disable_memoi
-00009620: 7a61 7469 6f6e 2829 202d 3e20 4e6f 6e65  zation() -> None
-00009630: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00009640: 2020 2020 2020 4469 7361 626c 6573 2061        Disables a
-00009650: 6374 6976 6520 5061 636b 7261 7420 6f72  ctive Packrat or
-00009660: 204c 6566 7420 5265 6375 7273 696f 6e20   Left Recursion 
-00009670: 7061 7273 696e 6720 616e 6420 7468 6569  parsing and thei
-00009680: 7220 6d65 6d6f 697a 6174 696f 6e0a 0a20  r memoization.. 
-00009690: 2020 2020 2020 2054 6869 7320 6d65 7468         This meth
-000096a0: 6f64 2061 6c73 6f20 776f 726b 7320 6966  od also works if
-000096b0: 206e 6569 7468 6572 2050 6163 6b72 6174   neither Packrat
-000096c0: 206e 6f72 204c 6566 7420 5265 6375 7273   nor Left Recurs
-000096d0: 696f 6e20 6172 6520 656e 6162 6c65 642e  ion are enabled.
-000096e0: 0a20 2020 2020 2020 2054 6869 7320 6d61  .        This ma
-000096f0: 6b65 7320 6974 2073 6166 6520 746f 2063  kes it safe to c
-00009700: 616c 6c20 6265 666f 7265 2061 6374 6976  all before activ
-00009710: 6174 696e 6720 5061 636b 7261 7420 6e6f  ating Packrat no
-00009720: 7220 4c65 6674 2052 6563 7572 7369 6f6e  r Left Recursion
-00009730: 0a20 2020 2020 2020 2074 6f20 636c 6561  .        to clea
-00009740: 7220 616e 7920 7072 6576 696f 7573 2073  r any previous s
-00009750: 6574 7469 6e67 732e 0a20 2020 2020 2020  ettings..       
-00009760: 2022 2222 0a20 2020 2020 2020 2050 6172   """.        Par
-00009770: 7365 7245 6c65 6d65 6e74 2e72 6573 6574  serElement.reset
-00009780: 5f63 6163 6865 2829 0a20 2020 2020 2020  _cache().       
-00009790: 2050 6172 7365 7245 6c65 6d65 6e74 2e5f   ParserElement._
-000097a0: 6c65 6674 5f72 6563 7572 7369 6f6e 5f65  left_recursion_e
-000097b0: 6e61 626c 6564 203d 2046 616c 7365 0a20  nabled = False. 
-000097c0: 2020 2020 2020 2050 6172 7365 7245 6c65         ParserEle
-000097d0: 6d65 6e74 2e5f 7061 636b 7261 7445 6e61  ment._packratEna
-000097e0: 626c 6564 203d 2046 616c 7365 0a20 2020  bled = False.   
-000097f0: 2020 2020 2050 6172 7365 7245 6c65 6d65       ParserEleme
-00009800: 6e74 2e5f 7061 7273 6520 3d20 5061 7273  nt._parse = Pars
-00009810: 6572 456c 656d 656e 742e 5f70 6172 7365  erElement._parse
-00009820: 4e6f 4361 6368 650a 0a20 2020 2040 7374  NoCache..    @st
-00009830: 6174 6963 6d65 7468 6f64 0a20 2020 2064  aticmethod.    d
-00009840: 6566 2065 6e61 626c 655f 6c65 6674 5f72  ef enable_left_r
-00009850: 6563 7572 7369 6f6e 280a 2020 2020 2020  ecursion(.      
-00009860: 2020 6361 6368 655f 7369 7a65 5f6c 696d    cache_size_lim
-00009870: 6974 3a20 7479 7069 6e67 2e4f 7074 696f  it: typing.Optio
-00009880: 6e61 6c5b 696e 745d 203d 204e 6f6e 652c  nal[int] = None,
-00009890: 202a 2c20 666f 7263 653d 4661 6c73 650a   *, force=False.
-000098a0: 2020 2020 2920 2d3e 204e 6f6e 653a 0a20      ) -> None:. 
-000098b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000098c0: 2020 2045 6e61 626c 6573 2022 626f 756e     Enables "boun
-000098d0: 6465 6420 7265 6375 7273 696f 6e22 2070  ded recursion" p
-000098e0: 6172 7369 6e67 2c20 7768 6963 6820 616c  arsing, which al
-000098f0: 6c6f 7773 2066 6f72 2062 6f74 6820 6469  lows for both di
-00009900: 7265 6374 2061 6e64 2069 6e64 6972 6563  rect and indirec
-00009910: 740a 2020 2020 2020 2020 6c65 6674 2d72  t.        left-r
-00009920: 6563 7572 7369 6f6e 2e20 4475 7269 6e67  ecursion. During
-00009930: 2070 6172 7369 6e67 2c20 6c65 6674 2d72   parsing, left-r
-00009940: 6563 7572 7369 7665 203a 636c 6173 733a  ecursive :class:
-00009950: 6046 6f72 7761 7264 6020 656c 656d 656e  `Forward` elemen
-00009960: 7473 2061 7265 0a20 2020 2020 2020 2072  ts are.        r
-00009970: 6570 6561 7465 646c 7920 6d61 7463 6865  epeatedly matche
-00009980: 6420 7769 7468 2061 2066 6978 6564 2072  d with a fixed r
-00009990: 6563 7572 7369 6f6e 2064 6570 7468 2074  ecursion depth t
-000099a0: 6861 7420 6973 2067 7261 6475 616c 6c79  hat is gradually
-000099b0: 2069 6e63 7265 6173 6564 0a20 2020 2020   increased.     
-000099c0: 2020 2075 6e74 696c 2066 696e 6469 6e67     until finding
-000099d0: 2074 6865 206c 6f6e 6765 7374 206d 6174   the longest mat
-000099e0: 6368 2e0a 0a20 2020 2020 2020 2045 7861  ch...        Exa
-000099f0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
-00009a00: 2020 2020 696d 706f 7274 2070 7970 6172      import pypar
-00009a10: 7369 6e67 2061 7320 7070 0a20 2020 2020  sing as pp.     
-00009a20: 2020 2020 2020 2070 702e 5061 7273 6572         pp.Parser
-00009a30: 456c 656d 656e 742e 656e 6162 6c65 5f6c  Element.enable_l
-00009a40: 6566 745f 7265 6375 7273 696f 6e28 290a  eft_recursion().
-00009a50: 0a20 2020 2020 2020 2020 2020 2045 203d  .            E =
-00009a60: 2070 702e 466f 7277 6172 6428 2245 2229   pp.Forward("E")
-00009a70: 0a20 2020 2020 2020 2020 2020 206e 756d  .            num
-00009a80: 203d 2070 702e 576f 7264 2870 702e 6e75   = pp.Word(pp.nu
-00009a90: 6d73 290a 2020 2020 2020 2020 2020 2020  ms).            
-00009aa0: 2320 6d61 7463 6820 606e 756d 602c 206f  # match `num`, o
-00009ab0: 7220 606e 756d 2027 2b27 206e 756d 602c  r `num '+' num`,
-00009ac0: 206f 7220 606e 756d 2027 2b27 206e 756d   or `num '+' num
-00009ad0: 2027 2b27 206e 756d 602c 202e 2e2e 0a20   '+' num`, .... 
-00009ae0: 2020 2020 2020 2020 2020 2045 203c 3c3d             E <<=
-00009af0: 2045 202b 2027 2b27 202d 206e 756d 207c   E + '+' - num |
-00009b00: 206e 756d 0a0a 2020 2020 2020 2020 2020   num..          
-00009b10: 2020 7072 696e 7428 452e 7061 7273 655f    print(E.parse_
-00009b20: 7374 7269 6e67 2822 312b 322b 3322 2929  string("1+2+3"))
-00009b30: 0a0a 2020 2020 2020 2020 5265 6375 7273  ..        Recurs
-00009b40: 696f 6e20 7365 6172 6368 206e 6174 7572  ion search natur
-00009b50: 616c 6c79 206d 656d 6f69 7a65 7320 6d61  ally memoizes ma
-00009b60: 7463 6865 7320 6f66 2060 6046 6f72 7761  tches of ``Forwa
-00009b70: 7264 6060 2065 6c65 6d65 6e74 7320 616e  rd`` elements an
-00009b80: 6420 6d61 790a 2020 2020 2020 2020 7468  d may.        th
-00009b90: 7573 2073 6b69 7020 7265 6576 616c 7561  us skip reevalua
-00009ba0: 7469 6f6e 206f 6620 7061 7273 6520 6163  tion of parse ac
-00009bb0: 7469 6f6e 7320 6475 7269 6e67 2062 6163  tions during bac
-00009bc0: 6b74 7261 636b 696e 672e 2054 6869 7320  ktracking. This 
-00009bd0: 6d61 7920 6272 6561 6b0a 2020 2020 2020  may break.      
-00009be0: 2020 7072 6f67 7261 6d73 2077 6974 6820    programs with 
-00009bf0: 7061 7273 6520 6163 7469 6f6e 7320 7768  parse actions wh
-00009c00: 6963 6820 7265 6c79 206f 6e20 7374 7269  ich rely on stri
-00009c10: 6374 206f 7264 6572 696e 6720 6f66 2073  ct ordering of s
-00009c20: 6964 652d 6566 6665 6374 732e 0a0a 2020  ide-effects...  
-00009c30: 2020 2020 2020 5061 7261 6d65 7465 7273        Parameters
-00009c40: 3a0a 0a20 2020 2020 2020 202d 2060 6063  :..        - ``c
-00009c50: 6163 6865 5f73 697a 655f 6c69 6d69 7460  ache_size_limit`
-00009c60: 6020 2d20 2864 6566 6175 6c74 3d60 604e  ` - (default=``N
-00009c70: 6f6e 6560 6029 202d 206d 656d 6f69 7a65  one``) - memoize
-00009c80: 2061 7420 6d6f 7374 2074 6869 7320 6d61   at most this ma
-00009c90: 6e79 0a20 2020 2020 2020 2020 2060 6046  ny.          ``F
-00009ca0: 6f72 7761 7264 6060 2065 6c65 6d65 6e74  orward`` element
-00009cb0: 7320 6475 7269 6e67 206d 6174 6368 696e  s during matchin
-00009cc0: 673b 2069 6620 6060 4e6f 6e65 6060 2028  g; if ``None`` (
-00009cd0: 7468 6520 6465 6661 756c 7429 2c0a 2020  the default),.  
-00009ce0: 2020 2020 2020 2020 6d65 6d6f 697a 6520          memoize 
-00009cf0: 616c 6c20 6060 466f 7277 6172 6460 6020  all ``Forward`` 
-00009d00: 656c 656d 656e 7473 2e0a 0a20 2020 2020  elements...     
-00009d10: 2020 2042 6f75 6e64 6564 2052 6563 7572     Bounded Recur
-00009d20: 7369 6f6e 2070 6172 7369 6e67 2077 6f72  sion parsing wor
-00009d30: 6b73 2073 696d 696c 6172 2062 7574 206e  ks similar but n
-00009d40: 6f74 2069 6465 6e74 6963 616c 2074 6f20  ot identical to 
-00009d50: 5061 636b 7261 7420 7061 7273 696e 672c  Packrat parsing,
-00009d60: 0a20 2020 2020 2020 2074 6875 7320 7468  .        thus th
-00009d70: 6520 7477 6f20 6361 6e6e 6f74 2062 6520  e two cannot be 
-00009d80: 7573 6564 2074 6f67 6574 6865 722e 2055  used together. U
-00009d90: 7365 2060 6066 6f72 6365 3d54 7275 6560  se ``force=True`
-00009da0: 6020 746f 2064 6973 6162 6c65 2061 6e79  ` to disable any
-00009db0: 0a20 2020 2020 2020 2070 7265 7669 6f75  .        previou
-00009dc0: 732c 2063 6f6e 666c 6963 7469 6e67 2073  s, conflicting s
-00009dd0: 6574 7469 6e67 732e 0a20 2020 2020 2020  ettings..       
-00009de0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-00009df0: 666f 7263 653a 0a20 2020 2020 2020 2020  force:.         
-00009e00: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
-00009e10: 2e64 6973 6162 6c65 5f6d 656d 6f69 7a61  .disable_memoiza
-00009e20: 7469 6f6e 2829 0a20 2020 2020 2020 2065  tion().        e
-00009e30: 6c69 6620 5061 7273 6572 456c 656d 656e  lif ParserElemen
-00009e40: 742e 5f70 6163 6b72 6174 456e 6162 6c65  t._packratEnable
-00009e50: 643a 0a20 2020 2020 2020 2020 2020 2072  d:.            r
-00009e60: 6169 7365 2052 756e 7469 6d65 4572 726f  aise RuntimeErro
-00009e70: 7228 2250 6163 6b72 6174 2061 6e64 2042  r("Packrat and B
-00009e80: 6f75 6e64 6564 2052 6563 7572 7369 6f6e  ounded Recursion
-00009e90: 2061 7265 206e 6f74 2063 6f6d 7061 7469   are not compati
-00009ea0: 626c 6522 290a 2020 2020 2020 2020 6966  ble").        if
-00009eb0: 2063 6163 6865 5f73 697a 655f 6c69 6d69   cache_size_limi
-00009ec0: 7420 6973 204e 6f6e 653a 0a20 2020 2020  t is None:.     
-00009ed0: 2020 2020 2020 2050 6172 7365 7245 6c65         ParserEle
-00009ee0: 6d65 6e74 2e72 6563 7572 7369 6f6e 5f6d  ment.recursion_m
-00009ef0: 656d 6f73 203d 205f 556e 626f 756e 6465  emos = _Unbounde
-00009f00: 644d 656d 6f28 2920 2023 2074 7970 653a  dMemo()  # type:
-00009f10: 2069 676e 6f72 655b 6173 7369 676e 6d65   ignore[assignme
-00009f20: 6e74 5d0a 2020 2020 2020 2020 656c 6966  nt].        elif
-00009f30: 2063 6163 6865 5f73 697a 655f 6c69 6d69   cache_size_limi
-00009f40: 7420 3e20 303a 0a20 2020 2020 2020 2020  t > 0:.         
-00009f50: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
-00009f60: 2e72 6563 7572 7369 6f6e 5f6d 656d 6f73  .recursion_memos
-00009f70: 203d 205f 4c52 554d 656d 6f28 6361 7061   = _LRUMemo(capa
-00009f80: 6369 7479 3d63 6163 6865 5f73 697a 655f  city=cache_size_
-00009f90: 6c69 6d69 7429 2020 2320 7479 7065 3a20  limit)  # type: 
-00009fa0: 6967 6e6f 7265 5b61 7373 6967 6e6d 656e  ignore[assignmen
-00009fb0: 745d 0a20 2020 2020 2020 2065 6c73 653a  t].        else:
-00009fc0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00009fd0: 7365 204e 6f74 496d 706c 656d 656e 7465  se NotImplemente
-00009fe0: 6445 7272 6f72 2822 4d65 6d6f 2073 697a  dError("Memo siz
-00009ff0: 6520 6f66 2025 7322 2025 2063 6163 6865  e of %s" % cache
-0000a000: 5f73 697a 655f 6c69 6d69 7429 0a20 2020  _size_limit).   
-0000a010: 2020 2020 2050 6172 7365 7245 6c65 6d65       ParserEleme
-0000a020: 6e74 2e5f 6c65 6674 5f72 6563 7572 7369  nt._left_recursi
-0000a030: 6f6e 5f65 6e61 626c 6564 203d 2054 7275  on_enabled = Tru
-0000a040: 650a 0a20 2020 2040 7374 6174 6963 6d65  e..    @staticme
-0000a050: 7468 6f64 0a20 2020 2064 6566 2065 6e61  thod.    def ena
-0000a060: 626c 655f 7061 636b 7261 7428 6361 6368  ble_packrat(cach
-0000a070: 655f 7369 7a65 5f6c 696d 6974 3a20 696e  e_size_limit: in
-0000a080: 7420 3d20 3132 382c 202a 2c20 666f 7263  t = 128, *, forc
-0000a090: 653a 2062 6f6f 6c20 3d20 4661 6c73 6529  e: bool = False)
-0000a0a0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
-0000a0b0: 2020 2222 220a 2020 2020 2020 2020 456e    """.        En
-0000a0c0: 6162 6c65 7320 2270 6163 6b72 6174 2220  ables "packrat" 
-0000a0d0: 7061 7273 696e 672c 2077 6869 6368 2061  parsing, which a
-0000a0e0: 6464 7320 6d65 6d6f 697a 696e 6720 746f  dds memoizing to
-0000a0f0: 2074 6865 2070 6172 7369 6e67 206c 6f67   the parsing log
-0000a100: 6963 2e0a 2020 2020 2020 2020 5265 7065  ic..        Repe
-0000a110: 6174 6564 2070 6172 7365 2061 7474 656d  ated parse attem
-0000a120: 7074 7320 6174 2074 6865 2073 616d 6520  pts at the same 
-0000a130: 7374 7269 6e67 206c 6f63 6174 696f 6e20  string location 
-0000a140: 2877 6869 6368 2068 6170 7065 6e73 0a20  (which happens. 
-0000a150: 2020 2020 2020 206f 6674 656e 2069 6e20         often in 
-0000a160: 6d61 6e79 2063 6f6d 706c 6578 2067 7261  many complex gra
-0000a170: 6d6d 6172 7329 2063 616e 2069 6d6d 6564  mmars) can immed
-0000a180: 6961 7465 6c79 2072 6574 7572 6e20 6120  iately return a 
-0000a190: 6361 6368 6564 2076 616c 7565 2c0a 2020  cached value,.  
-0000a1a0: 2020 2020 2020 696e 7374 6561 6420 6f66        instead of
-0000a1b0: 2072 652d 6578 6563 7574 696e 6720 7061   re-executing pa
-0000a1c0: 7273 696e 672f 7661 6c69 6461 7469 6e67  rsing/validating
-0000a1d0: 2063 6f64 652e 2020 4d65 6d6f 697a 696e   code.  Memoizin
-0000a1e0: 6720 6973 2064 6f6e 6520 6f66 0a20 2020  g is done of.   
-0000a1f0: 2020 2020 2062 6f74 6820 7661 6c69 6420       both valid 
-0000a200: 7265 7375 6c74 7320 616e 6420 7061 7273  results and pars
-0000a210: 696e 6720 6578 6365 7074 696f 6e73 2e0a  ing exceptions..
-0000a220: 0a20 2020 2020 2020 2050 6172 616d 6574  .        Paramet
-0000a230: 6572 733a 0a0a 2020 2020 2020 2020 2d20  ers:..        - 
-0000a240: 6060 6361 6368 655f 7369 7a65 5f6c 696d  ``cache_size_lim
-0000a250: 6974 6060 202d 2028 6465 6661 756c 743d  it`` - (default=
-0000a260: 2060 6031 3238 6060 2920 2d20 6966 2061   ``128``) - if a
-0000a270: 6e20 696e 7465 6765 7220 7661 6c75 6520  n integer value 
-0000a280: 6973 2070 726f 7669 6465 640a 2020 2020  is provided.    
-0000a290: 2020 2020 2020 7769 6c6c 206c 696d 6974        will limit
-0000a2a0: 2074 6865 2073 697a 6520 6f66 2074 6865   the size of the
-0000a2b0: 2070 6163 6b72 6174 2063 6163 6865 3b20   packrat cache; 
-0000a2c0: 6966 204e 6f6e 6520 6973 2070 6173 7365  if None is passe
-0000a2d0: 642c 2074 6865 6e0a 2020 2020 2020 2020  d, then.        
-0000a2e0: 2020 7468 6520 6361 6368 6520 7369 7a65    the cache size
-0000a2f0: 2077 696c 6c20 6265 2075 6e62 6f75 6e64   will be unbound
-0000a300: 6564 3b20 6966 2030 2069 7320 7061 7373  ed; if 0 is pass
-0000a310: 6564 2c20 7468 6520 6361 6368 6520 7769  ed, the cache wi
-0000a320: 6c6c 0a20 2020 2020 2020 2020 2062 6520  ll.          be 
-0000a330: 6566 6665 6374 6976 656c 7920 6469 7361  effectively disa
-0000a340: 626c 6564 2e0a 0a20 2020 2020 2020 2054  bled...        T
-0000a350: 6869 7320 7370 6565 6475 7020 6d61 7920  his speedup may 
-0000a360: 6272 6561 6b20 6578 6973 7469 6e67 2070  break existing p
-0000a370: 726f 6772 616d 7320 7468 6174 2075 7365  rograms that use
-0000a380: 2070 6172 7365 2061 6374 696f 6e73 2074   parse actions t
-0000a390: 6861 740a 2020 2020 2020 2020 6861 7665  hat.        have
-0000a3a0: 2073 6964 652d 6566 6665 6374 732e 2020   side-effects.  
-0000a3b0: 466f 7220 7468 6973 2072 6561 736f 6e2c  For this reason,
-0000a3c0: 2070 6163 6b72 6174 2070 6172 7369 6e67   packrat parsing
-0000a3d0: 2069 7320 6469 7361 626c 6564 2077 6865   is disabled whe
-0000a3e0: 6e0a 2020 2020 2020 2020 796f 7520 6669  n.        you fi
-0000a3f0: 7273 7420 696d 706f 7274 2070 7970 6172  rst import pypar
-0000a400: 7369 6e67 2e20 2054 6f20 6163 7469 7661  sing.  To activa
-0000a410: 7465 2074 6865 2070 6163 6b72 6174 2066  te the packrat f
-0000a420: 6561 7475 7265 2c20 796f 7572 0a20 2020  eature, your.   
-0000a430: 2020 2020 2070 726f 6772 616d 206d 7573       program mus
-0000a440: 7420 6361 6c6c 2074 6865 2063 6c61 7373  t call the class
-0000a450: 206d 6574 686f 6420 3a63 6c61 7373 3a60   method :class:`
-0000a460: 5061 7273 6572 456c 656d 656e 742e 656e  ParserElement.en
-0000a470: 6162 6c65 5f70 6163 6b72 6174 602e 0a20  able_packrat`.. 
-0000a480: 2020 2020 2020 2046 6f72 2062 6573 7420         For best 
-0000a490: 7265 7375 6c74 732c 2063 616c 6c20 6060  results, call ``
-0000a4a0: 656e 6162 6c65 5f70 6163 6b72 6174 2829  enable_packrat()
-0000a4b0: 6060 2069 6d6d 6564 6961 7465 6c79 2061  `` immediately a
-0000a4c0: 6674 6572 0a20 2020 2020 2020 2069 6d70  fter.        imp
-0000a4d0: 6f72 7469 6e67 2070 7970 6172 7369 6e67  orting pyparsing
-0000a4e0: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
-0000a4f0: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
-0000a500: 2020 696d 706f 7274 2070 7970 6172 7369    import pyparsi
-0000a510: 6e67 0a20 2020 2020 2020 2020 2020 2070  ng.            p
-0000a520: 7970 6172 7369 6e67 2e50 6172 7365 7245  yparsing.ParserE
-0000a530: 6c65 6d65 6e74 2e65 6e61 626c 655f 7061  lement.enable_pa
-0000a540: 636b 7261 7428 290a 0a20 2020 2020 2020  ckrat()..       
-0000a550: 2050 6163 6b72 6174 2070 6172 7369 6e67   Packrat parsing
-0000a560: 2077 6f72 6b73 2073 696d 696c 6172 2062   works similar b
-0000a570: 7574 206e 6f74 2069 6465 6e74 6963 616c  ut not identical
-0000a580: 2074 6f20 426f 756e 6465 6420 5265 6375   to Bounded Recu
-0000a590: 7273 696f 6e20 7061 7273 696e 672c 0a20  rsion parsing,. 
-0000a5a0: 2020 2020 2020 2074 6875 7320 7468 6520         thus the 
-0000a5b0: 7477 6f20 6361 6e6e 6f74 2062 6520 7573  two cannot be us
-0000a5c0: 6564 2074 6f67 6574 6865 722e 2055 7365  ed together. Use
-0000a5d0: 2060 6066 6f72 6365 3d54 7275 6560 6020   ``force=True`` 
-0000a5e0: 746f 2064 6973 6162 6c65 2061 6e79 0a20  to disable any. 
-0000a5f0: 2020 2020 2020 2070 7265 7669 6f75 732c         previous,
-0000a600: 2063 6f6e 666c 6963 7469 6e67 2073 6574   conflicting set
-0000a610: 7469 6e67 732e 0a20 2020 2020 2020 2022  tings..        "
-0000a620: 2222 0a20 2020 2020 2020 2069 6620 666f  "".        if fo
-0000a630: 7263 653a 0a20 2020 2020 2020 2020 2020  rce:.           
-0000a640: 2050 6172 7365 7245 6c65 6d65 6e74 2e64   ParserElement.d
-0000a650: 6973 6162 6c65 5f6d 656d 6f69 7a61 7469  isable_memoizati
-0000a660: 6f6e 2829 0a20 2020 2020 2020 2065 6c69  on().        eli
-0000a670: 6620 5061 7273 6572 456c 656d 656e 742e  f ParserElement.
-0000a680: 5f6c 6566 745f 7265 6375 7273 696f 6e5f  _left_recursion_
-0000a690: 656e 6162 6c65 643a 0a20 2020 2020 2020  enabled:.       
-0000a6a0: 2020 2020 2072 6169 7365 2052 756e 7469       raise Runti
-0000a6b0: 6d65 4572 726f 7228 2250 6163 6b72 6174  meError("Packrat
-0000a6c0: 2061 6e64 2042 6f75 6e64 6564 2052 6563   and Bounded Rec
-0000a6d0: 7572 7369 6f6e 2061 7265 206e 6f74 2063  ursion are not c
-0000a6e0: 6f6d 7061 7469 626c 6522 290a 2020 2020  ompatible").    
-0000a6f0: 2020 2020 6966 206e 6f74 2050 6172 7365      if not Parse
-0000a700: 7245 6c65 6d65 6e74 2e5f 7061 636b 7261  rElement._packra
-0000a710: 7445 6e61 626c 6564 3a0a 2020 2020 2020  tEnabled:.      
-0000a720: 2020 2020 2020 5061 7273 6572 456c 656d        ParserElem
-0000a730: 656e 742e 5f70 6163 6b72 6174 456e 6162  ent._packratEnab
-0000a740: 6c65 6420 3d20 5472 7565 0a20 2020 2020  led = True.     
-0000a750: 2020 2020 2020 2069 6620 6361 6368 655f         if cache_
-0000a760: 7369 7a65 5f6c 696d 6974 2069 7320 4e6f  size_limit is No
-0000a770: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0000a780: 2020 2020 5061 7273 6572 456c 656d 656e      ParserElemen
-0000a790: 742e 7061 636b 7261 745f 6361 6368 6520  t.packrat_cache 
-0000a7a0: 3d20 5f55 6e62 6f75 6e64 6564 4361 6368  = _UnboundedCach
-0000a7b0: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-0000a7c0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0000a7d0: 2020 2020 2020 5061 7273 6572 456c 656d        ParserElem
-0000a7e0: 656e 742e 7061 636b 7261 745f 6361 6368  ent.packrat_cach
-0000a7f0: 6520 3d20 5f46 6966 6f43 6163 6865 2863  e = _FifoCache(c
-0000a800: 6163 6865 5f73 697a 655f 6c69 6d69 7429  ache_size_limit)
-0000a810: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
-0000a820: 5b61 7373 6967 6e6d 656e 745d 0a20 2020  [assignment].   
-0000a830: 2020 2020 2020 2020 2050 6172 7365 7245           ParserE
-0000a840: 6c65 6d65 6e74 2e5f 7061 7273 6520 3d20  lement._parse = 
-0000a850: 5061 7273 6572 456c 656d 656e 742e 5f70  ParserElement._p
-0000a860: 6172 7365 4361 6368 650a 0a20 2020 2064  arseCache..    d
-0000a870: 6566 2070 6172 7365 5f73 7472 696e 6728  ef parse_string(
-0000a880: 0a20 2020 2020 2020 2073 656c 662c 2069  .        self, i
-0000a890: 6e73 7472 696e 673a 2073 7472 2c20 7061  nstring: str, pa
-0000a8a0: 7273 655f 616c 6c3a 2062 6f6f 6c20 3d20  rse_all: bool = 
-0000a8b0: 4661 6c73 652c 202a 2c20 7061 7273 6541  False, *, parseA
-0000a8c0: 6c6c 3a20 626f 6f6c 203d 2046 616c 7365  ll: bool = False
-0000a8d0: 0a20 2020 2029 202d 3e20 5061 7273 6552  .    ) -> ParseR
-0000a8e0: 6573 756c 7473 3a0a 2020 2020 2020 2020  esults:.        
-0000a8f0: 2222 220a 2020 2020 2020 2020 5061 7273  """.        Pars
-0000a900: 6520 6120 7374 7269 6e67 2077 6974 6820  e a string with 
-0000a910: 7265 7370 6563 7420 746f 2074 6865 2070  respect to the p
-0000a920: 6172 7365 7220 6465 6669 6e69 7469 6f6e  arser definition
-0000a930: 2e20 5468 6973 2066 756e 6374 696f 6e20  . This function 
-0000a940: 6973 2069 6e74 656e 6465 6420 6173 2074  is intended as t
-0000a950: 6865 2070 7269 6d61 7279 2069 6e74 6572  he primary inter
-0000a960: 6661 6365 2074 6f20 7468 650a 2020 2020  face to the.    
-0000a970: 2020 2020 636c 6965 6e74 2063 6f64 652e      client code.
-0000a980: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-0000a990: 2069 6e73 7472 696e 673a 2054 6865 2069   instring: The i
-0000a9a0: 6e70 7574 2073 7472 696e 6720 746f 2062  nput string to b
-0000a9b0: 6520 7061 7273 6564 2e0a 2020 2020 2020  e parsed..      
-0000a9c0: 2020 3a70 6172 616d 2070 6172 7365 5f61    :param parse_a
-0000a9d0: 6c6c 3a20 4966 2073 6574 2c20 7468 6520  ll: If set, the 
-0000a9e0: 656e 7469 7265 2069 6e70 7574 2073 7472  entire input str
-0000a9f0: 696e 6720 6d75 7374 206d 6174 6368 2074  ing must match t
-0000aa00: 6865 2067 7261 6d6d 6172 2e0a 2020 2020  he grammar..    
-0000aa10: 2020 2020 3a70 6172 616d 2070 6172 7365      :param parse
-0000aa20: 416c 6c3a 2072 6574 6169 6e65 6420 666f  All: retained fo
-0000aa30: 7220 7072 652d 5045 5038 2063 6f6d 7061  r pre-PEP8 compa
-0000aa40: 7469 6269 6c69 7479 2c20 7769 6c6c 2062  tibility, will b
-0000aa50: 6520 7265 6d6f 7665 6420 696e 2061 2066  e removed in a f
-0000aa60: 7574 7572 6520 7265 6c65 6173 652e 0a20  uture release.. 
-0000aa70: 2020 2020 2020 203a 7261 6973 6573 2050         :raises P
-0000aa80: 6172 7365 4578 6365 7074 696f 6e3a 2052  arseException: R
-0000aa90: 6169 7365 6420 6966 2060 6070 6172 7365  aised if ``parse
-0000aaa0: 5f61 6c6c 6060 2069 7320 7365 7420 616e  _all`` is set an
-0000aab0: 6420 7468 6520 696e 7075 7420 7374 7269  d the input stri
-0000aac0: 6e67 2064 6f65 7320 6e6f 7420 6d61 7463  ng does not matc
-0000aad0: 6820 7468 6520 7768 6f6c 6520 6772 616d  h the whole gram
-0000aae0: 6d61 722e 0a20 2020 2020 2020 203a 7265  mar..        :re
-0000aaf0: 7475 726e 733a 2074 6865 2070 6172 7365  turns: the parse
-0000ab00: 6420 6461 7461 2061 7320 6120 3a63 6c61  d data as a :cla
-0000ab10: 7373 3a60 5061 7273 6552 6573 756c 7473  ss:`ParseResults
-0000ab20: 6020 6f62 6a65 6374 2c20 7768 6963 6820  ` object, which 
-0000ab30: 6d61 7920 6265 2061 6363 6573 7365 6420  may be accessed 
-0000ab40: 6173 2061 2060 6c69 7374 602c 2061 2060  as a `list`, a `
-0000ab50: 6469 6374 602c 206f 720a 2020 2020 2020  dict`, or.      
-0000ab60: 2020 2020 616e 206f 626a 6563 7420 7769      an object wi
-0000ab70: 7468 2061 7474 7269 6275 7465 7320 6966  th attributes if
-0000ab80: 2074 6865 2067 6976 656e 2070 6172 7365   the given parse
-0000ab90: 7220 696e 636c 7564 6573 2072 6573 756c  r includes resul
-0000aba0: 7473 206e 616d 6573 2e0a 0a20 2020 2020  ts names...     
-0000abb0: 2020 2049 6620 7468 6520 696e 7075 7420     If the input 
-0000abc0: 7374 7269 6e67 2069 7320 7265 7175 6972  string is requir
-0000abd0: 6564 2074 6f20 6d61 7463 6820 7468 6520  ed to match the 
-0000abe0: 656e 7469 7265 2067 7261 6d6d 6172 2c20  entire grammar, 
-0000abf0: 6060 7061 7273 655f 616c 6c60 6020 666c  ``parse_all`` fl
-0000ac00: 6167 206d 7573 7420 6265 2073 6574 2074  ag must be set t
-0000ac10: 6f20 6060 5472 7565 6060 2e20 5468 6973  o ``True``. This
-0000ac20: 0a20 2020 2020 2020 2069 7320 616c 736f  .        is also
-0000ac30: 2065 7175 6976 616c 656e 7420 746f 2065   equivalent to e
-0000ac40: 6e64 696e 6720 7468 6520 6772 616d 6d61  nding the gramma
-0000ac50: 7220 7769 7468 203a 636c 6173 733a 6053  r with :class:`S
-0000ac60: 7472 696e 6745 6e64 605c 5c20 2829 2e0a  tringEnd`\\ ()..
-0000ac70: 0a20 2020 2020 2020 2054 6f20 7265 706f  .        To repo
-0000ac80: 7274 2070 726f 7065 7220 636f 6c75 6d6e  rt proper column
-0000ac90: 206e 756d 6265 7273 2c20 6060 7061 7273   numbers, ``pars
-0000aca0: 655f 7374 7269 6e67 6060 206f 7065 7261  e_string`` opera
-0000acb0: 7465 7320 6f6e 2061 2063 6f70 7920 6f66  tes on a copy of
-0000acc0: 2074 6865 2069 6e70 7574 2073 7472 696e   the input strin
-0000acd0: 6720 7768 6572 6520 616c 6c20 7461 6273  g where all tabs
-0000ace0: 2061 7265 0a20 2020 2020 2020 2063 6f6e   are.        con
-0000acf0: 7665 7274 6564 2074 6f20 7370 6163 6573  verted to spaces
-0000ad00: 2028 3820 7370 6163 6573 2070 6572 2074   (8 spaces per t
-0000ad10: 6162 2c20 6173 2070 6572 2074 6865 2064  ab, as per the d
-0000ad20: 6566 6175 6c74 2069 6e20 6060 7374 7269  efault in ``stri
-0000ad30: 6e67 2e65 7870 616e 6474 6162 7360 6029  ng.expandtabs``)
-0000ad40: 2e20 4966 2074 6865 2069 6e70 7574 2073  . If the input s
-0000ad50: 7472 696e 670a 2020 2020 2020 2020 636f  tring.        co
-0000ad60: 6e74 6169 6e73 2074 6162 7320 616e 6420  ntains tabs and 
-0000ad70: 7468 6520 6772 616d 6d61 7220 7573 6573  the grammar uses
-0000ad80: 2070 6172 7365 2061 6374 696f 6e73 2074   parse actions t
-0000ad90: 6861 7420 7573 6520 7468 6520 6060 6c6f  hat use the ``lo
-0000ada0: 6360 6020 6172 6775 6d65 6e74 2074 6f20  c`` argument to 
-0000adb0: 696e 6465 7820 696e 746f 2074 6865 2073  index into the s
-0000adc0: 7472 696e 670a 2020 2020 2020 2020 6265  tring.        be
-0000add0: 696e 6720 7061 7273 6564 2c20 6f6e 6520  ing parsed, one 
-0000ade0: 6361 6e20 656e 7375 7265 2061 2063 6f6e  can ensure a con
-0000adf0: 7369 7374 656e 7420 7669 6577 206f 6620  sistent view of 
-0000ae00: 7468 6520 696e 7075 7420 7374 7269 6e67  the input string
-0000ae10: 2062 7920 646f 696e 6720 6f6e 6520 6f66   by doing one of
-0000ae20: 2074 6865 2066 6f6c 6c6f 7769 6e67 3a0a   the following:.
-0000ae30: 0a20 2020 2020 2020 202d 2063 616c 6c69  .        - calli
-0000ae40: 6e67 2060 6070 6172 7365 5f77 6974 685f  ng ``parse_with_
-0000ae50: 7461 6273 6060 206f 6e20 796f 7572 2067  tabs`` on your g
-0000ae60: 7261 6d6d 6172 2062 6566 6f72 6520 6361  rammar before ca
-0000ae70: 6c6c 696e 6720 6060 7061 7273 655f 7374  lling ``parse_st
-0000ae80: 7269 6e67 6060 2028 7365 6520 3a63 6c61  ring`` (see :cla
-0000ae90: 7373 3a60 7061 7273 655f 7769 7468 5f74  ss:`parse_with_t
-0000aea0: 6162 7360 292c 0a20 2020 2020 2020 202d  abs`),.        -
-0000aeb0: 2064 6566 696e 6520 796f 7572 2070 6172   define your par
-0000aec0: 7365 2061 6374 696f 6e20 7573 696e 6720  se action using 
-0000aed0: 7468 6520 6675 6c6c 2060 6028 732c 6c6f  the full ``(s,lo
-0000aee0: 632c 746f 6b73 2960 6020 7369 676e 6174  c,toks)`` signat
-0000aef0: 7572 652c 2061 6e64 2072 6566 6572 656e  ure, and referen
-0000af00: 6365 2074 6865 2069 6e70 7574 2073 7472  ce the input str
-0000af10: 696e 6720 7573 696e 6720 7468 650a 2020  ing using the.  
-0000af20: 2020 2020 2020 2020 7061 7273 6520 6163          parse ac
-0000af30: 7469 6f6e 2773 2060 6073 6060 2061 7267  tion's ``s`` arg
-0000af40: 756d 656e 742c 206f 720a 2020 2020 2020  ument, or.      
-0000af50: 2020 2d20 6578 706c 6963 6974 6c79 2065    - explicitly e
-0000af60: 7870 616e 6420 7468 6520 7461 6273 2069  xpand the tabs i
-0000af70: 6e20 796f 7572 2069 6e70 7574 2073 7472  n your input str
-0000af80: 696e 6720 6265 666f 7265 2063 616c 6c69  ing before calli
-0000af90: 6e67 2060 6070 6172 7365 5f73 7472 696e  ng ``parse_strin
-0000afa0: 6760 602e 0a0a 2020 2020 2020 2020 4578  g``...        Ex
-0000afb0: 616d 706c 6573 3a0a 0a20 2020 2020 2020  amples:..       
-0000afc0: 2042 7920 6465 6661 756c 742c 2070 6172   By default, par
-0000afd0: 7469 616c 206d 6174 6368 6573 2061 7265  tial matches are
-0000afe0: 204f 4b2e 0a0a 2020 2020 2020 2020 3e3e   OK...        >>
-0000aff0: 3e20 7265 7320 3d20 576f 7264 2827 6127  > res = Word('a'
-0000b000: 292e 7061 7273 655f 7374 7269 6e67 2827  ).parse_string('
-0000b010: 6161 6161 6162 6161 6127 290a 2020 2020  aaaaabaaa').    
-0000b020: 2020 2020 3e3e 3e20 7072 696e 7428 7265      >>> print(re
-0000b030: 7329 0a20 2020 2020 2020 205b 2761 6161  s).        ['aaa
-0000b040: 6161 275d 0a0a 2020 2020 2020 2020 5468  aa']..        Th
-0000b050: 6520 7061 7273 696e 6720 6265 6861 7669  e parsing behavi
-0000b060: 6f72 2076 6172 6965 7320 6279 2074 6865  or varies by the
-0000b070: 2069 6e68 6572 6974 696e 6720 636c 6173   inheriting clas
-0000b080: 7320 6f66 2074 6869 7320 6162 7374 7261  s of this abstra
-0000b090: 6374 2063 6c61 7373 2e20 506c 6561 7365  ct class. Please
-0000b0a0: 2072 6566 6572 2074 6f20 7468 6520 6368   refer to the ch
-0000b0b0: 696c 6472 656e 0a20 2020 2020 2020 2064  ildren.        d
-0000b0c0: 6972 6563 746c 7920 746f 2073 6565 206d  irectly to see m
-0000b0d0: 6f72 6520 6578 616d 706c 6573 2e0a 0a20  ore examples... 
-0000b0e0: 2020 2020 2020 2049 7420 7261 6973 6573         It raises
-0000b0f0: 2061 6e20 6578 6365 7074 696f 6e20 6966   an exception if
-0000b100: 2070 6172 7365 5f61 6c6c 2066 6c61 6720   parse_all flag 
-0000b110: 6973 2073 6574 2061 6e64 2069 6e73 7472  is set and instr
-0000b120: 696e 6720 646f 6573 206e 6f74 206d 6174  ing does not mat
-0000b130: 6368 2074 6865 2077 686f 6c65 2067 7261  ch the whole gra
-0000b140: 6d6d 6172 2e0a 0a20 2020 2020 2020 203e  mmar...        >
-0000b150: 3e3e 2072 6573 203d 2057 6f72 6428 2761  >> res = Word('a
-0000b160: 2729 2e70 6172 7365 5f73 7472 696e 6728  ').parse_string(
-0000b170: 2761 6161 6161 6261 6161 272c 2070 6172  'aaaaabaaa', par
-0000b180: 7365 5f61 6c6c 3d54 7275 6529 0a20 2020  se_all=True).   
-0000b190: 2020 2020 2054 7261 6365 6261 636b 2028       Traceback (
-0000b1a0: 6d6f 7374 2072 6563 656e 7420 6361 6c6c  most recent call
-0000b1b0: 206c 6173 7429 3a0a 2020 2020 2020 2020   last):.        
-0000b1c0: 2e2e 2e0a 2020 2020 2020 2020 7079 7061  ....        pypa
-0000b1d0: 7273 696e 672e 5061 7273 6545 7863 6570  rsing.ParseExcep
-0000b1e0: 7469 6f6e 3a20 4578 7065 6374 6564 2065  tion: Expected e
-0000b1f0: 6e64 206f 6620 7465 7874 2c20 666f 756e  nd of text, foun
-0000b200: 6420 2762 2720 2028 6174 2063 6861 7220  d 'b'  (at char 
-0000b210: 3529 2c20 286c 696e 653a 312c 2063 6f6c  5), (line:1, col
-0000b220: 3a36 290a 2020 2020 2020 2020 2222 220a  :6).        """.
-0000b230: 2020 2020 2020 2020 7061 7273 6541 6c6c          parseAll
-0000b240: 203d 2070 6172 7365 5f61 6c6c 206f 7220   = parse_all or 
-0000b250: 7061 7273 6541 6c6c 0a0a 2020 2020 2020  parseAll..      
-0000b260: 2020 5061 7273 6572 456c 656d 656e 742e    ParserElement.
-0000b270: 7265 7365 745f 6361 6368 6528 290a 2020  reset_cache().  
-0000b280: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
-0000b290: 662e 7374 7265 616d 6c69 6e65 643a 0a20  f.streamlined:. 
-0000b2a0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000b2b0: 7374 7265 616d 6c69 6e65 2829 0a20 2020  streamline().   
-0000b2c0: 2020 2020 2066 6f72 2065 2069 6e20 7365       for e in se
-0000b2d0: 6c66 2e69 676e 6f72 6545 7870 7273 3a0a  lf.ignoreExprs:.
-0000b2e0: 2020 2020 2020 2020 2020 2020 652e 7374              e.st
-0000b2f0: 7265 616d 6c69 6e65 2829 0a20 2020 2020  reamline().     
-0000b300: 2020 2069 6620 6e6f 7420 7365 6c66 2e6b     if not self.k
-0000b310: 6565 7054 6162 733a 0a20 2020 2020 2020  eepTabs:.       
-0000b320: 2020 2020 2069 6e73 7472 696e 6720 3d20       instring = 
-0000b330: 696e 7374 7269 6e67 2e65 7870 616e 6474  instring.expandt
-0000b340: 6162 7328 290a 2020 2020 2020 2020 7472  abs().        tr
-0000b350: 793a 0a20 2020 2020 2020 2020 2020 206c  y:.            l
-0000b360: 6f63 2c20 746f 6b65 6e73 203d 2073 656c  oc, tokens = sel
-0000b370: 662e 5f70 6172 7365 2869 6e73 7472 696e  f._parse(instrin
-0000b380: 672c 2030 290a 2020 2020 2020 2020 2020  g, 0).          
-0000b390: 2020 6966 2070 6172 7365 416c 6c3a 0a20    if parseAll:. 
-0000b3a0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0000b3b0: 6f63 203d 2073 656c 662e 7072 6550 6172  oc = self.prePar
-0000b3c0: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
-0000b3d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000b3e0: 2020 7365 203d 2045 6d70 7479 2829 202b    se = Empty() +
-0000b3f0: 2053 7472 696e 6745 6e64 2829 0a20 2020   StringEnd().   
-0000b400: 2020 2020 2020 2020 2020 2020 2073 652e               se.
-0000b410: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
-0000b420: 206c 6f63 290a 2020 2020 2020 2020 6578   loc).        ex
-0000b430: 6365 7074 2050 6172 7365 4261 7365 4578  cept ParseBaseEx
-0000b440: 6365 7074 696f 6e20 6173 2065 7863 3a0a  ception as exc:.
-0000b450: 2020 2020 2020 2020 2020 2020 6966 2050              if P
-0000b460: 6172 7365 7245 6c65 6d65 6e74 2e76 6572  arserElement.ver
-0000b470: 626f 7365 5f73 7461 636b 7472 6163 653a  bose_stacktrace:
+00009280: 2020 2020 2020 2069 6e73 7472 696e 672c         instring,
+00009290: 206c 6f63 2c20 7365 6c66 2c20 7661 6c75   loc, self, valu
+000092a0: 652c 2063 6163 6865 5f68 6974 3d54 7275  e, cache_hit=Tru
+000092b0: 6520 2023 2074 7970 653a 2069 676e 6f72  e  # type: ignor
+000092c0: 6520 5b63 616c 6c2d 6172 675d 0a20 2020  e [call-arg].   
+000092d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000092e0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+000092f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009300: 2020 2065 7863 6570 7420 5479 7065 4572     except TypeEr
+00009310: 726f 723a 0a20 2020 2020 2020 2020 2020  ror:.           
+00009320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009330: 2070 6173 730a 2020 2020 2020 2020 2020   pass.          
+00009340: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00009350: 7661 6c75 650a 0a20 2020 2020 2020 2020  value..         
+00009360: 2020 2020 2020 2076 616c 7565 203d 2063         value = c
+00009370: 6173 7428 5475 706c 655b 696e 742c 2050  ast(Tuple[int, P
+00009380: 6172 7365 5265 7375 6c74 732c 2069 6e74  arseResults, int
+00009390: 5d2c 2076 616c 7565 290a 2020 2020 2020  ], value).      
+000093a0: 2020 2020 2020 2020 2020 6c6f 635f 2c20            loc_, 
+000093b0: 7265 7375 6c74 2c20 656e 646c 6f63 203d  result, endloc =
+000093c0: 2076 616c 7565 5b30 5d2c 2076 616c 7565   value[0], value
+000093d0: 5b31 5d2e 636f 7079 2829 2c20 7661 6c75  [1].copy(), valu
+000093e0: 655b 325d 0a20 2020 2020 2020 2020 2020  e[2].           
+000093f0: 2020 2020 2069 6620 7365 6c66 2e64 6562       if self.deb
+00009400: 7567 2061 6e64 2073 656c 662e 6465 6275  ug and self.debu
+00009410: 6741 6374 696f 6e73 2e64 6562 7567 5f6d  gActions.debug_m
+00009420: 6174 6368 3a0a 2020 2020 2020 2020 2020  atch:.          
+00009430: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+00009440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009450: 2020 2020 2020 2073 656c 662e 6465 6275         self.debu
+00009460: 6741 6374 696f 6e73 2e64 6562 7567 5f6d  gActions.debug_m
+00009470: 6174 6368 280a 2020 2020 2020 2020 2020  atch(.          
+00009480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009490: 2020 696e 7374 7269 6e67 2c20 6c6f 635f    instring, loc_
+000094a0: 2c20 656e 646c 6f63 2c20 7365 6c66 2c20  , endloc, self, 
+000094b0: 7265 7375 6c74 2c20 6361 6368 655f 6869  result, cache_hi
+000094c0: 743d 5472 7565 2020 2320 7479 7065 3a20  t=True  # type: 
+000094d0: 6967 6e6f 7265 205b 6361 6c6c 2d61 7267  ignore [call-arg
+000094e0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+000094f0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+00009500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009510: 6578 6365 7074 2054 7970 6545 7272 6f72  except TypeError
+00009520: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00009530: 2020 2020 2020 2020 2020 7061 7373 0a0a            pass..
+00009540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009550: 7265 7475 726e 206c 6f63 5f2c 2072 6573  return loc_, res
+00009560: 756c 740a 0a20 2020 205f 7061 7273 6520  ult..    _parse 
+00009570: 3d20 5f70 6172 7365 4e6f 4361 6368 650a  = _parseNoCache.
+00009580: 0a20 2020 2040 7374 6174 6963 6d65 7468  .    @staticmeth
+00009590: 6f64 0a20 2020 2064 6566 2072 6573 6574  od.    def reset
+000095a0: 5f63 6163 6865 2829 202d 3e20 4e6f 6e65  _cache() -> None
+000095b0: 3a0a 2020 2020 2020 2020 5061 7273 6572  :.        Parser
+000095c0: 456c 656d 656e 742e 7061 636b 7261 745f  Element.packrat_
+000095d0: 6361 6368 652e 636c 6561 7228 290a 2020  cache.clear().  
+000095e0: 2020 2020 2020 5061 7273 6572 456c 656d        ParserElem
+000095f0: 656e 742e 7061 636b 7261 745f 6361 6368  ent.packrat_cach
+00009600: 655f 7374 6174 735b 3a5d 203d 205b 305d  e_stats[:] = [0]
+00009610: 202a 206c 656e 280a 2020 2020 2020 2020   * len(.        
+00009620: 2020 2020 5061 7273 6572 456c 656d 656e      ParserElemen
+00009630: 742e 7061 636b 7261 745f 6361 6368 655f  t.packrat_cache_
+00009640: 7374 6174 730a 2020 2020 2020 2020 290a  stats.        ).
+00009650: 2020 2020 2020 2020 5061 7273 6572 456c          ParserEl
+00009660: 656d 656e 742e 7265 6375 7273 696f 6e5f  ement.recursion_
+00009670: 6d65 6d6f 732e 636c 6561 7228 290a 0a20  memos.clear().. 
+00009680: 2020 205f 7061 636b 7261 7445 6e61 626c     _packratEnabl
+00009690: 6564 203d 2046 616c 7365 0a20 2020 205f  ed = False.    _
+000096a0: 6c65 6674 5f72 6563 7572 7369 6f6e 5f65  left_recursion_e
+000096b0: 6e61 626c 6564 203d 2046 616c 7365 0a0a  nabled = False..
+000096c0: 2020 2020 4073 7461 7469 636d 6574 686f      @staticmetho
+000096d0: 640a 2020 2020 6465 6620 6469 7361 626c  d.    def disabl
+000096e0: 655f 6d65 6d6f 697a 6174 696f 6e28 2920  e_memoization() 
+000096f0: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
+00009700: 2022 2222 0a20 2020 2020 2020 2044 6973   """.        Dis
+00009710: 6162 6c65 7320 6163 7469 7665 2050 6163  ables active Pac
+00009720: 6b72 6174 206f 7220 4c65 6674 2052 6563  krat or Left Rec
+00009730: 7572 7369 6f6e 2070 6172 7369 6e67 2061  ursion parsing a
+00009740: 6e64 2074 6865 6972 206d 656d 6f69 7a61  nd their memoiza
+00009750: 7469 6f6e 0a0a 2020 2020 2020 2020 5468  tion..        Th
+00009760: 6973 206d 6574 686f 6420 616c 736f 2077  is method also w
+00009770: 6f72 6b73 2069 6620 6e65 6974 6865 7220  orks if neither 
+00009780: 5061 636b 7261 7420 6e6f 7220 4c65 6674  Packrat nor Left
+00009790: 2052 6563 7572 7369 6f6e 2061 7265 2065   Recursion are e
+000097a0: 6e61 626c 6564 2e0a 2020 2020 2020 2020  nabled..        
+000097b0: 5468 6973 206d 616b 6573 2069 7420 7361  This makes it sa
+000097c0: 6665 2074 6f20 6361 6c6c 2062 6566 6f72  fe to call befor
+000097d0: 6520 6163 7469 7661 7469 6e67 2050 6163  e activating Pac
+000097e0: 6b72 6174 206e 6f72 204c 6566 7420 5265  krat nor Left Re
+000097f0: 6375 7273 696f 6e0a 2020 2020 2020 2020  cursion.        
+00009800: 746f 2063 6c65 6172 2061 6e79 2070 7265  to clear any pre
+00009810: 7669 6f75 7320 7365 7474 696e 6773 2e0a  vious settings..
+00009820: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00009830: 2020 2020 5061 7273 6572 456c 656d 656e      ParserElemen
+00009840: 742e 7265 7365 745f 6361 6368 6528 290a  t.reset_cache().
+00009850: 2020 2020 2020 2020 5061 7273 6572 456c          ParserEl
+00009860: 656d 656e 742e 5f6c 6566 745f 7265 6375  ement._left_recu
+00009870: 7273 696f 6e5f 656e 6162 6c65 6420 3d20  rsion_enabled = 
+00009880: 4661 6c73 650a 2020 2020 2020 2020 5061  False.        Pa
+00009890: 7273 6572 456c 656d 656e 742e 5f70 6163  rserElement._pac
+000098a0: 6b72 6174 456e 6162 6c65 6420 3d20 4661  kratEnabled = Fa
+000098b0: 6c73 650a 2020 2020 2020 2020 5061 7273  lse.        Pars
+000098c0: 6572 456c 656d 656e 742e 5f70 6172 7365  erElement._parse
+000098d0: 203d 2050 6172 7365 7245 6c65 6d65 6e74   = ParserElement
+000098e0: 2e5f 7061 7273 654e 6f43 6163 6865 0a0a  ._parseNoCache..
+000098f0: 2020 2020 4073 7461 7469 636d 6574 686f      @staticmetho
+00009900: 640a 2020 2020 6465 6620 656e 6162 6c65  d.    def enable
+00009910: 5f6c 6566 745f 7265 6375 7273 696f 6e28  _left_recursion(
+00009920: 0a20 2020 2020 2020 2063 6163 6865 5f73  .        cache_s
+00009930: 697a 655f 6c69 6d69 743a 2074 7970 696e  ize_limit: typin
+00009940: 672e 4f70 7469 6f6e 616c 5b69 6e74 5d20  g.Optional[int] 
+00009950: 3d20 4e6f 6e65 2c20 2a2c 2066 6f72 6365  = None, *, force
+00009960: 3d46 616c 7365 0a20 2020 2029 202d 3e20  =False.    ) -> 
+00009970: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
+00009980: 220a 2020 2020 2020 2020 456e 6162 6c65  ".        Enable
+00009990: 7320 2262 6f75 6e64 6564 2072 6563 7572  s "bounded recur
+000099a0: 7369 6f6e 2220 7061 7273 696e 672c 2077  sion" parsing, w
+000099b0: 6869 6368 2061 6c6c 6f77 7320 666f 7220  hich allows for 
+000099c0: 626f 7468 2064 6972 6563 7420 616e 6420  both direct and 
+000099d0: 696e 6469 7265 6374 0a20 2020 2020 2020  indirect.       
+000099e0: 206c 6566 742d 7265 6375 7273 696f 6e2e   left-recursion.
+000099f0: 2044 7572 696e 6720 7061 7273 696e 672c   During parsing,
+00009a00: 206c 6566 742d 7265 6375 7273 6976 6520   left-recursive 
+00009a10: 3a63 6c61 7373 3a60 466f 7277 6172 6460  :class:`Forward`
+00009a20: 2065 6c65 6d65 6e74 7320 6172 650a 2020   elements are.  
+00009a30: 2020 2020 2020 7265 7065 6174 6564 6c79        repeatedly
+00009a40: 206d 6174 6368 6564 2077 6974 6820 6120   matched with a 
+00009a50: 6669 7865 6420 7265 6375 7273 696f 6e20  fixed recursion 
+00009a60: 6465 7074 6820 7468 6174 2069 7320 6772  depth that is gr
+00009a70: 6164 7561 6c6c 7920 696e 6372 6561 7365  adually increase
+00009a80: 640a 2020 2020 2020 2020 756e 7469 6c20  d.        until 
+00009a90: 6669 6e64 696e 6720 7468 6520 6c6f 6e67  finding the long
+00009aa0: 6573 7420 6d61 7463 682e 0a0a 2020 2020  est match...    
+00009ab0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+00009ac0: 2020 2020 2020 2020 2020 2069 6d70 6f72             impor
+00009ad0: 7420 7079 7061 7273 696e 6720 6173 2070  t pyparsing as p
+00009ae0: 700a 2020 2020 2020 2020 2020 2020 7070  p.            pp
+00009af0: 2e50 6172 7365 7245 6c65 6d65 6e74 2e65  .ParserElement.e
+00009b00: 6e61 626c 655f 6c65 6674 5f72 6563 7572  nable_left_recur
+00009b10: 7369 6f6e 2829 0a0a 2020 2020 2020 2020  sion()..        
+00009b20: 2020 2020 4520 3d20 7070 2e46 6f72 7761      E = pp.Forwa
+00009b30: 7264 2822 4522 290a 2020 2020 2020 2020  rd("E").        
+00009b40: 2020 2020 6e75 6d20 3d20 7070 2e57 6f72      num = pp.Wor
+00009b50: 6428 7070 2e6e 756d 7329 0a20 2020 2020  d(pp.nums).     
+00009b60: 2020 2020 2020 2023 206d 6174 6368 2060         # match `
+00009b70: 6e75 6d60 2c20 6f72 2060 6e75 6d20 272b  num`, or `num '+
+00009b80: 2720 6e75 6d60 2c20 6f72 2060 6e75 6d20  ' num`, or `num 
+00009b90: 272b 2720 6e75 6d20 272b 2720 6e75 6d60  '+' num '+' num`
+00009ba0: 2c20 2e2e 2e0a 2020 2020 2020 2020 2020  , ....          
+00009bb0: 2020 4520 3c3c 3d20 4520 2b20 272b 2720    E <<= E + '+' 
+00009bc0: 2d20 6e75 6d20 7c20 6e75 6d0a 0a20 2020  - num | num..   
+00009bd0: 2020 2020 2020 2020 2070 7269 6e74 2845           print(E
+00009be0: 2e70 6172 7365 5f73 7472 696e 6728 2231  .parse_string("1
+00009bf0: 2b32 2b33 2229 290a 0a20 2020 2020 2020  +2+3"))..       
+00009c00: 2052 6563 7572 7369 6f6e 2073 6561 7263   Recursion searc
+00009c10: 6820 6e61 7475 7261 6c6c 7920 6d65 6d6f  h naturally memo
+00009c20: 697a 6573 206d 6174 6368 6573 206f 6620  izes matches of 
+00009c30: 6060 466f 7277 6172 6460 6020 656c 656d  ``Forward`` elem
+00009c40: 656e 7473 2061 6e64 206d 6179 0a20 2020  ents and may.   
+00009c50: 2020 2020 2074 6875 7320 736b 6970 2072       thus skip r
+00009c60: 6565 7661 6c75 6174 696f 6e20 6f66 2070  eevaluation of p
+00009c70: 6172 7365 2061 6374 696f 6e73 2064 7572  arse actions dur
+00009c80: 696e 6720 6261 636b 7472 6163 6b69 6e67  ing backtracking
+00009c90: 2e20 5468 6973 206d 6179 2062 7265 616b  . This may break
+00009ca0: 0a20 2020 2020 2020 2070 726f 6772 616d  .        program
+00009cb0: 7320 7769 7468 2070 6172 7365 2061 6374  s with parse act
+00009cc0: 696f 6e73 2077 6869 6368 2072 656c 7920  ions which rely 
+00009cd0: 6f6e 2073 7472 6963 7420 6f72 6465 7269  on strict orderi
+00009ce0: 6e67 206f 6620 7369 6465 2d65 6666 6563  ng of side-effec
+00009cf0: 7473 2e0a 0a20 2020 2020 2020 2050 6172  ts...        Par
+00009d00: 616d 6574 6572 733a 0a0a 2020 2020 2020  ameters:..      
+00009d10: 2020 2d20 6060 6361 6368 655f 7369 7a65    - ``cache_size
+00009d20: 5f6c 696d 6974 6060 202d 2028 6465 6661  _limit`` - (defa
+00009d30: 756c 743d 6060 4e6f 6e65 6060 2920 2d20  ult=``None``) - 
+00009d40: 6d65 6d6f 697a 6520 6174 206d 6f73 7420  memoize at most 
+00009d50: 7468 6973 206d 616e 790a 2020 2020 2020  this many.      
+00009d60: 2020 2020 6060 466f 7277 6172 6460 6020      ``Forward`` 
+00009d70: 656c 656d 656e 7473 2064 7572 696e 6720  elements during 
+00009d80: 6d61 7463 6869 6e67 3b20 6966 2060 604e  matching; if ``N
+00009d90: 6f6e 6560 6020 2874 6865 2064 6566 6175  one`` (the defau
+00009da0: 6c74 292c 0a20 2020 2020 2020 2020 206d  lt),.          m
+00009db0: 656d 6f69 7a65 2061 6c6c 2060 6046 6f72  emoize all ``For
+00009dc0: 7761 7264 6060 2065 6c65 6d65 6e74 732e  ward`` elements.
+00009dd0: 0a0a 2020 2020 2020 2020 426f 756e 6465  ..        Bounde
+00009de0: 6420 5265 6375 7273 696f 6e20 7061 7273  d Recursion pars
+00009df0: 696e 6720 776f 726b 7320 7369 6d69 6c61  ing works simila
+00009e00: 7220 6275 7420 6e6f 7420 6964 656e 7469  r but not identi
+00009e10: 6361 6c20 746f 2050 6163 6b72 6174 2070  cal to Packrat p
+00009e20: 6172 7369 6e67 2c0a 2020 2020 2020 2020  arsing,.        
+00009e30: 7468 7573 2074 6865 2074 776f 2063 616e  thus the two can
+00009e40: 6e6f 7420 6265 2075 7365 6420 746f 6765  not be used toge
+00009e50: 7468 6572 2e20 5573 6520 6060 666f 7263  ther. Use ``forc
+00009e60: 653d 5472 7565 6060 2074 6f20 6469 7361  e=True`` to disa
+00009e70: 626c 6520 616e 790a 2020 2020 2020 2020  ble any.        
+00009e80: 7072 6576 696f 7573 2c20 636f 6e66 6c69  previous, confli
+00009e90: 6374 696e 6720 7365 7474 696e 6773 2e0a  cting settings..
+00009ea0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00009eb0: 2020 2020 6966 2066 6f72 6365 3a0a 2020      if force:.  
+00009ec0: 2020 2020 2020 2020 2020 5061 7273 6572            Parser
+00009ed0: 456c 656d 656e 742e 6469 7361 626c 655f  Element.disable_
+00009ee0: 6d65 6d6f 697a 6174 696f 6e28 290a 2020  memoization().  
+00009ef0: 2020 2020 2020 656c 6966 2050 6172 7365        elif Parse
+00009f00: 7245 6c65 6d65 6e74 2e5f 7061 636b 7261  rElement._packra
+00009f10: 7445 6e61 626c 6564 3a0a 2020 2020 2020  tEnabled:.      
+00009f20: 2020 2020 2020 7261 6973 6520 5275 6e74        raise Runt
+00009f30: 696d 6545 7272 6f72 2822 5061 636b 7261  imeError("Packra
+00009f40: 7420 616e 6420 426f 756e 6465 6420 5265  t and Bounded Re
+00009f50: 6375 7273 696f 6e20 6172 6520 6e6f 7420  cursion are not 
+00009f60: 636f 6d70 6174 6962 6c65 2229 0a20 2020  compatible").   
+00009f70: 2020 2020 2069 6620 6361 6368 655f 7369       if cache_si
+00009f80: 7a65 5f6c 696d 6974 2069 7320 4e6f 6e65  ze_limit is None
+00009f90: 3a0a 2020 2020 2020 2020 2020 2020 5061  :.            Pa
+00009fa0: 7273 6572 456c 656d 656e 742e 7265 6375  rserElement.recu
+00009fb0: 7273 696f 6e5f 6d65 6d6f 7320 3d20 5f55  rsion_memos = _U
+00009fc0: 6e62 6f75 6e64 6564 4d65 6d6f 2829 2020  nboundedMemo()  
+00009fd0: 2320 7479 7065 3a20 6967 6e6f 7265 5b61  # type: ignore[a
+00009fe0: 7373 6967 6e6d 656e 745d 0a20 2020 2020  ssignment].     
+00009ff0: 2020 2065 6c69 6620 6361 6368 655f 7369     elif cache_si
+0000a000: 7a65 5f6c 696d 6974 203e 2030 3a0a 2020  ze_limit > 0:.  
+0000a010: 2020 2020 2020 2020 2020 5061 7273 6572            Parser
+0000a020: 456c 656d 656e 742e 7265 6375 7273 696f  Element.recursio
+0000a030: 6e5f 6d65 6d6f 7320 3d20 5f4c 5255 4d65  n_memos = _LRUMe
+0000a040: 6d6f 2863 6170 6163 6974 793d 6361 6368  mo(capacity=cach
+0000a050: 655f 7369 7a65 5f6c 696d 6974 2920 2023  e_size_limit)  #
+0000a060: 2074 7970 653a 2069 676e 6f72 655b 6173   type: ignore[as
+0000a070: 7369 676e 6d65 6e74 5d0a 2020 2020 2020  signment].      
+0000a080: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0000a090: 2020 2020 7261 6973 6520 4e6f 7449 6d70      raise NotImp
+0000a0a0: 6c65 6d65 6e74 6564 4572 726f 7228 224d  lementedError("M
+0000a0b0: 656d 6f20 7369 7a65 206f 6620 2573 2220  emo size of %s" 
+0000a0c0: 2520 6361 6368 655f 7369 7a65 5f6c 696d  % cache_size_lim
+0000a0d0: 6974 290a 2020 2020 2020 2020 5061 7273  it).        Pars
+0000a0e0: 6572 456c 656d 656e 742e 5f6c 6566 745f  erElement._left_
+0000a0f0: 7265 6375 7273 696f 6e5f 656e 6162 6c65  recursion_enable
+0000a100: 6420 3d20 5472 7565 0a0a 2020 2020 4073  d = True..    @s
+0000a110: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
+0000a120: 6465 6620 656e 6162 6c65 5f70 6163 6b72  def enable_packr
+0000a130: 6174 280a 2020 2020 2020 2020 6361 6368  at(.        cach
+0000a140: 655f 7369 7a65 5f6c 696d 6974 3a20 556e  e_size_limit: Un
+0000a150: 696f 6e5b 696e 742c 204e 6f6e 655d 203d  ion[int, None] =
+0000a160: 2031 3238 2c20 2a2c 2066 6f72 6365 3a20   128, *, force: 
+0000a170: 626f 6f6c 203d 2046 616c 7365 0a20 2020  bool = False.   
+0000a180: 2029 202d 3e20 4e6f 6e65 3a0a 2020 2020   ) -> None:.    
+0000a190: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000a1a0: 456e 6162 6c65 7320 2270 6163 6b72 6174  Enables "packrat
+0000a1b0: 2220 7061 7273 696e 672c 2077 6869 6368  " parsing, which
+0000a1c0: 2061 6464 7320 6d65 6d6f 697a 696e 6720   adds memoizing 
+0000a1d0: 746f 2074 6865 2070 6172 7369 6e67 206c  to the parsing l
+0000a1e0: 6f67 6963 2e0a 2020 2020 2020 2020 5265  ogic..        Re
+0000a1f0: 7065 6174 6564 2070 6172 7365 2061 7474  peated parse att
+0000a200: 656d 7074 7320 6174 2074 6865 2073 616d  empts at the sam
+0000a210: 6520 7374 7269 6e67 206c 6f63 6174 696f  e string locatio
+0000a220: 6e20 2877 6869 6368 2068 6170 7065 6e73  n (which happens
+0000a230: 0a20 2020 2020 2020 206f 6674 656e 2069  .        often i
+0000a240: 6e20 6d61 6e79 2063 6f6d 706c 6578 2067  n many complex g
+0000a250: 7261 6d6d 6172 7329 2063 616e 2069 6d6d  rammars) can imm
+0000a260: 6564 6961 7465 6c79 2072 6574 7572 6e20  ediately return 
+0000a270: 6120 6361 6368 6564 2076 616c 7565 2c0a  a cached value,.
+0000a280: 2020 2020 2020 2020 696e 7374 6561 6420          instead 
+0000a290: 6f66 2072 652d 6578 6563 7574 696e 6720  of re-executing 
+0000a2a0: 7061 7273 696e 672f 7661 6c69 6461 7469  parsing/validati
+0000a2b0: 6e67 2063 6f64 652e 2020 4d65 6d6f 697a  ng code.  Memoiz
+0000a2c0: 696e 6720 6973 2064 6f6e 6520 6f66 0a20  ing is done of. 
+0000a2d0: 2020 2020 2020 2062 6f74 6820 7661 6c69         both vali
+0000a2e0: 6420 7265 7375 6c74 7320 616e 6420 7061  d results and pa
+0000a2f0: 7273 696e 6720 6578 6365 7074 696f 6e73  rsing exceptions
+0000a300: 2e0a 0a20 2020 2020 2020 2050 6172 616d  ...        Param
+0000a310: 6574 6572 733a 0a0a 2020 2020 2020 2020  eters:..        
+0000a320: 2d20 6060 6361 6368 655f 7369 7a65 5f6c  - ``cache_size_l
+0000a330: 696d 6974 6060 202d 2028 6465 6661 756c  imit`` - (defaul
+0000a340: 743d 2060 6031 3238 6060 2920 2d20 6966  t= ``128``) - if
+0000a350: 2061 6e20 696e 7465 6765 7220 7661 6c75   an integer valu
+0000a360: 6520 6973 2070 726f 7669 6465 640a 2020  e is provided.  
+0000a370: 2020 2020 2020 2020 7769 6c6c 206c 696d          will lim
+0000a380: 6974 2074 6865 2073 697a 6520 6f66 2074  it the size of t
+0000a390: 6865 2070 6163 6b72 6174 2063 6163 6865  he packrat cache
+0000a3a0: 3b20 6966 204e 6f6e 6520 6973 2070 6173  ; if None is pas
+0000a3b0: 7365 642c 2074 6865 6e0a 2020 2020 2020  sed, then.      
+0000a3c0: 2020 2020 7468 6520 6361 6368 6520 7369      the cache si
+0000a3d0: 7a65 2077 696c 6c20 6265 2075 6e62 6f75  ze will be unbou
+0000a3e0: 6e64 6564 3b20 6966 2030 2069 7320 7061  nded; if 0 is pa
+0000a3f0: 7373 6564 2c20 7468 6520 6361 6368 6520  ssed, the cache 
+0000a400: 7769 6c6c 0a20 2020 2020 2020 2020 2062  will.          b
+0000a410: 6520 6566 6665 6374 6976 656c 7920 6469  e effectively di
+0000a420: 7361 626c 6564 2e0a 0a20 2020 2020 2020  sabled...       
+0000a430: 2054 6869 7320 7370 6565 6475 7020 6d61   This speedup ma
+0000a440: 7920 6272 6561 6b20 6578 6973 7469 6e67  y break existing
+0000a450: 2070 726f 6772 616d 7320 7468 6174 2075   programs that u
+0000a460: 7365 2070 6172 7365 2061 6374 696f 6e73  se parse actions
+0000a470: 2074 6861 740a 2020 2020 2020 2020 6861   that.        ha
+0000a480: 7665 2073 6964 652d 6566 6665 6374 732e  ve side-effects.
+0000a490: 2020 466f 7220 7468 6973 2072 6561 736f    For this reaso
+0000a4a0: 6e2c 2070 6163 6b72 6174 2070 6172 7369  n, packrat parsi
+0000a4b0: 6e67 2069 7320 6469 7361 626c 6564 2077  ng is disabled w
+0000a4c0: 6865 6e0a 2020 2020 2020 2020 796f 7520  hen.        you 
+0000a4d0: 6669 7273 7420 696d 706f 7274 2070 7970  first import pyp
+0000a4e0: 6172 7369 6e67 2e20 2054 6f20 6163 7469  arsing.  To acti
+0000a4f0: 7661 7465 2074 6865 2070 6163 6b72 6174  vate the packrat
+0000a500: 2066 6561 7475 7265 2c20 796f 7572 0a20   feature, your. 
+0000a510: 2020 2020 2020 2070 726f 6772 616d 206d         program m
+0000a520: 7573 7420 6361 6c6c 2074 6865 2063 6c61  ust call the cla
+0000a530: 7373 206d 6574 686f 6420 3a63 6c61 7373  ss method :class
+0000a540: 3a60 5061 7273 6572 456c 656d 656e 742e  :`ParserElement.
+0000a550: 656e 6162 6c65 5f70 6163 6b72 6174 602e  enable_packrat`.
+0000a560: 0a20 2020 2020 2020 2046 6f72 2062 6573  .        For bes
+0000a570: 7420 7265 7375 6c74 732c 2063 616c 6c20  t results, call 
+0000a580: 6060 656e 6162 6c65 5f70 6163 6b72 6174  ``enable_packrat
+0000a590: 2829 6060 2069 6d6d 6564 6961 7465 6c79  ()`` immediately
+0000a5a0: 2061 6674 6572 0a20 2020 2020 2020 2069   after.        i
+0000a5b0: 6d70 6f72 7469 6e67 2070 7970 6172 7369  mporting pyparsi
+0000a5c0: 6e67 2e0a 0a20 2020 2020 2020 2045 7861  ng...        Exa
+0000a5d0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
+0000a5e0: 2020 2020 696d 706f 7274 2070 7970 6172      import pypar
+0000a5f0: 7369 6e67 0a20 2020 2020 2020 2020 2020  sing.           
+0000a600: 2070 7970 6172 7369 6e67 2e50 6172 7365   pyparsing.Parse
+0000a610: 7245 6c65 6d65 6e74 2e65 6e61 626c 655f  rElement.enable_
+0000a620: 7061 636b 7261 7428 290a 0a20 2020 2020  packrat()..     
+0000a630: 2020 2050 6163 6b72 6174 2070 6172 7369     Packrat parsi
+0000a640: 6e67 2077 6f72 6b73 2073 696d 696c 6172  ng works similar
+0000a650: 2062 7574 206e 6f74 2069 6465 6e74 6963   but not identic
+0000a660: 616c 2074 6f20 426f 756e 6465 6420 5265  al to Bounded Re
+0000a670: 6375 7273 696f 6e20 7061 7273 696e 672c  cursion parsing,
+0000a680: 0a20 2020 2020 2020 2074 6875 7320 7468  .        thus th
+0000a690: 6520 7477 6f20 6361 6e6e 6f74 2062 6520  e two cannot be 
+0000a6a0: 7573 6564 2074 6f67 6574 6865 722e 2055  used together. U
+0000a6b0: 7365 2060 6066 6f72 6365 3d54 7275 6560  se ``force=True`
+0000a6c0: 6020 746f 2064 6973 6162 6c65 2061 6e79  ` to disable any
+0000a6d0: 0a20 2020 2020 2020 2070 7265 7669 6f75  .        previou
+0000a6e0: 732c 2063 6f6e 666c 6963 7469 6e67 2073  s, conflicting s
+0000a6f0: 6574 7469 6e67 732e 0a20 2020 2020 2020  ettings..       
+0000a700: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+0000a710: 666f 7263 653a 0a20 2020 2020 2020 2020  force:.         
+0000a720: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
+0000a730: 2e64 6973 6162 6c65 5f6d 656d 6f69 7a61  .disable_memoiza
+0000a740: 7469 6f6e 2829 0a20 2020 2020 2020 2065  tion().        e
+0000a750: 6c69 6620 5061 7273 6572 456c 656d 656e  lif ParserElemen
+0000a760: 742e 5f6c 6566 745f 7265 6375 7273 696f  t._left_recursio
+0000a770: 6e5f 656e 6162 6c65 643a 0a20 2020 2020  n_enabled:.     
+0000a780: 2020 2020 2020 2072 6169 7365 2052 756e         raise Run
+0000a790: 7469 6d65 4572 726f 7228 2250 6163 6b72  timeError("Packr
+0000a7a0: 6174 2061 6e64 2042 6f75 6e64 6564 2052  at and Bounded R
+0000a7b0: 6563 7572 7369 6f6e 2061 7265 206e 6f74  ecursion are not
+0000a7c0: 2063 6f6d 7061 7469 626c 6522 290a 2020   compatible").  
+0000a7d0: 2020 2020 2020 6966 206e 6f74 2050 6172        if not Par
+0000a7e0: 7365 7245 6c65 6d65 6e74 2e5f 7061 636b  serElement._pack
+0000a7f0: 7261 7445 6e61 626c 6564 3a0a 2020 2020  ratEnabled:.    
+0000a800: 2020 2020 2020 2020 5061 7273 6572 456c          ParserEl
+0000a810: 656d 656e 742e 5f70 6163 6b72 6174 456e  ement._packratEn
+0000a820: 6162 6c65 6420 3d20 5472 7565 0a20 2020  abled = True.   
+0000a830: 2020 2020 2020 2020 2069 6620 6361 6368           if cach
+0000a840: 655f 7369 7a65 5f6c 696d 6974 2069 7320  e_size_limit is 
+0000a850: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0000a860: 2020 2020 2020 5061 7273 6572 456c 656d        ParserElem
+0000a870: 656e 742e 7061 636b 7261 745f 6361 6368  ent.packrat_cach
+0000a880: 6520 3d20 5f55 6e62 6f75 6e64 6564 4361  e = _UnboundedCa
+0000a890: 6368 6528 290a 2020 2020 2020 2020 2020  che().          
+0000a8a0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0000a8b0: 2020 2020 2020 2020 5061 7273 6572 456c          ParserEl
+0000a8c0: 656d 656e 742e 7061 636b 7261 745f 6361  ement.packrat_ca
+0000a8d0: 6368 6520 3d20 5f46 6966 6f43 6163 6865  che = _FifoCache
+0000a8e0: 2863 6163 6865 5f73 697a 655f 6c69 6d69  (cache_size_limi
+0000a8f0: 7429 2020 2320 7479 7065 3a20 6967 6e6f  t)  # type: igno
+0000a900: 7265 5b61 7373 6967 6e6d 656e 745d 0a20  re[assignment]. 
+0000a910: 2020 2020 2020 2020 2020 2050 6172 7365             Parse
+0000a920: 7245 6c65 6d65 6e74 2e5f 7061 7273 6520  rElement._parse 
+0000a930: 3d20 5061 7273 6572 456c 656d 656e 742e  = ParserElement.
+0000a940: 5f70 6172 7365 4361 6368 650a 0a20 2020  _parseCache..   
+0000a950: 2064 6566 2070 6172 7365 5f73 7472 696e   def parse_strin
+0000a960: 6728 0a20 2020 2020 2020 2073 656c 662c  g(.        self,
+0000a970: 2069 6e73 7472 696e 673a 2073 7472 2c20   instring: str, 
+0000a980: 7061 7273 655f 616c 6c3a 2062 6f6f 6c20  parse_all: bool 
+0000a990: 3d20 4661 6c73 652c 202a 2c20 7061 7273  = False, *, pars
+0000a9a0: 6541 6c6c 3a20 626f 6f6c 203d 2046 616c  eAll: bool = Fal
+0000a9b0: 7365 0a20 2020 2029 202d 3e20 5061 7273  se.    ) -> Pars
+0000a9c0: 6552 6573 756c 7473 3a0a 2020 2020 2020  eResults:.      
+0000a9d0: 2020 2222 220a 2020 2020 2020 2020 5061    """.        Pa
+0000a9e0: 7273 6520 6120 7374 7269 6e67 2077 6974  rse a string wit
+0000a9f0: 6820 7265 7370 6563 7420 746f 2074 6865  h respect to the
+0000aa00: 2070 6172 7365 7220 6465 6669 6e69 7469   parser definiti
+0000aa10: 6f6e 2e20 5468 6973 2066 756e 6374 696f  on. This functio
+0000aa20: 6e20 6973 2069 6e74 656e 6465 6420 6173  n is intended as
+0000aa30: 2074 6865 2070 7269 6d61 7279 2069 6e74   the primary int
+0000aa40: 6572 6661 6365 2074 6f20 7468 650a 2020  erface to the.  
+0000aa50: 2020 2020 2020 636c 6965 6e74 2063 6f64        client cod
+0000aa60: 652e 0a0a 2020 2020 2020 2020 3a70 6172  e...        :par
+0000aa70: 616d 2069 6e73 7472 696e 673a 2054 6865  am instring: The
+0000aa80: 2069 6e70 7574 2073 7472 696e 6720 746f   input string to
+0000aa90: 2062 6520 7061 7273 6564 2e0a 2020 2020   be parsed..    
+0000aaa0: 2020 2020 3a70 6172 616d 2070 6172 7365      :param parse
+0000aab0: 5f61 6c6c 3a20 4966 2073 6574 2c20 7468  _all: If set, th
+0000aac0: 6520 656e 7469 7265 2069 6e70 7574 2073  e entire input s
+0000aad0: 7472 696e 6720 6d75 7374 206d 6174 6368  tring must match
+0000aae0: 2074 6865 2067 7261 6d6d 6172 2e0a 2020   the grammar..  
+0000aaf0: 2020 2020 2020 3a70 6172 616d 2070 6172        :param par
+0000ab00: 7365 416c 6c3a 2072 6574 6169 6e65 6420  seAll: retained 
+0000ab10: 666f 7220 7072 652d 5045 5038 2063 6f6d  for pre-PEP8 com
+0000ab20: 7061 7469 6269 6c69 7479 2c20 7769 6c6c  patibility, will
+0000ab30: 2062 6520 7265 6d6f 7665 6420 696e 2061   be removed in a
+0000ab40: 2066 7574 7572 6520 7265 6c65 6173 652e   future release.
+0000ab50: 0a20 2020 2020 2020 203a 7261 6973 6573  .        :raises
+0000ab60: 2050 6172 7365 4578 6365 7074 696f 6e3a   ParseException:
+0000ab70: 2052 6169 7365 6420 6966 2060 6070 6172   Raised if ``par
+0000ab80: 7365 5f61 6c6c 6060 2069 7320 7365 7420  se_all`` is set 
+0000ab90: 616e 6420 7468 6520 696e 7075 7420 7374  and the input st
+0000aba0: 7269 6e67 2064 6f65 7320 6e6f 7420 6d61  ring does not ma
+0000abb0: 7463 6820 7468 6520 7768 6f6c 6520 6772  tch the whole gr
+0000abc0: 616d 6d61 722e 0a20 2020 2020 2020 203a  ammar..        :
+0000abd0: 7265 7475 726e 733a 2074 6865 2070 6172  returns: the par
+0000abe0: 7365 6420 6461 7461 2061 7320 6120 3a63  sed data as a :c
+0000abf0: 6c61 7373 3a60 5061 7273 6552 6573 756c  lass:`ParseResul
+0000ac00: 7473 6020 6f62 6a65 6374 2c20 7768 6963  ts` object, whic
+0000ac10: 6820 6d61 7920 6265 2061 6363 6573 7365  h may be accesse
+0000ac20: 6420 6173 2061 2060 6c69 7374 602c 2061  d as a `list`, a
+0000ac30: 2060 6469 6374 602c 206f 720a 2020 2020   `dict`, or.    
+0000ac40: 2020 2020 2020 616e 206f 626a 6563 7420        an object 
+0000ac50: 7769 7468 2061 7474 7269 6275 7465 7320  with attributes 
+0000ac60: 6966 2074 6865 2067 6976 656e 2070 6172  if the given par
+0000ac70: 7365 7220 696e 636c 7564 6573 2072 6573  ser includes res
+0000ac80: 756c 7473 206e 616d 6573 2e0a 0a20 2020  ults names...   
+0000ac90: 2020 2020 2049 6620 7468 6520 696e 7075       If the inpu
+0000aca0: 7420 7374 7269 6e67 2069 7320 7265 7175  t string is requ
+0000acb0: 6972 6564 2074 6f20 6d61 7463 6820 7468  ired to match th
+0000acc0: 6520 656e 7469 7265 2067 7261 6d6d 6172  e entire grammar
+0000acd0: 2c20 6060 7061 7273 655f 616c 6c60 6020  , ``parse_all`` 
+0000ace0: 666c 6167 206d 7573 7420 6265 2073 6574  flag must be set
+0000acf0: 2074 6f20 6060 5472 7565 6060 2e20 5468   to ``True``. Th
+0000ad00: 6973 0a20 2020 2020 2020 2069 7320 616c  is.        is al
+0000ad10: 736f 2065 7175 6976 616c 656e 7420 746f  so equivalent to
+0000ad20: 2065 6e64 696e 6720 7468 6520 6772 616d   ending the gram
+0000ad30: 6d61 7220 7769 7468 203a 636c 6173 733a  mar with :class:
+0000ad40: 6053 7472 696e 6745 6e64 605c 5c20 2829  `StringEnd`\\ ()
+0000ad50: 2e0a 0a20 2020 2020 2020 2054 6f20 7265  ...        To re
+0000ad60: 706f 7274 2070 726f 7065 7220 636f 6c75  port proper colu
+0000ad70: 6d6e 206e 756d 6265 7273 2c20 6060 7061  mn numbers, ``pa
+0000ad80: 7273 655f 7374 7269 6e67 6060 206f 7065  rse_string`` ope
+0000ad90: 7261 7465 7320 6f6e 2061 2063 6f70 7920  rates on a copy 
+0000ada0: 6f66 2074 6865 2069 6e70 7574 2073 7472  of the input str
+0000adb0: 696e 6720 7768 6572 6520 616c 6c20 7461  ing where all ta
+0000adc0: 6273 2061 7265 0a20 2020 2020 2020 2063  bs are.        c
+0000add0: 6f6e 7665 7274 6564 2074 6f20 7370 6163  onverted to spac
+0000ade0: 6573 2028 3820 7370 6163 6573 2070 6572  es (8 spaces per
+0000adf0: 2074 6162 2c20 6173 2070 6572 2074 6865   tab, as per the
+0000ae00: 2064 6566 6175 6c74 2069 6e20 6060 7374   default in ``st
+0000ae10: 7269 6e67 2e65 7870 616e 6474 6162 7360  ring.expandtabs`
+0000ae20: 6029 2e20 4966 2074 6865 2069 6e70 7574  `). If the input
+0000ae30: 2073 7472 696e 670a 2020 2020 2020 2020   string.        
+0000ae40: 636f 6e74 6169 6e73 2074 6162 7320 616e  contains tabs an
+0000ae50: 6420 7468 6520 6772 616d 6d61 7220 7573  d the grammar us
+0000ae60: 6573 2070 6172 7365 2061 6374 696f 6e73  es parse actions
+0000ae70: 2074 6861 7420 7573 6520 7468 6520 6060   that use the ``
+0000ae80: 6c6f 6360 6020 6172 6775 6d65 6e74 2074  loc`` argument t
+0000ae90: 6f20 696e 6465 7820 696e 746f 2074 6865  o index into the
+0000aea0: 2073 7472 696e 670a 2020 2020 2020 2020   string.        
+0000aeb0: 6265 696e 6720 7061 7273 6564 2c20 6f6e  being parsed, on
+0000aec0: 6520 6361 6e20 656e 7375 7265 2061 2063  e can ensure a c
+0000aed0: 6f6e 7369 7374 656e 7420 7669 6577 206f  onsistent view o
+0000aee0: 6620 7468 6520 696e 7075 7420 7374 7269  f the input stri
+0000aef0: 6e67 2062 7920 646f 696e 6720 6f6e 6520  ng by doing one 
+0000af00: 6f66 2074 6865 2066 6f6c 6c6f 7769 6e67  of the following
+0000af10: 3a0a 0a20 2020 2020 2020 202d 2063 616c  :..        - cal
+0000af20: 6c69 6e67 2060 6070 6172 7365 5f77 6974  ling ``parse_wit
+0000af30: 685f 7461 6273 6060 206f 6e20 796f 7572  h_tabs`` on your
+0000af40: 2067 7261 6d6d 6172 2062 6566 6f72 6520   grammar before 
+0000af50: 6361 6c6c 696e 6720 6060 7061 7273 655f  calling ``parse_
+0000af60: 7374 7269 6e67 6060 2028 7365 6520 3a63  string`` (see :c
+0000af70: 6c61 7373 3a60 7061 7273 655f 7769 7468  lass:`parse_with
+0000af80: 5f74 6162 7360 292c 0a20 2020 2020 2020  _tabs`),.       
+0000af90: 202d 2064 6566 696e 6520 796f 7572 2070   - define your p
+0000afa0: 6172 7365 2061 6374 696f 6e20 7573 696e  arse action usin
+0000afb0: 6720 7468 6520 6675 6c6c 2060 6028 732c  g the full ``(s,
+0000afc0: 6c6f 632c 746f 6b73 2960 6020 7369 676e  loc,toks)`` sign
+0000afd0: 6174 7572 652c 2061 6e64 2072 6566 6572  ature, and refer
+0000afe0: 656e 6365 2074 6865 2069 6e70 7574 2073  ence the input s
+0000aff0: 7472 696e 6720 7573 696e 6720 7468 650a  tring using the.
+0000b000: 2020 2020 2020 2020 2020 7061 7273 6520            parse 
+0000b010: 6163 7469 6f6e 2773 2060 6073 6060 2061  action's ``s`` a
+0000b020: 7267 756d 656e 742c 206f 720a 2020 2020  rgument, or.    
+0000b030: 2020 2020 2d20 6578 706c 6963 6974 6c79      - explicitly
+0000b040: 2065 7870 616e 6420 7468 6520 7461 6273   expand the tabs
+0000b050: 2069 6e20 796f 7572 2069 6e70 7574 2073   in your input s
+0000b060: 7472 696e 6720 6265 666f 7265 2063 616c  tring before cal
+0000b070: 6c69 6e67 2060 6070 6172 7365 5f73 7472  ling ``parse_str
+0000b080: 696e 6760 602e 0a0a 2020 2020 2020 2020  ing``...        
+0000b090: 4578 616d 706c 6573 3a0a 0a20 2020 2020  Examples:..     
+0000b0a0: 2020 2042 7920 6465 6661 756c 742c 2070     By default, p
+0000b0b0: 6172 7469 616c 206d 6174 6368 6573 2061  artial matches a
+0000b0c0: 7265 204f 4b2e 0a0a 2020 2020 2020 2020  re OK...        
+0000b0d0: 3e3e 3e20 7265 7320 3d20 576f 7264 2827  >>> res = Word('
+0000b0e0: 6127 292e 7061 7273 655f 7374 7269 6e67  a').parse_string
+0000b0f0: 2827 6161 6161 6162 6161 6127 290a 2020  ('aaaaabaaa').  
+0000b100: 2020 2020 2020 3e3e 3e20 7072 696e 7428        >>> print(
+0000b110: 7265 7329 0a20 2020 2020 2020 205b 2761  res).        ['a
+0000b120: 6161 6161 275d 0a0a 2020 2020 2020 2020  aaaa']..        
+0000b130: 5468 6520 7061 7273 696e 6720 6265 6861  The parsing beha
+0000b140: 7669 6f72 2076 6172 6965 7320 6279 2074  vior varies by t
+0000b150: 6865 2069 6e68 6572 6974 696e 6720 636c  he inheriting cl
+0000b160: 6173 7320 6f66 2074 6869 7320 6162 7374  ass of this abst
+0000b170: 7261 6374 2063 6c61 7373 2e20 506c 6561  ract class. Plea
+0000b180: 7365 2072 6566 6572 2074 6f20 7468 6520  se refer to the 
+0000b190: 6368 696c 6472 656e 0a20 2020 2020 2020  children.       
+0000b1a0: 2064 6972 6563 746c 7920 746f 2073 6565   directly to see
+0000b1b0: 206d 6f72 6520 6578 616d 706c 6573 2e0a   more examples..
+0000b1c0: 0a20 2020 2020 2020 2049 7420 7261 6973  .        It rais
+0000b1d0: 6573 2061 6e20 6578 6365 7074 696f 6e20  es an exception 
+0000b1e0: 6966 2070 6172 7365 5f61 6c6c 2066 6c61  if parse_all fla
+0000b1f0: 6720 6973 2073 6574 2061 6e64 2069 6e73  g is set and ins
+0000b200: 7472 696e 6720 646f 6573 206e 6f74 206d  tring does not m
+0000b210: 6174 6368 2074 6865 2077 686f 6c65 2067  atch the whole g
+0000b220: 7261 6d6d 6172 2e0a 0a20 2020 2020 2020  rammar...       
+0000b230: 203e 3e3e 2072 6573 203d 2057 6f72 6428   >>> res = Word(
+0000b240: 2761 2729 2e70 6172 7365 5f73 7472 696e  'a').parse_strin
+0000b250: 6728 2761 6161 6161 6261 6161 272c 2070  g('aaaaabaaa', p
+0000b260: 6172 7365 5f61 6c6c 3d54 7275 6529 0a20  arse_all=True). 
+0000b270: 2020 2020 2020 2054 7261 6365 6261 636b         Traceback
+0000b280: 2028 6d6f 7374 2072 6563 656e 7420 6361   (most recent ca
+0000b290: 6c6c 206c 6173 7429 3a0a 2020 2020 2020  ll last):.      
+0000b2a0: 2020 2e2e 2e0a 2020 2020 2020 2020 7079    ....        py
+0000b2b0: 7061 7273 696e 672e 5061 7273 6545 7863  parsing.ParseExc
+0000b2c0: 6570 7469 6f6e 3a20 4578 7065 6374 6564  eption: Expected
+0000b2d0: 2065 6e64 206f 6620 7465 7874 2c20 666f   end of text, fo
+0000b2e0: 756e 6420 2762 2720 2028 6174 2063 6861  und 'b'  (at cha
+0000b2f0: 7220 3529 2c20 286c 696e 653a 312c 2063  r 5), (line:1, c
+0000b300: 6f6c 3a36 290a 2020 2020 2020 2020 2222  ol:6).        ""
+0000b310: 220a 2020 2020 2020 2020 7061 7273 6541  ".        parseA
+0000b320: 6c6c 203d 2070 6172 7365 5f61 6c6c 206f  ll = parse_all o
+0000b330: 7220 7061 7273 6541 6c6c 0a0a 2020 2020  r parseAll..    
+0000b340: 2020 2020 5061 7273 6572 456c 656d 656e      ParserElemen
+0000b350: 742e 7265 7365 745f 6361 6368 6528 290a  t.reset_cache().
+0000b360: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
+0000b370: 656c 662e 7374 7265 616d 6c69 6e65 643a  elf.streamlined:
+0000b380: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000b390: 662e 7374 7265 616d 6c69 6e65 2829 0a20  f.streamline(). 
+0000b3a0: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+0000b3b0: 7365 6c66 2e69 676e 6f72 6545 7870 7273  self.ignoreExprs
+0000b3c0: 3a0a 2020 2020 2020 2020 2020 2020 652e  :.            e.
+0000b3d0: 7374 7265 616d 6c69 6e65 2829 0a20 2020  streamline().   
+0000b3e0: 2020 2020 2069 6620 6e6f 7420 7365 6c66       if not self
+0000b3f0: 2e6b 6565 7054 6162 733a 0a20 2020 2020  .keepTabs:.     
+0000b400: 2020 2020 2020 2069 6e73 7472 696e 6720         instring 
+0000b410: 3d20 696e 7374 7269 6e67 2e65 7870 616e  = instring.expan
+0000b420: 6474 6162 7328 290a 2020 2020 2020 2020  dtabs().        
+0000b430: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+0000b440: 206c 6f63 2c20 746f 6b65 6e73 203d 2073   loc, tokens = s
+0000b450: 656c 662e 5f70 6172 7365 2869 6e73 7472  elf._parse(instr
+0000b460: 696e 672c 2030 290a 2020 2020 2020 2020  ing, 0).        
+0000b470: 2020 2020 6966 2070 6172 7365 416c 6c3a      if parseAll:
 0000b480: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b490: 2072 6169 7365 0a20 2020 2020 2020 2020   raise.         
-0000b4a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000b4b0: 2020 2020 2020 2020 2023 2063 6174 6368           # catch
-0000b4c0: 2061 6e64 2072 652d 7261 6973 6520 6578   and re-raise ex
-0000b4d0: 6365 7074 696f 6e20 6672 6f6d 2068 6572  ception from her
-0000b4e0: 652c 2063 6c65 6172 696e 6720 6f75 7420  e, clearing out 
-0000b4f0: 7079 7061 7273 696e 6720 696e 7465 726e  pyparsing intern
-0000b500: 616c 2073 7461 636b 2074 7261 6365 0a20  al stack trace. 
-0000b510: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000b520: 6169 7365 2065 7863 2e77 6974 685f 7472  aise exc.with_tr
-0000b530: 6163 6562 6163 6b28 4e6f 6e65 290a 2020  aceback(None).  
-0000b540: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0000b550: 2020 2020 2020 2020 7265 7475 726e 2074          return t
-0000b560: 6f6b 656e 730a 0a20 2020 2064 6566 2073  okens..    def s
-0000b570: 6361 6e5f 7374 7269 6e67 280a 2020 2020  can_string(.    
-0000b580: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-0000b590: 2020 696e 7374 7269 6e67 3a20 7374 722c    instring: str,
-0000b5a0: 0a20 2020 2020 2020 206d 6178 5f6d 6174  .        max_mat
-0000b5b0: 6368 6573 3a20 696e 7420 3d20 5f4d 4158  ches: int = _MAX
-0000b5c0: 5f49 4e54 2c0a 2020 2020 2020 2020 6f76  _INT,.        ov
-0000b5d0: 6572 6c61 703a 2062 6f6f 6c20 3d20 4661  erlap: bool = Fa
-0000b5e0: 6c73 652c 0a20 2020 2020 2020 202a 2c0a  lse,.        *,.
-0000b5f0: 2020 2020 2020 2020 6465 6275 673a 2062          debug: b
-0000b600: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-0000b610: 2020 2020 206d 6178 4d61 7463 6865 733a       maxMatches:
-0000b620: 2069 6e74 203d 205f 4d41 585f 494e 542c   int = _MAX_INT,
-0000b630: 0a20 2020 2029 202d 3e20 4765 6e65 7261  .    ) -> Genera
-0000b640: 746f 725b 5475 706c 655b 5061 7273 6552  tor[Tuple[ParseR
-0000b650: 6573 756c 7473 2c20 696e 742c 2069 6e74  esults, int, int
-0000b660: 5d2c 204e 6f6e 652c 204e 6f6e 655d 3a0a  ], None, None]:.
-0000b670: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000b680: 2020 2020 5363 616e 2074 6865 2069 6e70      Scan the inp
-0000b690: 7574 2073 7472 696e 6720 666f 7220 6578  ut string for ex
-0000b6a0: 7072 6573 7369 6f6e 206d 6174 6368 6573  pression matches
-0000b6b0: 2e20 2045 6163 6820 6d61 7463 6820 7769  .  Each match wi
-0000b6c0: 6c6c 2072 6574 7572 6e20 7468 650a 2020  ll return the.  
-0000b6d0: 2020 2020 2020 6d61 7463 6869 6e67 2074        matching t
-0000b6e0: 6f6b 656e 732c 2073 7461 7274 206c 6f63  okens, start loc
-0000b6f0: 6174 696f 6e2c 2061 6e64 2065 6e64 206c  ation, and end l
-0000b700: 6f63 6174 696f 6e2e 2020 4d61 7920 6265  ocation.  May be
-0000b710: 2063 616c 6c65 6420 7769 7468 206f 7074   called with opt
-0000b720: 696f 6e61 6c0a 2020 2020 2020 2020 6060  ional.        ``
-0000b730: 6d61 785f 6d61 7463 6865 7360 6020 6172  max_matches`` ar
-0000b740: 6775 6d65 6e74 2c20 746f 2063 6c69 7020  gument, to clip 
-0000b750: 7363 616e 6e69 6e67 2061 6674 6572 2027  scanning after '
-0000b760: 6e27 206d 6174 6368 6573 2061 7265 2066  n' matches are f
-0000b770: 6f75 6e64 2e20 2049 660a 2020 2020 2020  ound.  If.      
-0000b780: 2020 6060 6f76 6572 6c61 7060 6020 6973    ``overlap`` is
-0000b790: 2073 7065 6369 6669 6564 2c20 7468 656e   specified, then
-0000b7a0: 206f 7665 726c 6170 7069 6e67 206d 6174   overlapping mat
-0000b7b0: 6368 6573 2077 696c 6c20 6265 2072 6570  ches will be rep
-0000b7c0: 6f72 7465 642e 0a0a 2020 2020 2020 2020  orted...        
-0000b7d0: 4e6f 7465 2074 6861 7420 7468 6520 7374  Note that the st
-0000b7e0: 6172 7420 616e 6420 656e 6420 6c6f 6361  art and end loca
-0000b7f0: 7469 6f6e 7320 6172 6520 7265 706f 7274  tions are report
-0000b800: 6564 2072 656c 6174 6976 6520 746f 2074  ed relative to t
-0000b810: 6865 2073 7472 696e 670a 2020 2020 2020  he string.      
-0000b820: 2020 6265 696e 6720 7061 7273 6564 2e20    being parsed. 
-0000b830: 2053 6565 203a 636c 6173 733a 6070 6172   See :class:`par
-0000b840: 7365 5f73 7472 696e 6760 2066 6f72 206d  se_string` for m
-0000b850: 6f72 6520 696e 666f 726d 6174 696f 6e20  ore information 
-0000b860: 6f6e 2070 6172 7369 6e67 0a20 2020 2020  on parsing.     
-0000b870: 2020 2073 7472 696e 6773 2077 6974 6820     strings with 
-0000b880: 656d 6265 6464 6564 2074 6162 732e 0a0a  embedded tabs...
-0000b890: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-0000b8a0: 3a0a 0a20 2020 2020 2020 2020 2020 2073  :..            s
-0000b8b0: 6f75 7263 6520 3d20 2273 6c64 6a66 3132  ource = "sldjf12
-0000b8c0: 336c 7364 6a6a 6b66 3334 3573 6c64 6b6a  3lsdjjkf345sldkj
-0000b8d0: 6638 3739 6c6b 6a73 6664 3938 3722 0a20  f879lkjsfd987". 
-0000b8e0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-0000b8f0: 2873 6f75 7263 6529 0a20 2020 2020 2020  (source).       
-0000b900: 2020 2020 2066 6f72 2074 6f6b 656e 732c       for tokens,
-0000b910: 2073 7461 7274 2c20 656e 6420 696e 2057   start, end in W
-0000b920: 6f72 6428 616c 7068 6173 292e 7363 616e  ord(alphas).scan
-0000b930: 5f73 7472 696e 6728 736f 7572 6365 293a  _string(source):
-0000b940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b950: 2070 7269 6e74 2827 2027 2a73 7461 7274   print(' '*start
-0000b960: 202b 2027 5e27 2a28 656e 642d 7374 6172   + '^'*(end-star
-0000b970: 7429 290a 2020 2020 2020 2020 2020 2020  t)).            
-0000b980: 2020 2020 7072 696e 7428 2720 272a 7374      print(' '*st
-0000b990: 6172 7420 2b20 746f 6b65 6e73 5b30 5d29  art + tokens[0])
-0000b9a0: 0a0a 2020 2020 2020 2020 7072 696e 7473  ..        prints
-0000b9b0: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
-0000b9c0: 736c 646a 6631 3233 6c73 646a 6a6b 6633  sldjf123lsdjjkf3
-0000b9d0: 3435 736c 646b 6a66 3837 396c 6b6a 7366  45sldkjf879lkjsf
-0000b9e0: 6439 3837 0a20 2020 2020 2020 2020 2020  d987.           
-0000b9f0: 205e 5e5e 5e5e 0a20 2020 2020 2020 2020   ^^^^^.         
-0000ba00: 2020 2073 6c64 6a66 0a20 2020 2020 2020     sldjf.       
-0000ba10: 2020 2020 2020 2020 2020 2020 205e 5e5e               ^^^
-0000ba20: 5e5e 5e5e 0a20 2020 2020 2020 2020 2020  ^^^^.           
-0000ba30: 2020 2020 2020 2020 206c 7364 6a6a 6b66           lsdjjkf
-0000ba40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ba50: 2020 2020 2020 2020 2020 2020 2020 205e                 ^
-0000ba60: 5e5e 5e5e 5e0a 2020 2020 2020 2020 2020  ^^^^^.          
-0000ba70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ba80: 2020 2020 736c 646b 6a66 0a20 2020 2020      sldkjf.     
-0000ba90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000baa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bab0: 2020 5e5e 5e5e 5e5e 0a20 2020 2020 2020    ^^^^^^.       
-0000bac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bae0: 6c6b 6a73 6664 0a20 2020 2020 2020 2022  lkjsfd.        "
-0000baf0: 2222 0a20 2020 2020 2020 206d 6178 4d61  "".        maxMa
-0000bb00: 7463 6865 7320 3d20 6d69 6e28 6d61 784d  tches = min(maxM
-0000bb10: 6174 6368 6573 2c20 6d61 785f 6d61 7463  atches, max_matc
-0000bb20: 6865 7329 0a20 2020 2020 2020 2069 6620  hes).        if 
-0000bb30: 6e6f 7420 7365 6c66 2e73 7472 6561 6d6c  not self.streaml
-0000bb40: 696e 6564 3a0a 2020 2020 2020 2020 2020  ined:.          
-0000bb50: 2020 7365 6c66 2e73 7472 6561 6d6c 696e    self.streamlin
-0000bb60: 6528 290a 2020 2020 2020 2020 666f 7220  e().        for 
-0000bb70: 6520 696e 2073 656c 662e 6967 6e6f 7265  e in self.ignore
-0000bb80: 4578 7072 733a 0a20 2020 2020 2020 2020  Exprs:.         
-0000bb90: 2020 2065 2e73 7472 6561 6d6c 696e 6528     e.streamline(
-0000bba0: 290a 0a20 2020 2020 2020 2069 6620 6e6f  )..        if no
-0000bbb0: 7420 7365 6c66 2e6b 6565 7054 6162 733a  t self.keepTabs:
-0000bbc0: 0a20 2020 2020 2020 2020 2020 2069 6e73  .            ins
-0000bbd0: 7472 696e 6720 3d20 7374 7228 696e 7374  tring = str(inst
-0000bbe0: 7269 6e67 292e 6578 7061 6e64 7461 6273  ring).expandtabs
-0000bbf0: 2829 0a20 2020 2020 2020 2069 6e73 7472  ().        instr
-0000bc00: 6c65 6e20 3d20 6c65 6e28 696e 7374 7269  len = len(instri
-0000bc10: 6e67 290a 2020 2020 2020 2020 6c6f 6320  ng).        loc 
-0000bc20: 3d20 300a 2020 2020 2020 2020 7072 6570  = 0.        prep
-0000bc30: 6172 7365 466e 203d 2073 656c 662e 7072  arseFn = self.pr
-0000bc40: 6550 6172 7365 0a20 2020 2020 2020 2070  eParse.        p
-0000bc50: 6172 7365 466e 203d 2073 656c 662e 5f70  arseFn = self._p
-0000bc60: 6172 7365 0a20 2020 2020 2020 2050 6172  arse.        Par
-0000bc70: 7365 7245 6c65 6d65 6e74 2e72 6573 6574  serElement.reset
-0000bc80: 4361 6368 6528 290a 2020 2020 2020 2020  Cache().        
-0000bc90: 6d61 7463 6865 7320 3d20 300a 2020 2020  matches = 0.    
-0000bca0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0000bcb0: 2020 2020 2077 6869 6c65 206c 6f63 203c       while loc <
-0000bcc0: 3d20 696e 7374 726c 656e 2061 6e64 206d  = instrlen and m
-0000bcd0: 6174 6368 6573 203c 206d 6178 4d61 7463  atches < maxMatc
-0000bce0: 6865 733a 0a20 2020 2020 2020 2020 2020  hes:.           
-0000bcf0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-0000bd00: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-0000bd10: 656c 6f63 3a20 696e 7420 3d20 7072 6570  eloc: int = prep
-0000bd20: 6172 7365 466e 2869 6e73 7472 696e 672c  arseFn(instring,
-0000bd30: 206c 6f63 290a 2020 2020 2020 2020 2020   loc).          
-0000bd40: 2020 2020 2020 2020 2020 6e65 7874 4c6f            nextLo
-0000bd50: 633a 2069 6e74 0a20 2020 2020 2020 2020  c: int.         
-0000bd60: 2020 2020 2020 2020 2020 2074 6f6b 656e             token
-0000bd70: 733a 2050 6172 7365 5265 7375 6c74 730a  s: ParseResults.
-0000bd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd90: 2020 2020 6e65 7874 4c6f 632c 2074 6f6b      nextLoc, tok
-0000bda0: 656e 7320 3d20 7061 7273 6546 6e28 696e  ens = parseFn(in
-0000bdb0: 7374 7269 6e67 2c20 7072 656c 6f63 2c20  string, preloc, 
-0000bdc0: 6361 6c6c 5072 6550 6172 7365 3d46 616c  callPreParse=Fal
-0000bdd0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
-0000bde0: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
-0000bdf0: 4578 6365 7074 696f 6e3a 0a20 2020 2020  Exception:.     
-0000be00: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0000be10: 6f63 203d 2070 7265 6c6f 6320 2b20 310a  oc = preloc + 1.
-0000be20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000be30: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0000be40: 2020 2020 2020 2020 2020 6966 206e 6578            if nex
-0000be50: 744c 6f63 203e 206c 6f63 3a0a 2020 2020  tLoc > loc:.    
-0000be60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000be70: 2020 2020 6d61 7463 6865 7320 2b3d 2031      matches += 1
-0000be80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000be90: 2020 2020 2020 2020 2069 6620 6465 6275           if debu
-0000bea0: 673a 0a20 2020 2020 2020 2020 2020 2020  g:.             
-0000beb0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0000bec0: 7269 6e74 280a 2020 2020 2020 2020 2020  rint(.          
-0000bed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bee0: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
-0000bef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf00: 2020 2020 2020 2020 2020 2020 2274 6f6b              "tok
-0000bf10: 656e 7322 3a20 746f 6b65 6e73 2e61 734c  ens": tokens.asL
-0000bf20: 6973 7428 292c 0a20 2020 2020 2020 2020  ist(),.         
-0000bf30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf40: 2020 2020 2020 2020 2020 2022 7374 6172             "star
-0000bf50: 7422 3a20 7072 656c 6f63 2c0a 2020 2020  t": preloc,.    
-0000bf60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf80: 2265 6e64 223a 206e 6578 744c 6f63 2c0a  "end": nextLoc,.
+0000b490: 206c 6f63 203d 2073 656c 662e 7072 6550   loc = self.preP
+0000b4a0: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
+0000b4b0: 6f63 290a 2020 2020 2020 2020 2020 2020  oc).            
+0000b4c0: 2020 2020 7365 203d 2045 6d70 7479 2829      se = Empty()
+0000b4d0: 202b 2053 7472 696e 6745 6e64 2829 0a20   + StringEnd(). 
+0000b4e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000b4f0: 652e 5f70 6172 7365 2869 6e73 7472 696e  e._parse(instrin
+0000b500: 672c 206c 6f63 290a 2020 2020 2020 2020  g, loc).        
+0000b510: 6578 6365 7074 2050 6172 7365 4261 7365  except ParseBase
+0000b520: 4578 6365 7074 696f 6e20 6173 2065 7863  Exception as exc
+0000b530: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0000b540: 2050 6172 7365 7245 6c65 6d65 6e74 2e76   ParserElement.v
+0000b550: 6572 626f 7365 5f73 7461 636b 7472 6163  erbose_stacktrac
+0000b560: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0000b570: 2020 2072 6169 7365 0a20 2020 2020 2020     raise.       
+0000b580: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0000b590: 2020 2020 2020 2020 2020 2023 2063 6174             # cat
+0000b5a0: 6368 2061 6e64 2072 652d 7261 6973 6520  ch and re-raise 
+0000b5b0: 6578 6365 7074 696f 6e20 6672 6f6d 2068  exception from h
+0000b5c0: 6572 652c 2063 6c65 6172 696e 6720 6f75  ere, clearing ou
+0000b5d0: 7420 7079 7061 7273 696e 6720 696e 7465  t pyparsing inte
+0000b5e0: 726e 616c 2073 7461 636b 2074 7261 6365  rnal stack trace
+0000b5f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b600: 2072 6169 7365 2065 7863 2e77 6974 685f   raise exc.with_
+0000b610: 7472 6163 6562 6163 6b28 4e6f 6e65 290a  traceback(None).
+0000b620: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0000b630: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000b640: 2074 6f6b 656e 730a 0a20 2020 2064 6566   tokens..    def
+0000b650: 2073 6361 6e5f 7374 7269 6e67 280a 2020   scan_string(.  
+0000b660: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+0000b670: 2020 2020 696e 7374 7269 6e67 3a20 7374      instring: st
+0000b680: 722c 0a20 2020 2020 2020 206d 6178 5f6d  r,.        max_m
+0000b690: 6174 6368 6573 3a20 696e 7420 3d20 5f4d  atches: int = _M
+0000b6a0: 4158 5f49 4e54 2c0a 2020 2020 2020 2020  AX_INT,.        
+0000b6b0: 6f76 6572 6c61 703a 2062 6f6f 6c20 3d20  overlap: bool = 
+0000b6c0: 4661 6c73 652c 0a20 2020 2020 2020 202a  False,.        *
+0000b6d0: 2c0a 2020 2020 2020 2020 6465 6275 673a  ,.        debug:
+0000b6e0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+0000b6f0: 2020 2020 2020 206d 6178 4d61 7463 6865         maxMatche
+0000b700: 733a 2069 6e74 203d 205f 4d41 585f 494e  s: int = _MAX_IN
+0000b710: 542c 0a20 2020 2029 202d 3e20 4765 6e65  T,.    ) -> Gene
+0000b720: 7261 746f 725b 5475 706c 655b 5061 7273  rator[Tuple[Pars
+0000b730: 6552 6573 756c 7473 2c20 696e 742c 2069  eResults, int, i
+0000b740: 6e74 5d2c 204e 6f6e 652c 204e 6f6e 655d  nt], None, None]
+0000b750: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0000b760: 2020 2020 2020 5363 616e 2074 6865 2069        Scan the i
+0000b770: 6e70 7574 2073 7472 696e 6720 666f 7220  nput string for 
+0000b780: 6578 7072 6573 7369 6f6e 206d 6174 6368  expression match
+0000b790: 6573 2e20 2045 6163 6820 6d61 7463 6820  es.  Each match 
+0000b7a0: 7769 6c6c 2072 6574 7572 6e20 7468 650a  will return the.
+0000b7b0: 2020 2020 2020 2020 6d61 7463 6869 6e67          matching
+0000b7c0: 2074 6f6b 656e 732c 2073 7461 7274 206c   tokens, start l
+0000b7d0: 6f63 6174 696f 6e2c 2061 6e64 2065 6e64  ocation, and end
+0000b7e0: 206c 6f63 6174 696f 6e2e 2020 4d61 7920   location.  May 
+0000b7f0: 6265 2063 616c 6c65 6420 7769 7468 206f  be called with o
+0000b800: 7074 696f 6e61 6c0a 2020 2020 2020 2020  ptional.        
+0000b810: 6060 6d61 785f 6d61 7463 6865 7360 6020  ``max_matches`` 
+0000b820: 6172 6775 6d65 6e74 2c20 746f 2063 6c69  argument, to cli
+0000b830: 7020 7363 616e 6e69 6e67 2061 6674 6572  p scanning after
+0000b840: 2027 6e27 206d 6174 6368 6573 2061 7265   'n' matches are
+0000b850: 2066 6f75 6e64 2e20 2049 660a 2020 2020   found.  If.    
+0000b860: 2020 2020 6060 6f76 6572 6c61 7060 6020      ``overlap`` 
+0000b870: 6973 2073 7065 6369 6669 6564 2c20 7468  is specified, th
+0000b880: 656e 206f 7665 726c 6170 7069 6e67 206d  en overlapping m
+0000b890: 6174 6368 6573 2077 696c 6c20 6265 2072  atches will be r
+0000b8a0: 6570 6f72 7465 642e 0a0a 2020 2020 2020  eported...      
+0000b8b0: 2020 4e6f 7465 2074 6861 7420 7468 6520    Note that the 
+0000b8c0: 7374 6172 7420 616e 6420 656e 6420 6c6f  start and end lo
+0000b8d0: 6361 7469 6f6e 7320 6172 6520 7265 706f  cations are repo
+0000b8e0: 7274 6564 2072 656c 6174 6976 6520 746f  rted relative to
+0000b8f0: 2074 6865 2073 7472 696e 670a 2020 2020   the string.    
+0000b900: 2020 2020 6265 696e 6720 7061 7273 6564      being parsed
+0000b910: 2e20 2053 6565 203a 636c 6173 733a 6070  .  See :class:`p
+0000b920: 6172 7365 5f73 7472 696e 6760 2066 6f72  arse_string` for
+0000b930: 206d 6f72 6520 696e 666f 726d 6174 696f   more informatio
+0000b940: 6e20 6f6e 2070 6172 7369 6e67 0a20 2020  n on parsing.   
+0000b950: 2020 2020 2073 7472 696e 6773 2077 6974       strings wit
+0000b960: 6820 656d 6265 6464 6564 2074 6162 732e  h embedded tabs.
+0000b970: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
+0000b980: 653a 3a0a 0a20 2020 2020 2020 2020 2020  e::..           
+0000b990: 2073 6f75 7263 6520 3d20 2273 6c64 6a66   source = "sldjf
+0000b9a0: 3132 336c 7364 6a6a 6b66 3334 3573 6c64  123lsdjjkf345sld
+0000b9b0: 6b6a 6638 3739 6c6b 6a73 6664 3938 3722  kjf879lkjsfd987"
+0000b9c0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+0000b9d0: 6e74 2873 6f75 7263 6529 0a20 2020 2020  nt(source).     
+0000b9e0: 2020 2020 2020 2066 6f72 2074 6f6b 656e         for token
+0000b9f0: 732c 2073 7461 7274 2c20 656e 6420 696e  s, start, end in
+0000ba00: 2057 6f72 6428 616c 7068 6173 292e 7363   Word(alphas).sc
+0000ba10: 616e 5f73 7472 696e 6728 736f 7572 6365  an_string(source
+0000ba20: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000ba30: 2020 2070 7269 6e74 2827 2027 2a73 7461     print(' '*sta
+0000ba40: 7274 202b 2027 5e27 2a28 656e 642d 7374  rt + '^'*(end-st
+0000ba50: 6172 7429 290a 2020 2020 2020 2020 2020  art)).          
+0000ba60: 2020 2020 2020 7072 696e 7428 2720 272a        print(' '*
+0000ba70: 7374 6172 7420 2b20 746f 6b65 6e73 5b30  start + tokens[0
+0000ba80: 5d29 0a0a 2020 2020 2020 2020 7072 696e  ])..        prin
+0000ba90: 7473 3a3a 0a0a 2020 2020 2020 2020 2020  ts::..          
+0000baa0: 2020 736c 646a 6631 3233 6c73 646a 6a6b    sldjf123lsdjjk
+0000bab0: 6633 3435 736c 646b 6a66 3837 396c 6b6a  f345sldkjf879lkj
+0000bac0: 7366 6439 3837 0a20 2020 2020 2020 2020  sfd987.         
+0000bad0: 2020 205e 5e5e 5e5e 0a20 2020 2020 2020     ^^^^^.       
+0000bae0: 2020 2020 2073 6c64 6a66 0a20 2020 2020       sldjf.     
+0000baf0: 2020 2020 2020 2020 2020 2020 2020 205e                 ^
+0000bb00: 5e5e 5e5e 5e5e 0a20 2020 2020 2020 2020  ^^^^^^.         
+0000bb10: 2020 2020 2020 2020 2020 206c 7364 6a6a             lsdjj
+0000bb20: 6b66 0a20 2020 2020 2020 2020 2020 2020  kf.             
+0000bb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb40: 205e 5e5e 5e5e 5e0a 2020 2020 2020 2020   ^^^^^^.        
+0000bb50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb60: 2020 2020 2020 736c 646b 6a66 0a20 2020        sldkjf.   
+0000bb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb90: 2020 2020 5e5e 5e5e 5e5e 0a20 2020 2020      ^^^^^^.     
+0000bba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bbc0: 2020 6c6b 6a73 6664 0a20 2020 2020 2020    lkjsfd.       
+0000bbd0: 2022 2222 0a20 2020 2020 2020 206d 6178   """.        max
+0000bbe0: 4d61 7463 6865 7320 3d20 6d69 6e28 6d61  Matches = min(ma
+0000bbf0: 784d 6174 6368 6573 2c20 6d61 785f 6d61  xMatches, max_ma
+0000bc00: 7463 6865 7329 0a20 2020 2020 2020 2069  tches).        i
+0000bc10: 6620 6e6f 7420 7365 6c66 2e73 7472 6561  f not self.strea
+0000bc20: 6d6c 696e 6564 3a0a 2020 2020 2020 2020  mlined:.        
+0000bc30: 2020 2020 7365 6c66 2e73 7472 6561 6d6c      self.streaml
+0000bc40: 696e 6528 290a 2020 2020 2020 2020 666f  ine().        fo
+0000bc50: 7220 6520 696e 2073 656c 662e 6967 6e6f  r e in self.igno
+0000bc60: 7265 4578 7072 733a 0a20 2020 2020 2020  reExprs:.       
+0000bc70: 2020 2020 2065 2e73 7472 6561 6d6c 696e       e.streamlin
+0000bc80: 6528 290a 0a20 2020 2020 2020 2069 6620  e()..        if 
+0000bc90: 6e6f 7420 7365 6c66 2e6b 6565 7054 6162  not self.keepTab
+0000bca0: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
+0000bcb0: 6e73 7472 696e 6720 3d20 7374 7228 696e  nstring = str(in
+0000bcc0: 7374 7269 6e67 292e 6578 7061 6e64 7461  string).expandta
+0000bcd0: 6273 2829 0a20 2020 2020 2020 2069 6e73  bs().        ins
+0000bce0: 7472 6c65 6e20 3d20 6c65 6e28 696e 7374  trlen = len(inst
+0000bcf0: 7269 6e67 290a 2020 2020 2020 2020 6c6f  ring).        lo
+0000bd00: 6320 3d20 300a 2020 2020 2020 2020 7072  c = 0.        pr
+0000bd10: 6570 6172 7365 466e 203d 2073 656c 662e  eparseFn = self.
+0000bd20: 7072 6550 6172 7365 0a20 2020 2020 2020  preParse.       
+0000bd30: 2070 6172 7365 466e 203d 2073 656c 662e   parseFn = self.
+0000bd40: 5f70 6172 7365 0a20 2020 2020 2020 2050  _parse.        P
+0000bd50: 6172 7365 7245 6c65 6d65 6e74 2e72 6573  arserElement.res
+0000bd60: 6574 4361 6368 6528 290a 2020 2020 2020  etCache().      
+0000bd70: 2020 6d61 7463 6865 7320 3d20 300a 2020    matches = 0.  
+0000bd80: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+0000bd90: 2020 2020 2020 2077 6869 6c65 206c 6f63         while loc
+0000bda0: 203c 3d20 696e 7374 726c 656e 2061 6e64   <= instrlen and
+0000bdb0: 206d 6174 6368 6573 203c 206d 6178 4d61   matches < maxMa
+0000bdc0: 7463 6865 733a 0a20 2020 2020 2020 2020  tches:.         
+0000bdd0: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+0000bde0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bdf0: 7072 656c 6f63 3a20 696e 7420 3d20 7072  preloc: int = pr
+0000be00: 6570 6172 7365 466e 2869 6e73 7472 696e  eparseFn(instrin
+0000be10: 672c 206c 6f63 290a 2020 2020 2020 2020  g, loc).        
+0000be20: 2020 2020 2020 2020 2020 2020 6e65 7874              next
+0000be30: 4c6f 633a 2069 6e74 0a20 2020 2020 2020  Loc: int.       
+0000be40: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
+0000be50: 656e 733a 2050 6172 7365 5265 7375 6c74  ens: ParseResult
+0000be60: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+0000be70: 2020 2020 2020 6e65 7874 4c6f 632c 2074        nextLoc, t
+0000be80: 6f6b 656e 7320 3d20 7061 7273 6546 6e28  okens = parseFn(
+0000be90: 696e 7374 7269 6e67 2c20 7072 656c 6f63  instring, preloc
+0000bea0: 2c20 6361 6c6c 5072 6550 6172 7365 3d46  , callPreParse=F
+0000beb0: 616c 7365 290a 2020 2020 2020 2020 2020  alse).          
+0000bec0: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
+0000bed0: 7365 4578 6365 7074 696f 6e3a 0a20 2020  seException:.   
+0000bee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bef0: 206c 6f63 203d 2070 7265 6c6f 6320 2b20   loc = preloc + 
+0000bf00: 310a 2020 2020 2020 2020 2020 2020 2020  1.              
+0000bf10: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0000bf20: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+0000bf30: 6578 744c 6f63 203e 206c 6f63 3a0a 2020  extLoc > loc:.  
+0000bf40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf50: 2020 2020 2020 6d61 7463 6865 7320 2b3d        matches +=
+0000bf60: 2031 0a20 2020 2020 2020 2020 2020 2020   1.             
+0000bf70: 2020 2020 2020 2020 2020 2069 6620 6465             if de
+0000bf80: 6275 673a 0a20 2020 2020 2020 2020 2020  bug:.           
 0000bf90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bfb0: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
-0000bfc0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+0000bfa0: 2070 7269 6e74 280a 2020 2020 2020 2020   print(.        
+0000bfb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bfc0: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
 0000bfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bfe0: 2020 2020 2020 2020 7969 656c 6420 746f          yield to
-0000bff0: 6b65 6e73 2c20 7072 656c 6f63 2c20 6e65  kens, preloc, ne
-0000c000: 7874 4c6f 630a 2020 2020 2020 2020 2020  xtLoc.          
-0000c010: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000c020: 206f 7665 726c 6170 3a0a 2020 2020 2020   overlap:.      
-0000c030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c040: 2020 2020 2020 6e65 7874 6c6f 6320 3d20        nextloc = 
-0000c050: 7072 6570 6172 7365 466e 2869 6e73 7472  preparseFn(instr
-0000c060: 696e 672c 206c 6f63 290a 2020 2020 2020  ing, loc).      
-0000c070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c080: 2020 2020 2020 6966 206e 6578 746c 6f63        if nextloc
-0000c090: 203e 206c 6f63 3a0a 2020 2020 2020 2020   > loc:.        
+0000bfe0: 2020 2020 2020 2020 2020 2020 2020 2274                "t
+0000bff0: 6f6b 656e 7322 3a20 746f 6b65 6e73 2e61  okens": tokens.a
+0000c000: 734c 6973 7428 292c 0a20 2020 2020 2020  sList(),.       
+0000c010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c020: 2020 2020 2020 2020 2020 2020 2022 7374               "st
+0000c030: 6172 7422 3a20 7072 656c 6f63 2c0a 2020  art": preloc,.  
+0000c040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c060: 2020 2265 6e64 223a 206e 6578 744c 6f63    "end": nextLoc
+0000c070: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000c080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c090: 2020 7d0a 2020 2020 2020 2020 2020 2020    }.            
 0000c0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c0b0: 2020 2020 2020 2020 6c6f 6320 3d20 6e65          loc = ne
-0000c0c0: 7874 4c6f 630a 2020 2020 2020 2020 2020  xtLoc.          
-0000c0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c0e0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0000c0b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000c0c0: 2020 2020 2020 2020 2020 7969 656c 6420            yield 
+0000c0d0: 746f 6b65 6e73 2c20 7072 656c 6f63 2c20  tokens, preloc, 
+0000c0e0: 6e65 7874 4c6f 630a 2020 2020 2020 2020  nextLoc.        
 0000c0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c100: 2020 2020 2020 2020 6c6f 6320 2b3d 2031          loc += 1
-0000c110: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c120: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0000c130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c140: 2020 2020 2020 2020 2020 206c 6f63 203d             loc =
-0000c150: 206e 6578 744c 6f63 0a20 2020 2020 2020   nextLoc.       
-0000c160: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0000c170: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000c180: 2020 2020 2020 2020 2020 206c 6f63 203d             loc =
-0000c190: 2070 7265 6c6f 6320 2b20 310a 2020 2020   preloc + 1.    
-0000c1a0: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
-0000c1b0: 4261 7365 4578 6365 7074 696f 6e20 6173  BaseException as
-0000c1c0: 2065 7863 3a0a 2020 2020 2020 2020 2020   exc:.          
-0000c1d0: 2020 6966 2050 6172 7365 7245 6c65 6d65    if ParserEleme
-0000c1e0: 6e74 2e76 6572 626f 7365 5f73 7461 636b  nt.verbose_stack
-0000c1f0: 7472 6163 653a 0a20 2020 2020 2020 2020  trace:.         
-0000c200: 2020 2020 2020 2072 6169 7365 0a20 2020         raise.   
-0000c210: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0000c220: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0000c230: 2063 6174 6368 2061 6e64 2072 652d 7261   catch and re-ra
-0000c240: 6973 6520 6578 6365 7074 696f 6e20 6672  ise exception fr
-0000c250: 6f6d 2068 6572 652c 2063 6c65 6172 7320  om here, clears 
-0000c260: 6f75 7420 7079 7061 7273 696e 6720 696e  out pyparsing in
-0000c270: 7465 726e 616c 2073 7461 636b 2074 7261  ternal stack tra
-0000c280: 6365 0a20 2020 2020 2020 2020 2020 2020  ce.             
-0000c290: 2020 2072 6169 7365 2065 7863 2e77 6974     raise exc.wit
-0000c2a0: 685f 7472 6163 6562 6163 6b28 4e6f 6e65  h_traceback(None
-0000c2b0: 290a 0a20 2020 2064 6566 2074 7261 6e73  )..    def trans
-0000c2c0: 666f 726d 5f73 7472 696e 6728 7365 6c66  form_string(self
-0000c2d0: 2c20 696e 7374 7269 6e67 3a20 7374 722c  , instring: str,
-0000c2e0: 202a 2c20 6465 6275 673a 2062 6f6f 6c20   *, debug: bool 
-0000c2f0: 3d20 4661 6c73 6529 202d 3e20 7374 723a  = False) -> str:
-0000c300: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000c310: 2020 2020 2045 7874 656e 7369 6f6e 2074       Extension t
-0000c320: 6f20 3a63 6c61 7373 3a60 7363 616e 5f73  o :class:`scan_s
-0000c330: 7472 696e 6760 2c20 746f 206d 6f64 6966  tring`, to modif
-0000c340: 7920 6d61 7463 6869 6e67 2074 6578 7420  y matching text 
-0000c350: 7769 7468 206d 6f64 6966 6965 6420 746f  with modified to
-0000c360: 6b65 6e73 2074 6861 7420 6d61 790a 2020  kens that may.  
-0000c370: 2020 2020 2020 6265 2072 6574 7572 6e65        be returne
-0000c380: 6420 6672 6f6d 2061 2070 6172 7365 2061  d from a parse a
-0000c390: 6374 696f 6e2e 2020 546f 2075 7365 2060  ction.  To use `
-0000c3a0: 6074 7261 6e73 666f 726d 5f73 7472 696e  `transform_strin
-0000c3b0: 6760 602c 2064 6566 696e 6520 6120 6772  g``, define a gr
-0000c3c0: 616d 6d61 7220 616e 640a 2020 2020 2020  ammar and.      
-0000c3d0: 2020 6174 7461 6368 2061 2070 6172 7365    attach a parse
-0000c3e0: 2061 6374 696f 6e20 746f 2069 7420 7468   action to it th
-0000c3f0: 6174 206d 6f64 6966 6965 7320 7468 6520  at modifies the 
-0000c400: 7265 7475 726e 6564 2074 6f6b 656e 206c  returned token l
-0000c410: 6973 742e 0a20 2020 2020 2020 2049 6e76  ist..        Inv
-0000c420: 6f6b 696e 6720 6060 7472 616e 7366 6f72  oking ``transfor
-0000c430: 6d5f 7374 7269 6e67 2829 6060 206f 6e20  m_string()`` on 
-0000c440: 6120 7461 7267 6574 2073 7472 696e 6720  a target string 
-0000c450: 7769 6c6c 2074 6865 6e20 7363 616e 2066  will then scan f
-0000c460: 6f72 206d 6174 6368 6573 2c0a 2020 2020  or matches,.    
-0000c470: 2020 2020 616e 6420 7265 706c 6163 6520      and replace 
-0000c480: 7468 6520 6d61 7463 6865 6420 7465 7874  the matched text
-0000c490: 2070 6174 7465 726e 7320 6163 636f 7264   patterns accord
-0000c4a0: 696e 6720 746f 2074 6865 206c 6f67 6963  ing to the logic
-0000c4b0: 2069 6e20 7468 6520 7061 7273 650a 2020   in the parse.  
-0000c4c0: 2020 2020 2020 6163 7469 6f6e 2e20 2060        action.  `
-0000c4d0: 6074 7261 6e73 666f 726d 5f73 7472 696e  `transform_strin
-0000c4e0: 6728 2960 6020 7265 7475 726e 7320 7468  g()`` returns th
-0000c4f0: 6520 7265 7375 6c74 696e 6720 7472 616e  e resulting tran
-0000c500: 7366 6f72 6d65 6420 7374 7269 6e67 2e0a  sformed string..
-0000c510: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
-0000c520: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
-0000c530: 7764 203d 2057 6f72 6428 616c 7068 6173  wd = Word(alphas
-0000c540: 290a 2020 2020 2020 2020 2020 2020 7764  ).            wd
-0000c550: 2e73 6574 5f70 6172 7365 5f61 6374 696f  .set_parse_actio
-0000c560: 6e28 6c61 6d62 6461 2074 6f6b 733a 2074  n(lambda toks: t
-0000c570: 6f6b 735b 305d 2e74 6974 6c65 2829 290a  oks[0].title()).
-0000c580: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-0000c590: 6e74 2877 642e 7472 616e 7366 6f72 6d5f  nt(wd.transform_
-0000c5a0: 7374 7269 6e67 2822 6e6f 7720 6973 2074  string("now is t
-0000c5b0: 6865 2077 696e 7465 7220 6f66 206f 7572  he winter of our
-0000c5c0: 2064 6973 636f 6e74 656e 7420 6d61 6465   discontent made
-0000c5d0: 2067 6c6f 7269 6f75 7320 7375 6d6d 6572   glorious summer
-0000c5e0: 2062 7920 7468 6973 2073 756e 206f 6620   by this sun of 
-0000c5f0: 796f 726b 2e22 2929 0a0a 2020 2020 2020  york."))..      
-0000c600: 2020 7072 696e 7473 3a3a 0a0a 2020 2020    prints::..    
-0000c610: 2020 2020 2020 2020 4e6f 7720 4973 2054          Now Is T
-0000c620: 6865 2057 696e 7465 7220 4f66 204f 7572  he Winter Of Our
-0000c630: 2044 6973 636f 6e74 656e 7420 4d61 6465   Discontent Made
-0000c640: 2047 6c6f 7269 6f75 7320 5375 6d6d 6572   Glorious Summer
-0000c650: 2042 7920 5468 6973 2053 756e 204f 6620   By This Sun Of 
-0000c660: 596f 726b 2e0a 2020 2020 2020 2020 2222  York..        ""
-0000c670: 220a 2020 2020 2020 2020 6f75 743a 204c  ".        out: L
-0000c680: 6973 745b 7374 725d 203d 205b 5d0a 2020  ist[str] = [].  
-0000c690: 2020 2020 2020 6c61 7374 4520 3d20 300a        lastE = 0.
-0000c6a0: 2020 2020 2020 2020 2320 666f 7263 6520          # force 
-0000c6b0: 7072 6573 6572 7661 7469 6f6e 206f 6620  preservation of 
-0000c6c0: 3c54 4142 3e73 2c20 746f 206d 696e 696d  <TAB>s, to minim
-0000c6d0: 697a 6520 756e 7761 6e74 6564 2074 7261  ize unwanted tra
-0000c6e0: 6e73 666f 726d 6174 696f 6e20 6f66 2073  nsformation of s
-0000c6f0: 7472 696e 672c 2061 6e64 2074 6f0a 2020  tring, and to.  
-0000c700: 2020 2020 2020 2320 6b65 6570 2073 7472        # keep str
-0000c710: 696e 6720 6c6f 6373 2073 7472 6169 6768  ing locs straigh
-0000c720: 7420 6265 7477 6565 6e20 7472 616e 7366  t between transf
-0000c730: 6f72 6d5f 7374 7269 6e67 2061 6e64 2073  orm_string and s
-0000c740: 6361 6e5f 7374 7269 6e67 0a20 2020 2020  can_string.     
-0000c750: 2020 2073 656c 662e 6b65 6570 5461 6273     self.keepTabs
-0000c760: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-0000c770: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0000c780: 2066 6f72 2074 2c20 732c 2065 2069 6e20   for t, s, e in 
-0000c790: 7365 6c66 2e73 6361 6e5f 7374 7269 6e67  self.scan_string
-0000c7a0: 2869 6e73 7472 696e 672c 2064 6562 7567  (instring, debug
-0000c7b0: 3d64 6562 7567 293a 0a20 2020 2020 2020  =debug):.       
-0000c7c0: 2020 2020 2020 2020 206f 7574 2e61 7070           out.app
-0000c7d0: 656e 6428 696e 7374 7269 6e67 5b6c 6173  end(instring[las
-0000c7e0: 7445 3a73 5d29 0a20 2020 2020 2020 2020  tE:s]).         
-0000c7f0: 2020 2020 2020 2069 6620 743a 0a20 2020         if t:.   
-0000c800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c810: 2069 6620 6973 696e 7374 616e 6365 2874   if isinstance(t
-0000c820: 2c20 5061 7273 6552 6573 756c 7473 293a  , ParseResults):
-0000c830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c840: 2020 2020 2020 2020 206f 7574 202b 3d20           out += 
-0000c850: 742e 6173 5f6c 6973 7428 290a 2020 2020  t.as_list().    
-0000c860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c870: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
-0000c880: 742c 2049 7465 7261 626c 6529 2061 6e64  t, Iterable) and
-0000c890: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
-0000c8a0: 742c 2073 7472 5f74 7970 6529 3a0a 2020  t, str_type):.  
-0000c8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c8c0: 2020 2020 2020 6f75 742e 6578 7465 6e64        out.extend
-0000c8d0: 2874 290a 2020 2020 2020 2020 2020 2020  (t).            
-0000c8e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000c8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c900: 2020 2020 2020 6f75 742e 6170 7065 6e64        out.append
-0000c910: 2874 290a 2020 2020 2020 2020 2020 2020  (t).            
-0000c920: 2020 2020 6c61 7374 4520 3d20 650a 2020      lastE = e.  
-0000c930: 2020 2020 2020 2020 2020 6f75 742e 6170            out.ap
-0000c940: 7065 6e64 2869 6e73 7472 696e 675b 6c61  pend(instring[la
-0000c950: 7374 453a 5d29 0a20 2020 2020 2020 2020  stE:]).         
-0000c960: 2020 206f 7574 203d 205b 6f20 666f 7220     out = [o for 
-0000c970: 6f20 696e 206f 7574 2069 6620 6f5d 0a20  o in out if o]. 
-0000c980: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000c990: 6e20 2222 2e6a 6f69 6e28 5b73 7472 2873  n "".join([str(s
-0000c9a0: 2920 666f 7220 7320 696e 205f 666c 6174  ) for s in _flat
-0000c9b0: 7465 6e28 6f75 7429 5d29 0a20 2020 2020  ten(out)]).     
-0000c9c0: 2020 2065 7863 6570 7420 5061 7273 6542     except ParseB
-0000c9d0: 6173 6545 7863 6570 7469 6f6e 2061 7320  aseException as 
-0000c9e0: 6578 633a 0a20 2020 2020 2020 2020 2020  exc:.           
-0000c9f0: 2069 6620 5061 7273 6572 456c 656d 656e   if ParserElemen
-0000ca00: 742e 7665 7262 6f73 655f 7374 6163 6b74  t.verbose_stackt
-0000ca10: 7261 6365 3a0a 2020 2020 2020 2020 2020  race:.          
-0000ca20: 2020 2020 2020 7261 6973 650a 2020 2020        raise.    
-0000ca30: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000ca40: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000ca50: 6361 7463 6820 616e 6420 7265 2d72 6169  catch and re-rai
-0000ca60: 7365 2065 7863 6570 7469 6f6e 2066 726f  se exception fro
-0000ca70: 6d20 6865 7265 2c20 636c 6561 7273 206f  m here, clears o
-0000ca80: 7574 2070 7970 6172 7369 6e67 2069 6e74  ut pyparsing int
-0000ca90: 6572 6e61 6c20 7374 6163 6b20 7472 6163  ernal stack trac
-0000caa0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-0000cab0: 2020 7261 6973 6520 6578 632e 7769 7468    raise exc.with
-0000cac0: 5f74 7261 6365 6261 636b 284e 6f6e 6529  _traceback(None)
-0000cad0: 0a0a 2020 2020 6465 6620 7365 6172 6368  ..    def search
-0000cae0: 5f73 7472 696e 6728 0a20 2020 2020 2020  _string(.       
-0000caf0: 2073 656c 662c 0a20 2020 2020 2020 2069   self,.        i
-0000cb00: 6e73 7472 696e 673a 2073 7472 2c0a 2020  nstring: str,.  
-0000cb10: 2020 2020 2020 6d61 785f 6d61 7463 6865        max_matche
-0000cb20: 733a 2069 6e74 203d 205f 4d41 585f 494e  s: int = _MAX_IN
-0000cb30: 542c 0a20 2020 2020 2020 202a 2c0a 2020  T,.        *,.  
-0000cb40: 2020 2020 2020 6465 6275 673a 2062 6f6f        debug: boo
-0000cb50: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-0000cb60: 2020 206d 6178 4d61 7463 6865 733a 2069     maxMatches: i
-0000cb70: 6e74 203d 205f 4d41 585f 494e 542c 0a20  nt = _MAX_INT,. 
-0000cb80: 2020 2029 202d 3e20 5061 7273 6552 6573     ) -> ParseRes
-0000cb90: 756c 7473 3a0a 2020 2020 2020 2020 2222  ults:.        ""
-0000cba0: 220a 2020 2020 2020 2020 416e 6f74 6865  ".        Anothe
-0000cbb0: 7220 6578 7465 6e73 696f 6e20 746f 203a  r extension to :
-0000cbc0: 636c 6173 733a 6073 6361 6e5f 7374 7269  class:`scan_stri
-0000cbd0: 6e67 602c 2073 696d 706c 6966 7969 6e67  ng`, simplifying
-0000cbe0: 2074 6865 2061 6363 6573 7320 746f 2074   the access to t
-0000cbf0: 6865 2074 6f6b 656e 7320 666f 756e 640a  he tokens found.
-0000cc00: 2020 2020 2020 2020 746f 206d 6174 6368          to match
-0000cc10: 2074 6865 2067 6976 656e 2070 6172 7365   the given parse
-0000cc20: 2065 7870 7265 7373 696f 6e2e 2020 4d61   expression.  Ma
-0000cc30: 7920 6265 2063 616c 6c65 6420 7769 7468  y be called with
-0000cc40: 206f 7074 696f 6e61 6c0a 2020 2020 2020   optional.      
-0000cc50: 2020 6060 6d61 785f 6d61 7463 6865 7360    ``max_matches`
-0000cc60: 6020 6172 6775 6d65 6e74 2c20 746f 2063  ` argument, to c
-0000cc70: 6c69 7020 7365 6172 6368 696e 6720 6166  lip searching af
-0000cc80: 7465 7220 276e 2720 6d61 7463 6865 7320  ter 'n' matches 
-0000cc90: 6172 6520 666f 756e 642e 0a0a 2020 2020  are found...    
-0000cca0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-0000ccb0: 2020 2020 2020 2020 2020 2023 2061 2063             # a c
-0000ccc0: 6170 6974 616c 697a 6564 2077 6f72 6420  apitalized word 
-0000ccd0: 7374 6172 7473 2077 6974 6820 616e 2075  starts with an u
-0000cce0: 7070 6572 6361 7365 206c 6574 7465 722c  ppercase letter,
-0000ccf0: 2066 6f6c 6c6f 7765 6420 6279 207a 6572   followed by zer
-0000cd00: 6f20 6f72 206d 6f72 6520 6c6f 7765 7263  o or more lowerc
-0000cd10: 6173 6520 6c65 7474 6572 730a 2020 2020  ase letters.    
-0000cd20: 2020 2020 2020 2020 6361 705f 776f 7264          cap_word
-0000cd30: 203d 2057 6f72 6428 616c 7068 6173 2e75   = Word(alphas.u
-0000cd40: 7070 6572 2829 2c20 616c 7068 6173 2e6c  pper(), alphas.l
-0000cd50: 6f77 6572 2829 290a 0a20 2020 2020 2020  ower())..       
-0000cd60: 2020 2020 2070 7269 6e74 2863 6170 5f77       print(cap_w
-0000cd70: 6f72 642e 7365 6172 6368 5f73 7472 696e  ord.search_strin
-0000cd80: 6728 224d 6f72 6520 7468 616e 2049 726f  g("More than Iro
-0000cd90: 6e2c 206d 6f72 6520 7468 616e 204c 6561  n, more than Lea
-0000cda0: 642c 206d 6f72 6520 7468 616e 2047 6f6c  d, more than Gol
-0000cdb0: 6420 4920 6e65 6564 2045 6c65 6374 7269  d I need Electri
-0000cdc0: 6369 7479 2229 290a 0a20 2020 2020 2020  city"))..       
-0000cdd0: 2020 2020 2023 2074 6865 2073 756d 2829       # the sum()
-0000cde0: 2062 7569 6c74 696e 2063 616e 2062 6520   builtin can be 
-0000cdf0: 7573 6564 2074 6f20 6d65 7267 6520 7265  used to merge re
-0000ce00: 7375 6c74 7320 696e 746f 2061 2073 696e  sults into a sin
-0000ce10: 676c 6520 5061 7273 6552 6573 756c 7473  gle ParseResults
-0000ce20: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0000ce30: 2020 2020 7072 696e 7428 7375 6d28 6361      print(sum(ca
-0000ce40: 705f 776f 7264 2e73 6561 7263 685f 7374  p_word.search_st
-0000ce50: 7269 6e67 2822 4d6f 7265 2074 6861 6e20  ring("More than 
-0000ce60: 4972 6f6e 2c20 6d6f 7265 2074 6861 6e20  Iron, more than 
-0000ce70: 4c65 6164 2c20 6d6f 7265 2074 6861 6e20  Lead, more than 
-0000ce80: 476f 6c64 2049 206e 6565 6420 456c 6563  Gold I need Elec
-0000ce90: 7472 6963 6974 7922 2929 290a 0a20 2020  tricity")))..   
-0000cea0: 2020 2020 2070 7269 6e74 733a 3a0a 0a20       prints::.. 
-0000ceb0: 2020 2020 2020 2020 2020 205b 5b27 4d6f             [['Mo
-0000cec0: 7265 275d 2c20 5b27 4972 6f6e 275d 2c20  re'], ['Iron'], 
-0000ced0: 5b27 4c65 6164 275d 2c20 5b27 476f 6c64  ['Lead'], ['Gold
-0000cee0: 275d 2c20 5b27 4927 5d2c 205b 2745 6c65  '], ['I'], ['Ele
-0000cef0: 6374 7269 6369 7479 275d 5d0a 2020 2020  ctricity']].    
-0000cf00: 2020 2020 2020 2020 5b27 4d6f 7265 272c          ['More',
-0000cf10: 2027 4972 6f6e 272c 2027 4c65 6164 272c   'Iron', 'Lead',
-0000cf20: 2027 476f 6c64 272c 2027 4927 2c20 2745   'Gold', 'I', 'E
-0000cf30: 6c65 6374 7269 6369 7479 275d 0a20 2020  lectricity'].   
-0000cf40: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000cf50: 206d 6178 4d61 7463 6865 7320 3d20 6d69   maxMatches = mi
-0000cf60: 6e28 6d61 784d 6174 6368 6573 2c20 6d61  n(maxMatches, ma
-0000cf70: 785f 6d61 7463 6865 7329 0a20 2020 2020  x_matches).     
-0000cf80: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-0000cf90: 2020 2020 7265 7475 726e 2050 6172 7365      return Parse
-0000cfa0: 5265 7375 6c74 7328 0a20 2020 2020 2020  Results(.       
-0000cfb0: 2020 2020 2020 2020 205b 7420 666f 7220           [t for 
-0000cfc0: 742c 2073 2c20 6520 696e 2073 656c 662e  t, s, e in self.
-0000cfd0: 7363 616e 5f73 7472 696e 6728 696e 7374  scan_string(inst
-0000cfe0: 7269 6e67 2c20 6d61 784d 6174 6368 6573  ring, maxMatches
-0000cff0: 2c20 6465 6275 673d 6465 6275 6729 5d0a  , debug=debug)].
-0000d000: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-0000d010: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
-0000d020: 7365 4261 7365 4578 6365 7074 696f 6e20  seBaseException 
-0000d030: 6173 2065 7863 3a0a 2020 2020 2020 2020  as exc:.        
-0000d040: 2020 2020 6966 2050 6172 7365 7245 6c65      if ParserEle
-0000d050: 6d65 6e74 2e76 6572 626f 7365 5f73 7461  ment.verbose_sta
-0000d060: 636b 7472 6163 653a 0a20 2020 2020 2020  cktrace:.       
-0000d070: 2020 2020 2020 2020 2072 6169 7365 0a20           raise. 
-0000d080: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0000d090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d0a0: 2023 2063 6174 6368 2061 6e64 2072 652d   # catch and re-
-0000d0b0: 7261 6973 6520 6578 6365 7074 696f 6e20  raise exception 
-0000d0c0: 6672 6f6d 2068 6572 652c 2063 6c65 6172  from here, clear
-0000d0d0: 7320 6f75 7420 7079 7061 7273 696e 6720  s out pyparsing 
-0000d0e0: 696e 7465 726e 616c 2073 7461 636b 2074  internal stack t
-0000d0f0: 7261 6365 0a20 2020 2020 2020 2020 2020  race.           
-0000d100: 2020 2020 2072 6169 7365 2065 7863 2e77       raise exc.w
-0000d110: 6974 685f 7472 6163 6562 6163 6b28 4e6f  ith_traceback(No
-0000d120: 6e65 290a 0a20 2020 2064 6566 2073 706c  ne)..    def spl
-0000d130: 6974 280a 2020 2020 2020 2020 7365 6c66  it(.        self
-0000d140: 2c0a 2020 2020 2020 2020 696e 7374 7269  ,.        instri
-0000d150: 6e67 3a20 7374 722c 0a20 2020 2020 2020  ng: str,.       
-0000d160: 206d 6178 7370 6c69 743a 2069 6e74 203d   maxsplit: int =
-0000d170: 205f 4d41 585f 494e 542c 0a20 2020 2020   _MAX_INT,.     
-0000d180: 2020 2069 6e63 6c75 6465 5f73 6570 6172     include_separ
-0000d190: 6174 6f72 733a 2062 6f6f 6c20 3d20 4661  ators: bool = Fa
-0000d1a0: 6c73 652c 0a20 2020 2020 2020 202a 2c0a  lse,.        *,.
-0000d1b0: 2020 2020 2020 2020 696e 636c 7564 6553          includeS
-0000d1c0: 6570 6172 6174 6f72 733d 4661 6c73 652c  eparators=False,
-0000d1d0: 0a20 2020 2029 202d 3e20 4765 6e65 7261  .    ) -> Genera
-0000d1e0: 746f 725b 7374 722c 204e 6f6e 652c 204e  tor[str, None, N
-0000d1f0: 6f6e 655d 3a0a 2020 2020 2020 2020 2222  one]:.        ""
-0000d200: 220a 2020 2020 2020 2020 4765 6e65 7261  ".        Genera
-0000d210: 746f 7220 6d65 7468 6f64 2074 6f20 7370  tor method to sp
-0000d220: 6c69 7420 6120 7374 7269 6e67 2075 7369  lit a string usi
-0000d230: 6e67 2074 6865 2067 6976 656e 2065 7870  ng the given exp
-0000d240: 7265 7373 696f 6e20 6173 2061 2073 6570  ression as a sep
-0000d250: 6172 6174 6f72 2e0a 2020 2020 2020 2020  arator..        
-0000d260: 4d61 7920 6265 2063 616c 6c65 6420 7769  May be called wi
-0000d270: 7468 206f 7074 696f 6e61 6c20 6060 6d61  th optional ``ma
-0000d280: 7873 706c 6974 6060 2061 7267 756d 656e  xsplit`` argumen
-0000d290: 742c 2074 6f20 6c69 6d69 7420 7468 6520  t, to limit the 
-0000d2a0: 6e75 6d62 6572 206f 6620 7370 6c69 7473  number of splits
-0000d2b0: 3b0a 2020 2020 2020 2020 616e 6420 7468  ;.        and th
-0000d2c0: 6520 6f70 7469 6f6e 616c 2060 6069 6e63  e optional ``inc
-0000d2d0: 6c75 6465 5f73 6570 6172 6174 6f72 7360  lude_separators`
-0000d2e0: 6020 6172 6775 6d65 6e74 2028 6465 6661  ` argument (defa
-0000d2f0: 756c 743d 2060 6046 616c 7365 6060 292c  ult= ``False``),
-0000d300: 2069 6620 7468 6520 7365 7061 7261 7469   if the separati
-0000d310: 6e67 0a20 2020 2020 2020 206d 6174 6368  ng.        match
-0000d320: 696e 6720 7465 7874 2073 686f 756c 6420  ing text should 
-0000d330: 6265 2069 6e63 6c75 6465 6420 696e 2074  be included in t
-0000d340: 6865 2073 706c 6974 2072 6573 756c 7473  he split results
-0000d350: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
-0000d360: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
-0000d370: 2020 7075 6e63 203d 206f 6e65 5f6f 6628    punc = one_of(
-0000d380: 6c69 7374 2822 2e2c 3b3a 2f2d 213f 2229  list(".,;:/-!?")
-0000d390: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-0000d3a0: 696e 7428 6c69 7374 2870 756e 632e 7370  int(list(punc.sp
-0000d3b0: 6c69 7428 2254 6869 732c 2074 6869 733f  lit("This, this?
-0000d3c0: 2c20 7468 6973 2073 656e 7465 6e63 652c  , this sentence,
-0000d3d0: 2069 7320 6261 646c 7920 7075 6e63 7475   is badly punctu
-0000d3e0: 6174 6564 2122 2929 290a 0a20 2020 2020  ated!")))..     
-0000d3f0: 2020 2070 7269 6e74 733a 3a0a 0a20 2020     prints::..   
-0000d400: 2020 2020 2020 2020 205b 2754 6869 7327           ['This'
-0000d410: 2c20 2720 7468 6973 272c 2027 272c 2027  , ' this', '', '
-0000d420: 2074 6869 7320 7365 6e74 656e 6365 272c   this sentence',
-0000d430: 2027 2069 7320 6261 646c 7920 7075 6e63   ' is badly punc
-0000d440: 7475 6174 6564 272c 2027 275d 0a20 2020  tuated', ''].   
-0000d450: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000d460: 2069 6e63 6c75 6465 5365 7061 7261 746f   includeSeparato
-0000d470: 7273 203d 2069 6e63 6c75 6465 5365 7061  rs = includeSepa
-0000d480: 7261 746f 7273 206f 7220 696e 636c 7564  rators or includ
-0000d490: 655f 7365 7061 7261 746f 7273 0a20 2020  e_separators.   
-0000d4a0: 2020 2020 206c 6173 7420 3d20 300a 2020       last = 0.  
-0000d4b0: 2020 2020 2020 666f 7220 742c 2073 2c20        for t, s, 
-0000d4c0: 6520 696e 2073 656c 662e 7363 616e 5f73  e in self.scan_s
-0000d4d0: 7472 696e 6728 696e 7374 7269 6e67 2c20  tring(instring, 
-0000d4e0: 6d61 785f 6d61 7463 6865 733d 6d61 7873  max_matches=maxs
-0000d4f0: 706c 6974 293a 0a20 2020 2020 2020 2020  plit):.         
-0000d500: 2020 2079 6965 6c64 2069 6e73 7472 696e     yield instrin
-0000d510: 675b 6c61 7374 3a73 5d0a 2020 2020 2020  g[last:s].      
-0000d520: 2020 2020 2020 6966 2069 6e63 6c75 6465        if include
-0000d530: 5365 7061 7261 746f 7273 3a0a 2020 2020  Separators:.    
-0000d540: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
-0000d550: 6420 745b 305d 0a20 2020 2020 2020 2020  d t[0].         
-0000d560: 2020 206c 6173 7420 3d20 650a 2020 2020     last = e.    
-0000d570: 2020 2020 7969 656c 6420 696e 7374 7269      yield instri
-0000d580: 6e67 5b6c 6173 743a 5d0a 0a20 2020 2064  ng[last:]..    d
-0000d590: 6566 205f 5f61 6464 5f5f 2873 656c 662c  ef __add__(self,
-0000d5a0: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
-0000d5b0: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
-0000d5c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000d5d0: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
-0000d5e0: 6620 6060 2b60 6020 6f70 6572 6174 6f72  f ``+`` operator
-0000d5f0: 202d 2072 6574 7572 6e73 203a 636c 6173   - returns :clas
-0000d600: 733a 6041 6e64 602e 2041 6464 696e 6720  s:`And`. Adding 
-0000d610: 7374 7269 6e67 7320 746f 2061 203a 636c  strings to a :cl
-0000d620: 6173 733a 6050 6172 7365 7245 6c65 6d65  ass:`ParserEleme
-0000d630: 6e74 600a 2020 2020 2020 2020 636f 6e76  nt`.        conv
-0000d640: 6572 7473 2074 6865 6d20 746f 203a 636c  erts them to :cl
-0000d650: 6173 733a 604c 6974 6572 616c 605c 5c20  ass:`Literal`\\ 
-0000d660: 7320 6279 2064 6566 6175 6c74 2e0a 0a20  s by default... 
-0000d670: 2020 2020 2020 2045 7861 6d70 6c65 3a3a         Example::
-0000d680: 0a0a 2020 2020 2020 2020 2020 2020 6772  ..            gr
-0000d690: 6565 7420 3d20 576f 7264 2861 6c70 6861  eet = Word(alpha
-0000d6a0: 7329 202b 2022 2c22 202b 2057 6f72 6428  s) + "," + Word(
-0000d6b0: 616c 7068 6173 2920 2b20 2221 220a 2020  alphas) + "!".  
-0000d6c0: 2020 2020 2020 2020 2020 6865 6c6c 6f20            hello 
-0000d6d0: 3d20 2248 656c 6c6f 2c20 576f 726c 6421  = "Hello, World!
-0000d6e0: 220a 2020 2020 2020 2020 2020 2020 7072  ".            pr
-0000d6f0: 696e 7428 6865 6c6c 6f2c 2022 2d3e 222c  int(hello, "->",
-0000d700: 2067 7265 6574 2e70 6172 7365 5f73 7472   greet.parse_str
-0000d710: 696e 6728 6865 6c6c 6f29 290a 0a20 2020  ing(hello))..   
-0000d720: 2020 2020 2070 7269 6e74 733a 3a0a 0a20       prints::.. 
-0000d730: 2020 2020 2020 2020 2020 2048 656c 6c6f             Hello
-0000d740: 2c20 576f 726c 6421 202d 3e20 5b27 4865  , World! -> ['He
-0000d750: 6c6c 6f27 2c20 272c 272c 2027 576f 726c  llo', ',', 'Worl
-0000d760: 6427 2c20 2721 275d 0a0a 2020 2020 2020  d', '!']..      
-0000d770: 2020 6060 2e2e 2e60 6020 6d61 7920 6265    ``...`` may be
-0000d780: 2075 7365 6420 6173 2061 2070 6172 7365   used as a parse
-0000d790: 2065 7870 7265 7373 696f 6e20 6173 2061   expression as a
-0000d7a0: 2073 686f 7274 2066 6f72 6d20 6f66 203a   short form of :
-0000d7b0: 636c 6173 733a 6053 6b69 7054 6f60 3a3a  class:`SkipTo`::
-0000d7c0: 0a0a 2020 2020 2020 2020 2020 2020 4c69  ..            Li
-0000d7d0: 7465 7261 6c28 2773 7461 7274 2729 202b  teral('start') +
-0000d7e0: 202e 2e2e 202b 204c 6974 6572 616c 2827   ... + Literal('
-0000d7f0: 656e 6427 290a 0a20 2020 2020 2020 2069  end')..        i
-0000d800: 7320 6571 7569 7661 6c65 6e74 2074 6f3a  s equivalent to:
-0000d810: 3a0a 0a20 2020 2020 2020 2020 2020 204c  :..            L
-0000d820: 6974 6572 616c 2827 7374 6172 7427 2920  iteral('start') 
-0000d830: 2b20 536b 6970 546f 2827 656e 6427 2928  + SkipTo('end')(
-0000d840: 225f 736b 6970 7065 642a 2229 202b 204c  "_skipped*") + L
-0000d850: 6974 6572 616c 2827 656e 6427 290a 0a20  iteral('end').. 
-0000d860: 2020 2020 2020 204e 6f74 6520 7468 6174         Note that
-0000d870: 2074 6865 2073 6b69 7070 6564 2074 6578   the skipped tex
-0000d880: 7420 6973 2072 6574 7572 6e65 6420 7769  t is returned wi
-0000d890: 7468 2027 5f73 6b69 7070 6564 2720 6173  th '_skipped' as
-0000d8a0: 2061 2072 6573 756c 7473 206e 616d 652c   a results name,
-0000d8b0: 0a20 2020 2020 2020 2061 6e64 2074 6f20  .        and to 
-0000d8c0: 7375 7070 6f72 7420 6861 7669 6e67 206d  support having m
-0000d8d0: 756c 7469 706c 6520 736b 6970 7320 696e  ultiple skips in
-0000d8e0: 2074 6865 2073 616d 6520 7061 7273 6572   the same parser
-0000d8f0: 2c20 7468 6520 7661 6c75 6520 7265 7475  , the value retu
-0000d900: 726e 6564 2069 730a 2020 2020 2020 2020  rned is.        
-0000d910: 6120 6c69 7374 206f 6620 616c 6c20 736b  a list of all sk
-0000d920: 6970 7065 6420 7465 7874 2e0a 2020 2020  ipped text..    
-0000d930: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000d940: 6966 206f 7468 6572 2069 7320 456c 6c69  if other is Elli
-0000d950: 7073 6973 3a0a 2020 2020 2020 2020 2020  psis:.          
-0000d960: 2020 7265 7475 726e 205f 5065 6e64 696e    return _Pendin
-0000d970: 6753 6b69 7028 7365 6c66 290a 0a20 2020  gSkip(self)..   
-0000d980: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0000d990: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
-0000d9a0: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-0000d9b0: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
-0000d9c0: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
-0000d9d0: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
-0000d9e0: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-0000d9f0: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
-0000da00: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
-0000da10: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
-0000da20: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
-0000da30: 2020 2020 7265 7475 726e 2041 6e64 285b      return And([
-0000da40: 7365 6c66 2c20 6f74 6865 725d 290a 0a20  self, other]).. 
-0000da50: 2020 2064 6566 205f 5f72 6164 645f 5f28     def __radd__(
-0000da60: 7365 6c66 2c20 6f74 6865 7229 202d 3e20  self, other) -> 
-0000da70: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
-0000da80: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000da90: 2020 2020 2049 6d70 6c65 6d65 6e74 6174       Implementat
-0000daa0: 696f 6e20 6f66 2060 602b 6060 206f 7065  ion of ``+`` ope
-0000dab0: 7261 746f 7220 7768 656e 206c 6566 7420  rator when left 
-0000dac0: 6f70 6572 616e 6420 6973 206e 6f74 2061  operand is not a
-0000dad0: 203a 636c 6173 733a 6050 6172 7365 7245   :class:`ParserE
-0000dae0: 6c65 6d65 6e74 600a 2020 2020 2020 2020  lement`.        
-0000daf0: 2222 220a 2020 2020 2020 2020 6966 206f  """.        if o
-0000db00: 7468 6572 2069 7320 456c 6c69 7073 6973  ther is Ellipsis
-0000db10: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000db20: 7475 726e 2053 6b69 7054 6f28 7365 6c66  turn SkipTo(self
-0000db30: 2928 225f 736b 6970 7065 642a 2229 202b  )("_skipped*") +
-0000db40: 2073 656c 660a 0a20 2020 2020 2020 2069   self..        i
-0000db50: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
-0000db60: 6572 2c20 7374 725f 7479 7065 293a 0a20  er, str_type):. 
-0000db70: 2020 2020 2020 2020 2020 206f 7468 6572             other
-0000db80: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
-0000db90: 5374 7269 6e67 436c 6173 7328 6f74 6865  StringClass(othe
-0000dba0: 7229 0a20 2020 2020 2020 2069 6620 6e6f  r).        if no
-0000dbb0: 7420 6973 696e 7374 616e 6365 286f 7468  t isinstance(oth
-0000dbc0: 6572 2c20 5061 7273 6572 456c 656d 656e  er, ParserElemen
-0000dbd0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-0000dbe0: 7265 7475 726e 204e 6f74 496d 706c 656d  return NotImplem
-0000dbf0: 656e 7465 640a 2020 2020 2020 2020 7265  ented.        re
-0000dc00: 7475 726e 206f 7468 6572 202b 2073 656c  turn other + sel
-0000dc10: 660a 0a20 2020 2064 6566 205f 5f73 7562  f..    def __sub
-0000dc20: 5f5f 2873 656c 662c 206f 7468 6572 2920  __(self, other) 
-0000dc30: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
-0000dc40: 7422 3a0a 2020 2020 2020 2020 2222 220a  t":.        """.
-0000dc50: 2020 2020 2020 2020 496d 706c 656d 656e          Implemen
-0000dc60: 7461 7469 6f6e 206f 6620 6060 2d60 6020  tation of ``-`` 
-0000dc70: 6f70 6572 6174 6f72 2c20 7265 7475 726e  operator, return
-0000dc80: 7320 3a63 6c61 7373 3a60 416e 6460 2077  s :class:`And` w
-0000dc90: 6974 6820 6572 726f 7220 7374 6f70 0a20  ith error stop. 
-0000dca0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000dcb0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0000dcc0: 286f 7468 6572 2c20 7374 725f 7479 7065  (other, str_type
-0000dcd0: 293a 0a20 2020 2020 2020 2020 2020 206f  ):.            o
-0000dce0: 7468 6572 203d 2073 656c 662e 5f6c 6974  ther = self._lit
-0000dcf0: 6572 616c 5374 7269 6e67 436c 6173 7328  eralStringClass(
-0000dd00: 6f74 6865 7229 0a20 2020 2020 2020 2069  other).        i
-0000dd10: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
-0000dd20: 286f 7468 6572 2c20 5061 7273 6572 456c  (other, ParserEl
-0000dd30: 656d 656e 7429 3a0a 2020 2020 2020 2020  ement):.        
-0000dd40: 2020 2020 7265 7475 726e 204e 6f74 496d      return NotIm
-0000dd50: 706c 656d 656e 7465 640a 2020 2020 2020  plemented.      
-0000dd60: 2020 7265 7475 726e 2073 656c 6620 2b20    return self + 
-0000dd70: 416e 642e 5f45 7272 6f72 5374 6f70 2829  And._ErrorStop()
-0000dd80: 202b 206f 7468 6572 0a0a 2020 2020 6465   + other..    de
-0000dd90: 6620 5f5f 7273 7562 5f5f 2873 656c 662c  f __rsub__(self,
-0000dda0: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
-0000ddb0: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
-0000ddc0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000ddd0: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
-0000dde0: 6620 6060 2d60 6020 6f70 6572 6174 6f72  f ``-`` operator
-0000ddf0: 2077 6865 6e20 6c65 6674 206f 7065 7261   when left opera
-0000de00: 6e64 2069 7320 6e6f 7420 6120 3a63 6c61  nd is not a :cla
-0000de10: 7373 3a60 5061 7273 6572 456c 656d 656e  ss:`ParserElemen
-0000de20: 7460 0a20 2020 2020 2020 2022 2222 0a20  t`.        """. 
-0000de30: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-0000de40: 616e 6365 286f 7468 6572 2c20 7374 725f  ance(other, str_
-0000de50: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
-0000de60: 2020 206f 7468 6572 203d 2073 656c 662e     other = self.
-0000de70: 5f6c 6974 6572 616c 5374 7269 6e67 436c  _literalStringCl
-0000de80: 6173 7328 6f74 6865 7229 0a20 2020 2020  ass(other).     
-0000de90: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
-0000dea0: 616e 6365 286f 7468 6572 2c20 5061 7273  ance(other, Pars
-0000deb0: 6572 456c 656d 656e 7429 3a0a 2020 2020  erElement):.    
-0000dec0: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-0000ded0: 6f74 496d 706c 656d 656e 7465 640a 2020  otImplemented.  
-0000dee0: 2020 2020 2020 7265 7475 726e 206f 7468        return oth
-0000def0: 6572 202d 2073 656c 660a 0a20 2020 2064  er - self..    d
-0000df00: 6566 205f 5f6d 756c 5f5f 2873 656c 662c  ef __mul__(self,
-0000df10: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
-0000df20: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
-0000df30: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000df40: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
-0000df50: 6620 6060 2a60 6020 6f70 6572 6174 6f72  f ``*`` operator
-0000df60: 2c20 616c 6c6f 7773 2075 7365 206f 6620  , allows use of 
-0000df70: 6060 6578 7072 202a 2033 6060 2069 6e20  ``expr * 3`` in 
-0000df80: 706c 6163 6520 6f66 0a20 2020 2020 2020  place of.       
-0000df90: 2060 6065 7870 7220 2b20 6578 7072 202b   ``expr + expr +
-0000dfa0: 2065 7870 7260 602e 2020 4578 7072 6573   expr``.  Expres
-0000dfb0: 7369 6f6e 7320 6d61 7920 616c 736f 2062  sions may also b
-0000dfc0: 6520 6d75 6c74 6970 6c69 6564 2062 7920  e multiplied by 
-0000dfd0: 6120 322d 696e 7465 6765 720a 2020 2020  a 2-integer.    
-0000dfe0: 2020 2020 7475 706c 652c 2073 696d 696c      tuple, simil
-0000dff0: 6172 2074 6f20 6060 7b6d 696e 2c20 6d61  ar to ``{min, ma
-0000e000: 787d 6060 206d 756c 7469 706c 6965 7273  x}`` multipliers
-0000e010: 2069 6e20 7265 6775 6c61 7220 6578 7072   in regular expr
-0000e020: 6573 7369 6f6e 732e 2020 5475 706c 6573  essions.  Tuples
-0000e030: 0a20 2020 2020 2020 206d 6179 2061 6c73  .        may als
-0000e040: 6f20 696e 636c 7564 6520 6060 4e6f 6e65  o include ``None
-0000e050: 6060 2061 7320 696e 3a0a 0a20 2020 2020  `` as in:..     
-0000e060: 2020 202d 2060 6065 7870 722a 286e 2c20     - ``expr*(n, 
-0000e070: 4e6f 6e65 2960 6020 6f72 2060 6065 7870  None)`` or ``exp
-0000e080: 722a 286e 2c20 2960 6020 6973 2065 7175  r*(n, )`` is equ
-0000e090: 6976 616c 656e 740a 2020 2020 2020 2020  ivalent.        
-0000e0a0: 2020 746f 2060 6065 7870 722a 6e20 2b20    to ``expr*n + 
-0000e0b0: 5a65 726f 4f72 4d6f 7265 2865 7870 7229  ZeroOrMore(expr)
-0000e0c0: 6060 0a20 2020 2020 2020 2020 2028 7265  ``.          (re
-0000e0d0: 6164 2061 7320 2261 7420 6c65 6173 7420  ad as "at least 
-0000e0e0: 6e20 696e 7374 616e 6365 7320 6f66 2060  n instances of `
-0000e0f0: 6065 7870 7260 6022 290a 2020 2020 2020  `expr``").      
-0000e100: 2020 2d20 6060 6578 7072 2a28 4e6f 6e65    - ``expr*(None
-0000e110: 2c20 6e29 6060 2069 7320 6571 7569 7661  , n)`` is equiva
-0000e120: 6c65 6e74 2074 6f20 6060 6578 7072 2a28  lent to ``expr*(
-0000e130: 302c 206e 2960 600a 2020 2020 2020 2020  0, n)``.        
-0000e140: 2020 2872 6561 6420 6173 2022 3020 746f    (read as "0 to
-0000e150: 206e 2069 6e73 7461 6e63 6573 206f 6620   n instances of 
-0000e160: 6060 6578 7072 6060 2229 0a20 2020 2020  ``expr``").     
-0000e170: 2020 202d 2060 6065 7870 722a 284e 6f6e     - ``expr*(Non
-0000e180: 652c 204e 6f6e 6529 6060 2069 7320 6571  e, None)`` is eq
-0000e190: 7569 7661 6c65 6e74 2074 6f20 6060 5a65  uivalent to ``Ze
-0000e1a0: 726f 4f72 4d6f 7265 2865 7870 7229 6060  roOrMore(expr)``
-0000e1b0: 0a20 2020 2020 2020 202d 2060 6065 7870  .        - ``exp
-0000e1c0: 722a 2831 2c20 4e6f 6e65 2960 6020 6973  r*(1, None)`` is
-0000e1d0: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
-0000e1e0: 604f 6e65 4f72 4d6f 7265 2865 7870 7229  `OneOrMore(expr)
-0000e1f0: 6060 0a0a 2020 2020 2020 2020 4e6f 7465  ``..        Note
-0000e200: 2074 6861 7420 6060 6578 7072 2a28 4e6f   that ``expr*(No
-0000e210: 6e65 2c20 6e29 6060 2064 6f65 7320 6e6f  ne, n)`` does no
-0000e220: 7420 7261 6973 6520 616e 2065 7863 6570  t raise an excep
-0000e230: 7469 6f6e 2069 660a 2020 2020 2020 2020  tion if.        
-0000e240: 6d6f 7265 2074 6861 6e20 6e20 6578 7072  more than n expr
-0000e250: 7320 6578 6973 7420 696e 2074 6865 2069  s exist in the i
-0000e260: 6e70 7574 2073 7472 6561 6d3b 2074 6861  nput stream; tha
-0000e270: 7420 6973 2c0a 2020 2020 2020 2020 6060  t is,.        ``
-0000e280: 6578 7072 2a28 4e6f 6e65 2c20 6e29 6060  expr*(None, n)``
-0000e290: 2064 6f65 7320 6e6f 7420 656e 666f 7263   does not enforc
-0000e2a0: 6520 6120 6d61 7869 6d75 6d20 6e75 6d62  e a maximum numb
-0000e2b0: 6572 206f 6620 6578 7072 0a20 2020 2020  er of expr.     
-0000e2c0: 2020 206f 6363 7572 7265 6e63 6573 2e20     occurrences. 
-0000e2d0: 2049 6620 7468 6973 2062 6568 6176 696f   If this behavio
-0000e2e0: 7220 6973 2064 6573 6972 6564 2c20 7468  r is desired, th
-0000e2f0: 656e 2077 7269 7465 0a20 2020 2020 2020  en write.       
-0000e300: 2060 6065 7870 722a 284e 6f6e 652c 206e   ``expr*(None, n
-0000e310: 2920 2b20 7e65 7870 7260 600a 2020 2020  ) + ~expr``.    
-0000e320: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000e330: 6966 206f 7468 6572 2069 7320 456c 6c69  if other is Elli
-0000e340: 7073 6973 3a0a 2020 2020 2020 2020 2020  psis:.          
-0000e350: 2020 6f74 6865 7220 3d20 2830 2c20 4e6f    other = (0, No
-0000e360: 6e65 290a 2020 2020 2020 2020 656c 6966  ne).        elif
-0000e370: 2069 7369 6e73 7461 6e63 6528 6f74 6865   isinstance(othe
-0000e380: 722c 2074 7570 6c65 2920 616e 6420 6f74  r, tuple) and ot
-0000e390: 6865 725b 3a31 5d20 3d3d 2028 456c 6c69  her[:1] == (Elli
-0000e3a0: 7073 6973 2c29 3a0a 2020 2020 2020 2020  psis,):.        
-0000e3b0: 2020 2020 6f74 6865 7220 3d20 2828 302c      other = ((0,
-0000e3c0: 2920 2b20 6f74 6865 725b 313a 5d20 2b20  ) + other[1:] + 
-0000e3d0: 284e 6f6e 652c 2929 5b3a 325d 0a0a 2020  (None,))[:2]..  
-0000e3e0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-0000e3f0: 6e63 6528 6f74 6865 722c 2069 6e74 293a  nce(other, int):
-0000e400: 0a20 2020 2020 2020 2020 2020 206d 696e  .            min
-0000e410: 456c 656d 656e 7473 2c20 6f70 7445 6c65  Elements, optEle
-0000e420: 6d65 6e74 7320 3d20 6f74 6865 722c 2030  ments = other, 0
-0000e430: 0a20 2020 2020 2020 2065 6c69 6620 6973  .        elif is
-0000e440: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000e450: 7475 706c 6529 3a0a 2020 2020 2020 2020  tuple):.        
-0000e460: 2020 2020 6f74 6865 7220 3d20 7475 706c      other = tupl
-0000e470: 6528 6f20 6966 206f 2069 7320 6e6f 7420  e(o if o is not 
-0000e480: 456c 6c69 7073 6973 2065 6c73 6520 4e6f  Ellipsis else No
-0000e490: 6e65 2066 6f72 206f 2069 6e20 6f74 6865  ne for o in othe
-0000e4a0: 7229 0a20 2020 2020 2020 2020 2020 206f  r).            o
-0000e4b0: 7468 6572 203d 2028 6f74 6865 7220 2b20  ther = (other + 
-0000e4c0: 284e 6f6e 652c 204e 6f6e 6529 295b 3a32  (None, None))[:2
-0000e4d0: 5d0a 2020 2020 2020 2020 2020 2020 6966  ].            if
-0000e4e0: 206f 7468 6572 5b30 5d20 6973 204e 6f6e   other[0] is Non
-0000e4f0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000e500: 2020 206f 7468 6572 203d 2028 302c 206f     other = (0, o
-0000e510: 7468 6572 5b31 5d29 0a20 2020 2020 2020  ther[1]).       
-0000e520: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0000e530: 6365 286f 7468 6572 5b30 5d2c 2069 6e74  ce(other[0], int
-0000e540: 2920 616e 6420 6f74 6865 725b 315d 2069  ) and other[1] i
-0000e550: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-0000e560: 2020 2020 2020 2020 6966 206f 7468 6572          if other
-0000e570: 5b30 5d20 3d3d 2030 3a0a 2020 2020 2020  [0] == 0:.      
-0000e580: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0000e590: 7475 726e 205a 6572 6f4f 724d 6f72 6528  turn ZeroOrMore(
-0000e5a0: 7365 6c66 290a 2020 2020 2020 2020 2020  self).          
-0000e5b0: 2020 2020 2020 6966 206f 7468 6572 5b30        if other[0
-0000e5c0: 5d20 3d3d 2031 3a0a 2020 2020 2020 2020  ] == 1:.        
-0000e5d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000e5e0: 726e 204f 6e65 4f72 4d6f 7265 2873 656c  rn OneOrMore(sel
-0000e5f0: 6629 0a20 2020 2020 2020 2020 2020 2020  f).             
-0000e600: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000e610: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0000e620: 7572 6e20 7365 6c66 202a 206f 7468 6572  urn self * other
-0000e630: 5b30 5d20 2b20 5a65 726f 4f72 4d6f 7265  [0] + ZeroOrMore
-0000e640: 2873 656c 6629 0a20 2020 2020 2020 2020  (self).         
-0000e650: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
-0000e660: 6365 286f 7468 6572 5b30 5d2c 2069 6e74  ce(other[0], int
-0000e670: 2920 616e 6420 6973 696e 7374 616e 6365  ) and isinstance
-0000e680: 286f 7468 6572 5b31 5d2c 2069 6e74 293a  (other[1], int):
-0000e690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e6a0: 206d 696e 456c 656d 656e 7473 2c20 6f70   minElements, op
-0000e6b0: 7445 6c65 6d65 6e74 7320 3d20 6f74 6865  tElements = othe
-0000e6c0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
-0000e6d0: 2020 6f70 7445 6c65 6d65 6e74 7320 2d3d    optElements -=
-0000e6e0: 206d 696e 456c 656d 656e 7473 0a20 2020   minElements.   
-0000e6f0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0000e700: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000e710: 6574 7572 6e20 4e6f 7449 6d70 6c65 6d65  eturn NotImpleme
-0000e720: 6e74 6564 0a20 2020 2020 2020 2065 6c73  nted.        els
-0000e730: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-0000e740: 6574 7572 6e20 4e6f 7449 6d70 6c65 6d65  eturn NotImpleme
-0000e750: 6e74 6564 0a0a 2020 2020 2020 2020 6966  nted..        if
-0000e760: 206d 696e 456c 656d 656e 7473 203c 2030   minElements < 0
-0000e770: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0000e780: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
-0000e790: 6361 6e6e 6f74 206d 756c 7469 706c 7920  cannot multiply 
-0000e7a0: 5061 7273 6572 456c 656d 656e 7420 6279  ParserElement by
-0000e7b0: 206e 6567 6174 6976 6520 7661 6c75 6522   negative value"
-0000e7c0: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
-0000e7d0: 456c 656d 656e 7473 203c 2030 3a0a 2020  Elements < 0:.  
-0000e7e0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0000e7f0: 5661 6c75 6545 7272 6f72 280a 2020 2020  ValueError(.    
-0000e800: 2020 2020 2020 2020 2020 2020 2273 6563              "sec
-0000e810: 6f6e 6420 7475 706c 6520 7661 6c75 6520  ond tuple value 
-0000e820: 6d75 7374 2062 6520 6772 6561 7465 7220  must be greater 
-0000e830: 6f72 2065 7175 616c 2074 6f20 6669 7273  or equal to firs
-0000e840: 7420 7475 706c 6520 7661 6c75 6522 0a20  t tuple value". 
-0000e850: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-0000e860: 2020 2020 2069 6620 6d69 6e45 6c65 6d65       if minEleme
-0000e870: 6e74 7320 3d3d 206f 7074 456c 656d 656e  nts == optElemen
-0000e880: 7473 203d 3d20 303a 0a20 2020 2020 2020  ts == 0:.       
-0000e890: 2020 2020 2072 6574 7572 6e20 416e 6428       return And(
-0000e8a0: 5b5d 290a 0a20 2020 2020 2020 2069 6620  [])..        if 
-0000e8b0: 6f70 7445 6c65 6d65 6e74 733a 0a0a 2020  optElements:..  
-0000e8c0: 2020 2020 2020 2020 2020 6465 6620 6d61            def ma
-0000e8d0: 6b65 4f70 7469 6f6e 616c 4c69 7374 286e  keOptionalList(n
-0000e8e0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0000e8f0: 2020 2069 6620 6e20 3e20 313a 0a20 2020     if n > 1:.   
-0000e900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e910: 2072 6574 7572 6e20 4f70 7428 7365 6c66   return Opt(self
-0000e920: 202b 206d 616b 654f 7074 696f 6e61 6c4c   + makeOptionalL
-0000e930: 6973 7428 6e20 2d20 3129 290a 2020 2020  ist(n - 1)).    
-0000e940: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000e950: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000e960: 2020 2020 2020 7265 7475 726e 204f 7074        return Opt
-0000e970: 2873 656c 6629 0a0a 2020 2020 2020 2020  (self)..        
-0000e980: 2020 2020 6966 206d 696e 456c 656d 656e      if minElemen
-0000e990: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
-0000e9a0: 2020 2020 6966 206d 696e 456c 656d 656e      if minElemen
-0000e9b0: 7473 203d 3d20 313a 0a20 2020 2020 2020  ts == 1:.       
-0000e9c0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0000e9d0: 203d 2073 656c 6620 2b20 6d61 6b65 4f70   = self + makeOp
-0000e9e0: 7469 6f6e 616c 4c69 7374 286f 7074 456c  tionalList(optEl
-0000e9f0: 656d 656e 7473 290a 2020 2020 2020 2020  ements).        
-0000ea00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000ea10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ea20: 2020 7265 7420 3d20 416e 6428 5b73 656c    ret = And([sel
-0000ea30: 665d 202a 206d 696e 456c 656d 656e 7473  f] * minElements
-0000ea40: 2920 2b20 6d61 6b65 4f70 7469 6f6e 616c  ) + makeOptional
-0000ea50: 4c69 7374 286f 7074 456c 656d 656e 7473  List(optElements
-0000ea60: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-0000ea70: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000ea80: 2020 2020 7265 7420 3d20 6d61 6b65 4f70      ret = makeOp
-0000ea90: 7469 6f6e 616c 4c69 7374 286f 7074 456c  tionalList(optEl
-0000eaa0: 656d 656e 7473 290a 2020 2020 2020 2020  ements).        
-0000eab0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0000eac0: 2020 6966 206d 696e 456c 656d 656e 7473    if minElements
-0000ead0: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
-0000eae0: 2020 2020 2020 2072 6574 203d 2073 656c         ret = sel
-0000eaf0: 660a 2020 2020 2020 2020 2020 2020 656c  f.            el
-0000eb00: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000eb10: 2020 2020 7265 7420 3d20 416e 6428 5b73      ret = And([s
-0000eb20: 656c 665d 202a 206d 696e 456c 656d 656e  elf] * minElemen
-0000eb30: 7473 290a 2020 2020 2020 2020 7265 7475  ts).        retu
-0000eb40: 726e 2072 6574 0a0a 2020 2020 6465 6620  rn ret..    def 
-0000eb50: 5f5f 726d 756c 5f5f 2873 656c 662c 206f  __rmul__(self, o
-0000eb60: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
-0000eb70: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-0000eb80: 2020 7265 7475 726e 2073 656c 662e 5f5f    return self.__
-0000eb90: 6d75 6c5f 5f28 6f74 6865 7229 0a0a 2020  mul__(other)..  
-0000eba0: 2020 6465 6620 5f5f 6f72 5f5f 2873 656c    def __or__(sel
-0000ebb0: 662c 206f 7468 6572 2920 2d3e 2022 5061  f, other) -> "Pa
-0000ebc0: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
-0000ebd0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000ebe0: 2020 496d 706c 656d 656e 7461 7469 6f6e    Implementation
-0000ebf0: 206f 6620 6060 7c60 6020 6f70 6572 6174   of ``|`` operat
-0000ec00: 6f72 202d 2072 6574 7572 6e73 203a 636c  or - returns :cl
-0000ec10: 6173 733a 604d 6174 6368 4669 7273 7460  ass:`MatchFirst`
-0000ec20: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000ec30: 2020 2020 2069 6620 6f74 6865 7220 6973       if other is
-0000ec40: 2045 6c6c 6970 7369 733a 0a20 2020 2020   Ellipsis:.     
-0000ec50: 2020 2020 2020 2072 6574 7572 6e20 5f50         return _P
-0000ec60: 656e 6469 6e67 536b 6970 2873 656c 662c  endingSkip(self,
-0000ec70: 206d 7573 745f 736b 6970 3d54 7275 6529   must_skip=True)
-0000ec80: 0a0a 2020 2020 2020 2020 6966 2069 7369  ..        if isi
-0000ec90: 6e73 7461 6e63 6528 6f74 6865 722c 2073  nstance(other, s
-0000eca0: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
-0000ecb0: 2020 2020 2020 2320 6065 7870 7220 7c20        # `expr | 
-0000ecc0: 2222 6020 6973 2065 7175 6976 616c 656e  ""` is equivalen
-0000ecd0: 7420 746f 2060 4f70 7428 6578 7072 2960  t to `Opt(expr)`
-0000ece0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000ecf0: 6f74 6865 7220 3d3d 2022 223a 0a20 2020  other == "":.   
-0000ed00: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0000ed10: 7572 6e20 4f70 7428 7365 6c66 290a 2020  urn Opt(self).  
-0000ed20: 2020 2020 2020 2020 2020 6f74 6865 7220            other 
-0000ed30: 3d20 7365 6c66 2e5f 6c69 7465 7261 6c53  = self._literalS
-0000ed40: 7472 696e 6743 6c61 7373 286f 7468 6572  tringClass(other
-0000ed50: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
-0000ed60: 2069 7369 6e73 7461 6e63 6528 6f74 6865   isinstance(othe
-0000ed70: 722c 2050 6172 7365 7245 6c65 6d65 6e74  r, ParserElement
-0000ed80: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
-0000ed90: 6574 7572 6e20 4e6f 7449 6d70 6c65 6d65  eturn NotImpleme
-0000eda0: 6e74 6564 0a20 2020 2020 2020 2072 6574  nted.        ret
-0000edb0: 7572 6e20 4d61 7463 6846 6972 7374 285b  urn MatchFirst([
-0000edc0: 7365 6c66 2c20 6f74 6865 725d 290a 0a20  self, other]).. 
-0000edd0: 2020 2064 6566 205f 5f72 6f72 5f5f 2873     def __ror__(s
-0000ede0: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
-0000edf0: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
-0000ee00: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000ee10: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
-0000ee20: 6f6e 206f 6620 6060 7c60 6020 6f70 6572  on of ``|`` oper
-0000ee30: 6174 6f72 2077 6865 6e20 6c65 6674 206f  ator when left o
-0000ee40: 7065 7261 6e64 2069 7320 6e6f 7420 6120  perand is not a 
-0000ee50: 3a63 6c61 7373 3a60 5061 7273 6572 456c  :class:`ParserEl
-0000ee60: 656d 656e 7460 0a20 2020 2020 2020 2022  ement`.        "
-0000ee70: 2222 0a20 2020 2020 2020 2069 6620 6973  "".        if is
-0000ee80: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000ee90: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
-0000eea0: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
-0000eeb0: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
-0000eec0: 6e67 436c 6173 7328 6f74 6865 7229 0a20  ngClass(other). 
-0000eed0: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
-0000eee0: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000eef0: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
-0000ef00: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000ef10: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
-0000ef20: 640a 2020 2020 2020 2020 7265 7475 726e  d.        return
-0000ef30: 206f 7468 6572 207c 2073 656c 660a 0a20   other | self.. 
-0000ef40: 2020 2064 6566 205f 5f78 6f72 5f5f 2873     def __xor__(s
-0000ef50: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
-0000ef60: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
-0000ef70: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000ef80: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
-0000ef90: 6f6e 206f 6620 6060 5e60 6020 6f70 6572  on of ``^`` oper
-0000efa0: 6174 6f72 202d 2072 6574 7572 6e73 203a  ator - returns :
-0000efb0: 636c 6173 733a 604f 7260 0a20 2020 2020  class:`Or`.     
-0000efc0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-0000efd0: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
-0000efe0: 6572 2c20 7374 725f 7479 7065 293a 0a20  er, str_type):. 
-0000eff0: 2020 2020 2020 2020 2020 206f 7468 6572             other
-0000f000: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
-0000f010: 5374 7269 6e67 436c 6173 7328 6f74 6865  StringClass(othe
-0000f020: 7229 0a20 2020 2020 2020 2069 6620 6e6f  r).        if no
-0000f030: 7420 6973 696e 7374 616e 6365 286f 7468  t isinstance(oth
-0000f040: 6572 2c20 5061 7273 6572 456c 656d 656e  er, ParserElemen
-0000f050: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-0000f060: 7265 7475 726e 204e 6f74 496d 706c 656d  return NotImplem
-0000f070: 656e 7465 640a 2020 2020 2020 2020 7265  ented.        re
-0000f080: 7475 726e 204f 7228 5b73 656c 662c 206f  turn Or([self, o
-0000f090: 7468 6572 5d29 0a0a 2020 2020 6465 6620  ther])..    def 
-0000f0a0: 5f5f 7278 6f72 5f5f 2873 656c 662c 206f  __rxor__(self, o
-0000f0b0: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
-0000f0c0: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-0000f0d0: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
-0000f0e0: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
-0000f0f0: 6060 5e60 6020 6f70 6572 6174 6f72 2077  ``^`` operator w
-0000f100: 6865 6e20 6c65 6674 206f 7065 7261 6e64  hen left operand
-0000f110: 2069 7320 6e6f 7420 6120 3a63 6c61 7373   is not a :class
-0000f120: 3a60 5061 7273 6572 456c 656d 656e 7460  :`ParserElement`
-0000f130: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000f140: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0000f150: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
-0000f160: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-0000f170: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
-0000f180: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
-0000f190: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
-0000f1a0: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-0000f1b0: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
-0000f1c0: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
-0000f1d0: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
-0000f1e0: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
-0000f1f0: 2020 2020 7265 7475 726e 206f 7468 6572      return other
-0000f200: 205e 2073 656c 660a 0a20 2020 2064 6566   ^ self..    def
-0000f210: 205f 5f61 6e64 5f5f 2873 656c 662c 206f   __and__(self, o
-0000f220: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
-0000f230: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-0000f240: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
-0000f250: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
-0000f260: 6060 2660 6020 6f70 6572 6174 6f72 202d  ``&`` operator -
-0000f270: 2072 6574 7572 6e73 203a 636c 6173 733a   returns :class:
-0000f280: 6045 6163 6860 0a20 2020 2020 2020 2022  `Each`.        "
-0000f290: 2222 0a20 2020 2020 2020 2069 6620 6973  "".        if is
-0000f2a0: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000f2b0: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
-0000f2c0: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
-0000f2d0: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
-0000f2e0: 6e67 436c 6173 7328 6f74 6865 7229 0a20  ngClass(other). 
-0000f2f0: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
-0000f300: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000f310: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
-0000f320: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000f330: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
-0000f340: 640a 2020 2020 2020 2020 7265 7475 726e  d.        return
-0000f350: 2045 6163 6828 5b73 656c 662c 206f 7468   Each([self, oth
-0000f360: 6572 5d29 0a0a 2020 2020 6465 6620 5f5f  er])..    def __
-0000f370: 7261 6e64 5f5f 2873 656c 662c 206f 7468  rand__(self, oth
-0000f380: 6572 2920 2d3e 2022 5061 7273 6572 456c  er) -> "ParserEl
-0000f390: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
-0000f3a0: 2222 220a 2020 2020 2020 2020 496d 706c  """.        Impl
-0000f3b0: 656d 656e 7461 7469 6f6e 206f 6620 6060  ementation of ``
-0000f3c0: 2660 6020 6f70 6572 6174 6f72 2077 6865  &`` operator whe
-0000f3d0: 6e20 6c65 6674 206f 7065 7261 6e64 2069  n left operand i
-0000f3e0: 7320 6e6f 7420 6120 3a63 6c61 7373 3a60  s not a :class:`
-0000f3f0: 5061 7273 6572 456c 656d 656e 7460 0a20  ParserElement`. 
-0000f400: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000f410: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0000f420: 286f 7468 6572 2c20 7374 725f 7479 7065  (other, str_type
-0000f430: 293a 0a20 2020 2020 2020 2020 2020 206f  ):.            o
-0000f440: 7468 6572 203d 2073 656c 662e 5f6c 6974  ther = self._lit
-0000f450: 6572 616c 5374 7269 6e67 436c 6173 7328  eralStringClass(
-0000f460: 6f74 6865 7229 0a20 2020 2020 2020 2069  other).        i
-0000f470: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
-0000f480: 286f 7468 6572 2c20 5061 7273 6572 456c  (other, ParserEl
-0000f490: 656d 656e 7429 3a0a 2020 2020 2020 2020  ement):.        
-0000f4a0: 2020 2020 7265 7475 726e 204e 6f74 496d      return NotIm
-0000f4b0: 706c 656d 656e 7465 640a 2020 2020 2020  plemented.      
-0000f4c0: 2020 7265 7475 726e 206f 7468 6572 2026    return other &
-0000f4d0: 2073 656c 660a 0a20 2020 2064 6566 205f   self..    def _
-0000f4e0: 5f69 6e76 6572 745f 5f28 7365 6c66 2920  _invert__(self) 
-0000f4f0: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
-0000f500: 7422 3a0a 2020 2020 2020 2020 2222 220a  t":.        """.
-0000f510: 2020 2020 2020 2020 496d 706c 656d 656e          Implemen
-0000f520: 7461 7469 6f6e 206f 6620 6060 7e60 6020  tation of ``~`` 
-0000f530: 6f70 6572 6174 6f72 202d 2072 6574 7572  operator - retur
-0000f540: 6e73 203a 636c 6173 733a 604e 6f74 416e  ns :class:`NotAn
-0000f550: 7960 0a20 2020 2020 2020 2022 2222 0a20  y`.        """. 
-0000f560: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
-0000f570: 7441 6e79 2873 656c 6629 0a0a 2020 2020  tAny(self)..    
-0000f580: 2320 6469 7361 626c 6520 5f5f 6974 6572  # disable __iter
-0000f590: 5f5f 2074 6f20 6f76 6572 7269 6465 206c  __ to override l
-0000f5a0: 6567 6163 7920 7573 6520 6f66 2073 6571  egacy use of seq
-0000f5b0: 7565 6e74 6961 6c20 6163 6365 7373 2074  uential access t
-0000f5c0: 6f20 5f5f 6765 7469 7465 6d5f 5f20 746f  o __getitem__ to
-0000f5d0: 0a20 2020 2023 2069 7465 7261 7465 206f  .    # iterate o
-0000f5e0: 7665 7220 6120 7365 7175 656e 6365 0a20  ver a sequence. 
-0000f5f0: 2020 205f 5f69 7465 725f 5f20 3d20 4e6f     __iter__ = No
-0000f600: 6e65 0a0a 2020 2020 6465 6620 5f5f 6765  ne..    def __ge
-0000f610: 7469 7465 6d5f 5f28 7365 6c66 2c20 6b65  titem__(self, ke
-0000f620: 7929 3a0a 2020 2020 2020 2020 2222 220a  y):.        """.
-0000f630: 2020 2020 2020 2020 7573 6520 6060 5b5d          use ``[]
-0000f640: 6060 2069 6e64 6578 696e 6720 6e6f 7461  `` indexing nota
-0000f650: 7469 6f6e 2061 7320 6120 7368 6f72 7420  tion as a short 
-0000f660: 666f 726d 2066 6f72 2065 7870 7265 7373  form for express
-0000f670: 696f 6e20 7265 7065 7469 7469 6f6e 3a0a  ion repetition:.
-0000f680: 0a20 2020 2020 2020 202d 2060 6065 7870  .        - ``exp
-0000f690: 725b 6e5d 6060 2069 7320 6571 7569 7661  r[n]`` is equiva
-0000f6a0: 6c65 6e74 2074 6f20 6060 6578 7072 2a6e  lent to ``expr*n
-0000f6b0: 6060 0a20 2020 2020 2020 202d 2060 6065  ``.        - ``e
-0000f6c0: 7870 725b 6d2c 206e 5d60 6020 6973 2065  xpr[m, n]`` is e
-0000f6d0: 7175 6976 616c 656e 7420 746f 2060 6065  quivalent to ``e
-0000f6e0: 7870 722a 286d 2c20 6e29 6060 0a20 2020  xpr*(m, n)``.   
-0000f6f0: 2020 2020 202d 2060 6065 7870 725b 6e2c       - ``expr[n,
-0000f700: 202e 2e2e 5d60 6020 6f72 2060 6065 7870   ...]`` or ``exp
-0000f710: 725b 6e2c 5d60 6020 6973 2065 7175 6976  r[n,]`` is equiv
-0000f720: 616c 656e 740a 2020 2020 2020 2020 2020  alent.          
-0000f730: 2020 2074 6f20 6060 6578 7072 2a6e 202b     to ``expr*n +
-0000f740: 205a 6572 6f4f 724d 6f72 6528 6578 7072   ZeroOrMore(expr
-0000f750: 2960 600a 2020 2020 2020 2020 2020 2020  )``.            
-0000f760: 2028 7265 6164 2061 7320 2261 7420 6c65   (read as "at le
-0000f770: 6173 7420 6e20 696e 7374 616e 6365 7320  ast n instances 
-0000f780: 6f66 2060 6065 7870 7260 6022 290a 2020  of ``expr``").  
-0000f790: 2020 2020 2020 2d20 6060 6578 7072 5b2e        - ``expr[.
-0000f7a0: 2e2e 2c20 6e5d 6060 2069 7320 6571 7569  .., n]`` is equi
-0000f7b0: 7661 6c65 6e74 2074 6f20 6060 6578 7072  valent to ``expr
-0000f7c0: 2a28 302c 206e 2960 600a 2020 2020 2020  *(0, n)``.      
-0000f7d0: 2020 2020 2020 2028 7265 6164 2061 7320         (read as 
-0000f7e0: 2230 2074 6f20 6e20 696e 7374 616e 6365  "0 to n instance
-0000f7f0: 7320 6f66 2060 6065 7870 7260 6022 290a  s of ``expr``").
-0000f800: 2020 2020 2020 2020 2d20 6060 6578 7072          - ``expr
-0000f810: 5b2e 2e2e 5d60 6020 616e 6420 6060 6578  [...]`` and ``ex
-0000f820: 7072 5b30 2c20 2e2e 2e5d 6060 2061 7265  pr[0, ...]`` are
-0000f830: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
-0000f840: 605a 6572 6f4f 724d 6f72 6528 6578 7072  `ZeroOrMore(expr
-0000f850: 2960 600a 2020 2020 2020 2020 2d20 6060  )``.        - ``
-0000f860: 6578 7072 5b31 2c20 2e2e 2e5d 6060 2069  expr[1, ...]`` i
-0000f870: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
-0000f880: 6060 4f6e 654f 724d 6f72 6528 6578 7072  ``OneOrMore(expr
-0000f890: 2960 600a 0a20 2020 2020 2020 2060 604e  )``..        ``N
-0000f8a0: 6f6e 6560 6020 6d61 7920 6265 2075 7365  one`` may be use
-0000f8b0: 6420 696e 2070 6c61 6365 206f 6620 6060  d in place of ``
-0000f8c0: 2e2e 2e60 602e 0a0a 2020 2020 2020 2020  ...``...        
-0000f8d0: 4e6f 7465 2074 6861 7420 6060 6578 7072  Note that ``expr
-0000f8e0: 5b2e 2e2e 2c20 6e5d 6060 2061 6e64 2060  [..., n]`` and `
-0000f8f0: 6065 7870 725b 6d2c 206e 5d60 6020 646f  `expr[m, n]`` do
-0000f900: 206e 6f74 2072 6169 7365 2061 6e20 6578   not raise an ex
-0000f910: 6365 7074 696f 6e0a 2020 2020 2020 2020  ception.        
-0000f920: 6966 206d 6f72 6520 7468 616e 2060 606e  if more than ``n
-0000f930: 6060 2060 6065 7870 7260 605c 5c20 7320  `` ``expr``\\ s 
-0000f940: 6578 6973 7420 696e 2074 6865 2069 6e70  exist in the inp
-0000f950: 7574 2073 7472 6561 6d2e 2020 4966 2074  ut stream.  If t
-0000f960: 6869 7320 6265 6861 7669 6f72 2069 730a  his behavior is.
-0000f970: 2020 2020 2020 2020 6465 7369 7265 642c          desired,
-0000f980: 2074 6865 6e20 7772 6974 6520 6060 6578   then write ``ex
-0000f990: 7072 5b2e 2e2e 2c20 6e5d 202b 207e 6578  pr[..., n] + ~ex
-0000f9a0: 7072 6060 2e0a 0a20 2020 2020 2020 2046  pr``...        F
-0000f9b0: 6f72 2072 6570 6574 6974 696f 6e20 7769  or repetition wi
-0000f9c0: 7468 2061 2073 746f 705f 6f6e 2065 7870  th a stop_on exp
-0000f9d0: 7265 7373 696f 6e2c 2075 7365 2073 6c69  ression, use sli
-0000f9e0: 6365 206e 6f74 6174 696f 6e3a 0a0a 2020  ce notation:..  
-0000f9f0: 2020 2020 2020 2d20 6060 6578 7072 5b2e        - ``expr[.
-0000fa00: 2e2e 3a20 656e 645f 6578 7072 5d60 6020  ..: end_expr]`` 
-0000fa10: 616e 6420 6060 6578 7072 5b30 2c20 2e2e  and ``expr[0, ..
-0000fa20: 2e3a 2065 6e64 5f65 7870 725d 6060 2061  .: end_expr]`` a
-0000fa30: 7265 2065 7175 6976 616c 656e 7420 746f  re equivalent to
-0000fa40: 2060 605a 6572 6f4f 724d 6f72 6528 6578   ``ZeroOrMore(ex
-0000fa50: 7072 2c20 7374 6f70 5f6f 6e3d 656e 645f  pr, stop_on=end_
-0000fa60: 6578 7072 2960 600a 2020 2020 2020 2020  expr)``.        
-0000fa70: 2d20 6060 6578 7072 5b31 2c20 2e2e 2e3a  - ``expr[1, ...:
-0000fa80: 2065 6e64 5f65 7870 725d 6060 2069 7320   end_expr]`` is 
-0000fa90: 6571 7569 7661 6c65 6e74 2074 6f20 6060  equivalent to ``
-0000faa0: 4f6e 654f 724d 6f72 6528 6578 7072 2c20  OneOrMore(expr, 
-0000fab0: 7374 6f70 5f6f 6e3d 656e 645f 6578 7072  stop_on=end_expr
-0000fac0: 2960 600a 0a20 2020 2020 2020 2022 2222  )``..        """
-0000fad0: 0a0a 2020 2020 2020 2020 7374 6f70 5f6f  ..        stop_o
-0000fae0: 6e5f 6465 6669 6e65 6420 3d20 4661 6c73  n_defined = Fals
-0000faf0: 650a 2020 2020 2020 2020 7374 6f70 5f6f  e.        stop_o
-0000fb00: 6e20 3d20 4e6f 4d61 7463 6828 290a 2020  n = NoMatch().  
-0000fb10: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-0000fb20: 6e63 6528 6b65 792c 2073 6c69 6365 293a  nce(key, slice):
-0000fb30: 0a20 2020 2020 2020 2020 2020 206b 6579  .            key
-0000fb40: 2c20 7374 6f70 5f6f 6e20 3d20 6b65 792e  , stop_on = key.
-0000fb50: 7374 6172 742c 206b 6579 2e73 746f 700a  start, key.stop.
-0000fb60: 2020 2020 2020 2020 2020 2020 6966 206b              if k
-0000fb70: 6579 2069 7320 4e6f 6e65 3a0a 2020 2020  ey is None:.    
-0000fb80: 2020 2020 2020 2020 2020 2020 6b65 7920              key 
-0000fb90: 3d20 2e2e 2e0a 2020 2020 2020 2020 2020  = ....          
-0000fba0: 2020 7374 6f70 5f6f 6e5f 6465 6669 6e65    stop_on_define
-0000fbb0: 6420 3d20 5472 7565 0a20 2020 2020 2020  d = True.       
-0000fbc0: 2065 6c69 6620 6973 696e 7374 616e 6365   elif isinstance
-0000fbd0: 286b 6579 2c20 7475 706c 6529 2061 6e64  (key, tuple) and
-0000fbe0: 2069 7369 6e73 7461 6e63 6528 6b65 795b   isinstance(key[
-0000fbf0: 2d31 5d2c 2073 6c69 6365 293a 0a20 2020  -1], slice):.   
-0000fc00: 2020 2020 2020 2020 206b 6579 2c20 7374           key, st
-0000fc10: 6f70 5f6f 6e20 3d20 286b 6579 5b30 5d2c  op_on = (key[0],
-0000fc20: 206b 6579 5b31 5d2e 7374 6172 7429 2c20   key[1].start), 
-0000fc30: 6b65 795b 315d 2e73 746f 700a 2020 2020  key[1].stop.    
-0000fc40: 2020 2020 2020 2020 7374 6f70 5f6f 6e5f          stop_on_
-0000fc50: 6465 6669 6e65 6420 3d20 5472 7565 0a0a  defined = True..
-0000fc60: 2020 2020 2020 2020 2320 636f 6e76 6572          # conver
-0000fc70: 7420 7369 6e67 6c65 2061 7267 206b 6579  t single arg key
-0000fc80: 7320 746f 2074 7570 6c65 730a 2020 2020  s to tuples.    
-0000fc90: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-0000fca0: 6528 6b65 792c 2073 7472 5f74 7970 6529  e(key, str_type)
-0000fcb0: 3a0a 2020 2020 2020 2020 2020 2020 6b65  :.            ke
-0000fcc0: 7920 3d20 286b 6579 2c29 0a20 2020 2020  y = (key,).     
-0000fcd0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-0000fce0: 2020 2020 6974 6572 286b 6579 290a 2020      iter(key).  
-0000fcf0: 2020 2020 2020 6578 6365 7074 2054 7970        except Typ
-0000fd00: 6545 7272 6f72 3a0a 2020 2020 2020 2020  eError:.        
-0000fd10: 2020 2020 6b65 7920 3d20 286b 6579 2c20      key = (key, 
-0000fd20: 6b65 7929 0a0a 2020 2020 2020 2020 6966  key)..        if
-0000fd30: 206c 656e 286b 6579 2920 3e20 323a 0a20   len(key) > 2:. 
-0000fd40: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000fd50: 2054 7970 6545 7272 6f72 280a 2020 2020   TypeError(.    
-0000fd60: 2020 2020 2020 2020 2020 2020 6622 6f6e              f"on
-0000fd70: 6c79 2031 206f 7220 3220 696e 6465 7820  ly 1 or 2 index 
-0000fd80: 6172 6775 6d65 6e74 7320 7375 7070 6f72  arguments suppor
-0000fd90: 7465 6420 287b 6b65 795b 3a35 5d7d 7b66  ted ({key[:5]}{f
-0000fda0: 272e 2e2e 205b 7b6c 656e 286b 6579 297d  '... [{len(key)}
-0000fdb0: 5d27 2069 6620 6c65 6e28 6b65 7929 203e  ]' if len(key) >
-0000fdc0: 2035 2065 6c73 6520 2727 7d29 220a 2020   5 else ''})".  
-0000fdd0: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-0000fde0: 2020 2020 2023 2063 6c69 7020 746f 2032       # clip to 2
-0000fdf0: 2065 6c65 6d65 6e74 730a 2020 2020 2020   elements.      
-0000fe00: 2020 7265 7420 3d20 7365 6c66 202a 2074    ret = self * t
-0000fe10: 7570 6c65 286b 6579 5b3a 325d 290a 2020  uple(key[:2]).  
-0000fe20: 2020 2020 2020 7265 7420 3d20 7479 7069        ret = typi
-0000fe30: 6e67 2e63 6173 7428 5f4d 756c 7469 706c  ng.cast(_Multipl
-0000fe40: 654d 6174 6368 2c20 7265 7429 0a0a 2020  eMatch, ret)..  
-0000fe50: 2020 2020 2020 6966 2073 746f 705f 6f6e        if stop_on
-0000fe60: 5f64 6566 696e 6564 3a0a 2020 2020 2020  _defined:.      
-0000fe70: 2020 2020 2020 7265 742e 7374 6f70 4f6e        ret.stopOn
-0000fe80: 2873 746f 705f 6f6e 290a 0a20 2020 2020  (stop_on)..     
-0000fe90: 2020 2072 6574 7572 6e20 7265 740a 0a20     return ret.. 
-0000fea0: 2020 2064 6566 205f 5f63 616c 6c5f 5f28     def __call__(
-0000feb0: 7365 6c66 2c20 6e61 6d65 3a20 7479 7069  self, name: typi
-0000fec0: 6e67 2e4f 7074 696f 6e61 6c5b 7374 725d  ng.Optional[str]
-0000fed0: 203d 204e 6f6e 6529 202d 3e20 2250 6172   = None) -> "Par
-0000fee0: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
-0000fef0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000ff00: 2053 686f 7274 6375 7420 666f 7220 3a63   Shortcut for :c
-0000ff10: 6c61 7373 3a60 7365 745f 7265 7375 6c74  lass:`set_result
-0000ff20: 735f 6e61 6d65 602c 2077 6974 6820 6060  s_name`, with ``
-0000ff30: 6c69 7374 5f61 6c6c 5f6d 6174 6368 6573  list_all_matches
-0000ff40: 3d46 616c 7365 6060 2e0a 0a20 2020 2020  =False``...     
-0000ff50: 2020 2049 6620 6060 6e61 6d65 6060 2069     If ``name`` i
-0000ff60: 7320 6769 7665 6e20 7769 7468 2061 2074  s given with a t
-0000ff70: 7261 696c 696e 6720 6060 272a 2760 6020  railing ``'*'`` 
-0000ff80: 6368 6172 6163 7465 722c 2074 6865 6e20  character, then 
-0000ff90: 6060 6c69 7374 5f61 6c6c 5f6d 6174 6368  ``list_all_match
-0000ffa0: 6573 6060 2077 696c 6c20 6265 0a20 2020  es`` will be.   
-0000ffb0: 2020 2020 2070 6173 7365 6420 6173 2060       passed as `
-0000ffc0: 6054 7275 6560 602e 0a0a 2020 2020 2020  `True``...      
-0000ffd0: 2020 4966 2060 606e 616d 6560 6020 6973    If ``name`` is
-0000ffe0: 206f 6d69 7474 6564 2c20 7361 6d65 2061   omitted, same a
-0000fff0: 7320 6361 6c6c 696e 6720 3a63 6c61 7373  s calling :class
-00010000: 3a60 636f 7079 602e 0a0a 2020 2020 2020  :`copy`...      
-00010010: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
-00010020: 2020 2020 2020 2020 2023 2074 6865 7365           # these
-00010030: 2061 7265 2065 7175 6976 616c 656e 740a   are equivalent.
-00010040: 2020 2020 2020 2020 2020 2020 7573 6572              user
-00010050: 6461 7461 203d 2057 6f72 6428 616c 7068  data = Word(alph
-00010060: 6173 292e 7365 745f 7265 7375 6c74 735f  as).set_results_
-00010070: 6e61 6d65 2822 6e61 6d65 2229 202b 2057  name("name") + W
-00010080: 6f72 6428 6e75 6d73 202b 2022 2d22 292e  ord(nums + "-").
-00010090: 7365 745f 7265 7375 6c74 735f 6e61 6d65  set_results_name
-000100a0: 2822 736f 6373 6563 6e6f 2229 0a20 2020  ("socsecno").   
-000100b0: 2020 2020 2020 2020 2075 7365 7264 6174           userdat
-000100c0: 6120 3d20 576f 7264 2861 6c70 6861 7329  a = Word(alphas)
-000100d0: 2822 6e61 6d65 2229 202b 2057 6f72 6428  ("name") + Word(
-000100e0: 6e75 6d73 202b 2022 2d22 2928 2273 6f63  nums + "-")("soc
-000100f0: 7365 636e 6f22 290a 2020 2020 2020 2020  secno").        
-00010100: 2222 220a 2020 2020 2020 2020 6966 206e  """.        if n
-00010110: 616d 6520 6973 206e 6f74 204e 6f6e 653a  ame is not None:
-00010120: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00010130: 7572 6e20 7365 6c66 2e5f 7365 7452 6573  urn self._setRes
-00010140: 756c 7473 4e61 6d65 286e 616d 6529 0a20  ultsName(name). 
-00010150: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00010160: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00010170: 7365 6c66 2e63 6f70 7928 290a 0a20 2020  self.copy()..   
-00010180: 2064 6566 2073 7570 7072 6573 7328 7365   def suppress(se
-00010190: 6c66 2920 2d3e 2022 5061 7273 6572 456c  lf) -> "ParserEl
-000101a0: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
-000101b0: 2222 220a 2020 2020 2020 2020 5375 7070  """.        Supp
-000101c0: 7265 7373 6573 2074 6865 206f 7574 7075  resses the outpu
-000101d0: 7420 6f66 2074 6869 7320 3a63 6c61 7373  t of this :class
-000101e0: 3a60 5061 7273 6572 456c 656d 656e 7460  :`ParserElement`
-000101f0: 3b20 7573 6566 756c 2074 6f20 6b65 6570  ; useful to keep
-00010200: 2070 756e 6374 7561 7469 6f6e 2066 726f   punctuation fro
-00010210: 6d0a 2020 2020 2020 2020 636c 7574 7465  m.        clutte
-00010220: 7269 6e67 2075 7020 7265 7475 726e 6564  ring up returned
-00010230: 206f 7574 7075 742e 0a20 2020 2020 2020   output..       
-00010240: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
-00010250: 7572 6e20 5375 7070 7265 7373 2873 656c  urn Suppress(sel
-00010260: 6629 0a0a 2020 2020 6465 6620 6967 6e6f  f)..    def igno
-00010270: 7265 5f77 6869 7465 7370 6163 6528 7365  re_whitespace(se
-00010280: 6c66 2c20 7265 6375 7273 6976 653a 2062  lf, recursive: b
-00010290: 6f6f 6c20 3d20 5472 7565 2920 2d3e 2022  ool = True) -> "
-000102a0: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
-000102b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000102c0: 2020 2020 456e 6162 6c65 7320 7468 6520      Enables the 
-000102d0: 736b 6970 7069 6e67 206f 6620 7768 6974  skipping of whit
-000102e0: 6573 7061 6365 2062 6566 6f72 6520 6d61  espace before ma
-000102f0: 7463 6869 6e67 2074 6865 2063 6861 7261  tching the chara
-00010300: 6374 6572 7320 696e 2074 6865 0a20 2020  cters in the.   
-00010310: 2020 2020 203a 636c 6173 733a 6050 6172       :class:`Par
-00010320: 7365 7245 6c65 6d65 6e74 6027 7320 6465  serElement`'s de
-00010330: 6669 6e65 6420 7061 7474 6572 6e2e 0a0a  fined pattern...
-00010340: 2020 2020 2020 2020 3a70 6172 616d 2072          :param r
-00010350: 6563 7572 7369 7665 3a20 4966 2060 6054  ecursive: If ``T
-00010360: 7275 6560 6020 2874 6865 2064 6566 6175  rue`` (the defau
-00010370: 6c74 292c 2061 6c73 6f20 656e 6162 6c65  lt), also enable
-00010380: 2077 6869 7465 7370 6163 6520 736b 6970   whitespace skip
-00010390: 7069 6e67 2069 6e20 6368 696c 6420 656c  ping in child el
-000103a0: 656d 656e 7473 2028 6966 2061 6e79 290a  ements (if any).
-000103b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000103c0: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
-000103d0: 7465 7370 6163 6520 3d20 5472 7565 0a20  tespace = True. 
-000103e0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-000103f0: 6c66 0a0a 2020 2020 6465 6620 6c65 6176  lf..    def leav
-00010400: 655f 7768 6974 6573 7061 6365 2873 656c  e_whitespace(sel
-00010410: 662c 2072 6563 7572 7369 7665 3a20 626f  f, recursive: bo
-00010420: 6f6c 203d 2054 7275 6529 202d 3e20 2250  ol = True) -> "P
-00010430: 6172 7365 7245 6c65 6d65 6e74 223a 0a20  arserElement":. 
-00010440: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00010450: 2020 2044 6973 6162 6c65 7320 7468 6520     Disables the 
-00010460: 736b 6970 7069 6e67 206f 6620 7768 6974  skipping of whit
-00010470: 6573 7061 6365 2062 6566 6f72 6520 6d61  espace before ma
-00010480: 7463 6869 6e67 2074 6865 2063 6861 7261  tching the chara
-00010490: 6374 6572 7320 696e 2074 6865 0a20 2020  cters in the.   
-000104a0: 2020 2020 203a 636c 6173 733a 6050 6172       :class:`Par
-000104b0: 7365 7245 6c65 6d65 6e74 6027 7320 6465  serElement`'s de
-000104c0: 6669 6e65 6420 7061 7474 6572 6e2e 2020  fined pattern.  
-000104d0: 5468 6973 2069 7320 6e6f 726d 616c 6c79  This is normally
-000104e0: 206f 6e6c 7920 7573 6564 2069 6e74 6572   only used inter
-000104f0: 6e61 6c6c 7920 6279 0a20 2020 2020 2020  nally by.       
-00010500: 2074 6865 2070 7970 6172 7369 6e67 206d   the pyparsing m
-00010510: 6f64 756c 652c 2062 7574 206d 6179 2062  odule, but may b
-00010520: 6520 6e65 6564 6564 2069 6e20 736f 6d65  e needed in some
-00010530: 2077 6869 7465 7370 6163 652d 7365 6e73   whitespace-sens
-00010540: 6974 6976 6520 6772 616d 6d61 7273 2e0a  itive grammars..
-00010550: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00010560: 7265 6375 7273 6976 653a 2049 6620 7472  recursive: If tr
-00010570: 7565 2028 7468 6520 6465 6661 756c 7429  ue (the default)
-00010580: 2c20 616c 736f 2064 6973 6162 6c65 2077  , also disable w
-00010590: 6869 7465 7370 6163 6520 736b 6970 7069  hitespace skippi
-000105a0: 6e67 2069 6e20 6368 696c 6420 656c 656d  ng in child elem
-000105b0: 656e 7473 2028 6966 2061 6e79 290a 2020  ents (if any).  
-000105c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000105d0: 2020 7365 6c66 2e73 6b69 7057 6869 7465    self.skipWhite
-000105e0: 7370 6163 6520 3d20 4661 6c73 650a 2020  space = False.  
-000105f0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00010600: 660a 0a20 2020 2064 6566 2073 6574 5f77  f..    def set_w
-00010610: 6869 7465 7370 6163 655f 6368 6172 7328  hitespace_chars(
-00010620: 0a20 2020 2020 2020 2073 656c 662c 2063  .        self, c
-00010630: 6861 7273 3a20 556e 696f 6e5b 5365 745b  hars: Union[Set[
-00010640: 7374 725d 2c20 7374 725d 2c20 636f 7079  str], str], copy
-00010650: 5f64 6566 6175 6c74 733a 2062 6f6f 6c20  _defaults: bool 
-00010660: 3d20 4661 6c73 650a 2020 2020 2920 2d3e  = False.    ) ->
-00010670: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-00010680: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00010690: 2020 2020 2020 4f76 6572 7269 6465 7320        Overrides 
-000106a0: 7468 6520 6465 6661 756c 7420 7768 6974  the default whit
-000106b0: 6573 7061 6365 2063 6861 7273 0a20 2020  espace chars.   
-000106c0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000106d0: 2073 656c 662e 736b 6970 5768 6974 6573   self.skipWhites
-000106e0: 7061 6365 203d 2054 7275 650a 2020 2020  pace = True.    
-000106f0: 2020 2020 7365 6c66 2e77 6869 7465 4368      self.whiteCh
-00010700: 6172 7320 3d20 7365 7428 6368 6172 7329  ars = set(chars)
-00010710: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
-00010720: 7079 4465 6661 756c 7457 6869 7465 4368  pyDefaultWhiteCh
-00010730: 6172 7320 3d20 636f 7079 5f64 6566 6175  ars = copy_defau
-00010740: 6c74 730a 2020 2020 2020 2020 7265 7475  lts.        retu
-00010750: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
-00010760: 2070 6172 7365 5f77 6974 685f 7461 6273   parse_with_tabs
-00010770: 2873 656c 6629 202d 3e20 2250 6172 7365  (self) -> "Parse
-00010780: 7245 6c65 6d65 6e74 223a 0a20 2020 2020  rElement":.     
-00010790: 2020 2022 2222 0a20 2020 2020 2020 204f     """.        O
-000107a0: 7665 7272 6964 6573 2064 6566 6175 6c74  verrides default
-000107b0: 2062 6568 6176 696f 7220 746f 2065 7870   behavior to exp
-000107c0: 616e 6420 6060 3c54 4142 3e60 6020 7320  and ``<TAB>`` s 
-000107d0: 746f 2073 7061 6365 7320 6265 666f 7265  to spaces before
-000107e0: 2070 6172 7369 6e67 2074 6865 2069 6e70   parsing the inp
-000107f0: 7574 2073 7472 696e 672e 0a20 2020 2020  ut string..     
-00010800: 2020 204d 7573 7420 6265 2063 616c 6c65     Must be calle
-00010810: 6420 6265 666f 7265 2060 6070 6172 7365  d before ``parse
-00010820: 5f73 7472 696e 6760 6020 7768 656e 2074  _string`` when t
-00010830: 6865 2069 6e70 7574 2067 7261 6d6d 6172  he input grammar
-00010840: 2063 6f6e 7461 696e 7320 656c 656d 656e   contains elemen
-00010850: 7473 2074 6861 740a 2020 2020 2020 2020  ts that.        
-00010860: 6d61 7463 6820 6060 3c54 4142 3e60 6020  match ``<TAB>`` 
-00010870: 6368 6172 6163 7465 7273 2e0a 2020 2020  characters..    
-00010880: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00010890: 7365 6c66 2e6b 6565 7054 6162 7320 3d20  self.keepTabs = 
-000108a0: 5472 7565 0a20 2020 2020 2020 2072 6574  True.        ret
-000108b0: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
-000108c0: 6620 6967 6e6f 7265 2873 656c 662c 206f  f ignore(self, o
-000108d0: 7468 6572 3a20 2250 6172 7365 7245 6c65  ther: "ParserEle
-000108e0: 6d65 6e74 2229 202d 3e20 2250 6172 7365  ment") -> "Parse
-000108f0: 7245 6c65 6d65 6e74 223a 0a20 2020 2020  rElement":.     
-00010900: 2020 2022 2222 0a20 2020 2020 2020 2044     """.        D
-00010910: 6566 696e 6520 6578 7072 6573 7369 6f6e  efine expression
-00010920: 2074 6f20 6265 2069 676e 6f72 6564 2028   to be ignored (
-00010930: 652e 672e 2c20 636f 6d6d 656e 7473 2920  e.g., comments) 
-00010940: 7768 696c 6520 646f 696e 6720 7061 7474  while doing patt
-00010950: 6572 6e0a 2020 2020 2020 2020 6d61 7463  ern.        matc
-00010960: 6869 6e67 3b20 6d61 7920 6265 2063 616c  hing; may be cal
-00010970: 6c65 6420 7265 7065 6174 6564 6c79 2c20  led repeatedly, 
-00010980: 746f 2064 6566 696e 6520 6d75 6c74 6970  to define multip
-00010990: 6c65 2063 6f6d 6d65 6e74 206f 7220 6f74  le comment or ot
-000109a0: 6865 720a 2020 2020 2020 2020 6967 6e6f  her.        igno
-000109b0: 7261 626c 6520 7061 7474 6572 6e73 2e0a  rable patterns..
-000109c0: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
-000109d0: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
-000109e0: 7061 7474 203d 2057 6f72 6428 616c 7068  patt = Word(alph
-000109f0: 6173 295b 312c 202e 2e2e 5d0a 2020 2020  as)[1, ...].    
-00010a00: 2020 2020 2020 2020 7061 7474 2e70 6172          patt.par
-00010a10: 7365 5f73 7472 696e 6728 2761 626c 616a  se_string('ablaj
-00010a20: 202f 2a20 636f 6d6d 656e 7420 2a2f 206c   /* comment */ l
-00010a30: 736b 6a64 2729 0a20 2020 2020 2020 2020  skjd').         
-00010a40: 2020 2023 202d 3e20 5b27 6162 6c61 6a27     # -> ['ablaj'
-00010a50: 5d0a 0a20 2020 2020 2020 2020 2020 2070  ]..            p
-00010a60: 6174 742e 6967 6e6f 7265 2863 5f73 7479  att.ignore(c_sty
-00010a70: 6c65 5f63 6f6d 6d65 6e74 290a 2020 2020  le_comment).    
-00010a80: 2020 2020 2020 2020 7061 7474 2e70 6172          patt.par
-00010a90: 7365 5f73 7472 696e 6728 2761 626c 616a  se_string('ablaj
-00010aa0: 202f 2a20 636f 6d6d 656e 7420 2a2f 206c   /* comment */ l
-00010ab0: 736b 6a64 2729 0a20 2020 2020 2020 2020  skjd').         
-00010ac0: 2020 2023 202d 3e20 5b27 6162 6c61 6a27     # -> ['ablaj'
-00010ad0: 2c20 276c 736b 6a64 275d 0a20 2020 2020  , 'lskjd'].     
-00010ae0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-00010af0: 6d70 6f72 7420 7479 7069 6e67 0a0a 2020  mport typing..  
-00010b00: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00010b10: 6e63 6528 6f74 6865 722c 2073 7472 5f74  nce(other, str_t
-00010b20: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
-00010b30: 2020 6f74 6865 7220 3d20 5375 7070 7265    other = Suppre
-00010b40: 7373 286f 7468 6572 290a 0a20 2020 2020  ss(other)..     
-00010b50: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00010b60: 286f 7468 6572 2c20 5375 7070 7265 7373  (other, Suppress
-00010b70: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-00010b80: 6620 6f74 6865 7220 6e6f 7420 696e 2073  f other not in s
-00010b90: 656c 662e 6967 6e6f 7265 4578 7072 733a  elf.ignoreExprs:
-00010ba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010bb0: 2073 656c 662e 6967 6e6f 7265 4578 7072   self.ignoreExpr
-00010bc0: 732e 6170 7065 6e64 286f 7468 6572 290a  s.append(other).
-00010bd0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00010be0: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
-00010bf0: 676e 6f72 6545 7870 7273 2e61 7070 656e  gnoreExprs.appen
-00010c00: 6428 5375 7070 7265 7373 286f 7468 6572  d(Suppress(other
-00010c10: 2e63 6f70 7928 2929 290a 2020 2020 2020  .copy())).      
-00010c20: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
-00010c30: 2020 2064 6566 2073 6574 5f64 6562 7567     def set_debug
-00010c40: 5f61 6374 696f 6e73 280a 2020 2020 2020  _actions(.      
-00010c50: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-00010c60: 7374 6172 745f 6163 7469 6f6e 3a20 4465  start_action: De
-00010c70: 6275 6753 7461 7274 4163 7469 6f6e 2c0a  bugStartAction,.
-00010c80: 2020 2020 2020 2020 7375 6363 6573 735f          success_
-00010c90: 6163 7469 6f6e 3a20 4465 6275 6753 7563  action: DebugSuc
-00010ca0: 6365 7373 4163 7469 6f6e 2c0a 2020 2020  cessAction,.    
-00010cb0: 2020 2020 6578 6365 7074 696f 6e5f 6163      exception_ac
-00010cc0: 7469 6f6e 3a20 4465 6275 6745 7863 6570  tion: DebugExcep
-00010cd0: 7469 6f6e 4163 7469 6f6e 2c0a 2020 2020  tionAction,.    
-00010ce0: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
-00010cf0: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
-00010d00: 220a 2020 2020 2020 2020 4375 7374 6f6d  ".        Custom
-00010d10: 697a 6520 6469 7370 6c61 7920 6f66 2064  ize display of d
-00010d20: 6562 7567 6769 6e67 206d 6573 7361 6765  ebugging message
-00010d30: 7320 7768 696c 6520 646f 696e 6720 7061  s while doing pa
-00010d40: 7474 6572 6e20 6d61 7463 6869 6e67 3a0a  ttern matching:.
-00010d50: 0a20 2020 2020 2020 202d 2060 6073 7461  .        - ``sta
-00010d60: 7274 5f61 6374 696f 6e60 6020 2d20 6d65  rt_action`` - me
-00010d70: 7468 6f64 2074 6f20 6265 2063 616c 6c65  thod to be calle
-00010d80: 6420 7768 656e 2061 6e20 6578 7072 6573  d when an expres
-00010d90: 7369 6f6e 2069 7320 6162 6f75 7420 746f  sion is about to
-00010da0: 2062 6520 7061 7273 6564 3b0a 2020 2020   be parsed;.    
-00010db0: 2020 2020 2020 7368 6f75 6c64 2068 6176        should hav
-00010dc0: 6520 7468 6520 7369 676e 6174 7572 6520  e the signature 
-00010dd0: 6060 666e 2869 6e70 7574 5f73 7472 696e  ``fn(input_strin
-00010de0: 673a 2073 7472 2c20 6c6f 6361 7469 6f6e  g: str, location
-00010df0: 3a20 696e 742c 2065 7870 7265 7373 696f  : int, expressio
-00010e00: 6e3a 2050 6172 7365 7245 6c65 6d65 6e74  n: ParserElement
-00010e10: 2c20 6361 6368 655f 6869 743a 2062 6f6f  , cache_hit: boo
-00010e20: 6c29 6060 0a0a 2020 2020 2020 2020 2d20  l)``..        - 
-00010e30: 6060 7375 6363 6573 735f 6163 7469 6f6e  ``success_action
-00010e40: 6060 202d 206d 6574 686f 6420 746f 2062  `` - method to b
-00010e50: 6520 6361 6c6c 6564 2077 6865 6e20 616e  e called when an
-00010e60: 2065 7870 7265 7373 696f 6e20 6861 7320   expression has 
-00010e70: 7375 6363 6573 7366 756c 6c79 2070 6172  successfully par
-00010e80: 7365 643b 0a20 2020 2020 2020 2020 2073  sed;.          s
-00010e90: 686f 756c 6420 6861 7665 2074 6865 2073  hould have the s
-00010ea0: 6967 6e61 7475 7265 2060 6066 6e28 696e  ignature ``fn(in
-00010eb0: 7075 745f 7374 7269 6e67 3a20 7374 722c  put_string: str,
-00010ec0: 2073 7461 7274 5f6c 6f63 6174 696f 6e3a   start_location:
-00010ed0: 2069 6e74 2c20 656e 645f 6c6f 6361 7469   int, end_locati
-00010ee0: 6f6e 3a20 696e 742c 2065 7870 7265 7373  on: int, express
-00010ef0: 696f 6e3a 2050 6172 7365 7245 4c65 6d65  ion: ParserELeme
-00010f00: 6e74 2c20 7061 7273 6564 5f74 6f6b 656e  nt, parsed_token
-00010f10: 733a 2050 6172 7365 5265 7375 6c74 732c  s: ParseResults,
-00010f20: 2063 6163 6865 5f68 6974 3a20 626f 6f6c   cache_hit: bool
-00010f30: 2960 600a 0a20 2020 2020 2020 202d 2060  )``..        - `
-00010f40: 6065 7863 6570 7469 6f6e 5f61 6374 696f  `exception_actio
-00010f50: 6e60 6020 2d20 6d65 7468 6f64 2074 6f20  n`` - method to 
-00010f60: 6265 2063 616c 6c65 6420 7768 656e 2065  be called when e
-00010f70: 7870 7265 7373 696f 6e20 6661 696c 7320  xpression fails 
-00010f80: 746f 2070 6172 7365 3b0a 2020 2020 2020  to parse;.      
-00010f90: 2020 2020 7368 6f75 6c64 2068 6176 6520      should have 
-00010fa0: 7468 6520 7369 676e 6174 7572 6520 6060  the signature ``
-00010fb0: 666e 2869 6e70 7574 5f73 7472 696e 673a  fn(input_string:
-00010fc0: 2073 7472 2c20 6c6f 6361 7469 6f6e 3a20   str, location: 
-00010fd0: 696e 742c 2065 7870 7265 7373 696f 6e3a  int, expression:
-00010fe0: 2050 6172 7365 7245 6c65 6d65 6e74 2c20   ParserElement, 
-00010ff0: 6578 6365 7074 696f 6e3a 2045 7863 6570  exception: Excep
-00011000: 7469 6f6e 2c20 6361 6368 655f 6869 743a  tion, cache_hit:
-00011010: 2062 6f6f 6c29 6060 0a20 2020 2020 2020   bool)``.       
-00011020: 2022 2222 0a20 2020 2020 2020 2073 656c   """.        sel
-00011030: 662e 6465 6275 6741 6374 696f 6e73 203d  f.debugActions =
-00011040: 2073 656c 662e 4465 6275 6741 6374 696f   self.DebugActio
-00011050: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
-00011060: 7374 6172 745f 6163 7469 6f6e 206f 7220  start_action or 
-00011070: 5f64 6566 6175 6c74 5f73 7461 7274 5f64  _default_start_d
-00011080: 6562 7567 5f61 6374 696f 6e2c 2020 2320  ebug_action,  # 
-00011090: 7479 7065 3a20 6967 6e6f 7265 5b74 7275  type: ignore[tru
-000110a0: 7468 792d 6675 6e63 7469 6f6e 5d0a 2020  thy-function].  
-000110b0: 2020 2020 2020 2020 2020 7375 6363 6573            succes
-000110c0: 735f 6163 7469 6f6e 206f 7220 5f64 6566  s_action or _def
-000110d0: 6175 6c74 5f73 7563 6365 7373 5f64 6562  ault_success_deb
-000110e0: 7567 5f61 6374 696f 6e2c 2020 2320 7479  ug_action,  # ty
-000110f0: 7065 3a20 6967 6e6f 7265 5b74 7275 7468  pe: ignore[truth
-00011100: 792d 6675 6e63 7469 6f6e 5d0a 2020 2020  y-function].    
-00011110: 2020 2020 2020 2020 6578 6365 7074 696f          exceptio
-00011120: 6e5f 6163 7469 6f6e 206f 7220 5f64 6566  n_action or _def
-00011130: 6175 6c74 5f65 7863 6570 7469 6f6e 5f64  ault_exception_d
-00011140: 6562 7567 5f61 6374 696f 6e2c 2020 2320  ebug_action,  # 
-00011150: 7479 7065 3a20 6967 6e6f 7265 5b74 7275  type: ignore[tru
-00011160: 7468 792d 6675 6e63 7469 6f6e 5d0a 2020  thy-function].  
-00011170: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00011180: 7365 6c66 2e64 6562 7567 203d 2054 7275  self.debug = Tru
-00011190: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
-000111a0: 2073 656c 660a 0a20 2020 2064 6566 2073   self..    def s
-000111b0: 6574 5f64 6562 7567 2873 656c 662c 2066  et_debug(self, f
-000111c0: 6c61 673a 2062 6f6f 6c20 3d20 5472 7565  lag: bool = True
-000111d0: 2c20 7265 6375 7273 653a 2062 6f6f 6c20  , recurse: bool 
-000111e0: 3d20 4661 6c73 6529 202d 3e20 2250 6172  = False) -> "Par
-000111f0: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
-00011200: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00011210: 2045 6e61 626c 6520 6469 7370 6c61 7920   Enable display 
-00011220: 6f66 2064 6562 7567 6769 6e67 206d 6573  of debugging mes
-00011230: 7361 6765 7320 7768 696c 6520 646f 696e  sages while doin
-00011240: 6720 7061 7474 6572 6e20 6d61 7463 6869  g pattern matchi
-00011250: 6e67 2e0a 2020 2020 2020 2020 5365 7420  ng..        Set 
-00011260: 6060 666c 6167 6060 2074 6f20 6060 5472  ``flag`` to ``Tr
-00011270: 7565 6060 2074 6f20 656e 6162 6c65 2c20  ue`` to enable, 
-00011280: 6060 4661 6c73 6560 6020 746f 2064 6973  ``False`` to dis
-00011290: 6162 6c65 2e0a 2020 2020 2020 2020 5365  able..        Se
-000112a0: 7420 6060 7265 6375 7273 6560 6020 746f  t ``recurse`` to
-000112b0: 2060 6054 7275 6560 6020 746f 2073 6574   ``True`` to set
-000112c0: 2074 6865 2064 6562 7567 2066 6c61 6720   the debug flag 
-000112d0: 6f6e 2074 6869 7320 6578 7072 6573 7369  on this expressi
-000112e0: 6f6e 2061 6e64 2061 6c6c 2073 7562 2d65  on and all sub-e
-000112f0: 7870 7265 7373 696f 6e73 2e0a 0a20 2020  xpressions...   
-00011300: 2020 2020 2045 7861 6d70 6c65 3a3a 0a0a       Example::..
-00011310: 2020 2020 2020 2020 2020 2020 7764 203d              wd =
-00011320: 2057 6f72 6428 616c 7068 6173 292e 7365   Word(alphas).se
-00011330: 745f 6e61 6d65 2822 616c 7068 6177 6f72  t_name("alphawor
-00011340: 6422 290a 2020 2020 2020 2020 2020 2020  d").            
-00011350: 696e 7465 6765 7220 3d20 576f 7264 286e  integer = Word(n
-00011360: 756d 7329 2e73 6574 5f6e 616d 6528 226e  ums).set_name("n
-00011370: 756d 776f 7264 2229 0a20 2020 2020 2020  umword").       
-00011380: 2020 2020 2074 6572 6d20 3d20 7764 207c       term = wd |
-00011390: 2069 6e74 6567 6572 0a0a 2020 2020 2020   integer..      
-000113a0: 2020 2020 2020 2320 7475 726e 206f 6e20        # turn on 
-000113b0: 6465 6275 6767 696e 6720 666f 7220 7764  debugging for wd
-000113c0: 0a20 2020 2020 2020 2020 2020 2077 642e  .            wd.
-000113d0: 7365 745f 6465 6275 6728 290a 0a20 2020  set_debug()..   
-000113e0: 2020 2020 2020 2020 2074 6572 6d5b 312c           term[1,
-000113f0: 202e 2e2e 5d2e 7061 7273 655f 7374 7269   ...].parse_stri
-00011400: 6e67 2822 6162 6320 3132 3320 7879 7a20  ng("abc 123 xyz 
-00011410: 3839 3022 290a 0a20 2020 2020 2020 2070  890")..        p
-00011420: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
-00011430: 2020 2020 204d 6174 6368 2061 6c70 6861       Match alpha
-00011440: 776f 7264 2061 7420 6c6f 6320 3028 312c  word at loc 0(1,
-00011450: 3129 0a20 2020 2020 2020 2020 2020 204d  1).            M
-00011460: 6174 6368 6564 2061 6c70 6861 776f 7264  atched alphaword
-00011470: 202d 3e20 5b27 6162 6327 5d0a 2020 2020   -> ['abc'].    
-00011480: 2020 2020 2020 2020 4d61 7463 6820 616c          Match al
-00011490: 7068 6177 6f72 6420 6174 206c 6f63 2033  phaword at loc 3
-000114a0: 2831 2c34 290a 2020 2020 2020 2020 2020  (1,4).          
-000114b0: 2020 4578 6365 7074 696f 6e20 7261 6973    Exception rais
-000114c0: 6564 3a45 7870 6563 7465 6420 616c 7068  ed:Expected alph
-000114d0: 6177 6f72 6420 2861 7420 6368 6172 2034  aword (at char 4
-000114e0: 292c 2028 6c69 6e65 3a31 2c20 636f 6c3a  ), (line:1, col:
-000114f0: 3529 0a20 2020 2020 2020 2020 2020 204d  5).            M
-00011500: 6174 6368 2061 6c70 6861 776f 7264 2061  atch alphaword a
-00011510: 7420 6c6f 6320 3728 312c 3829 0a20 2020  t loc 7(1,8).   
-00011520: 2020 2020 2020 2020 204d 6174 6368 6564           Matched
-00011530: 2061 6c70 6861 776f 7264 202d 3e20 5b27   alphaword -> ['
-00011540: 7879 7a27 5d0a 2020 2020 2020 2020 2020  xyz'].          
-00011550: 2020 4d61 7463 6820 616c 7068 6177 6f72    Match alphawor
-00011560: 6420 6174 206c 6f63 2031 3128 312c 3132  d at loc 11(1,12
-00011570: 290a 2020 2020 2020 2020 2020 2020 4578  ).            Ex
-00011580: 6365 7074 696f 6e20 7261 6973 6564 3a45  ception raised:E
-00011590: 7870 6563 7465 6420 616c 7068 6177 6f72  xpected alphawor
-000115a0: 6420 2861 7420 6368 6172 2031 3229 2c20  d (at char 12), 
-000115b0: 286c 696e 653a 312c 2063 6f6c 3a31 3329  (line:1, col:13)
-000115c0: 0a20 2020 2020 2020 2020 2020 204d 6174  .            Mat
-000115d0: 6368 2061 6c70 6861 776f 7264 2061 7420  ch alphaword at 
-000115e0: 6c6f 6320 3135 2831 2c31 3629 0a20 2020  loc 15(1,16).   
-000115f0: 2020 2020 2020 2020 2045 7863 6570 7469           Excepti
-00011600: 6f6e 2072 6169 7365 643a 4578 7065 6374  on raised:Expect
-00011610: 6564 2061 6c70 6861 776f 7264 2028 6174  ed alphaword (at
-00011620: 2063 6861 7220 3135 292c 2028 6c69 6e65   char 15), (line
-00011630: 3a31 2c20 636f 6c3a 3136 290a 0a20 2020  :1, col:16)..   
-00011640: 2020 2020 2054 6865 206f 7574 7075 7420       The output 
-00011650: 7368 6f77 6e20 6973 2074 6861 7420 7072  shown is that pr
-00011660: 6f64 7563 6564 2062 7920 7468 6520 6465  oduced by the de
-00011670: 6661 756c 7420 6465 6275 6720 6163 7469  fault debug acti
-00011680: 6f6e 7320 2d20 6375 7374 6f6d 2064 6562  ons - custom deb
-00011690: 7567 2061 6374 696f 6e73 2063 616e 2062  ug actions can b
-000116a0: 650a 2020 2020 2020 2020 7370 6563 6966  e.        specif
-000116b0: 6965 6420 7573 696e 6720 3a63 6c61 7373  ied using :class
-000116c0: 3a60 7365 745f 6465 6275 675f 6163 7469  :`set_debug_acti
-000116d0: 6f6e 7360 2e20 5072 696f 7220 746f 2061  ons`. Prior to a
-000116e0: 7474 656d 7074 696e 670a 2020 2020 2020  ttempting.      
-000116f0: 2020 746f 206d 6174 6368 2074 6865 2060    to match the `
-00011700: 6077 6460 6020 6578 7072 6573 7369 6f6e  `wd`` expression
-00011710: 2c20 7468 6520 6465 6275 6767 696e 6720  , the debugging 
-00011720: 6d65 7373 6167 6520 6060 224d 6174 6368  message ``"Match
-00011730: 203c 6578 7072 6e61 6d65 3e20 6174 206c   <exprname> at l
-00011740: 6f63 203c 6e3e 283c 6c69 6e65 3e2c 3c63  oc <n>(<line>,<c
-00011750: 6f6c 3e29 2260 600a 2020 2020 2020 2020  ol>)"``.        
-00011760: 6973 2073 686f 776e 2e20 5468 656e 2069  is shown. Then i
-00011770: 6620 7468 6520 7061 7273 6520 7375 6363  f the parse succ
-00011780: 6565 6473 2c20 6120 6060 224d 6174 6368  eeds, a ``"Match
-00011790: 6564 2260 6020 6d65 7373 6167 6520 6973  ed"`` message is
-000117a0: 2073 686f 776e 2c20 6f72 2061 6e20 6060   shown, or an ``
-000117b0: 2245 7863 6570 7469 6f6e 2072 6169 7365  "Exception raise
-000117c0: 6422 6060 0a20 2020 2020 2020 206d 6573  d"``.        mes
-000117d0: 7361 6765 2069 7320 7368 6f77 6e2e 2041  sage is shown. A
-000117e0: 6c73 6f20 6e6f 7465 2074 6865 2075 7365  lso note the use
-000117f0: 206f 6620 3a63 6c61 7373 3a60 7365 745f   of :class:`set_
-00011800: 6e61 6d65 6020 746f 2061 7373 6967 6e20  name` to assign 
-00011810: 6120 6875 6d61 6e2d 7265 6164 6162 6c65  a human-readable
-00011820: 206e 616d 6520 746f 2074 6865 2065 7870   name to the exp
-00011830: 7265 7373 696f 6e2c 0a20 2020 2020 2020  ression,.       
-00011840: 2077 6869 6368 206d 616b 6573 2064 6562   which makes deb
-00011850: 7567 6769 6e67 2061 6e64 2065 7863 6570  ugging and excep
-00011860: 7469 6f6e 206d 6573 7361 6765 7320 6561  tion messages ea
-00011870: 7369 6572 2074 6f20 756e 6465 7273 7461  sier to understa
-00011880: 6e64 202d 2066 6f72 2069 6e73 7461 6e63  nd - for instanc
-00011890: 652c 2074 6865 2064 6566 6175 6c74 0a20  e, the default. 
-000118a0: 2020 2020 2020 206e 616d 6520 6372 6561         name crea
-000118b0: 7465 6420 666f 7220 7468 6520 3a63 6c61  ted for the :cla
-000118c0: 7373 3a60 576f 7264 6020 6578 7072 6573  ss:`Word` expres
-000118d0: 7369 6f6e 2077 6974 686f 7574 2063 616c  sion without cal
-000118e0: 6c69 6e67 2060 6073 6574 5f6e 616d 6560  ling ``set_name`
-000118f0: 6020 6973 2060 6022 573a 2841 2d5a 612d  ` is ``"W:(A-Za-
-00011900: 7a29 2260 602e 0a20 2020 2020 2020 2022  z)"``..        "
-00011910: 2222 0a20 2020 2020 2020 2069 6620 7265  "".        if re
-00011920: 6375 7273 653a 0a20 2020 2020 2020 2020  curse:.         
-00011930: 2020 2066 6f72 2065 7870 7220 696e 2073     for expr in s
-00011940: 656c 662e 7669 7369 745f 616c 6c28 293a  elf.visit_all():
-00011950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011960: 2065 7870 722e 7365 745f 6465 6275 6728   expr.set_debug(
-00011970: 666c 6167 2c20 7265 6375 7273 653d 4661  flag, recurse=Fa
-00011980: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
-00011990: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-000119a0: 2020 2020 2020 6966 2066 6c61 673a 0a20        if flag:. 
-000119b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000119c0: 7365 745f 6465 6275 675f 6163 7469 6f6e  set_debug_action
-000119d0: 7328 0a20 2020 2020 2020 2020 2020 2020  s(.             
-000119e0: 2020 205f 6465 6661 756c 745f 7374 6172     _default_star
-000119f0: 745f 6465 6275 675f 6163 7469 6f6e 2c0a  t_debug_action,.
-00011a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011a10: 5f64 6566 6175 6c74 5f73 7563 6365 7373  _default_success
-00011a20: 5f64 6562 7567 5f61 6374 696f 6e2c 0a20  _debug_action,. 
-00011a30: 2020 2020 2020 2020 2020 2020 2020 205f                 _
-00011a40: 6465 6661 756c 745f 6578 6365 7074 696f  default_exceptio
-00011a50: 6e5f 6465 6275 675f 6163 7469 6f6e 2c0a  n_debug_action,.
-00011a60: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00011a70: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00011a80: 2020 2020 2020 2020 7365 6c66 2e64 6562          self.deb
-00011a90: 7567 203d 2046 616c 7365 0a20 2020 2020  ug = False.     
-00011aa0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-00011ab0: 2020 2020 4070 726f 7065 7274 790a 2020      @property.  
-00011ac0: 2020 6465 6620 6465 6661 756c 745f 6e61    def default_na
-00011ad0: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
-00011ae0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-00011af0: 2e5f 6465 6661 756c 744e 616d 6520 6973  ._defaultName is
-00011b00: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00011b10: 2020 2073 656c 662e 5f64 6566 6175 6c74     self._default
-00011b20: 4e61 6d65 203d 2073 656c 662e 5f67 656e  Name = self._gen
-00011b30: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
-00011b40: 2829 0a20 2020 2020 2020 2072 6574 7572  ().        retur
-00011b50: 6e20 7365 6c66 2e5f 6465 6661 756c 744e  n self._defaultN
-00011b60: 616d 650a 0a20 2020 2040 6162 7374 7261  ame..    @abstra
-00011b70: 6374 6d65 7468 6f64 0a20 2020 2064 6566  ctmethod.    def
-00011b80: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
-00011b90: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
-00011ba0: 7472 3a0a 2020 2020 2020 2020 2222 220a  tr:.        """.
-00011bb0: 2020 2020 2020 2020 4368 696c 6420 636c          Child cl
-00011bc0: 6173 7365 7320 6d75 7374 2064 6566 696e  asses must defin
-00011bd0: 6520 7468 6973 206d 6574 686f 642c 2077  e this method, w
-00011be0: 6869 6368 2064 6566 696e 6573 2068 6f77  hich defines how
-00011bf0: 2074 6865 2060 6064 6566 6175 6c74 5f6e   the ``default_n
-00011c00: 616d 6560 6020 6973 2073 6574 2e0a 2020  ame`` is set..  
-00011c10: 2020 2020 2020 2222 220a 0a20 2020 2064        """..    d
-00011c20: 6566 2073 6574 5f6e 616d 6528 7365 6c66  ef set_name(self
-00011c30: 2c20 6e61 6d65 3a20 7374 7229 202d 3e20  , name: str) -> 
-00011c40: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
-00011c50: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00011c60: 2020 2020 2044 6566 696e 6520 6e61 6d65       Define name
-00011c70: 2066 6f72 2074 6869 7320 6578 7072 6573   for this expres
-00011c80: 7369 6f6e 2c20 6d61 6b65 7320 6465 6275  sion, makes debu
-00011c90: 6767 696e 6720 616e 6420 6578 6365 7074  gging and except
-00011ca0: 696f 6e20 6d65 7373 6167 6573 2063 6c65  ion messages cle
-00011cb0: 6172 6572 2e0a 0a20 2020 2020 2020 2045  arer...        E
-00011cc0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-00011cd0: 2020 2020 2020 576f 7264 286e 756d 7329        Word(nums)
-00011ce0: 2e70 6172 7365 5f73 7472 696e 6728 2241  .parse_string("A
-00011cf0: 4243 2229 2020 2320 2d3e 2045 7863 6570  BC")  # -> Excep
-00011d00: 7469 6f6e 3a20 4578 7065 6374 6564 2057  tion: Expected W
-00011d10: 3a28 302d 3929 2028 6174 2063 6861 7220  :(0-9) (at char 
-00011d20: 3029 2c20 286c 696e 653a 312c 2063 6f6c  0), (line:1, col
-00011d30: 3a31 290a 2020 2020 2020 2020 2020 2020  :1).            
-00011d40: 576f 7264 286e 756d 7329 2e73 6574 5f6e  Word(nums).set_n
-00011d50: 616d 6528 2269 6e74 6567 6572 2229 2e70  ame("integer").p
-00011d60: 6172 7365 5f73 7472 696e 6728 2241 4243  arse_string("ABC
-00011d70: 2229 2020 2320 2d3e 2045 7863 6570 7469  ")  # -> Excepti
-00011d80: 6f6e 3a20 4578 7065 6374 6564 2069 6e74  on: Expected int
-00011d90: 6567 6572 2028 6174 2063 6861 7220 3029  eger (at char 0)
-00011da0: 2c20 286c 696e 653a 312c 2063 6f6c 3a31  , (line:1, col:1
-00011db0: 290a 2020 2020 2020 2020 2222 220a 2020  ).        """.  
-00011dc0: 2020 2020 2020 7365 6c66 2e63 7573 746f        self.custo
-00011dd0: 6d4e 616d 6520 3d20 6e61 6d65 0a20 2020  mName = name.   
-00011de0: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
-00011df0: 203d 2022 4578 7065 6374 6564 2022 202b   = "Expected " +
-00011e00: 2073 656c 662e 6e61 6d65 0a20 2020 2020   self.name.     
-00011e10: 2020 2069 6620 5f5f 6469 6167 5f5f 2e65     if __diag__.e
-00011e20: 6e61 626c 655f 6465 6275 675f 6f6e 5f6e  nable_debug_on_n
-00011e30: 616d 6564 5f65 7870 7265 7373 696f 6e73  amed_expressions
-00011e40: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00011e50: 6c66 2e73 6574 5f64 6562 7567 2829 0a20  lf.set_debug(). 
-00011e60: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00011e70: 6c66 0a0a 2020 2020 4070 726f 7065 7274  lf..    @propert
-00011e80: 790a 2020 2020 6465 6620 6e61 6d65 2873  y.    def name(s
-00011e90: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00011ea0: 2020 2020 2023 2054 6869 7320 7769 6c6c       # This will
-00011eb0: 2075 7365 2061 2075 7365 722d 6465 6669   use a user-defi
-00011ec0: 6e65 6420 6e61 6d65 2069 6620 6176 6169  ned name if avai
-00011ed0: 6c61 626c 652c 2062 7574 206f 7468 6572  lable, but other
-00011ee0: 7769 7365 2064 6566 6175 6c74 7320 6261  wise defaults ba
-00011ef0: 636b 2074 6f20 7468 6520 6175 746f 2d67  ck to the auto-g
-00011f00: 656e 6572 6174 6564 206e 616d 650a 2020  enerated name.  
-00011f10: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00011f20: 662e 6375 7374 6f6d 4e61 6d65 2069 6620  f.customName if 
-00011f30: 7365 6c66 2e63 7573 746f 6d4e 616d 6520  self.customName 
-00011f40: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
-00011f50: 2073 656c 662e 6465 6661 756c 745f 6e61   self.default_na
-00011f60: 6d65 0a0a 2020 2020 6465 6620 5f5f 7374  me..    def __st
-00011f70: 725f 5f28 7365 6c66 2920 2d3e 2073 7472  r__(self) -> str
-00011f80: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00011f90: 2073 656c 662e 6e61 6d65 0a0a 2020 2020   self.name..    
-00011fa0: 6465 6620 5f5f 7265 7072 5f5f 2873 656c  def __repr__(sel
-00011fb0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-00011fc0: 2020 2072 6574 7572 6e20 7374 7228 7365     return str(se
-00011fd0: 6c66 290a 0a20 2020 2064 6566 2073 7472  lf)..    def str
-00011fe0: 6561 6d6c 696e 6528 7365 6c66 2920 2d3e  eamline(self) ->
-00011ff0: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-00012000: 3a0a 2020 2020 2020 2020 7365 6c66 2e73  :.        self.s
-00012010: 7472 6561 6d6c 696e 6564 203d 2054 7275  treamlined = Tru
-00012020: 650a 2020 2020 2020 2020 7365 6c66 2e5f  e.        self._
-00012030: 6465 6661 756c 744e 616d 6520 3d20 4e6f  defaultName = No
-00012040: 6e65 0a20 2020 2020 2020 2072 6574 7572  ne.        retur
-00012050: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
-00012060: 7265 6375 7273 6528 7365 6c66 2920 2d3e  recurse(self) ->
-00012070: 204c 6973 745b 2250 6172 7365 7245 6c65   List["ParserEle
-00012080: 6d65 6e74 225d 3a0a 2020 2020 2020 2020  ment"]:.        
-00012090: 7265 7475 726e 205b 5d0a 0a20 2020 2064  return []..    d
-000120a0: 6566 205f 6368 6563 6b52 6563 7572 7369  ef _checkRecursi
-000120b0: 6f6e 2873 656c 662c 2070 6172 7365 456c  on(self, parseEl
-000120c0: 656d 656e 744c 6973 7429 3a0a 2020 2020  ementList):.    
-000120d0: 2020 2020 7375 6252 6563 4368 6563 6b4c      subRecCheckL
-000120e0: 6973 7420 3d20 7061 7273 6545 6c65 6d65  ist = parseEleme
-000120f0: 6e74 4c69 7374 5b3a 5d20 2b20 5b73 656c  ntList[:] + [sel
-00012100: 665d 0a20 2020 2020 2020 2066 6f72 2065  f].        for e
-00012110: 2069 6e20 7365 6c66 2e72 6563 7572 7365   in self.recurse
-00012120: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-00012130: 652e 5f63 6865 636b 5265 6375 7273 696f  e._checkRecursio
-00012140: 6e28 7375 6252 6563 4368 6563 6b4c 6973  n(subRecCheckLis
-00012150: 7429 0a0a 2020 2020 6465 6620 7661 6c69  t)..    def vali
-00012160: 6461 7465 2873 656c 662c 2076 616c 6964  date(self, valid
-00012170: 6174 6554 7261 6365 3d4e 6f6e 6529 202d  ateTrace=None) -
-00012180: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
-00012190: 2222 220a 2020 2020 2020 2020 4368 6563  """.        Chec
-000121a0: 6b20 6465 6669 6e65 6420 6578 7072 6573  k defined expres
-000121b0: 7369 6f6e 7320 666f 7220 7661 6c69 6420  sions for valid 
-000121c0: 7374 7275 6374 7572 652c 2063 6865 636b  structure, check
-000121d0: 2066 6f72 2069 6e66 696e 6974 6520 7265   for infinite re
-000121e0: 6375 7273 6976 6520 6465 6669 6e69 7469  cursive definiti
-000121f0: 6f6e 732e 0a20 2020 2020 2020 2022 2222  ons..        """
-00012200: 0a20 2020 2020 2020 2077 6172 6e69 6e67  .        warning
-00012210: 732e 7761 726e 280a 2020 2020 2020 2020  s.warn(.        
-00012220: 2020 2020 2250 6172 7365 7245 6c65 6d65      "ParserEleme
-00012230: 6e74 2e76 616c 6964 6174 6528 2920 6973  nt.validate() is
-00012240: 2064 6570 7265 6361 7465 642c 2061 6e64   deprecated, and
-00012250: 2073 686f 756c 6420 6e6f 7420 6265 2075   should not be u
-00012260: 7365 6420 746f 2063 6865 636b 2066 6f72  sed to check for
-00012270: 206c 6566 7420 7265 6375 7273 696f 6e22   left recursion"
-00012280: 2c0a 2020 2020 2020 2020 2020 2020 4465  ,.            De
-00012290: 7072 6563 6174 696f 6e57 6172 6e69 6e67  precationWarning
-000122a0: 2c0a 2020 2020 2020 2020 2020 2020 7374  ,.            st
-000122b0: 6163 6b6c 6576 656c 3d32 2c0a 2020 2020  acklevel=2,.    
-000122c0: 2020 2020 290a 2020 2020 2020 2020 7365      ).        se
-000122d0: 6c66 2e5f 6368 6563 6b52 6563 7572 7369  lf._checkRecursi
-000122e0: 6f6e 285b 5d29 0a0a 2020 2020 6465 6620  on([])..    def 
-000122f0: 7061 7273 655f 6669 6c65 280a 2020 2020  parse_file(.    
-00012300: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00012310: 2020 6669 6c65 5f6f 725f 6669 6c65 6e61    file_or_filena
-00012320: 6d65 3a20 556e 696f 6e5b 7374 722c 2050  me: Union[str, P
-00012330: 6174 682c 2054 6578 7449 4f5d 2c0a 2020  ath, TextIO],.  
-00012340: 2020 2020 2020 656e 636f 6469 6e67 3a20        encoding: 
-00012350: 7374 7220 3d20 2275 7466 2d38 222c 0a20  str = "utf-8",. 
-00012360: 2020 2020 2020 2070 6172 7365 5f61 6c6c         parse_all
-00012370: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-00012380: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
-00012390: 2020 2070 6172 7365 416c 6c3a 2062 6f6f     parseAll: boo
-000123a0: 6c20 3d20 4661 6c73 652c 0a20 2020 2029  l = False,.    )
-000123b0: 202d 3e20 5061 7273 6552 6573 756c 7473   -> ParseResults
-000123c0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-000123d0: 2020 2020 2020 4578 6563 7574 6520 7468        Execute th
-000123e0: 6520 7061 7273 6520 6578 7072 6573 7369  e parse expressi
-000123f0: 6f6e 206f 6e20 7468 6520 6769 7665 6e20  on on the given 
-00012400: 6669 6c65 206f 7220 6669 6c65 6e61 6d65  file or filename
-00012410: 2e0a 2020 2020 2020 2020 4966 2061 2066  ..        If a f
-00012420: 696c 656e 616d 6520 6973 2073 7065 6369  ilename is speci
-00012430: 6669 6564 2028 696e 7374 6561 6420 6f66  fied (instead of
-00012440: 2061 2066 696c 6520 6f62 6a65 6374 292c   a file object),
-00012450: 0a20 2020 2020 2020 2074 6865 2065 6e74  .        the ent
-00012460: 6972 6520 6669 6c65 2069 7320 6f70 656e  ire file is open
-00012470: 6564 2c20 7265 6164 2c20 616e 6420 636c  ed, read, and cl
-00012480: 6f73 6564 2062 6566 6f72 6520 7061 7273  osed before pars
-00012490: 696e 672e 0a20 2020 2020 2020 2022 2222  ing..        """
-000124a0: 0a20 2020 2020 2020 2070 6172 7365 416c  .        parseAl
-000124b0: 6c20 3d20 7061 7273 6541 6c6c 206f 7220  l = parseAll or 
-000124c0: 7061 7273 655f 616c 6c0a 2020 2020 2020  parse_all.      
-000124d0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-000124e0: 2020 2066 696c 655f 6f72 5f66 696c 656e     file_or_filen
-000124f0: 616d 6520 3d20 7479 7069 6e67 2e63 6173  ame = typing.cas
-00012500: 7428 5465 7874 494f 2c20 6669 6c65 5f6f  t(TextIO, file_o
-00012510: 725f 6669 6c65 6e61 6d65 290a 2020 2020  r_filename).    
-00012520: 2020 2020 2020 2020 6669 6c65 5f63 6f6e          file_con
-00012530: 7465 6e74 7320 3d20 6669 6c65 5f6f 725f  tents = file_or_
-00012540: 6669 6c65 6e61 6d65 2e72 6561 6428 290a  filename.read().
-00012550: 2020 2020 2020 2020 6578 6365 7074 2041          except A
-00012560: 7474 7269 6275 7465 4572 726f 723a 0a20  ttributeError:. 
-00012570: 2020 2020 2020 2020 2020 2066 696c 655f             file_
-00012580: 6f72 5f66 696c 656e 616d 6520 3d20 7479  or_filename = ty
-00012590: 7069 6e67 2e63 6173 7428 7374 722c 2066  ping.cast(str, f
-000125a0: 696c 655f 6f72 5f66 696c 656e 616d 6529  ile_or_filename)
-000125b0: 0a20 2020 2020 2020 2020 2020 2077 6974  .            wit
-000125c0: 6820 6f70 656e 2866 696c 655f 6f72 5f66  h open(file_or_f
-000125d0: 696c 656e 616d 652c 2022 7222 2c20 656e  ilename, "r", en
-000125e0: 636f 6469 6e67 3d65 6e63 6f64 696e 6729  coding=encoding)
-000125f0: 2061 7320 663a 0a20 2020 2020 2020 2020   as f:.         
-00012600: 2020 2020 2020 2066 696c 655f 636f 6e74         file_cont
-00012610: 656e 7473 203d 2066 2e72 6561 6428 290a  ents = f.read().
-00012620: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00012630: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00012640: 7365 6c66 2e70 6172 7365 5f73 7472 696e  self.parse_strin
-00012650: 6728 6669 6c65 5f63 6f6e 7465 6e74 732c  g(file_contents,
-00012660: 2070 6172 7365 416c 6c29 0a20 2020 2020   parseAll).     
-00012670: 2020 2065 7863 6570 7420 5061 7273 6542     except ParseB
-00012680: 6173 6545 7863 6570 7469 6f6e 2061 7320  aseException as 
-00012690: 6578 633a 0a20 2020 2020 2020 2020 2020  exc:.           
-000126a0: 2069 6620 5061 7273 6572 456c 656d 656e   if ParserElemen
-000126b0: 742e 7665 7262 6f73 655f 7374 6163 6b74  t.verbose_stackt
-000126c0: 7261 6365 3a0a 2020 2020 2020 2020 2020  race:.          
-000126d0: 2020 2020 2020 7261 6973 650a 2020 2020        raise.    
-000126e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000126f0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00012700: 6361 7463 6820 616e 6420 7265 2d72 6169  catch and re-rai
-00012710: 7365 2065 7863 6570 7469 6f6e 2066 726f  se exception fro
-00012720: 6d20 6865 7265 2c20 636c 6561 7273 206f  m here, clears o
-00012730: 7574 2070 7970 6172 7369 6e67 2069 6e74  ut pyparsing int
-00012740: 6572 6e61 6c20 7374 6163 6b20 7472 6163  ernal stack trac
-00012750: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00012760: 2020 7261 6973 6520 6578 632e 7769 7468    raise exc.with
-00012770: 5f74 7261 6365 6261 636b 284e 6f6e 6529  _traceback(None)
-00012780: 0a0a 2020 2020 6465 6620 5f5f 6571 5f5f  ..    def __eq__
-00012790: 2873 656c 662c 206f 7468 6572 293a 0a20  (self, other):. 
-000127a0: 2020 2020 2020 2069 6620 7365 6c66 2069         if self i
-000127b0: 7320 6f74 6865 723a 0a20 2020 2020 2020  s other:.       
-000127c0: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
-000127d0: 0a20 2020 2020 2020 2065 6c69 6620 6973  .        elif is
-000127e0: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-000127f0: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
-00012800: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00012810: 6c66 2e6d 6174 6368 6573 286f 7468 6572  lf.matches(other
-00012820: 2c20 7061 7273 655f 616c 6c3d 5472 7565  , parse_all=True
-00012830: 290a 2020 2020 2020 2020 656c 6966 2069  ).        elif i
-00012840: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
-00012850: 2050 6172 7365 7245 6c65 6d65 6e74 293a   ParserElement):
-00012860: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00012870: 7572 6e20 7661 7273 2873 656c 6629 203d  urn vars(self) =
-00012880: 3d20 7661 7273 286f 7468 6572 290a 2020  = vars(other).  
-00012890: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
-000128a0: 7365 0a0a 2020 2020 6465 6620 5f5f 6861  se..    def __ha
-000128b0: 7368 5f5f 2873 656c 6629 3a0a 2020 2020  sh__(self):.    
-000128c0: 2020 2020 7265 7475 726e 2069 6428 7365      return id(se
-000128d0: 6c66 290a 0a20 2020 2064 6566 206d 6174  lf)..    def mat
-000128e0: 6368 6573 280a 2020 2020 2020 2020 7365  ches(.        se
-000128f0: 6c66 2c20 7465 7374 5f73 7472 696e 673a  lf, test_string:
-00012900: 2073 7472 2c20 7061 7273 655f 616c 6c3a   str, parse_all:
-00012910: 2062 6f6f 6c20 3d20 5472 7565 2c20 2a2c   bool = True, *,
-00012920: 2070 6172 7365 416c 6c3a 2062 6f6f 6c20   parseAll: bool 
-00012930: 3d20 5472 7565 0a20 2020 2029 202d 3e20  = True.    ) -> 
-00012940: 626f 6f6c 3a0a 2020 2020 2020 2020 2222  bool:.        ""
-00012950: 220a 2020 2020 2020 2020 4d65 7468 6f64  ".        Method
-00012960: 2066 6f72 2071 7569 636b 2074 6573 7469   for quick testi
-00012970: 6e67 206f 6620 6120 7061 7273 6572 2061  ng of a parser a
-00012980: 6761 696e 7374 2061 2074 6573 7420 7374  gainst a test st
-00012990: 7269 6e67 2e20 476f 6f64 2066 6f72 2073  ring. Good for s
-000129a0: 696d 706c 650a 2020 2020 2020 2020 696e  imple.        in
-000129b0: 6c69 6e65 206d 6963 726f 7465 7374 7320  line microtests 
-000129c0: 6f66 2073 7562 2065 7870 7265 7373 696f  of sub expressio
-000129d0: 6e73 2077 6869 6c65 2062 7569 6c64 696e  ns while buildin
-000129e0: 6720 7570 206c 6172 6765 7220 7061 7273  g up larger pars
-000129f0: 6572 2e0a 0a20 2020 2020 2020 2050 6172  er...        Par
-00012a00: 616d 6574 6572 733a 0a0a 2020 2020 2020  ameters:..      
-00012a10: 2020 2d20 6060 7465 7374 5f73 7472 696e    - ``test_strin
-00012a20: 6760 6020 2d20 746f 2074 6573 7420 6167  g`` - to test ag
-00012a30: 6169 6e73 7420 7468 6973 2065 7870 7265  ainst this expre
-00012a40: 7373 696f 6e20 666f 7220 6120 6d61 7463  ssion for a matc
-00012a50: 680a 2020 2020 2020 2020 2d20 6060 7061  h.        - ``pa
-00012a60: 7273 655f 616c 6c60 6020 2d20 2864 6566  rse_all`` - (def
-00012a70: 6175 6c74 3d20 6060 5472 7565 6060 2920  ault= ``True``) 
-00012a80: 2d20 666c 6167 2074 6f20 7061 7373 2074  - flag to pass t
-00012a90: 6f20 3a63 6c61 7373 3a60 7061 7273 655f  o :class:`parse_
-00012aa0: 7374 7269 6e67 6020 7768 656e 2072 756e  string` when run
-00012ab0: 6e69 6e67 2074 6573 7473 0a0a 2020 2020  ning tests..    
-00012ac0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-00012ad0: 2020 2020 2020 2020 2020 2065 7870 7220             expr 
-00012ae0: 3d20 576f 7264 286e 756d 7329 0a20 2020  = Word(nums).   
-00012af0: 2020 2020 2020 2020 2061 7373 6572 7420           assert 
-00012b00: 6578 7072 2e6d 6174 6368 6573 2822 3130  expr.matches("10
-00012b10: 3022 290a 2020 2020 2020 2020 2222 220a  0").        """.
-00012b20: 2020 2020 2020 2020 7061 7273 6541 6c6c          parseAll
-00012b30: 203d 2070 6172 7365 416c 6c20 616e 6420   = parseAll and 
-00012b40: 7061 7273 655f 616c 6c0a 2020 2020 2020  parse_all.      
-00012b50: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00012b60: 2020 2073 656c 662e 7061 7273 655f 7374     self.parse_st
-00012b70: 7269 6e67 2873 7472 2874 6573 745f 7374  ring(str(test_st
-00012b80: 7269 6e67 292c 2070 6172 7365 5f61 6c6c  ring), parse_all
-00012b90: 3d70 6172 7365 416c 6c29 0a20 2020 2020  =parseAll).     
-00012ba0: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
-00012bb0: 7565 0a20 2020 2020 2020 2065 7863 6570  ue.        excep
-00012bc0: 7420 5061 7273 6542 6173 6545 7863 6570  t ParseBaseExcep
-00012bd0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
-00012be0: 2020 7265 7475 726e 2046 616c 7365 0a0a    return False..
-00012bf0: 2020 2020 6465 6620 7275 6e5f 7465 7374      def run_test
-00012c00: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-00012c10: 0a20 2020 2020 2020 2074 6573 7473 3a20  .        tests: 
-00012c20: 556e 696f 6e5b 7374 722c 204c 6973 745b  Union[str, List[
-00012c30: 7374 725d 5d2c 0a20 2020 2020 2020 2070  str]],.        p
-00012c40: 6172 7365 5f61 6c6c 3a20 626f 6f6c 203d  arse_all: bool =
-00012c50: 2054 7275 652c 0a20 2020 2020 2020 2063   True,.        c
-00012c60: 6f6d 6d65 6e74 3a20 7479 7069 6e67 2e4f  omment: typing.O
-00012c70: 7074 696f 6e61 6c5b 556e 696f 6e5b 2250  ptional[Union["P
-00012c80: 6172 7365 7245 6c65 6d65 6e74 222c 2073  arserElement", s
-00012c90: 7472 5d5d 203d 2022 2322 2c0a 2020 2020  tr]] = "#",.    
-00012ca0: 2020 2020 6675 6c6c 5f64 756d 703a 2062      full_dump: b
-00012cb0: 6f6f 6c20 3d20 5472 7565 2c0a 2020 2020  ool = True,.    
-00012cc0: 2020 2020 7072 696e 745f 7265 7375 6c74      print_result
-00012cd0: 733a 2062 6f6f 6c20 3d20 5472 7565 2c0a  s: bool = True,.
-00012ce0: 2020 2020 2020 2020 6661 696c 7572 655f          failure_
-00012cf0: 7465 7374 733a 2062 6f6f 6c20 3d20 4661  tests: bool = Fa
-00012d00: 6c73 652c 0a20 2020 2020 2020 2070 6f73  lse,.        pos
-00012d10: 745f 7061 7273 653a 2074 7970 696e 672e  t_parse: typing.
-00012d20: 4f70 7469 6f6e 616c 5b43 616c 6c61 626c  Optional[Callabl
-00012d30: 655b 5b73 7472 2c20 5061 7273 6552 6573  e[[str, ParseRes
-00012d40: 756c 7473 5d2c 2073 7472 5d5d 203d 204e  ults], str]] = N
-00012d50: 6f6e 652c 0a20 2020 2020 2020 2066 696c  one,.        fil
-00012d60: 653a 2074 7970 696e 672e 4f70 7469 6f6e  e: typing.Option
-00012d70: 616c 5b54 6578 7449 4f5d 203d 204e 6f6e  al[TextIO] = Non
-00012d80: 652c 0a20 2020 2020 2020 2077 6974 685f  e,.        with_
-00012d90: 6c69 6e65 5f6e 756d 6265 7273 3a20 626f  line_numbers: bo
-00012da0: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-00012db0: 2020 2020 2a2c 0a20 2020 2020 2020 2070      *,.        p
-00012dc0: 6172 7365 416c 6c3a 2062 6f6f 6c20 3d20  arseAll: bool = 
-00012dd0: 5472 7565 2c0a 2020 2020 2020 2020 6675  True,.        fu
-00012de0: 6c6c 4475 6d70 3a20 626f 6f6c 203d 2054  llDump: bool = T
-00012df0: 7275 652c 0a20 2020 2020 2020 2070 7269  rue,.        pri
-00012e00: 6e74 5265 7375 6c74 733a 2062 6f6f 6c20  ntResults: bool 
-00012e10: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
-00012e20: 6661 696c 7572 6554 6573 7473 3a20 626f  failureTests: bo
-00012e30: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-00012e40: 2020 2020 706f 7374 5061 7273 653a 2074      postParse: t
-00012e50: 7970 696e 672e 4f70 7469 6f6e 616c 5b43  yping.Optional[C
-00012e60: 616c 6c61 626c 655b 5b73 7472 2c20 5061  allable[[str, Pa
-00012e70: 7273 6552 6573 756c 7473 5d2c 2073 7472  rseResults], str
-00012e80: 5d5d 203d 204e 6f6e 652c 0a20 2020 2029  ]] = None,.    )
-00012e90: 202d 3e20 5475 706c 655b 626f 6f6c 2c20   -> Tuple[bool, 
-00012ea0: 4c69 7374 5b54 7570 6c65 5b73 7472 2c20  List[Tuple[str, 
-00012eb0: 556e 696f 6e5b 5061 7273 6552 6573 756c  Union[ParseResul
-00012ec0: 7473 2c20 4578 6365 7074 696f 6e5d 5d5d  ts, Exception]]]
-00012ed0: 5d3a 0a20 2020 2020 2020 2022 2222 0a20  ]:.        """. 
-00012ee0: 2020 2020 2020 2045 7865 6375 7465 2074         Execute t
-00012ef0: 6865 2070 6172 7365 2065 7870 7265 7373  he parse express
-00012f00: 696f 6e20 6f6e 2061 2073 6572 6965 7320  ion on a series 
-00012f10: 6f66 2074 6573 7420 7374 7269 6e67 732c  of test strings,
-00012f20: 2073 686f 7769 6e67 2065 6163 680a 2020   showing each.  
-00012f30: 2020 2020 2020 7465 7374 2c20 7468 6520        test, the 
-00012f40: 7061 7273 6564 2072 6573 756c 7473 206f  parsed results o
-00012f50: 7220 7768 6572 6520 7468 6520 7061 7273  r where the pars
-00012f60: 6520 6661 696c 6564 2e20 5175 6963 6b20  e failed. Quick 
-00012f70: 616e 6420 6561 7379 2077 6179 2074 6f0a  and easy way to.
-00012f80: 2020 2020 2020 2020 7275 6e20 6120 7061          run a pa
-00012f90: 7273 6520 6578 7072 6573 7369 6f6e 2061  rse expression a
-00012fa0: 6761 696e 7374 2061 206c 6973 7420 6f66  gainst a list of
-00012fb0: 2073 616d 706c 6520 7374 7269 6e67 732e   sample strings.
-00012fc0: 0a0a 2020 2020 2020 2020 5061 7261 6d65  ..        Parame
-00012fd0: 7465 7273 3a0a 0a20 2020 2020 2020 202d  ters:..        -
-00012fe0: 2060 6074 6573 7473 6060 202d 2061 206c   ``tests`` - a l
-00012ff0: 6973 7420 6f66 2073 6570 6172 6174 6520  ist of separate 
-00013000: 7465 7374 2073 7472 696e 6773 2c20 6f72  test strings, or
-00013010: 2061 206d 756c 7469 6c69 6e65 2073 7472   a multiline str
-00013020: 696e 6720 6f66 2074 6573 7420 7374 7269  ing of test stri
-00013030: 6e67 730a 2020 2020 2020 2020 2d20 6060  ngs.        - ``
-00013040: 7061 7273 655f 616c 6c60 6020 2d20 2864  parse_all`` - (d
-00013050: 6566 6175 6c74 3d20 6060 5472 7565 6060  efault= ``True``
-00013060: 2920 2d20 666c 6167 2074 6f20 7061 7373  ) - flag to pass
-00013070: 2074 6f20 3a63 6c61 7373 3a60 7061 7273   to :class:`pars
-00013080: 655f 7374 7269 6e67 6020 7768 656e 2072  e_string` when r
-00013090: 756e 6e69 6e67 2074 6573 7473 0a20 2020  unning tests.   
-000130a0: 2020 2020 202d 2060 6063 6f6d 6d65 6e74       - ``comment
-000130b0: 6060 202d 2028 6465 6661 756c 743d 2060  `` - (default= `
-000130c0: 6027 2327 6060 2920 2d20 6578 7072 6573  `'#'``) - expres
-000130d0: 7369 6f6e 2066 6f72 2069 6e64 6963 6174  sion for indicat
-000130e0: 696e 6720 656d 6265 6464 6564 2063 6f6d  ing embedded com
-000130f0: 6d65 6e74 7320 696e 2074 6865 2074 6573  ments in the tes
-00013100: 740a 2020 2020 2020 2020 2020 7374 7269  t.          stri
-00013110: 6e67 3b20 7061 7373 204e 6f6e 6520 746f  ng; pass None to
-00013120: 2064 6973 6162 6c65 2063 6f6d 6d65 6e74   disable comment
-00013130: 2066 696c 7465 7269 6e67 0a20 2020 2020   filtering.     
-00013140: 2020 202d 2060 6066 756c 6c5f 6475 6d70     - ``full_dump
-00013150: 6060 202d 2028 6465 6661 756c 743d 2060  `` - (default= `
-00013160: 6054 7275 6560 6029 202d 2064 756d 7020  `True``) - dump 
-00013170: 7265 7375 6c74 7320 6173 206c 6973 7420  results as list 
-00013180: 666f 6c6c 6f77 6564 2062 7920 7265 7375  followed by resu
-00013190: 6c74 7320 6e61 6d65 7320 696e 206e 6573  lts names in nes
-000131a0: 7465 6420 6f75 746c 696e 653b 0a20 2020  ted outline;.   
-000131b0: 2020 2020 2020 2069 6620 4661 6c73 652c         if False,
-000131c0: 206f 6e6c 7920 6475 6d70 206e 6573 7465   only dump neste
-000131d0: 6420 6c69 7374 0a20 2020 2020 2020 202d  d list.        -
-000131e0: 2060 6070 7269 6e74 5f72 6573 756c 7473   ``print_results
-000131f0: 6060 202d 2028 6465 6661 756c 743d 2060  `` - (default= `
-00013200: 6054 7275 6560 6029 2070 7269 6e74 7320  `True``) prints 
-00013210: 7465 7374 206f 7574 7075 7420 746f 2073  test output to s
-00013220: 7464 6f75 740a 2020 2020 2020 2020 2d20  tdout.        - 
-00013230: 6060 6661 696c 7572 655f 7465 7374 7360  ``failure_tests`
-00013240: 6020 2d20 2864 6566 6175 6c74 3d20 6060  ` - (default= ``
-00013250: 4661 6c73 6560 6029 2069 6e64 6963 6174  False``) indicat
-00013260: 6573 2069 6620 7468 6573 6520 7465 7374  es if these test
-00013270: 7320 6172 6520 6578 7065 6374 6564 2074  s are expected t
-00013280: 6f20 6661 696c 2070 6172 7369 6e67 0a20  o fail parsing. 
-00013290: 2020 2020 2020 202d 2060 6070 6f73 745f         - ``post_
-000132a0: 7061 7273 6560 6020 2d20 2864 6566 6175  parse`` - (defau
-000132b0: 6c74 3d20 6060 4e6f 6e65 6060 2920 6f70  lt= ``None``) op
-000132c0: 7469 6f6e 616c 2063 616c 6c62 6163 6b20  tional callback 
-000132d0: 666f 7220 7375 6363 6573 7366 756c 2070  for successful p
-000132e0: 6172 7365 2072 6573 756c 7473 3b20 6361  arse results; ca
-000132f0: 6c6c 6564 2061 730a 2020 2020 2020 2020  lled as.        
-00013300: 2020 6066 6e28 7465 7374 5f73 7472 696e    `fn(test_strin
-00013310: 672c 2070 6172 7365 5f72 6573 756c 7473  g, parse_results
-00013320: 2960 2061 6e64 2072 6574 7572 6e73 2061  )` and returns a
-00013330: 2073 7472 696e 6720 746f 2062 6520 6164   string to be ad
-00013340: 6465 6420 746f 2074 6865 2074 6573 7420  ded to the test 
-00013350: 6f75 7470 7574 0a20 2020 2020 2020 202d  output.        -
-00013360: 2060 6066 696c 6560 6020 2d20 2864 6566   ``file`` - (def
-00013370: 6175 6c74 3d20 6060 4e6f 6e65 6060 2920  ault= ``None``) 
-00013380: 6f70 7469 6f6e 616c 2066 696c 652d 6c69  optional file-li
-00013390: 6b65 206f 626a 6563 7420 746f 2077 6869  ke object to whi
-000133a0: 6368 2074 6573 7420 6f75 7470 7574 2077  ch test output w
-000133b0: 696c 6c20 6265 2077 7269 7474 656e 3b0a  ill be written;.
-000133c0: 2020 2020 2020 2020 2020 6966 204e 6f6e            if Non
-000133d0: 652c 2077 696c 6c20 6465 6661 756c 7420  e, will default 
-000133e0: 746f 2060 6073 7973 2e73 7464 6f75 7460  to ``sys.stdout`
-000133f0: 600a 2020 2020 2020 2020 2d20 6060 7769  `.        - ``wi
-00013400: 7468 5f6c 696e 655f 6e75 6d62 6572 7360  th_line_numbers`
-00013410: 6020 2d20 6465 6661 756c 743d 2060 6046  ` - default= ``F
-00013420: 616c 7365 6060 2920 7368 6f77 2074 6573  alse``) show tes
-00013430: 7420 7374 7269 6e67 7320 7769 7468 206c  t strings with l
-00013440: 696e 6520 616e 6420 636f 6c75 6d6e 206e  ine and column n
-00013450: 756d 6265 7273 0a0a 2020 2020 2020 2020  umbers..        
-00013460: 5265 7475 726e 733a 2061 2028 7375 6363  Returns: a (succ
-00013470: 6573 732c 2072 6573 756c 7473 2920 7475  ess, results) tu
-00013480: 706c 652c 2077 6865 7265 2073 7563 6365  ple, where succe
-00013490: 7373 2069 6e64 6963 6174 6573 2074 6861  ss indicates tha
-000134a0: 7420 616c 6c20 7465 7374 7320 7375 6363  t all tests succ
-000134b0: 6565 6465 640a 2020 2020 2020 2020 286f  eeded.        (o
-000134c0: 7220 6661 696c 6564 2069 6620 6060 6661  r failed if ``fa
-000134d0: 696c 7572 655f 7465 7374 7360 6020 6973  ilure_tests`` is
-000134e0: 2054 7275 6529 2c20 616e 6420 7468 6520   True), and the 
-000134f0: 7265 7375 6c74 7320 636f 6e74 6169 6e20  results contain 
-00013500: 6120 6c69 7374 206f 6620 6c69 6e65 7320  a list of lines 
-00013510: 6f66 2065 6163 680a 2020 2020 2020 2020  of each.        
-00013520: 7465 7374 2773 206f 7574 7075 740a 0a20  test's output.. 
-00013530: 2020 2020 2020 2045 7861 6d70 6c65 3a3a         Example::
-00013540: 0a0a 2020 2020 2020 2020 2020 2020 6e75  ..            nu
-00013550: 6d62 6572 5f65 7870 7220 3d20 7079 7061  mber_expr = pypa
-00013560: 7273 696e 675f 636f 6d6d 6f6e 2e6e 756d  rsing_common.num
-00013570: 6265 722e 636f 7079 2829 0a0a 2020 2020  ber.copy()..    
-00013580: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-00013590: 206e 756d 6265 725f 6578 7072 2e72 756e   number_expr.run
-000135a0: 5f74 6573 7473 2827 2727 0a20 2020 2020  _tests('''.     
-000135b0: 2020 2020 2020 2020 2020 2023 2075 6e73             # uns
-000135c0: 6967 6e65 6420 696e 7465 6765 720a 2020  igned integer.  
-000135d0: 2020 2020 2020 2020 2020 2020 2020 3130                10
-000135e0: 300a 2020 2020 2020 2020 2020 2020 2020  0.              
-000135f0: 2020 2320 6e65 6761 7469 7665 2069 6e74    # negative int
-00013600: 6567 6572 0a20 2020 2020 2020 2020 2020  eger.           
-00013610: 2020 2020 202d 3130 300a 2020 2020 2020       -100.      
-00013620: 2020 2020 2020 2020 2020 2320 666c 6f61            # floa
-00013630: 7420 7769 7468 2073 6369 656e 7469 6669  t with scientifi
-00013640: 6320 6e6f 7461 7469 6f6e 0a20 2020 2020  c notation.     
-00013650: 2020 2020 2020 2020 2020 2036 2e30 3265             6.02e
-00013660: 3233 0a20 2020 2020 2020 2020 2020 2020  23.             
-00013670: 2020 2023 2069 6e74 6567 6572 2077 6974     # integer wit
-00013680: 6820 7363 6965 6e74 6966 6963 206e 6f74  h scientific not
-00013690: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
-000136a0: 2020 2020 2020 3165 2d31 320a 2020 2020        1e-12.    
-000136b0: 2020 2020 2020 2020 2020 2020 2727 2729              ''')
-000136c0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-000136d0: 6e74 2822 5375 6363 6573 7322 2069 6620  nt("Success" if 
-000136e0: 7265 7375 6c74 5b30 5d20 656c 7365 2022  result[0] else "
-000136f0: 4661 696c 6564 2122 290a 0a20 2020 2020  Failed!")..     
-00013700: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-00013710: 6e75 6d62 6572 5f65 7870 722e 7275 6e5f  number_expr.run_
-00013720: 7465 7374 7328 2727 270a 2020 2020 2020  tests('''.      
-00013730: 2020 2020 2020 2020 2020 2320 7374 7261            # stra
-00013740: 7920 6368 6172 6163 7465 720a 2020 2020  y character.    
-00013750: 2020 2020 2020 2020 2020 2020 3130 305a              100Z
-00013760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013770: 2023 206d 6973 7369 6e67 206c 6561 6469   # missing leadi
-00013780: 6e67 2064 6967 6974 2062 6566 6f72 6520  ng digit before 
-00013790: 272e 270a 2020 2020 2020 2020 2020 2020  '.'.            
-000137a0: 2020 2020 2d2e 3130 300a 2020 2020 2020      -.100.      
-000137b0: 2020 2020 2020 2020 2020 2320 746f 6f20            # too 
-000137c0: 6d61 6e79 2027 2e27 0a20 2020 2020 2020  many '.'.       
-000137d0: 2020 2020 2020 2020 2033 2e31 342e 3135           3.14.15
-000137e0: 390a 2020 2020 2020 2020 2020 2020 2020  9.              
-000137f0: 2020 2727 272c 2066 6169 6c75 7265 5f74    ''', failure_t
-00013800: 6573 7473 3d54 7275 6529 0a20 2020 2020  ests=True).     
-00013810: 2020 2020 2020 2070 7269 6e74 2822 5375         print("Su
-00013820: 6363 6573 7322 2069 6620 7265 7375 6c74  ccess" if result
-00013830: 5b30 5d20 656c 7365 2022 4661 696c 6564  [0] else "Failed
-00013840: 2122 290a 0a20 2020 2020 2020 2070 7269  !")..        pri
-00013850: 6e74 733a 3a0a 0a20 2020 2020 2020 2020  nts::..         
-00013860: 2020 2023 2075 6e73 6967 6e65 6420 696e     # unsigned in
-00013870: 7465 6765 720a 2020 2020 2020 2020 2020  teger.          
-00013880: 2020 3130 300a 2020 2020 2020 2020 2020    100.          
-00013890: 2020 5b31 3030 5d0a 0a20 2020 2020 2020    [100]..       
-000138a0: 2020 2020 2023 206e 6567 6174 6976 6520       # negative 
-000138b0: 696e 7465 6765 720a 2020 2020 2020 2020  integer.        
-000138c0: 2020 2020 2d31 3030 0a20 2020 2020 2020      -100.       
-000138d0: 2020 2020 205b 2d31 3030 5d0a 0a20 2020       [-100]..   
-000138e0: 2020 2020 2020 2020 2023 2066 6c6f 6174           # float
-000138f0: 2077 6974 6820 7363 6965 6e74 6966 6963   with scientific
-00013900: 206e 6f74 6174 696f 6e0a 2020 2020 2020   notation.      
-00013910: 2020 2020 2020 362e 3032 6532 330a 2020        6.02e23.  
-00013920: 2020 2020 2020 2020 2020 5b36 2e30 3265            [6.02e
-00013930: 2b32 335d 0a0a 2020 2020 2020 2020 2020  +23]..          
-00013940: 2020 2320 696e 7465 6765 7220 7769 7468    # integer with
-00013950: 2073 6369 656e 7469 6669 6320 6e6f 7461   scientific nota
-00013960: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
-00013970: 2031 652d 3132 0a20 2020 2020 2020 2020   1e-12.         
-00013980: 2020 205b 3165 2d31 325d 0a0a 2020 2020     [1e-12]..    
-00013990: 2020 2020 2020 2020 5375 6363 6573 730a          Success.
-000139a0: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
-000139b0: 7472 6179 2063 6861 7261 6374 6572 0a20  tray character. 
-000139c0: 2020 2020 2020 2020 2020 2031 3030 5a0a             100Z.
-000139d0: 2020 2020 2020 2020 2020 2020 2020 205e                 ^
-000139e0: 0a20 2020 2020 2020 2020 2020 2046 4149  .            FAI
-000139f0: 4c3a 2045 7870 6563 7465 6420 656e 6420  L: Expected end 
-00013a00: 6f66 2074 6578 7420 2861 7420 6368 6172  of text (at char
-00013a10: 2033 292c 2028 6c69 6e65 3a31 2c20 636f   3), (line:1, co
-00013a20: 6c3a 3429 0a0a 2020 2020 2020 2020 2020  l:4)..          
-00013a30: 2020 2320 6d69 7373 696e 6720 6c65 6164    # missing lead
-00013a40: 696e 6720 6469 6769 7420 6265 666f 7265  ing digit before
-00013a50: 2027 2e27 0a20 2020 2020 2020 2020 2020   '.'.           
-00013a60: 202d 2e31 3030 0a20 2020 2020 2020 2020   -.100.         
-00013a70: 2020 205e 0a20 2020 2020 2020 2020 2020     ^.           
-00013a80: 2046 4149 4c3a 2045 7870 6563 7465 6420   FAIL: Expected 
-00013a90: 7b72 6561 6c20 6e75 6d62 6572 2077 6974  {real number wit
-00013aa0: 6820 7363 6965 6e74 6966 6963 206e 6f74  h scientific not
-00013ab0: 6174 696f 6e20 7c20 7265 616c 206e 756d  ation | real num
-00013ac0: 6265 7220 7c20 7369 676e 6564 2069 6e74  ber | signed int
-00013ad0: 6567 6572 7d20 2861 7420 6368 6172 2030  eger} (at char 0
-00013ae0: 292c 2028 6c69 6e65 3a31 2c20 636f 6c3a  ), (line:1, col:
-00013af0: 3129 0a0a 2020 2020 2020 2020 2020 2020  1)..            
-00013b00: 2320 746f 6f20 6d61 6e79 2027 2e27 0a20  # too many '.'. 
-00013b10: 2020 2020 2020 2020 2020 2033 2e31 342e             3.14.
-00013b20: 3135 390a 2020 2020 2020 2020 2020 2020  159.            
-00013b30: 2020 2020 5e0a 2020 2020 2020 2020 2020      ^.          
-00013b40: 2020 4641 494c 3a20 4578 7065 6374 6564    FAIL: Expected
-00013b50: 2065 6e64 206f 6620 7465 7874 2028 6174   end of text (at
-00013b60: 2063 6861 7220 3429 2c20 286c 696e 653a   char 4), (line:
-00013b70: 312c 2063 6f6c 3a35 290a 0a20 2020 2020  1, col:5)..     
-00013b80: 2020 2020 2020 2053 7563 6365 7373 0a0a         Success..
-00013b90: 2020 2020 2020 2020 4561 6368 2074 6573          Each tes
-00013ba0: 7420 7374 7269 6e67 206d 7573 7420 6265  t string must be
-00013bb0: 206f 6e20 6120 7369 6e67 6c65 206c 696e   on a single lin
-00013bc0: 652e 2049 6620 796f 7520 7761 6e74 2074  e. If you want t
-00013bd0: 6f20 7465 7374 2061 2073 7472 696e 6720  o test a string 
-00013be0: 7468 6174 2073 7061 6e73 206d 756c 7469  that spans multi
-00013bf0: 706c 650a 2020 2020 2020 2020 6c69 6e65  ple.        line
-00013c00: 732c 2063 7265 6174 6520 6120 7465 7374  s, create a test
-00013c10: 206c 696b 6520 7468 6973 3a3a 0a0a 2020   like this::..  
-00013c20: 2020 2020 2020 2020 2020 6578 7072 2e72            expr.r
-00013c30: 756e 5f74 6573 7473 2872 2274 6869 7320  un_tests(r"this 
-00013c40: 6973 2061 2074 6573 745c 5c6e 206f 6620  is a test\\n of 
-00013c50: 7374 7269 6e67 7320 7468 6174 2073 7061  strings that spa
-00013c60: 6e73 205c 5c6e 2033 206c 696e 6573 2229  ns \\n 3 lines")
-00013c70: 0a0a 2020 2020 2020 2020 284e 6f74 6520  ..        (Note 
-00013c80: 7468 6174 2074 6869 7320 6973 2061 2072  that this is a r
-00013c90: 6177 2073 7472 696e 6720 6c69 7465 7261  aw string litera
-00013ca0: 6c2c 2079 6f75 206d 7573 7420 696e 636c  l, you must incl
-00013cb0: 7564 6520 7468 6520 6c65 6164 696e 6720  ude the leading 
-00013cc0: 6060 2772 2760 602e 290a 2020 2020 2020  ``'r'``.).      
-00013cd0: 2020 2222 220a 2020 2020 2020 2020 6672    """.        fr
-00013ce0: 6f6d 202e 7465 7374 696e 6720 696d 706f  om .testing impo
-00013cf0: 7274 2070 7970 6172 7369 6e67 5f74 6573  rt pyparsing_tes
-00013d00: 740a 0a20 2020 2020 2020 2070 6172 7365  t..        parse
-00013d10: 416c 6c20 3d20 7061 7273 6541 6c6c 2061  All = parseAll a
-00013d20: 6e64 2070 6172 7365 5f61 6c6c 0a20 2020  nd parse_all.   
-00013d30: 2020 2020 2066 756c 6c44 756d 7020 3d20       fullDump = 
-00013d40: 6675 6c6c 4475 6d70 2061 6e64 2066 756c  fullDump and ful
-00013d50: 6c5f 6475 6d70 0a20 2020 2020 2020 2070  l_dump.        p
-00013d60: 7269 6e74 5265 7375 6c74 7320 3d20 7072  rintResults = pr
-00013d70: 696e 7452 6573 756c 7473 2061 6e64 2070  intResults and p
-00013d80: 7269 6e74 5f72 6573 756c 7473 0a20 2020  rint_results.   
-00013d90: 2020 2020 2066 6169 6c75 7265 5465 7374       failureTest
-00013da0: 7320 3d20 6661 696c 7572 6554 6573 7473  s = failureTests
-00013db0: 206f 7220 6661 696c 7572 655f 7465 7374   or failure_test
-00013dc0: 730a 2020 2020 2020 2020 706f 7374 5061  s.        postPa
-00013dd0: 7273 6520 3d20 706f 7374 5061 7273 6520  rse = postParse 
-00013de0: 6f72 2070 6f73 745f 7061 7273 650a 2020  or post_parse.  
-00013df0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00013e00: 6e63 6528 7465 7374 732c 2073 7472 5f74  nce(tests, str_t
-00013e10: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
-00013e20: 2020 7465 7374 7320 3d20 7479 7069 6e67    tests = typing
-00013e30: 2e63 6173 7428 7374 722c 2074 6573 7473  .cast(str, tests
-00013e40: 290a 2020 2020 2020 2020 2020 2020 6c69  ).            li
-00013e50: 6e65 5f73 7472 6970 203d 2074 7970 6528  ne_strip = type(
-00013e60: 7465 7374 7329 2e73 7472 6970 0a20 2020  tests).strip.   
-00013e70: 2020 2020 2020 2020 2074 6573 7473 203d           tests =
-00013e80: 205b 6c69 6e65 5f73 7472 6970 2874 6573   [line_strip(tes
-00013e90: 745f 6c69 6e65 2920 666f 7220 7465 7374  t_line) for test
-00013ea0: 5f6c 696e 6520 696e 2074 6573 7473 2e72  _line in tests.r
-00013eb0: 7374 7269 7028 292e 7370 6c69 746c 696e  strip().splitlin
-00013ec0: 6573 2829 5d0a 2020 2020 2020 2020 636f  es()].        co
-00013ed0: 6d6d 656e 745f 7370 6563 6966 6965 6420  mment_specified 
-00013ee0: 3d20 636f 6d6d 656e 7420 6973 206e 6f74  = comment is not
-00013ef0: 204e 6f6e 650a 2020 2020 2020 2020 6966   None.        if
-00013f00: 2063 6f6d 6d65 6e74 5f73 7065 6369 6669   comment_specifi
-00013f10: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
-00013f20: 6966 2069 7369 6e73 7461 6e63 6528 636f  if isinstance(co
-00013f30: 6d6d 656e 742c 2073 7472 5f74 7970 6529  mment, str_type)
-00013f40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00013f50: 2020 636f 6d6d 656e 7420 3d20 7479 7069    comment = typi
-00013f60: 6e67 2e63 6173 7428 7374 722c 2063 6f6d  ng.cast(str, com
-00013f70: 6d65 6e74 290a 2020 2020 2020 2020 2020  ment).          
-00013f80: 2020 2020 2020 636f 6d6d 656e 7420 3d20        comment = 
-00013f90: 4c69 7465 7261 6c28 636f 6d6d 656e 7429  Literal(comment)
-00013fa0: 0a20 2020 2020 2020 2063 6f6d 6d65 6e74  .        comment
-00013fb0: 203d 2074 7970 696e 672e 6361 7374 2850   = typing.cast(P
-00013fc0: 6172 7365 7245 6c65 6d65 6e74 2c20 636f  arserElement, co
-00013fd0: 6d6d 656e 7429 0a20 2020 2020 2020 2069  mment).        i
-00013fe0: 6620 6669 6c65 2069 7320 4e6f 6e65 3a0a  f file is None:.
-00013ff0: 2020 2020 2020 2020 2020 2020 6669 6c65              file
-00014000: 203d 2073 7973 2e73 7464 6f75 740a 2020   = sys.stdout.  
-00014010: 2020 2020 2020 7072 696e 745f 203d 2066        print_ = f
-00014020: 696c 652e 7772 6974 650a 0a20 2020 2020  ile.write..     
-00014030: 2020 2072 6573 756c 743a 2055 6e69 6f6e     result: Union
-00014040: 5b50 6172 7365 5265 7375 6c74 732c 2045  [ParseResults, E
-00014050: 7863 6570 7469 6f6e 5d0a 2020 2020 2020  xception].      
-00014060: 2020 616c 6c52 6573 756c 7473 3a20 4c69    allResults: Li
-00014070: 7374 5b54 7570 6c65 5b73 7472 2c20 556e  st[Tuple[str, Un
-00014080: 696f 6e5b 5061 7273 6552 6573 756c 7473  ion[ParseResults
-00014090: 2c20 4578 6365 7074 696f 6e5d 5d5d 203d  , Exception]]] =
-000140a0: 205b 5d0a 2020 2020 2020 2020 636f 6d6d   [].        comm
-000140b0: 656e 7473 3a20 4c69 7374 5b73 7472 5d20  ents: List[str] 
-000140c0: 3d20 5b5d 0a20 2020 2020 2020 2073 7563  = [].        suc
-000140d0: 6365 7373 203d 2054 7275 650a 2020 2020  cess = True.    
-000140e0: 2020 2020 4e4c 203d 204c 6974 6572 616c      NL = Literal
-000140f0: 2872 225c 6e22 292e 6164 645f 7061 7273  (r"\n").add_pars
-00014100: 655f 6163 7469 6f6e 2872 6570 6c61 6365  e_action(replace
-00014110: 5f77 6974 6828 225c 6e22 2929 2e69 676e  _with("\n")).ign
-00014120: 6f72 6528 7175 6f74 6564 5f73 7472 696e  ore(quoted_strin
-00014130: 6729 0a20 2020 2020 2020 2042 4f4d 203d  g).        BOM =
-00014140: 2022 5c75 6665 6666 220a 2020 2020 2020   "\ufeff".      
-00014150: 2020 666f 7220 7420 696e 2074 6573 7473    for t in tests
-00014160: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00014170: 2063 6f6d 6d65 6e74 5f73 7065 6369 6669   comment_specifi
-00014180: 6564 2061 6e64 2063 6f6d 6d65 6e74 2e6d  ed and comment.m
-00014190: 6174 6368 6573 2874 2c20 4661 6c73 6529  atches(t, False)
-000141a0: 206f 7220 636f 6d6d 656e 7473 2061 6e64   or comments and
-000141b0: 206e 6f74 2074 3a0a 2020 2020 2020 2020   not t:.        
-000141c0: 2020 2020 2020 2020 636f 6d6d 656e 7473          comments
-000141d0: 2e61 7070 656e 6428 0a20 2020 2020 2020  .append(.       
-000141e0: 2020 2020 2020 2020 2020 2020 2070 7970               pyp
-000141f0: 6172 7369 6e67 5f74 6573 742e 7769 7468  arsing_test.with
-00014200: 5f6c 696e 655f 6e75 6d62 6572 7328 7429  _line_numbers(t)
-00014210: 2069 6620 7769 7468 5f6c 696e 655f 6e75   if with_line_nu
-00014220: 6d62 6572 7320 656c 7365 2074 0a20 2020  mbers else t.   
-00014230: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-00014240: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00014250: 6f6e 7469 6e75 650a 2020 2020 2020 2020  ontinue.        
-00014260: 2020 2020 6966 206e 6f74 2074 3a0a 2020      if not t:.  
-00014270: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00014280: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
-00014290: 2020 206f 7574 203d 205b 0a20 2020 2020     out = [.     
-000142a0: 2020 2020 2020 2020 2020 2022 5c6e 2220             "\n" 
-000142b0: 2b20 225c 6e22 2e6a 6f69 6e28 636f 6d6d  + "\n".join(comm
-000142c0: 656e 7473 2920 6966 2063 6f6d 6d65 6e74  ents) if comment
-000142d0: 7320 656c 7365 2022 222c 0a20 2020 2020  s else "",.     
-000142e0: 2020 2020 2020 2020 2020 2070 7970 6172             pypar
-000142f0: 7369 6e67 5f74 6573 742e 7769 7468 5f6c  sing_test.with_l
-00014300: 696e 655f 6e75 6d62 6572 7328 7429 2069  ine_numbers(t) i
-00014310: 6620 7769 7468 5f6c 696e 655f 6e75 6d62  f with_line_numb
-00014320: 6572 7320 656c 7365 2074 2c0a 2020 2020  ers else t,.    
-00014330: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
-00014340: 2020 2020 2020 636f 6d6d 656e 7473 203d        comments =
-00014350: 205b 5d0a 2020 2020 2020 2020 2020 2020   [].            
-00014360: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00014370: 2020 2020 2023 2063 6f6e 7665 7274 206e       # convert n
-00014380: 6577 6c69 6e65 206d 6172 6b73 2074 6f20  ewline marks to 
-00014390: 6163 7475 616c 206e 6577 6c69 6e65 732c  actual newlines,
-000143a0: 2061 6e64 2073 7472 6970 206c 6561 6469   and strip leadi
-000143b0: 6e67 2042 4f4d 2069 6620 7072 6573 656e  ng BOM if presen
-000143c0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
-000143d0: 2020 7420 3d20 4e4c 2e74 7261 6e73 666f    t = NL.transfo
-000143e0: 726d 5f73 7472 696e 6728 742e 6c73 7472  rm_string(t.lstr
-000143f0: 6970 2842 4f4d 2929 0a20 2020 2020 2020  ip(BOM)).       
-00014400: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-00014410: 3d20 7365 6c66 2e70 6172 7365 5f73 7472  = self.parse_str
-00014420: 696e 6728 742c 2070 6172 7365 5f61 6c6c  ing(t, parse_all
-00014430: 3d70 6172 7365 416c 6c29 0a20 2020 2020  =parseAll).     
-00014440: 2020 2020 2020 2065 7863 6570 7420 5061         except Pa
-00014450: 7273 6542 6173 6545 7863 6570 7469 6f6e  rseBaseException
-00014460: 2061 7320 7065 3a0a 2020 2020 2020 2020   as pe:.        
-00014470: 2020 2020 2020 2020 6661 7461 6c20 3d20          fatal = 
-00014480: 2228 4641 5441 4c29 2220 6966 2069 7369  "(FATAL)" if isi
-00014490: 6e73 7461 6e63 6528 7065 2c20 5061 7273  nstance(pe, Pars
-000144a0: 6546 6174 616c 4578 6365 7074 696f 6e29  eFatalException)
-000144b0: 2065 6c73 6520 2222 0a20 2020 2020 2020   else "".       
-000144c0: 2020 2020 2020 2020 206f 7574 2e61 7070           out.app
-000144d0: 656e 6428 7065 2e65 7870 6c61 696e 2829  end(pe.explain()
-000144e0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000144f0: 2020 6f75 742e 6170 7065 6e64 2822 4641    out.append("FA
-00014500: 494c 3a20 2220 2b20 7374 7228 7065 2929  IL: " + str(pe))
-00014510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014520: 2069 6620 5061 7273 6572 456c 656d 656e   if ParserElemen
-00014530: 742e 7665 7262 6f73 655f 7374 6163 6b74  t.verbose_stackt
-00014540: 7261 6365 3a0a 2020 2020 2020 2020 2020  race:.          
-00014550: 2020 2020 2020 2020 2020 6f75 742e 6578            out.ex
-00014560: 7465 6e64 2874 7261 6365 6261 636b 2e66  tend(traceback.f
-00014570: 6f72 6d61 745f 7462 2870 652e 5f5f 7472  ormat_tb(pe.__tr
-00014580: 6163 6562 6163 6b5f 5f29 290a 2020 2020  aceback__)).    
-00014590: 2020 2020 2020 2020 2020 2020 7375 6363              succ
-000145a0: 6573 7320 3d20 7375 6363 6573 7320 616e  ess = success an
-000145b0: 6420 6661 696c 7572 6554 6573 7473 0a20  d failureTests. 
-000145c0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-000145d0: 6573 756c 7420 3d20 7065 0a20 2020 2020  esult = pe.     
-000145e0: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-000145f0: 6365 7074 696f 6e20 6173 2065 7863 3a0a  ception as exc:.
-00014600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014610: 6f75 742e 6170 7065 6e64 2866 2246 4149  out.append(f"FAI
-00014620: 4c2d 4558 4345 5054 494f 4e3a 207b 7479  L-EXCEPTION: {ty
-00014630: 7065 2865 7863 292e 5f5f 6e61 6d65 5f5f  pe(exc).__name__
-00014640: 7d3a 207b 6578 637d 2229 0a20 2020 2020  }: {exc}").     
-00014650: 2020 2020 2020 2020 2020 2069 6620 5061             if Pa
-00014660: 7273 6572 456c 656d 656e 742e 7665 7262  rserElement.verb
-00014670: 6f73 655f 7374 6163 6b74 7261 6365 3a0a  ose_stacktrace:.
-00014680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014690: 2020 2020 6f75 742e 6578 7465 6e64 2874      out.extend(t
-000146a0: 7261 6365 6261 636b 2e66 6f72 6d61 745f  raceback.format_
-000146b0: 7462 2865 7863 2e5f 5f74 7261 6365 6261  tb(exc.__traceba
-000146c0: 636b 5f5f 2929 0a20 2020 2020 2020 2020  ck__)).         
-000146d0: 2020 2020 2020 2073 7563 6365 7373 203d         success =
-000146e0: 2073 7563 6365 7373 2061 6e64 2066 6169   success and fai
-000146f0: 6c75 7265 5465 7374 730a 2020 2020 2020  lureTests.      
-00014700: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-00014710: 203d 2065 7863 0a20 2020 2020 2020 2020   = exc.         
-00014720: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00014730: 2020 2020 2020 2020 2073 7563 6365 7373           success
-00014740: 203d 2073 7563 6365 7373 2061 6e64 206e   = success and n
-00014750: 6f74 2066 6169 6c75 7265 5465 7374 730a  ot failureTests.
-00014760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014770: 6966 2070 6f73 7450 6172 7365 2069 7320  if postParse is 
-00014780: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00014790: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-000147a0: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-000147b0: 2020 2020 2020 2020 2020 2070 705f 7661             pp_va
-000147c0: 6c75 6520 3d20 706f 7374 5061 7273 6528  lue = postParse(
-000147d0: 742c 2072 6573 756c 7429 0a20 2020 2020  t, result).     
-000147e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000147f0: 2020 2069 6620 7070 5f76 616c 7565 2069     if pp_value i
-00014800: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00014810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014820: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-00014830: 7461 6e63 6528 7070 5f76 616c 7565 2c20  tance(pp_value, 
-00014840: 5061 7273 6552 6573 756c 7473 293a 0a20  ParseResults):. 
-00014850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014860: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-00014870: 7574 2e61 7070 656e 6428 7070 5f76 616c  ut.append(pp_val
-00014880: 7565 2e64 756d 7028 2929 0a20 2020 2020  ue.dump()).     
-00014890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000148a0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-000148b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000148c0: 2020 2020 2020 2020 2020 2020 206f 7574               out
-000148d0: 2e61 7070 656e 6428 7374 7228 7070 5f76  .append(str(pp_v
-000148e0: 616c 7565 2929 0a20 2020 2020 2020 2020  alue)).         
-000148f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00014900: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00014910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014920: 206f 7574 2e61 7070 656e 6428 7265 7375   out.append(resu
-00014930: 6c74 2e64 756d 7028 2929 0a20 2020 2020  lt.dump()).     
-00014940: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00014950: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-00014960: 6173 2065 3a0a 2020 2020 2020 2020 2020  as e:.          
-00014970: 2020 2020 2020 2020 2020 2020 2020 6f75                ou
-00014980: 742e 6170 7065 6e64 2872 6573 756c 742e  t.append(result.
-00014990: 6475 6d70 2866 756c 6c3d 6675 6c6c 4475  dump(full=fullDu
-000149a0: 6d70 2929 0a20 2020 2020 2020 2020 2020  mp)).           
-000149b0: 2020 2020 2020 2020 2020 2020 206f 7574               out
-000149c0: 2e61 7070 656e 6428 0a20 2020 2020 2020  .append(.       
+0000c100: 6966 206f 7665 726c 6170 3a0a 2020 2020  if overlap:.    
+0000c110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c120: 2020 2020 2020 2020 6e65 7874 6c6f 6320          nextloc 
+0000c130: 3d20 7072 6570 6172 7365 466e 2869 6e73  = preparseFn(ins
+0000c140: 7472 696e 672c 206c 6f63 290a 2020 2020  tring, loc).    
+0000c150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c160: 2020 2020 2020 2020 6966 206e 6578 746c          if nextl
+0000c170: 6f63 203e 206c 6f63 3a0a 2020 2020 2020  oc > loc:.      
+0000c180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c190: 2020 2020 2020 2020 2020 6c6f 6320 3d20            loc = 
+0000c1a0: 6e65 7874 4c6f 630a 2020 2020 2020 2020  nextLoc.        
+0000c1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c1c0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000c1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c1e0: 2020 2020 2020 2020 2020 6c6f 6320 2b3d            loc +=
+0000c1f0: 2031 0a20 2020 2020 2020 2020 2020 2020   1.             
+0000c200: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0000c210: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c220: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
+0000c230: 203d 206e 6578 744c 6f63 0a20 2020 2020   = nextLoc.     
+0000c240: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000c250: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0000c260: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
+0000c270: 203d 2070 7265 6c6f 6320 2b20 310a 2020   = preloc + 1.  
+0000c280: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
+0000c290: 7365 4261 7365 4578 6365 7074 696f 6e20  seBaseException 
+0000c2a0: 6173 2065 7863 3a0a 2020 2020 2020 2020  as exc:.        
+0000c2b0: 2020 2020 6966 2050 6172 7365 7245 6c65      if ParserEle
+0000c2c0: 6d65 6e74 2e76 6572 626f 7365 5f73 7461  ment.verbose_sta
+0000c2d0: 636b 7472 6163 653a 0a20 2020 2020 2020  cktrace:.       
+0000c2e0: 2020 2020 2020 2020 2072 6169 7365 0a20           raise. 
+0000c2f0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0000c300: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c310: 2023 2063 6174 6368 2061 6e64 2072 652d   # catch and re-
+0000c320: 7261 6973 6520 6578 6365 7074 696f 6e20  raise exception 
+0000c330: 6672 6f6d 2068 6572 652c 2063 6c65 6172  from here, clear
+0000c340: 7320 6f75 7420 7079 7061 7273 696e 6720  s out pyparsing 
+0000c350: 696e 7465 726e 616c 2073 7461 636b 2074  internal stack t
+0000c360: 7261 6365 0a20 2020 2020 2020 2020 2020  race.           
+0000c370: 2020 2020 2072 6169 7365 2065 7863 2e77       raise exc.w
+0000c380: 6974 685f 7472 6163 6562 6163 6b28 4e6f  ith_traceback(No
+0000c390: 6e65 290a 0a20 2020 2064 6566 2074 7261  ne)..    def tra
+0000c3a0: 6e73 666f 726d 5f73 7472 696e 6728 7365  nsform_string(se
+0000c3b0: 6c66 2c20 696e 7374 7269 6e67 3a20 7374  lf, instring: st
+0000c3c0: 722c 202a 2c20 6465 6275 673a 2062 6f6f  r, *, debug: boo
+0000c3d0: 6c20 3d20 4661 6c73 6529 202d 3e20 7374  l = False) -> st
+0000c3e0: 723a 0a20 2020 2020 2020 2022 2222 0a20  r:.        """. 
+0000c3f0: 2020 2020 2020 2045 7874 656e 7369 6f6e         Extension
+0000c400: 2074 6f20 3a63 6c61 7373 3a60 7363 616e   to :class:`scan
+0000c410: 5f73 7472 696e 6760 2c20 746f 206d 6f64  _string`, to mod
+0000c420: 6966 7920 6d61 7463 6869 6e67 2074 6578  ify matching tex
+0000c430: 7420 7769 7468 206d 6f64 6966 6965 6420  t with modified 
+0000c440: 746f 6b65 6e73 2074 6861 7420 6d61 790a  tokens that may.
+0000c450: 2020 2020 2020 2020 6265 2072 6574 7572          be retur
+0000c460: 6e65 6420 6672 6f6d 2061 2070 6172 7365  ned from a parse
+0000c470: 2061 6374 696f 6e2e 2020 546f 2075 7365   action.  To use
+0000c480: 2060 6074 7261 6e73 666f 726d 5f73 7472   ``transform_str
+0000c490: 696e 6760 602c 2064 6566 696e 6520 6120  ing``, define a 
+0000c4a0: 6772 616d 6d61 7220 616e 640a 2020 2020  grammar and.    
+0000c4b0: 2020 2020 6174 7461 6368 2061 2070 6172      attach a par
+0000c4c0: 7365 2061 6374 696f 6e20 746f 2069 7420  se action to it 
+0000c4d0: 7468 6174 206d 6f64 6966 6965 7320 7468  that modifies th
+0000c4e0: 6520 7265 7475 726e 6564 2074 6f6b 656e  e returned token
+0000c4f0: 206c 6973 742e 0a20 2020 2020 2020 2049   list..        I
+0000c500: 6e76 6f6b 696e 6720 6060 7472 616e 7366  nvoking ``transf
+0000c510: 6f72 6d5f 7374 7269 6e67 2829 6060 206f  orm_string()`` o
+0000c520: 6e20 6120 7461 7267 6574 2073 7472 696e  n a target strin
+0000c530: 6720 7769 6c6c 2074 6865 6e20 7363 616e  g will then scan
+0000c540: 2066 6f72 206d 6174 6368 6573 2c0a 2020   for matches,.  
+0000c550: 2020 2020 2020 616e 6420 7265 706c 6163        and replac
+0000c560: 6520 7468 6520 6d61 7463 6865 6420 7465  e the matched te
+0000c570: 7874 2070 6174 7465 726e 7320 6163 636f  xt patterns acco
+0000c580: 7264 696e 6720 746f 2074 6865 206c 6f67  rding to the log
+0000c590: 6963 2069 6e20 7468 6520 7061 7273 650a  ic in the parse.
+0000c5a0: 2020 2020 2020 2020 6163 7469 6f6e 2e20          action. 
+0000c5b0: 2060 6074 7261 6e73 666f 726d 5f73 7472   ``transform_str
+0000c5c0: 696e 6728 2960 6020 7265 7475 726e 7320  ing()`` returns 
+0000c5d0: 7468 6520 7265 7375 6c74 696e 6720 7472  the resulting tr
+0000c5e0: 616e 7366 6f72 6d65 6420 7374 7269 6e67  ansformed string
+0000c5f0: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
+0000c600: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
+0000c610: 2020 7764 203d 2057 6f72 6428 616c 7068    wd = Word(alph
+0000c620: 6173 290a 2020 2020 2020 2020 2020 2020  as).            
+0000c630: 7764 2e73 6574 5f70 6172 7365 5f61 6374  wd.set_parse_act
+0000c640: 696f 6e28 6c61 6d62 6461 2074 6f6b 733a  ion(lambda toks:
+0000c650: 2074 6f6b 735b 305d 2e74 6974 6c65 2829   toks[0].title()
+0000c660: 290a 0a20 2020 2020 2020 2020 2020 2070  )..            p
+0000c670: 7269 6e74 2877 642e 7472 616e 7366 6f72  rint(wd.transfor
+0000c680: 6d5f 7374 7269 6e67 2822 6e6f 7720 6973  m_string("now is
+0000c690: 2074 6865 2077 696e 7465 7220 6f66 206f   the winter of o
+0000c6a0: 7572 2064 6973 636f 6e74 656e 7420 6d61  ur discontent ma
+0000c6b0: 6465 2067 6c6f 7269 6f75 7320 7375 6d6d  de glorious summ
+0000c6c0: 6572 2062 7920 7468 6973 2073 756e 206f  er by this sun o
+0000c6d0: 6620 796f 726b 2e22 2929 0a0a 2020 2020  f york."))..    
+0000c6e0: 2020 2020 7072 696e 7473 3a3a 0a0a 2020      prints::..  
+0000c6f0: 2020 2020 2020 2020 2020 4e6f 7720 4973            Now Is
+0000c700: 2054 6865 2057 696e 7465 7220 4f66 204f   The Winter Of O
+0000c710: 7572 2044 6973 636f 6e74 656e 7420 4d61  ur Discontent Ma
+0000c720: 6465 2047 6c6f 7269 6f75 7320 5375 6d6d  de Glorious Summ
+0000c730: 6572 2042 7920 5468 6973 2053 756e 204f  er By This Sun O
+0000c740: 6620 596f 726b 2e0a 2020 2020 2020 2020  f York..        
+0000c750: 2222 220a 2020 2020 2020 2020 6f75 743a  """.        out:
+0000c760: 204c 6973 745b 7374 725d 203d 205b 5d0a   List[str] = [].
+0000c770: 2020 2020 2020 2020 6c61 7374 4520 3d20          lastE = 
+0000c780: 300a 2020 2020 2020 2020 2320 666f 7263  0.        # forc
+0000c790: 6520 7072 6573 6572 7661 7469 6f6e 206f  e preservation o
+0000c7a0: 6620 3c54 4142 3e73 2c20 746f 206d 696e  f <TAB>s, to min
+0000c7b0: 696d 697a 6520 756e 7761 6e74 6564 2074  imize unwanted t
+0000c7c0: 7261 6e73 666f 726d 6174 696f 6e20 6f66  ransformation of
+0000c7d0: 2073 7472 696e 672c 2061 6e64 2074 6f0a   string, and to.
+0000c7e0: 2020 2020 2020 2020 2320 6b65 6570 2073          # keep s
+0000c7f0: 7472 696e 6720 6c6f 6373 2073 7472 6169  tring locs strai
+0000c800: 6768 7420 6265 7477 6565 6e20 7472 616e  ght between tran
+0000c810: 7366 6f72 6d5f 7374 7269 6e67 2061 6e64  sform_string and
+0000c820: 2073 6361 6e5f 7374 7269 6e67 0a20 2020   scan_string.   
+0000c830: 2020 2020 2073 656c 662e 6b65 6570 5461       self.keepTa
+0000c840: 6273 203d 2054 7275 650a 2020 2020 2020  bs = True.      
+0000c850: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+0000c860: 2020 2066 6f72 2074 2c20 732c 2065 2069     for t, s, e i
+0000c870: 6e20 7365 6c66 2e73 6361 6e5f 7374 7269  n self.scan_stri
+0000c880: 6e67 2869 6e73 7472 696e 672c 2064 6562  ng(instring, deb
+0000c890: 7567 3d64 6562 7567 293a 0a20 2020 2020  ug=debug):.     
+0000c8a0: 2020 2020 2020 2020 2020 206f 7574 2e61             out.a
+0000c8b0: 7070 656e 6428 696e 7374 7269 6e67 5b6c  ppend(instring[l
+0000c8c0: 6173 7445 3a73 5d29 0a20 2020 2020 2020  astE:s]).       
+0000c8d0: 2020 2020 2020 2020 2069 6620 743a 0a20           if t:. 
+0000c8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c8f0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+0000c900: 2874 2c20 5061 7273 6552 6573 756c 7473  (t, ParseResults
+0000c910: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000c920: 2020 2020 2020 2020 2020 206f 7574 202b             out +
+0000c930: 3d20 742e 6173 5f6c 6973 7428 290a 2020  = t.as_list().  
+0000c940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c950: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
+0000c960: 6528 742c 2049 7465 7261 626c 6529 2061  e(t, Iterable) a
+0000c970: 6e64 206e 6f74 2069 7369 6e73 7461 6e63  nd not isinstanc
+0000c980: 6528 742c 2073 7472 5f74 7970 6529 3a0a  e(t, str_type):.
+0000c990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c9a0: 2020 2020 2020 2020 6f75 742e 6578 7465          out.exte
+0000c9b0: 6e64 2874 290a 2020 2020 2020 2020 2020  nd(t).          
+0000c9c0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0000c9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c9e0: 2020 2020 2020 2020 6f75 742e 6170 7065          out.appe
+0000c9f0: 6e64 2874 290a 2020 2020 2020 2020 2020  nd(t).          
+0000ca00: 2020 2020 2020 6c61 7374 4520 3d20 650a        lastE = e.
+0000ca10: 2020 2020 2020 2020 2020 2020 6f75 742e              out.
+0000ca20: 6170 7065 6e64 2869 6e73 7472 696e 675b  append(instring[
+0000ca30: 6c61 7374 453a 5d29 0a20 2020 2020 2020  lastE:]).       
+0000ca40: 2020 2020 206f 7574 203d 205b 6f20 666f       out = [o fo
+0000ca50: 7220 6f20 696e 206f 7574 2069 6620 6f5d  r o in out if o]
+0000ca60: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0000ca70: 7572 6e20 2222 2e6a 6f69 6e28 5b73 7472  urn "".join([str
+0000ca80: 2873 2920 666f 7220 7320 696e 205f 666c  (s) for s in _fl
+0000ca90: 6174 7465 6e28 6f75 7429 5d29 0a20 2020  atten(out)]).   
+0000caa0: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
+0000cab0: 6542 6173 6545 7863 6570 7469 6f6e 2061  eBaseException a
+0000cac0: 7320 6578 633a 0a20 2020 2020 2020 2020  s exc:.         
+0000cad0: 2020 2069 6620 5061 7273 6572 456c 656d     if ParserElem
+0000cae0: 656e 742e 7665 7262 6f73 655f 7374 6163  ent.verbose_stac
+0000caf0: 6b74 7261 6365 3a0a 2020 2020 2020 2020  ktrace:.        
+0000cb00: 2020 2020 2020 2020 7261 6973 650a 2020          raise.  
+0000cb10: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0000cb20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb30: 2320 6361 7463 6820 616e 6420 7265 2d72  # catch and re-r
+0000cb40: 6169 7365 2065 7863 6570 7469 6f6e 2066  aise exception f
+0000cb50: 726f 6d20 6865 7265 2c20 636c 6561 7273  rom here, clears
+0000cb60: 206f 7574 2070 7970 6172 7369 6e67 2069   out pyparsing i
+0000cb70: 6e74 6572 6e61 6c20 7374 6163 6b20 7472  nternal stack tr
+0000cb80: 6163 650a 2020 2020 2020 2020 2020 2020  ace.            
+0000cb90: 2020 2020 7261 6973 6520 6578 632e 7769      raise exc.wi
+0000cba0: 7468 5f74 7261 6365 6261 636b 284e 6f6e  th_traceback(Non
+0000cbb0: 6529 0a0a 2020 2020 6465 6620 7365 6172  e)..    def sear
+0000cbc0: 6368 5f73 7472 696e 6728 0a20 2020 2020  ch_string(.     
+0000cbd0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0000cbe0: 2069 6e73 7472 696e 673a 2073 7472 2c0a   instring: str,.
+0000cbf0: 2020 2020 2020 2020 6d61 785f 6d61 7463          max_matc
+0000cc00: 6865 733a 2069 6e74 203d 205f 4d41 585f  hes: int = _MAX_
+0000cc10: 494e 542c 0a20 2020 2020 2020 202a 2c0a  INT,.        *,.
+0000cc20: 2020 2020 2020 2020 6465 6275 673a 2062          debug: b
+0000cc30: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+0000cc40: 2020 2020 206d 6178 4d61 7463 6865 733a       maxMatches:
+0000cc50: 2069 6e74 203d 205f 4d41 585f 494e 542c   int = _MAX_INT,
+0000cc60: 0a20 2020 2029 202d 3e20 5061 7273 6552  .    ) -> ParseR
+0000cc70: 6573 756c 7473 3a0a 2020 2020 2020 2020  esults:.        
+0000cc80: 2222 220a 2020 2020 2020 2020 416e 6f74  """.        Anot
+0000cc90: 6865 7220 6578 7465 6e73 696f 6e20 746f  her extension to
+0000cca0: 203a 636c 6173 733a 6073 6361 6e5f 7374   :class:`scan_st
+0000ccb0: 7269 6e67 602c 2073 696d 706c 6966 7969  ring`, simplifyi
+0000ccc0: 6e67 2074 6865 2061 6363 6573 7320 746f  ng the access to
+0000ccd0: 2074 6865 2074 6f6b 656e 7320 666f 756e   the tokens foun
+0000cce0: 640a 2020 2020 2020 2020 746f 206d 6174  d.        to mat
+0000ccf0: 6368 2074 6865 2067 6976 656e 2070 6172  ch the given par
+0000cd00: 7365 2065 7870 7265 7373 696f 6e2e 2020  se expression.  
+0000cd10: 4d61 7920 6265 2063 616c 6c65 6420 7769  May be called wi
+0000cd20: 7468 206f 7074 696f 6e61 6c0a 2020 2020  th optional.    
+0000cd30: 2020 2020 6060 6d61 785f 6d61 7463 6865      ``max_matche
+0000cd40: 7360 6020 6172 6775 6d65 6e74 2c20 746f  s`` argument, to
+0000cd50: 2063 6c69 7020 7365 6172 6368 696e 6720   clip searching 
+0000cd60: 6166 7465 7220 276e 2720 6d61 7463 6865  after 'n' matche
+0000cd70: 7320 6172 6520 666f 756e 642e 0a0a 2020  s are found...  
+0000cd80: 2020 2020 2020 4578 616d 706c 653a 3a0a        Example::.
+0000cd90: 0a20 2020 2020 2020 2020 2020 2023 2061  .            # a
+0000cda0: 2063 6170 6974 616c 697a 6564 2077 6f72   capitalized wor
+0000cdb0: 6420 7374 6172 7473 2077 6974 6820 616e  d starts with an
+0000cdc0: 2075 7070 6572 6361 7365 206c 6574 7465   uppercase lette
+0000cdd0: 722c 2066 6f6c 6c6f 7765 6420 6279 207a  r, followed by z
+0000cde0: 6572 6f20 6f72 206d 6f72 6520 6c6f 7765  ero or more lowe
+0000cdf0: 7263 6173 6520 6c65 7474 6572 730a 2020  rcase letters.  
+0000ce00: 2020 2020 2020 2020 2020 6361 705f 776f            cap_wo
+0000ce10: 7264 203d 2057 6f72 6428 616c 7068 6173  rd = Word(alphas
+0000ce20: 2e75 7070 6572 2829 2c20 616c 7068 6173  .upper(), alphas
+0000ce30: 2e6c 6f77 6572 2829 290a 0a20 2020 2020  .lower())..     
+0000ce40: 2020 2020 2020 2070 7269 6e74 2863 6170         print(cap
+0000ce50: 5f77 6f72 642e 7365 6172 6368 5f73 7472  _word.search_str
+0000ce60: 696e 6728 224d 6f72 6520 7468 616e 2049  ing("More than I
+0000ce70: 726f 6e2c 206d 6f72 6520 7468 616e 204c  ron, more than L
+0000ce80: 6561 642c 206d 6f72 6520 7468 616e 2047  ead, more than G
+0000ce90: 6f6c 6420 4920 6e65 6564 2045 6c65 6374  old I need Elect
+0000cea0: 7269 6369 7479 2229 290a 0a20 2020 2020  ricity"))..     
+0000ceb0: 2020 2020 2020 2023 2074 6865 2073 756d         # the sum
+0000cec0: 2829 2062 7569 6c74 696e 2063 616e 2062  () builtin can b
+0000ced0: 6520 7573 6564 2074 6f20 6d65 7267 6520  e used to merge 
+0000cee0: 7265 7375 6c74 7320 696e 746f 2061 2073  results into a s
+0000cef0: 696e 676c 6520 5061 7273 6552 6573 756c  ingle ParseResul
+0000cf00: 7473 206f 626a 6563 740a 2020 2020 2020  ts object.      
+0000cf10: 2020 2020 2020 7072 696e 7428 7375 6d28        print(sum(
+0000cf20: 6361 705f 776f 7264 2e73 6561 7263 685f  cap_word.search_
+0000cf30: 7374 7269 6e67 2822 4d6f 7265 2074 6861  string("More tha
+0000cf40: 6e20 4972 6f6e 2c20 6d6f 7265 2074 6861  n Iron, more tha
+0000cf50: 6e20 4c65 6164 2c20 6d6f 7265 2074 6861  n Lead, more tha
+0000cf60: 6e20 476f 6c64 2049 206e 6565 6420 456c  n Gold I need El
+0000cf70: 6563 7472 6963 6974 7922 2929 290a 0a20  ectricity"))).. 
+0000cf80: 2020 2020 2020 2070 7269 6e74 733a 3a0a         prints::.
+0000cf90: 0a20 2020 2020 2020 2020 2020 205b 5b27  .            [['
+0000cfa0: 4d6f 7265 275d 2c20 5b27 4972 6f6e 275d  More'], ['Iron']
+0000cfb0: 2c20 5b27 4c65 6164 275d 2c20 5b27 476f  , ['Lead'], ['Go
+0000cfc0: 6c64 275d 2c20 5b27 4927 5d2c 205b 2745  ld'], ['I'], ['E
+0000cfd0: 6c65 6374 7269 6369 7479 275d 5d0a 2020  lectricity']].  
+0000cfe0: 2020 2020 2020 2020 2020 5b27 4d6f 7265            ['More
+0000cff0: 272c 2027 4972 6f6e 272c 2027 4c65 6164  ', 'Iron', 'Lead
+0000d000: 272c 2027 476f 6c64 272c 2027 4927 2c20  ', 'Gold', 'I', 
+0000d010: 2745 6c65 6374 7269 6369 7479 275d 0a20  'Electricity']. 
+0000d020: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000d030: 2020 206d 6178 4d61 7463 6865 7320 3d20     maxMatches = 
+0000d040: 6d69 6e28 6d61 784d 6174 6368 6573 2c20  min(maxMatches, 
+0000d050: 6d61 785f 6d61 7463 6865 7329 0a20 2020  max_matches).   
+0000d060: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0000d070: 2020 2020 2020 7265 7475 726e 2050 6172        return Par
+0000d080: 7365 5265 7375 6c74 7328 0a20 2020 2020  seResults(.     
+0000d090: 2020 2020 2020 2020 2020 205b 7420 666f             [t fo
+0000d0a0: 7220 742c 2073 2c20 6520 696e 2073 656c  r t, s, e in sel
+0000d0b0: 662e 7363 616e 5f73 7472 696e 6728 696e  f.scan_string(in
+0000d0c0: 7374 7269 6e67 2c20 6d61 784d 6174 6368  string, maxMatch
+0000d0d0: 6573 2c20 6465 6275 673d 6465 6275 6729  es, debug=debug)
+0000d0e0: 5d0a 2020 2020 2020 2020 2020 2020 290a  ].            ).
+0000d0f0: 2020 2020 2020 2020 6578 6365 7074 2050          except P
+0000d100: 6172 7365 4261 7365 4578 6365 7074 696f  arseBaseExceptio
+0000d110: 6e20 6173 2065 7863 3a0a 2020 2020 2020  n as exc:.      
+0000d120: 2020 2020 2020 6966 2050 6172 7365 7245        if ParserE
+0000d130: 6c65 6d65 6e74 2e76 6572 626f 7365 5f73  lement.verbose_s
+0000d140: 7461 636b 7472 6163 653a 0a20 2020 2020  tacktrace:.     
+0000d150: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000d160: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+0000d170: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0000d180: 2020 2023 2063 6174 6368 2061 6e64 2072     # catch and r
+0000d190: 652d 7261 6973 6520 6578 6365 7074 696f  e-raise exceptio
+0000d1a0: 6e20 6672 6f6d 2068 6572 652c 2063 6c65  n from here, cle
+0000d1b0: 6172 7320 6f75 7420 7079 7061 7273 696e  ars out pyparsin
+0000d1c0: 6720 696e 7465 726e 616c 2073 7461 636b  g internal stack
+0000d1d0: 2074 7261 6365 0a20 2020 2020 2020 2020   trace.         
+0000d1e0: 2020 2020 2020 2072 6169 7365 2065 7863         raise exc
+0000d1f0: 2e77 6974 685f 7472 6163 6562 6163 6b28  .with_traceback(
+0000d200: 4e6f 6e65 290a 0a20 2020 2064 6566 2073  None)..    def s
+0000d210: 706c 6974 280a 2020 2020 2020 2020 7365  plit(.        se
+0000d220: 6c66 2c0a 2020 2020 2020 2020 696e 7374  lf,.        inst
+0000d230: 7269 6e67 3a20 7374 722c 0a20 2020 2020  ring: str,.     
+0000d240: 2020 206d 6178 7370 6c69 743a 2069 6e74     maxsplit: int
+0000d250: 203d 205f 4d41 585f 494e 542c 0a20 2020   = _MAX_INT,.   
+0000d260: 2020 2020 2069 6e63 6c75 6465 5f73 6570       include_sep
+0000d270: 6172 6174 6f72 733a 2062 6f6f 6c20 3d20  arators: bool = 
+0000d280: 4661 6c73 652c 0a20 2020 2020 2020 202a  False,.        *
+0000d290: 2c0a 2020 2020 2020 2020 696e 636c 7564  ,.        includ
+0000d2a0: 6553 6570 6172 6174 6f72 733d 4661 6c73  eSeparators=Fals
+0000d2b0: 652c 0a20 2020 2029 202d 3e20 4765 6e65  e,.    ) -> Gene
+0000d2c0: 7261 746f 725b 7374 722c 204e 6f6e 652c  rator[str, None,
+0000d2d0: 204e 6f6e 655d 3a0a 2020 2020 2020 2020   None]:.        
+0000d2e0: 2222 220a 2020 2020 2020 2020 4765 6e65  """.        Gene
+0000d2f0: 7261 746f 7220 6d65 7468 6f64 2074 6f20  rator method to 
+0000d300: 7370 6c69 7420 6120 7374 7269 6e67 2075  split a string u
+0000d310: 7369 6e67 2074 6865 2067 6976 656e 2065  sing the given e
+0000d320: 7870 7265 7373 696f 6e20 6173 2061 2073  xpression as a s
+0000d330: 6570 6172 6174 6f72 2e0a 2020 2020 2020  eparator..      
+0000d340: 2020 4d61 7920 6265 2063 616c 6c65 6420    May be called 
+0000d350: 7769 7468 206f 7074 696f 6e61 6c20 6060  with optional ``
+0000d360: 6d61 7873 706c 6974 6060 2061 7267 756d  maxsplit`` argum
+0000d370: 656e 742c 2074 6f20 6c69 6d69 7420 7468  ent, to limit th
+0000d380: 6520 6e75 6d62 6572 206f 6620 7370 6c69  e number of spli
+0000d390: 7473 3b0a 2020 2020 2020 2020 616e 6420  ts;.        and 
+0000d3a0: 7468 6520 6f70 7469 6f6e 616c 2060 6069  the optional ``i
+0000d3b0: 6e63 6c75 6465 5f73 6570 6172 6174 6f72  nclude_separator
+0000d3c0: 7360 6020 6172 6775 6d65 6e74 2028 6465  s`` argument (de
+0000d3d0: 6661 756c 743d 2060 6046 616c 7365 6060  fault= ``False``
+0000d3e0: 292c 2069 6620 7468 6520 7365 7061 7261  ), if the separa
+0000d3f0: 7469 6e67 0a20 2020 2020 2020 206d 6174  ting.        mat
+0000d400: 6368 696e 6720 7465 7874 2073 686f 756c  ching text shoul
+0000d410: 6420 6265 2069 6e63 6c75 6465 6420 696e  d be included in
+0000d420: 2074 6865 2073 706c 6974 2072 6573 756c   the split resul
+0000d430: 7473 2e0a 0a20 2020 2020 2020 2045 7861  ts...        Exa
+0000d440: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
+0000d450: 2020 2020 7075 6e63 203d 206f 6e65 5f6f      punc = one_o
+0000d460: 6628 6c69 7374 2822 2e2c 3b3a 2f2d 213f  f(list(".,;:/-!?
+0000d470: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
+0000d480: 7072 696e 7428 6c69 7374 2870 756e 632e  print(list(punc.
+0000d490: 7370 6c69 7428 2254 6869 732c 2074 6869  split("This, thi
+0000d4a0: 733f 2c20 7468 6973 2073 656e 7465 6e63  s?, this sentenc
+0000d4b0: 652c 2069 7320 6261 646c 7920 7075 6e63  e, is badly punc
+0000d4c0: 7475 6174 6564 2122 2929 290a 0a20 2020  tuated!")))..   
+0000d4d0: 2020 2020 2070 7269 6e74 733a 3a0a 0a20       prints::.. 
+0000d4e0: 2020 2020 2020 2020 2020 205b 2754 6869             ['Thi
+0000d4f0: 7327 2c20 2720 7468 6973 272c 2027 272c  s', ' this', '',
+0000d500: 2027 2074 6869 7320 7365 6e74 656e 6365   ' this sentence
+0000d510: 272c 2027 2069 7320 6261 646c 7920 7075  ', ' is badly pu
+0000d520: 6e63 7475 6174 6564 272c 2027 275d 0a20  nctuated', '']. 
+0000d530: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000d540: 2020 2069 6e63 6c75 6465 5365 7061 7261     includeSepara
+0000d550: 746f 7273 203d 2069 6e63 6c75 6465 5365  tors = includeSe
+0000d560: 7061 7261 746f 7273 206f 7220 696e 636c  parators or incl
+0000d570: 7564 655f 7365 7061 7261 746f 7273 0a20  ude_separators. 
+0000d580: 2020 2020 2020 206c 6173 7420 3d20 300a         last = 0.
+0000d590: 2020 2020 2020 2020 666f 7220 742c 2073          for t, s
+0000d5a0: 2c20 6520 696e 2073 656c 662e 7363 616e  , e in self.scan
+0000d5b0: 5f73 7472 696e 6728 696e 7374 7269 6e67  _string(instring
+0000d5c0: 2c20 6d61 785f 6d61 7463 6865 733d 6d61  , max_matches=ma
+0000d5d0: 7873 706c 6974 293a 0a20 2020 2020 2020  xsplit):.       
+0000d5e0: 2020 2020 2079 6965 6c64 2069 6e73 7472       yield instr
+0000d5f0: 696e 675b 6c61 7374 3a73 5d0a 2020 2020  ing[last:s].    
+0000d600: 2020 2020 2020 2020 6966 2069 6e63 6c75          if inclu
+0000d610: 6465 5365 7061 7261 746f 7273 3a0a 2020  deSeparators:.  
+0000d620: 2020 2020 2020 2020 2020 2020 2020 7969                yi
+0000d630: 656c 6420 745b 305d 0a20 2020 2020 2020  eld t[0].       
+0000d640: 2020 2020 206c 6173 7420 3d20 650a 2020       last = e.  
+0000d650: 2020 2020 2020 7969 656c 6420 696e 7374        yield inst
+0000d660: 7269 6e67 5b6c 6173 743a 5d0a 0a20 2020  ring[last:]..   
+0000d670: 2064 6566 205f 5f61 6464 5f5f 2873 656c   def __add__(sel
+0000d680: 662c 206f 7468 6572 2920 2d3e 2022 5061  f, other) -> "Pa
+0000d690: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
+0000d6a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000d6b0: 2020 496d 706c 656d 656e 7461 7469 6f6e    Implementation
+0000d6c0: 206f 6620 6060 2b60 6020 6f70 6572 6174   of ``+`` operat
+0000d6d0: 6f72 202d 2072 6574 7572 6e73 203a 636c  or - returns :cl
+0000d6e0: 6173 733a 6041 6e64 602e 2041 6464 696e  ass:`And`. Addin
+0000d6f0: 6720 7374 7269 6e67 7320 746f 2061 203a  g strings to a :
+0000d700: 636c 6173 733a 6050 6172 7365 7245 6c65  class:`ParserEle
+0000d710: 6d65 6e74 600a 2020 2020 2020 2020 636f  ment`.        co
+0000d720: 6e76 6572 7473 2074 6865 6d20 746f 203a  nverts them to :
+0000d730: 636c 6173 733a 604c 6974 6572 616c 605c  class:`Literal`\
+0000d740: 5c20 7320 6279 2064 6566 6175 6c74 2e0a  \ s by default..
+0000d750: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
+0000d760: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
+0000d770: 6772 6565 7420 3d20 576f 7264 2861 6c70  greet = Word(alp
+0000d780: 6861 7329 202b 2022 2c22 202b 2057 6f72  has) + "," + Wor
+0000d790: 6428 616c 7068 6173 2920 2b20 2221 220a  d(alphas) + "!".
+0000d7a0: 2020 2020 2020 2020 2020 2020 6865 6c6c              hell
+0000d7b0: 6f20 3d20 2248 656c 6c6f 2c20 576f 726c  o = "Hello, Worl
+0000d7c0: 6421 220a 2020 2020 2020 2020 2020 2020  d!".            
+0000d7d0: 7072 696e 7428 6865 6c6c 6f2c 2022 2d3e  print(hello, "->
+0000d7e0: 222c 2067 7265 6574 2e70 6172 7365 5f73  ", greet.parse_s
+0000d7f0: 7472 696e 6728 6865 6c6c 6f29 290a 0a20  tring(hello)).. 
+0000d800: 2020 2020 2020 2070 7269 6e74 733a 3a0a         prints::.
+0000d810: 0a20 2020 2020 2020 2020 2020 2048 656c  .            Hel
+0000d820: 6c6f 2c20 576f 726c 6421 202d 3e20 5b27  lo, World! -> ['
+0000d830: 4865 6c6c 6f27 2c20 272c 272c 2027 576f  Hello', ',', 'Wo
+0000d840: 726c 6427 2c20 2721 275d 0a0a 2020 2020  rld', '!']..    
+0000d850: 2020 2020 6060 2e2e 2e60 6020 6d61 7920      ``...`` may 
+0000d860: 6265 2075 7365 6420 6173 2061 2070 6172  be used as a par
+0000d870: 7365 2065 7870 7265 7373 696f 6e20 6173  se expression as
+0000d880: 2061 2073 686f 7274 2066 6f72 6d20 6f66   a short form of
+0000d890: 203a 636c 6173 733a 6053 6b69 7054 6f60   :class:`SkipTo`
+0000d8a0: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
+0000d8b0: 4c69 7465 7261 6c28 2773 7461 7274 2729  Literal('start')
+0000d8c0: 202b 202e 2e2e 202b 204c 6974 6572 616c   + ... + Literal
+0000d8d0: 2827 656e 6427 290a 0a20 2020 2020 2020  ('end')..       
+0000d8e0: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
+0000d8f0: 6f3a 3a0a 0a20 2020 2020 2020 2020 2020  o::..           
+0000d900: 204c 6974 6572 616c 2827 7374 6172 7427   Literal('start'
+0000d910: 2920 2b20 536b 6970 546f 2827 656e 6427  ) + SkipTo('end'
+0000d920: 2928 225f 736b 6970 7065 642a 2229 202b  )("_skipped*") +
+0000d930: 204c 6974 6572 616c 2827 656e 6427 290a   Literal('end').
+0000d940: 0a20 2020 2020 2020 204e 6f74 6520 7468  .        Note th
+0000d950: 6174 2074 6865 2073 6b69 7070 6564 2074  at the skipped t
+0000d960: 6578 7420 6973 2072 6574 7572 6e65 6420  ext is returned 
+0000d970: 7769 7468 2027 5f73 6b69 7070 6564 2720  with '_skipped' 
+0000d980: 6173 2061 2072 6573 756c 7473 206e 616d  as a results nam
+0000d990: 652c 0a20 2020 2020 2020 2061 6e64 2074  e,.        and t
+0000d9a0: 6f20 7375 7070 6f72 7420 6861 7669 6e67  o support having
+0000d9b0: 206d 756c 7469 706c 6520 736b 6970 7320   multiple skips 
+0000d9c0: 696e 2074 6865 2073 616d 6520 7061 7273  in the same pars
+0000d9d0: 6572 2c20 7468 6520 7661 6c75 6520 7265  er, the value re
+0000d9e0: 7475 726e 6564 2069 730a 2020 2020 2020  turned is.      
+0000d9f0: 2020 6120 6c69 7374 206f 6620 616c 6c20    a list of all 
+0000da00: 736b 6970 7065 6420 7465 7874 2e0a 2020  skipped text..  
+0000da10: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000da20: 2020 6966 206f 7468 6572 2069 7320 456c    if other is El
+0000da30: 6c69 7073 6973 3a0a 2020 2020 2020 2020  lipsis:.        
+0000da40: 2020 2020 7265 7475 726e 205f 5065 6e64      return _Pend
+0000da50: 696e 6753 6b69 7028 7365 6c66 290a 0a20  ingSkip(self).. 
+0000da60: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+0000da70: 616e 6365 286f 7468 6572 2c20 7374 725f  ance(other, str_
+0000da80: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
+0000da90: 2020 206f 7468 6572 203d 2073 656c 662e     other = self.
+0000daa0: 5f6c 6974 6572 616c 5374 7269 6e67 436c  _literalStringCl
+0000dab0: 6173 7328 6f74 6865 7229 0a20 2020 2020  ass(other).     
+0000dac0: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
+0000dad0: 616e 6365 286f 7468 6572 2c20 5061 7273  ance(other, Pars
+0000dae0: 6572 456c 656d 656e 7429 3a0a 2020 2020  erElement):.    
+0000daf0: 2020 2020 2020 2020 7265 7475 726e 204e          return N
+0000db00: 6f74 496d 706c 656d 656e 7465 640a 2020  otImplemented.  
+0000db10: 2020 2020 2020 7265 7475 726e 2041 6e64        return And
+0000db20: 285b 7365 6c66 2c20 6f74 6865 725d 290a  ([self, other]).
+0000db30: 0a20 2020 2064 6566 205f 5f72 6164 645f  .    def __radd_
+0000db40: 5f28 7365 6c66 2c20 6f74 6865 7229 202d  _(self, other) -
+0000db50: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
+0000db60: 223a 0a20 2020 2020 2020 2022 2222 0a20  ":.        """. 
+0000db70: 2020 2020 2020 2049 6d70 6c65 6d65 6e74         Implement
+0000db80: 6174 696f 6e20 6f66 2060 602b 6060 206f  ation of ``+`` o
+0000db90: 7065 7261 746f 7220 7768 656e 206c 6566  perator when lef
+0000dba0: 7420 6f70 6572 616e 6420 6973 206e 6f74  t operand is not
+0000dbb0: 2061 203a 636c 6173 733a 6050 6172 7365   a :class:`Parse
+0000dbc0: 7245 6c65 6d65 6e74 600a 2020 2020 2020  rElement`.      
+0000dbd0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
+0000dbe0: 206f 7468 6572 2069 7320 456c 6c69 7073   other is Ellips
+0000dbf0: 6973 3a0a 2020 2020 2020 2020 2020 2020  is:.            
+0000dc00: 7265 7475 726e 2053 6b69 7054 6f28 7365  return SkipTo(se
+0000dc10: 6c66 2928 225f 736b 6970 7065 642a 2229  lf)("_skipped*")
+0000dc20: 202b 2073 656c 660a 0a20 2020 2020 2020   + self..       
+0000dc30: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
+0000dc40: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
+0000dc50: 0a20 2020 2020 2020 2020 2020 206f 7468  .            oth
+0000dc60: 6572 203d 2073 656c 662e 5f6c 6974 6572  er = self._liter
+0000dc70: 616c 5374 7269 6e67 436c 6173 7328 6f74  alStringClass(ot
+0000dc80: 6865 7229 0a20 2020 2020 2020 2069 6620  her).        if 
+0000dc90: 6e6f 7420 6973 696e 7374 616e 6365 286f  not isinstance(o
+0000dca0: 7468 6572 2c20 5061 7273 6572 456c 656d  ther, ParserElem
+0000dcb0: 656e 7429 3a0a 2020 2020 2020 2020 2020  ent):.          
+0000dcc0: 2020 7265 7475 726e 204e 6f74 496d 706c    return NotImpl
+0000dcd0: 656d 656e 7465 640a 2020 2020 2020 2020  emented.        
+0000dce0: 7265 7475 726e 206f 7468 6572 202b 2073  return other + s
+0000dcf0: 656c 660a 0a20 2020 2064 6566 205f 5f73  elf..    def __s
+0000dd00: 7562 5f5f 2873 656c 662c 206f 7468 6572  ub__(self, other
+0000dd10: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
+0000dd20: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
+0000dd30: 220a 2020 2020 2020 2020 496d 706c 656d  ".        Implem
+0000dd40: 656e 7461 7469 6f6e 206f 6620 6060 2d60  entation of ``-`
+0000dd50: 6020 6f70 6572 6174 6f72 2c20 7265 7475  ` operator, retu
+0000dd60: 726e 7320 3a63 6c61 7373 3a60 416e 6460  rns :class:`And`
+0000dd70: 2077 6974 6820 6572 726f 7220 7374 6f70   with error stop
+0000dd80: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000dd90: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0000dda0: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
+0000ddb0: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
+0000ddc0: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
+0000ddd0: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
+0000dde0: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
+0000ddf0: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
+0000de00: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
+0000de10: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
+0000de20: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
+0000de30: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
+0000de40: 2020 2020 7265 7475 726e 2073 656c 6620      return self 
+0000de50: 2b20 416e 642e 5f45 7272 6f72 5374 6f70  + And._ErrorStop
+0000de60: 2829 202b 206f 7468 6572 0a0a 2020 2020  () + other..    
+0000de70: 6465 6620 5f5f 7273 7562 5f5f 2873 656c  def __rsub__(sel
+0000de80: 662c 206f 7468 6572 2920 2d3e 2022 5061  f, other) -> "Pa
+0000de90: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
+0000dea0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000deb0: 2020 496d 706c 656d 656e 7461 7469 6f6e    Implementation
+0000dec0: 206f 6620 6060 2d60 6020 6f70 6572 6174   of ``-`` operat
+0000ded0: 6f72 2077 6865 6e20 6c65 6674 206f 7065  or when left ope
+0000dee0: 7261 6e64 2069 7320 6e6f 7420 6120 3a63  rand is not a :c
+0000def0: 6c61 7373 3a60 5061 7273 6572 456c 656d  lass:`ParserElem
+0000df00: 656e 7460 0a20 2020 2020 2020 2022 2222  ent`.        """
+0000df10: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+0000df20: 7374 616e 6365 286f 7468 6572 2c20 7374  stance(other, st
+0000df30: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
+0000df40: 2020 2020 206f 7468 6572 203d 2073 656c       other = sel
+0000df50: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
+0000df60: 436c 6173 7328 6f74 6865 7229 0a20 2020  Class(other).   
+0000df70: 2020 2020 2069 6620 6e6f 7420 6973 696e       if not isin
+0000df80: 7374 616e 6365 286f 7468 6572 2c20 5061  stance(other, Pa
+0000df90: 7273 6572 456c 656d 656e 7429 3a0a 2020  rserElement):.  
+0000dfa0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000dfb0: 204e 6f74 496d 706c 656d 656e 7465 640a   NotImplemented.
+0000dfc0: 2020 2020 2020 2020 7265 7475 726e 206f          return o
+0000dfd0: 7468 6572 202d 2073 656c 660a 0a20 2020  ther - self..   
+0000dfe0: 2064 6566 205f 5f6d 756c 5f5f 2873 656c   def __mul__(sel
+0000dff0: 662c 206f 7468 6572 2920 2d3e 2022 5061  f, other) -> "Pa
+0000e000: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
+0000e010: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000e020: 2020 496d 706c 656d 656e 7461 7469 6f6e    Implementation
+0000e030: 206f 6620 6060 2a60 6020 6f70 6572 6174   of ``*`` operat
+0000e040: 6f72 2c20 616c 6c6f 7773 2075 7365 206f  or, allows use o
+0000e050: 6620 6060 6578 7072 202a 2033 6060 2069  f ``expr * 3`` i
+0000e060: 6e20 706c 6163 6520 6f66 0a20 2020 2020  n place of.     
+0000e070: 2020 2060 6065 7870 7220 2b20 6578 7072     ``expr + expr
+0000e080: 202b 2065 7870 7260 602e 2020 4578 7072   + expr``.  Expr
+0000e090: 6573 7369 6f6e 7320 6d61 7920 616c 736f  essions may also
+0000e0a0: 2062 6520 6d75 6c74 6970 6c69 6564 2062   be multiplied b
+0000e0b0: 7920 6120 322d 696e 7465 6765 720a 2020  y a 2-integer.  
+0000e0c0: 2020 2020 2020 7475 706c 652c 2073 696d        tuple, sim
+0000e0d0: 696c 6172 2074 6f20 6060 7b6d 696e 2c20  ilar to ``{min, 
+0000e0e0: 6d61 787d 6060 206d 756c 7469 706c 6965  max}`` multiplie
+0000e0f0: 7273 2069 6e20 7265 6775 6c61 7220 6578  rs in regular ex
+0000e100: 7072 6573 7369 6f6e 732e 2020 5475 706c  pressions.  Tupl
+0000e110: 6573 0a20 2020 2020 2020 206d 6179 2061  es.        may a
+0000e120: 6c73 6f20 696e 636c 7564 6520 6060 4e6f  lso include ``No
+0000e130: 6e65 6060 2061 7320 696e 3a0a 0a20 2020  ne`` as in:..   
+0000e140: 2020 2020 202d 2060 6065 7870 722a 286e       - ``expr*(n
+0000e150: 2c20 4e6f 6e65 2960 6020 6f72 2060 6065  , None)`` or ``e
+0000e160: 7870 722a 286e 2c20 2960 6020 6973 2065  xpr*(n, )`` is e
+0000e170: 7175 6976 616c 656e 740a 2020 2020 2020  quivalent.      
+0000e180: 2020 2020 746f 2060 6065 7870 722a 6e20      to ``expr*n 
+0000e190: 2b20 5a65 726f 4f72 4d6f 7265 2865 7870  + ZeroOrMore(exp
+0000e1a0: 7229 6060 0a20 2020 2020 2020 2020 2028  r)``.          (
+0000e1b0: 7265 6164 2061 7320 2261 7420 6c65 6173  read as "at leas
+0000e1c0: 7420 6e20 696e 7374 616e 6365 7320 6f66  t n instances of
+0000e1d0: 2060 6065 7870 7260 6022 290a 2020 2020   ``expr``").    
+0000e1e0: 2020 2020 2d20 6060 6578 7072 2a28 4e6f      - ``expr*(No
+0000e1f0: 6e65 2c20 6e29 6060 2069 7320 6571 7569  ne, n)`` is equi
+0000e200: 7661 6c65 6e74 2074 6f20 6060 6578 7072  valent to ``expr
+0000e210: 2a28 302c 206e 2960 600a 2020 2020 2020  *(0, n)``.      
+0000e220: 2020 2020 2872 6561 6420 6173 2022 3020      (read as "0 
+0000e230: 746f 206e 2069 6e73 7461 6e63 6573 206f  to n instances o
+0000e240: 6620 6060 6578 7072 6060 2229 0a20 2020  f ``expr``").   
+0000e250: 2020 2020 202d 2060 6065 7870 722a 284e       - ``expr*(N
+0000e260: 6f6e 652c 204e 6f6e 6529 6060 2069 7320  one, None)`` is 
+0000e270: 6571 7569 7661 6c65 6e74 2074 6f20 6060  equivalent to ``
+0000e280: 5a65 726f 4f72 4d6f 7265 2865 7870 7229  ZeroOrMore(expr)
+0000e290: 6060 0a20 2020 2020 2020 202d 2060 6065  ``.        - ``e
+0000e2a0: 7870 722a 2831 2c20 4e6f 6e65 2960 6020  xpr*(1, None)`` 
+0000e2b0: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
+0000e2c0: 2060 604f 6e65 4f72 4d6f 7265 2865 7870   ``OneOrMore(exp
+0000e2d0: 7229 6060 0a0a 2020 2020 2020 2020 4e6f  r)``..        No
+0000e2e0: 7465 2074 6861 7420 6060 6578 7072 2a28  te that ``expr*(
+0000e2f0: 4e6f 6e65 2c20 6e29 6060 2064 6f65 7320  None, n)`` does 
+0000e300: 6e6f 7420 7261 6973 6520 616e 2065 7863  not raise an exc
+0000e310: 6570 7469 6f6e 2069 660a 2020 2020 2020  eption if.      
+0000e320: 2020 6d6f 7265 2074 6861 6e20 6e20 6578    more than n ex
+0000e330: 7072 7320 6578 6973 7420 696e 2074 6865  prs exist in the
+0000e340: 2069 6e70 7574 2073 7472 6561 6d3b 2074   input stream; t
+0000e350: 6861 7420 6973 2c0a 2020 2020 2020 2020  hat is,.        
+0000e360: 6060 6578 7072 2a28 4e6f 6e65 2c20 6e29  ``expr*(None, n)
+0000e370: 6060 2064 6f65 7320 6e6f 7420 656e 666f  `` does not enfo
+0000e380: 7263 6520 6120 6d61 7869 6d75 6d20 6e75  rce a maximum nu
+0000e390: 6d62 6572 206f 6620 6578 7072 0a20 2020  mber of expr.   
+0000e3a0: 2020 2020 206f 6363 7572 7265 6e63 6573       occurrences
+0000e3b0: 2e20 2049 6620 7468 6973 2062 6568 6176  .  If this behav
+0000e3c0: 696f 7220 6973 2064 6573 6972 6564 2c20  ior is desired, 
+0000e3d0: 7468 656e 2077 7269 7465 0a20 2020 2020  then write.     
+0000e3e0: 2020 2060 6065 7870 722a 284e 6f6e 652c     ``expr*(None,
+0000e3f0: 206e 2920 2b20 7e65 7870 7260 600a 2020   n) + ~expr``.  
+0000e400: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000e410: 2020 6966 206f 7468 6572 2069 7320 456c    if other is El
+0000e420: 6c69 7073 6973 3a0a 2020 2020 2020 2020  lipsis:.        
+0000e430: 2020 2020 6f74 6865 7220 3d20 2830 2c20      other = (0, 
+0000e440: 4e6f 6e65 290a 2020 2020 2020 2020 656c  None).        el
+0000e450: 6966 2069 7369 6e73 7461 6e63 6528 6f74  if isinstance(ot
+0000e460: 6865 722c 2074 7570 6c65 2920 616e 6420  her, tuple) and 
+0000e470: 6f74 6865 725b 3a31 5d20 3d3d 2028 456c  other[:1] == (El
+0000e480: 6c69 7073 6973 2c29 3a0a 2020 2020 2020  lipsis,):.      
+0000e490: 2020 2020 2020 6f74 6865 7220 3d20 2828        other = ((
+0000e4a0: 302c 2920 2b20 6f74 6865 725b 313a 5d20  0,) + other[1:] 
+0000e4b0: 2b20 284e 6f6e 652c 2929 5b3a 325d 0a0a  + (None,))[:2]..
+0000e4c0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+0000e4d0: 7461 6e63 6528 6f74 6865 722c 2069 6e74  tance(other, int
+0000e4e0: 293a 0a20 2020 2020 2020 2020 2020 206d  ):.            m
+0000e4f0: 696e 456c 656d 656e 7473 2c20 6f70 7445  inElements, optE
+0000e500: 6c65 6d65 6e74 7320 3d20 6f74 6865 722c  lements = other,
+0000e510: 2030 0a20 2020 2020 2020 2065 6c69 6620   0.        elif 
+0000e520: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+0000e530: 2c20 7475 706c 6529 3a0a 2020 2020 2020  , tuple):.      
+0000e540: 2020 2020 2020 6f74 6865 7220 3d20 7475        other = tu
+0000e550: 706c 6528 6f20 6966 206f 2069 7320 6e6f  ple(o if o is no
+0000e560: 7420 456c 6c69 7073 6973 2065 6c73 6520  t Ellipsis else 
+0000e570: 4e6f 6e65 2066 6f72 206f 2069 6e20 6f74  None for o in ot
+0000e580: 6865 7229 0a20 2020 2020 2020 2020 2020  her).           
+0000e590: 206f 7468 6572 203d 2028 6f74 6865 7220   other = (other 
+0000e5a0: 2b20 284e 6f6e 652c 204e 6f6e 6529 295b  + (None, None))[
+0000e5b0: 3a32 5d0a 2020 2020 2020 2020 2020 2020  :2].            
+0000e5c0: 6966 206f 7468 6572 5b30 5d20 6973 204e  if other[0] is N
+0000e5d0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0000e5e0: 2020 2020 206f 7468 6572 203d 2028 302c       other = (0,
+0000e5f0: 206f 7468 6572 5b31 5d29 0a20 2020 2020   other[1]).     
+0000e600: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+0000e610: 616e 6365 286f 7468 6572 5b30 5d2c 2069  ance(other[0], i
+0000e620: 6e74 2920 616e 6420 6f74 6865 725b 315d  nt) and other[1]
+0000e630: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+0000e640: 2020 2020 2020 2020 2020 6966 206f 7468            if oth
+0000e650: 6572 5b30 5d20 3d3d 2030 3a0a 2020 2020  er[0] == 0:.    
+0000e660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e670: 7265 7475 726e 205a 6572 6f4f 724d 6f72  return ZeroOrMor
+0000e680: 6528 7365 6c66 290a 2020 2020 2020 2020  e(self).        
+0000e690: 2020 2020 2020 2020 6966 206f 7468 6572          if other
+0000e6a0: 5b30 5d20 3d3d 2031 3a0a 2020 2020 2020  [0] == 1:.      
+0000e6b0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000e6c0: 7475 726e 204f 6e65 4f72 4d6f 7265 2873  turn OneOrMore(s
+0000e6d0: 656c 6629 0a20 2020 2020 2020 2020 2020  elf).           
+0000e6e0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0000e6f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000e700: 6574 7572 6e20 7365 6c66 202a 206f 7468  eturn self * oth
+0000e710: 6572 5b30 5d20 2b20 5a65 726f 4f72 4d6f  er[0] + ZeroOrMo
+0000e720: 7265 2873 656c 6629 0a20 2020 2020 2020  re(self).       
+0000e730: 2020 2020 2065 6c69 6620 6973 696e 7374       elif isinst
+0000e740: 616e 6365 286f 7468 6572 5b30 5d2c 2069  ance(other[0], i
+0000e750: 6e74 2920 616e 6420 6973 696e 7374 616e  nt) and isinstan
+0000e760: 6365 286f 7468 6572 5b31 5d2c 2069 6e74  ce(other[1], int
+0000e770: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000e780: 2020 206d 696e 456c 656d 656e 7473 2c20     minElements, 
+0000e790: 6f70 7445 6c65 6d65 6e74 7320 3d20 6f74  optElements = ot
+0000e7a0: 6865 720a 2020 2020 2020 2020 2020 2020  her.            
+0000e7b0: 2020 2020 6f70 7445 6c65 6d65 6e74 7320      optElements 
+0000e7c0: 2d3d 206d 696e 456c 656d 656e 7473 0a20  -= minElements. 
+0000e7d0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0000e7e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e7f0: 2072 6574 7572 6e20 4e6f 7449 6d70 6c65   return NotImple
+0000e800: 6d65 6e74 6564 0a20 2020 2020 2020 2065  mented.        e
+0000e810: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0000e820: 2072 6574 7572 6e20 4e6f 7449 6d70 6c65   return NotImple
+0000e830: 6d65 6e74 6564 0a0a 2020 2020 2020 2020  mented..        
+0000e840: 6966 206d 696e 456c 656d 656e 7473 203c  if minElements <
+0000e850: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+0000e860: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+0000e870: 2822 6361 6e6e 6f74 206d 756c 7469 706c  ("cannot multipl
+0000e880: 7920 5061 7273 6572 456c 656d 656e 7420  y ParserElement 
+0000e890: 6279 206e 6567 6174 6976 6520 7661 6c75  by negative valu
+0000e8a0: 6522 290a 2020 2020 2020 2020 6966 206f  e").        if o
+0000e8b0: 7074 456c 656d 656e 7473 203c 2030 3a0a  ptElements < 0:.
+0000e8c0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000e8d0: 6520 5661 6c75 6545 7272 6f72 280a 2020  e ValueError(.  
+0000e8e0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+0000e8f0: 6563 6f6e 6420 7475 706c 6520 7661 6c75  econd tuple valu
+0000e900: 6520 6d75 7374 2062 6520 6772 6561 7465  e must be greate
+0000e910: 7220 6f72 2065 7175 616c 2074 6f20 6669  r or equal to fi
+0000e920: 7273 7420 7475 706c 6520 7661 6c75 6522  rst tuple value"
+0000e930: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
+0000e940: 2020 2020 2020 2069 6620 6d69 6e45 6c65         if minEle
+0000e950: 6d65 6e74 7320 3d3d 206f 7074 456c 656d  ments == optElem
+0000e960: 656e 7473 203d 3d20 303a 0a20 2020 2020  ents == 0:.     
+0000e970: 2020 2020 2020 2072 6574 7572 6e20 416e         return An
+0000e980: 6428 5b5d 290a 0a20 2020 2020 2020 2069  d([])..        i
+0000e990: 6620 6f70 7445 6c65 6d65 6e74 733a 0a0a  f optElements:..
+0000e9a0: 2020 2020 2020 2020 2020 2020 6465 6620              def 
+0000e9b0: 6d61 6b65 4f70 7469 6f6e 616c 4c69 7374  makeOptionalList
+0000e9c0: 286e 293a 0a20 2020 2020 2020 2020 2020  (n):.           
+0000e9d0: 2020 2020 2069 6620 6e20 3e20 313a 0a20       if n > 1:. 
+0000e9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e9f0: 2020 2072 6574 7572 6e20 4f70 7428 7365     return Opt(se
+0000ea00: 6c66 202b 206d 616b 654f 7074 696f 6e61  lf + makeOptiona
+0000ea10: 6c4c 6973 7428 6e20 2d20 3129 290a 2020  lList(n - 1)).  
+0000ea20: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0000ea30: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0000ea40: 2020 2020 2020 2020 7265 7475 726e 204f          return O
+0000ea50: 7074 2873 656c 6629 0a0a 2020 2020 2020  pt(self)..      
+0000ea60: 2020 2020 2020 6966 206d 696e 456c 656d        if minElem
+0000ea70: 656e 7473 3a0a 2020 2020 2020 2020 2020  ents:.          
+0000ea80: 2020 2020 2020 6966 206d 696e 456c 656d        if minElem
+0000ea90: 656e 7473 203d 3d20 313a 0a20 2020 2020  ents == 1:.     
+0000eaa0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000eab0: 6574 203d 2073 656c 6620 2b20 6d61 6b65  et = self + make
+0000eac0: 4f70 7469 6f6e 616c 4c69 7374 286f 7074  OptionalList(opt
+0000ead0: 456c 656d 656e 7473 290a 2020 2020 2020  Elements).      
+0000eae0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0000eaf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eb00: 2020 2020 7265 7420 3d20 416e 6428 5b73      ret = And([s
+0000eb10: 656c 665d 202a 206d 696e 456c 656d 656e  elf] * minElemen
+0000eb20: 7473 2920 2b20 6d61 6b65 4f70 7469 6f6e  ts) + makeOption
+0000eb30: 616c 4c69 7374 286f 7074 456c 656d 656e  alList(optElemen
+0000eb40: 7473 290a 2020 2020 2020 2020 2020 2020  ts).            
+0000eb50: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000eb60: 2020 2020 2020 7265 7420 3d20 6d61 6b65        ret = make
+0000eb70: 4f70 7469 6f6e 616c 4c69 7374 286f 7074  OptionalList(opt
+0000eb80: 456c 656d 656e 7473 290a 2020 2020 2020  Elements).      
+0000eb90: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0000eba0: 2020 2020 6966 206d 696e 456c 656d 656e      if minElemen
+0000ebb0: 7473 203d 3d20 313a 0a20 2020 2020 2020  ts == 1:.       
+0000ebc0: 2020 2020 2020 2020 2072 6574 203d 2073           ret = s
+0000ebd0: 656c 660a 2020 2020 2020 2020 2020 2020  elf.            
+0000ebe0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000ebf0: 2020 2020 2020 7265 7420 3d20 416e 6428        ret = And(
+0000ec00: 5b73 656c 665d 202a 206d 696e 456c 656d  [self] * minElem
+0000ec10: 656e 7473 290a 2020 2020 2020 2020 7265  ents).        re
+0000ec20: 7475 726e 2072 6574 0a0a 2020 2020 6465  turn ret..    de
+0000ec30: 6620 5f5f 726d 756c 5f5f 2873 656c 662c  f __rmul__(self,
+0000ec40: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
+0000ec50: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
+0000ec60: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+0000ec70: 5f5f 6d75 6c5f 5f28 6f74 6865 7229 0a0a  __mul__(other)..
+0000ec80: 2020 2020 6465 6620 5f5f 6f72 5f5f 2873      def __or__(s
+0000ec90: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
+0000eca0: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
+0000ecb0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000ecc0: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
+0000ecd0: 6f6e 206f 6620 6060 7c60 6020 6f70 6572  on of ``|`` oper
+0000ece0: 6174 6f72 202d 2072 6574 7572 6e73 203a  ator - returns :
+0000ecf0: 636c 6173 733a 604d 6174 6368 4669 7273  class:`MatchFirs
+0000ed00: 7460 0a20 2020 2020 2020 2022 2222 0a20  t`.        """. 
+0000ed10: 2020 2020 2020 2069 6620 6f74 6865 7220         if other 
+0000ed20: 6973 2045 6c6c 6970 7369 733a 0a20 2020  is Ellipsis:.   
+0000ed30: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0000ed40: 5f50 656e 6469 6e67 536b 6970 2873 656c  _PendingSkip(sel
+0000ed50: 662c 206d 7573 745f 736b 6970 3d54 7275  f, must_skip=Tru
+0000ed60: 6529 0a0a 2020 2020 2020 2020 6966 2069  e)..        if i
+0000ed70: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
+0000ed80: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
+0000ed90: 2020 2020 2020 2020 2320 6065 7870 7220          # `expr 
+0000eda0: 7c20 2222 6020 6973 2065 7175 6976 616c  | ""` is equival
+0000edb0: 656e 7420 746f 2060 4f70 7428 6578 7072  ent to `Opt(expr
+0000edc0: 2960 0a20 2020 2020 2020 2020 2020 2069  )`.            i
+0000edd0: 6620 6f74 6865 7220 3d3d 2022 223a 0a20  f other == "":. 
+0000ede0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000edf0: 6574 7572 6e20 4f70 7428 7365 6c66 290a  eturn Opt(self).
+0000ee00: 2020 2020 2020 2020 2020 2020 6f74 6865              othe
+0000ee10: 7220 3d20 7365 6c66 2e5f 6c69 7465 7261  r = self._litera
+0000ee20: 6c53 7472 696e 6743 6c61 7373 286f 7468  lStringClass(oth
+0000ee30: 6572 290a 2020 2020 2020 2020 6966 206e  er).        if n
+0000ee40: 6f74 2069 7369 6e73 7461 6e63 6528 6f74  ot isinstance(ot
+0000ee50: 6865 722c 2050 6172 7365 7245 6c65 6d65  her, ParserEleme
+0000ee60: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
+0000ee70: 2072 6574 7572 6e20 4e6f 7449 6d70 6c65   return NotImple
+0000ee80: 6d65 6e74 6564 0a20 2020 2020 2020 2072  mented.        r
+0000ee90: 6574 7572 6e20 4d61 7463 6846 6972 7374  eturn MatchFirst
+0000eea0: 285b 7365 6c66 2c20 6f74 6865 725d 290a  ([self, other]).
+0000eeb0: 0a20 2020 2064 6566 205f 5f72 6f72 5f5f  .    def __ror__
+0000eec0: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
+0000eed0: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
+0000eee0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0000eef0: 2020 2020 2020 496d 706c 656d 656e 7461        Implementa
+0000ef00: 7469 6f6e 206f 6620 6060 7c60 6020 6f70  tion of ``|`` op
+0000ef10: 6572 6174 6f72 2077 6865 6e20 6c65 6674  erator when left
+0000ef20: 206f 7065 7261 6e64 2069 7320 6e6f 7420   operand is not 
+0000ef30: 6120 3a63 6c61 7373 3a60 5061 7273 6572  a :class:`Parser
+0000ef40: 456c 656d 656e 7460 0a20 2020 2020 2020  Element`.       
+0000ef50: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+0000ef60: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+0000ef70: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
+0000ef80: 2020 2020 2020 2020 206f 7468 6572 203d           other =
+0000ef90: 2073 656c 662e 5f6c 6974 6572 616c 5374   self._literalSt
+0000efa0: 7269 6e67 436c 6173 7328 6f74 6865 7229  ringClass(other)
+0000efb0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+0000efc0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+0000efd0: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
+0000efe0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0000eff0: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
+0000f000: 7465 640a 2020 2020 2020 2020 7265 7475  ted.        retu
+0000f010: 726e 206f 7468 6572 207c 2073 656c 660a  rn other | self.
+0000f020: 0a20 2020 2064 6566 205f 5f78 6f72 5f5f  .    def __xor__
+0000f030: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
+0000f040: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
+0000f050: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0000f060: 2020 2020 2020 496d 706c 656d 656e 7461        Implementa
+0000f070: 7469 6f6e 206f 6620 6060 5e60 6020 6f70  tion of ``^`` op
+0000f080: 6572 6174 6f72 202d 2072 6574 7572 6e73  erator - returns
+0000f090: 203a 636c 6173 733a 604f 7260 0a20 2020   :class:`Or`.   
+0000f0a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000f0b0: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
+0000f0c0: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
+0000f0d0: 0a20 2020 2020 2020 2020 2020 206f 7468  .            oth
+0000f0e0: 6572 203d 2073 656c 662e 5f6c 6974 6572  er = self._liter
+0000f0f0: 616c 5374 7269 6e67 436c 6173 7328 6f74  alStringClass(ot
+0000f100: 6865 7229 0a20 2020 2020 2020 2069 6620  her).        if 
+0000f110: 6e6f 7420 6973 696e 7374 616e 6365 286f  not isinstance(o
+0000f120: 7468 6572 2c20 5061 7273 6572 456c 656d  ther, ParserElem
+0000f130: 656e 7429 3a0a 2020 2020 2020 2020 2020  ent):.          
+0000f140: 2020 7265 7475 726e 204e 6f74 496d 706c    return NotImpl
+0000f150: 656d 656e 7465 640a 2020 2020 2020 2020  emented.        
+0000f160: 7265 7475 726e 204f 7228 5b73 656c 662c  return Or([self,
+0000f170: 206f 7468 6572 5d29 0a0a 2020 2020 6465   other])..    de
+0000f180: 6620 5f5f 7278 6f72 5f5f 2873 656c 662c  f __rxor__(self,
+0000f190: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
+0000f1a0: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
+0000f1b0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000f1c0: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
+0000f1d0: 6620 6060 5e60 6020 6f70 6572 6174 6f72  f ``^`` operator
+0000f1e0: 2077 6865 6e20 6c65 6674 206f 7065 7261   when left opera
+0000f1f0: 6e64 2069 7320 6e6f 7420 6120 3a63 6c61  nd is not a :cla
+0000f200: 7373 3a60 5061 7273 6572 456c 656d 656e  ss:`ParserElemen
+0000f210: 7460 0a20 2020 2020 2020 2022 2222 0a20  t`.        """. 
+0000f220: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+0000f230: 616e 6365 286f 7468 6572 2c20 7374 725f  ance(other, str_
+0000f240: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
+0000f250: 2020 206f 7468 6572 203d 2073 656c 662e     other = self.
+0000f260: 5f6c 6974 6572 616c 5374 7269 6e67 436c  _literalStringCl
+0000f270: 6173 7328 6f74 6865 7229 0a20 2020 2020  ass(other).     
+0000f280: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
+0000f290: 616e 6365 286f 7468 6572 2c20 5061 7273  ance(other, Pars
+0000f2a0: 6572 456c 656d 656e 7429 3a0a 2020 2020  erElement):.    
+0000f2b0: 2020 2020 2020 2020 7265 7475 726e 204e          return N
+0000f2c0: 6f74 496d 706c 656d 656e 7465 640a 2020  otImplemented.  
+0000f2d0: 2020 2020 2020 7265 7475 726e 206f 7468        return oth
+0000f2e0: 6572 205e 2073 656c 660a 0a20 2020 2064  er ^ self..    d
+0000f2f0: 6566 205f 5f61 6e64 5f5f 2873 656c 662c  ef __and__(self,
+0000f300: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
+0000f310: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
+0000f320: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000f330: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
+0000f340: 6620 6060 2660 6020 6f70 6572 6174 6f72  f ``&`` operator
+0000f350: 202d 2072 6574 7572 6e73 203a 636c 6173   - returns :clas
+0000f360: 733a 6045 6163 6860 0a20 2020 2020 2020  s:`Each`.       
+0000f370: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+0000f380: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+0000f390: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
+0000f3a0: 2020 2020 2020 2020 206f 7468 6572 203d           other =
+0000f3b0: 2073 656c 662e 5f6c 6974 6572 616c 5374   self._literalSt
+0000f3c0: 7269 6e67 436c 6173 7328 6f74 6865 7229  ringClass(other)
+0000f3d0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+0000f3e0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+0000f3f0: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
+0000f400: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0000f410: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
+0000f420: 7465 640a 2020 2020 2020 2020 7265 7475  ted.        retu
+0000f430: 726e 2045 6163 6828 5b73 656c 662c 206f  rn Each([self, o
+0000f440: 7468 6572 5d29 0a0a 2020 2020 6465 6620  ther])..    def 
+0000f450: 5f5f 7261 6e64 5f5f 2873 656c 662c 206f  __rand__(self, o
+0000f460: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
+0000f470: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+0000f480: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
+0000f490: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
+0000f4a0: 6060 2660 6020 6f70 6572 6174 6f72 2077  ``&`` operator w
+0000f4b0: 6865 6e20 6c65 6674 206f 7065 7261 6e64  hen left operand
+0000f4c0: 2069 7320 6e6f 7420 6120 3a63 6c61 7373   is not a :class
+0000f4d0: 3a60 5061 7273 6572 456c 656d 656e 7460  :`ParserElement`
+0000f4e0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000f4f0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0000f500: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
+0000f510: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
+0000f520: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
+0000f530: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
+0000f540: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
+0000f550: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
+0000f560: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
+0000f570: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
+0000f580: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
+0000f590: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
+0000f5a0: 2020 2020 7265 7475 726e 206f 7468 6572      return other
+0000f5b0: 2026 2073 656c 660a 0a20 2020 2064 6566   & self..    def
+0000f5c0: 205f 5f69 6e76 6572 745f 5f28 7365 6c66   __invert__(self
+0000f5d0: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
+0000f5e0: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
+0000f5f0: 220a 2020 2020 2020 2020 496d 706c 656d  ".        Implem
+0000f600: 656e 7461 7469 6f6e 206f 6620 6060 7e60  entation of ``~`
+0000f610: 6020 6f70 6572 6174 6f72 202d 2072 6574  ` operator - ret
+0000f620: 7572 6e73 203a 636c 6173 733a 604e 6f74  urns :class:`Not
+0000f630: 416e 7960 0a20 2020 2020 2020 2022 2222  Any`.        """
+0000f640: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000f650: 4e6f 7441 6e79 2873 656c 6629 0a0a 2020  NotAny(self)..  
+0000f660: 2020 2320 6469 7361 626c 6520 5f5f 6974    # disable __it
+0000f670: 6572 5f5f 2074 6f20 6f76 6572 7269 6465  er__ to override
+0000f680: 206c 6567 6163 7920 7573 6520 6f66 2073   legacy use of s
+0000f690: 6571 7565 6e74 6961 6c20 6163 6365 7373  equential access
+0000f6a0: 2074 6f20 5f5f 6765 7469 7465 6d5f 5f20   to __getitem__ 
+0000f6b0: 746f 0a20 2020 2023 2069 7465 7261 7465  to.    # iterate
+0000f6c0: 206f 7665 7220 6120 7365 7175 656e 6365   over a sequence
+0000f6d0: 0a20 2020 205f 5f69 7465 725f 5f20 3d20  .    __iter__ = 
+0000f6e0: 4e6f 6e65 0a0a 2020 2020 6465 6620 5f5f  None..    def __
+0000f6f0: 6765 7469 7465 6d5f 5f28 7365 6c66 2c20  getitem__(self, 
+0000f700: 6b65 7929 3a0a 2020 2020 2020 2020 2222  key):.        ""
+0000f710: 220a 2020 2020 2020 2020 7573 6520 6060  ".        use ``
+0000f720: 5b5d 6060 2069 6e64 6578 696e 6720 6e6f  []`` indexing no
+0000f730: 7461 7469 6f6e 2061 7320 6120 7368 6f72  tation as a shor
+0000f740: 7420 666f 726d 2066 6f72 2065 7870 7265  t form for expre
+0000f750: 7373 696f 6e20 7265 7065 7469 7469 6f6e  ssion repetition
+0000f760: 3a0a 0a20 2020 2020 2020 202d 2060 6065  :..        - ``e
+0000f770: 7870 725b 6e5d 6060 2069 7320 6571 7569  xpr[n]`` is equi
+0000f780: 7661 6c65 6e74 2074 6f20 6060 6578 7072  valent to ``expr
+0000f790: 2a6e 6060 0a20 2020 2020 2020 202d 2060  *n``.        - `
+0000f7a0: 6065 7870 725b 6d2c 206e 5d60 6020 6973  `expr[m, n]`` is
+0000f7b0: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
+0000f7c0: 6065 7870 722a 286d 2c20 6e29 6060 0a20  `expr*(m, n)``. 
+0000f7d0: 2020 2020 2020 202d 2060 6065 7870 725b         - ``expr[
+0000f7e0: 6e2c 202e 2e2e 5d60 6020 6f72 2060 6065  n, ...]`` or ``e
+0000f7f0: 7870 725b 6e2c 5d60 6020 6973 2065 7175  xpr[n,]`` is equ
+0000f800: 6976 616c 656e 740a 2020 2020 2020 2020  ivalent.        
+0000f810: 2020 2020 2074 6f20 6060 6578 7072 2a6e       to ``expr*n
+0000f820: 202b 205a 6572 6f4f 724d 6f72 6528 6578   + ZeroOrMore(ex
+0000f830: 7072 2960 600a 2020 2020 2020 2020 2020  pr)``.          
+0000f840: 2020 2028 7265 6164 2061 7320 2261 7420     (read as "at 
+0000f850: 6c65 6173 7420 6e20 696e 7374 616e 6365  least n instance
+0000f860: 7320 6f66 2060 6065 7870 7260 6022 290a  s of ``expr``").
+0000f870: 2020 2020 2020 2020 2d20 6060 6578 7072          - ``expr
+0000f880: 5b2e 2e2e 2c20 6e5d 6060 2069 7320 6571  [..., n]`` is eq
+0000f890: 7569 7661 6c65 6e74 2074 6f20 6060 6578  uivalent to ``ex
+0000f8a0: 7072 2a28 302c 206e 2960 600a 2020 2020  pr*(0, n)``.    
+0000f8b0: 2020 2020 2020 2020 2028 7265 6164 2061           (read a
+0000f8c0: 7320 2230 2074 6f20 6e20 696e 7374 616e  s "0 to n instan
+0000f8d0: 6365 7320 6f66 2060 6065 7870 7260 6022  ces of ``expr``"
+0000f8e0: 290a 2020 2020 2020 2020 2d20 6060 6578  ).        - ``ex
+0000f8f0: 7072 5b2e 2e2e 5d60 6020 616e 6420 6060  pr[...]`` and ``
+0000f900: 6578 7072 5b30 2c20 2e2e 2e5d 6060 2061  expr[0, ...]`` a
+0000f910: 7265 2065 7175 6976 616c 656e 7420 746f  re equivalent to
+0000f920: 2060 605a 6572 6f4f 724d 6f72 6528 6578   ``ZeroOrMore(ex
+0000f930: 7072 2960 600a 2020 2020 2020 2020 2d20  pr)``.        - 
+0000f940: 6060 6578 7072 5b31 2c20 2e2e 2e5d 6060  ``expr[1, ...]``
+0000f950: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
+0000f960: 6f20 6060 4f6e 654f 724d 6f72 6528 6578  o ``OneOrMore(ex
+0000f970: 7072 2960 600a 0a20 2020 2020 2020 2060  pr)``..        `
+0000f980: 604e 6f6e 6560 6020 6d61 7920 6265 2075  `None`` may be u
+0000f990: 7365 6420 696e 2070 6c61 6365 206f 6620  sed in place of 
+0000f9a0: 6060 2e2e 2e60 602e 0a0a 2020 2020 2020  ``...``...      
+0000f9b0: 2020 4e6f 7465 2074 6861 7420 6060 6578    Note that ``ex
+0000f9c0: 7072 5b2e 2e2e 2c20 6e5d 6060 2061 6e64  pr[..., n]`` and
+0000f9d0: 2060 6065 7870 725b 6d2c 206e 5d60 6020   ``expr[m, n]`` 
+0000f9e0: 646f 206e 6f74 2072 6169 7365 2061 6e20  do not raise an 
+0000f9f0: 6578 6365 7074 696f 6e0a 2020 2020 2020  exception.      
+0000fa00: 2020 6966 206d 6f72 6520 7468 616e 2060    if more than `
+0000fa10: 606e 6060 2060 6065 7870 7260 605c 5c20  `n`` ``expr``\\ 
+0000fa20: 7320 6578 6973 7420 696e 2074 6865 2069  s exist in the i
+0000fa30: 6e70 7574 2073 7472 6561 6d2e 2020 4966  nput stream.  If
+0000fa40: 2074 6869 7320 6265 6861 7669 6f72 2069   this behavior i
+0000fa50: 730a 2020 2020 2020 2020 6465 7369 7265  s.        desire
+0000fa60: 642c 2074 6865 6e20 7772 6974 6520 6060  d, then write ``
+0000fa70: 6578 7072 5b2e 2e2e 2c20 6e5d 202b 207e  expr[..., n] + ~
+0000fa80: 6578 7072 6060 2e0a 0a20 2020 2020 2020  expr``...       
+0000fa90: 2046 6f72 2072 6570 6574 6974 696f 6e20   For repetition 
+0000faa0: 7769 7468 2061 2073 746f 705f 6f6e 2065  with a stop_on e
+0000fab0: 7870 7265 7373 696f 6e2c 2075 7365 2073  xpression, use s
+0000fac0: 6c69 6365 206e 6f74 6174 696f 6e3a 0a0a  lice notation:..
+0000fad0: 2020 2020 2020 2020 2d20 6060 6578 7072          - ``expr
+0000fae0: 5b2e 2e2e 3a20 656e 645f 6578 7072 5d60  [...: end_expr]`
+0000faf0: 6020 616e 6420 6060 6578 7072 5b30 2c20  ` and ``expr[0, 
+0000fb00: 2e2e 2e3a 2065 6e64 5f65 7870 725d 6060  ...: end_expr]``
+0000fb10: 2061 7265 2065 7175 6976 616c 656e 7420   are equivalent 
+0000fb20: 746f 2060 605a 6572 6f4f 724d 6f72 6528  to ``ZeroOrMore(
+0000fb30: 6578 7072 2c20 7374 6f70 5f6f 6e3d 656e  expr, stop_on=en
+0000fb40: 645f 6578 7072 2960 600a 2020 2020 2020  d_expr)``.      
+0000fb50: 2020 2d20 6060 6578 7072 5b31 2c20 2e2e    - ``expr[1, ..
+0000fb60: 2e3a 2065 6e64 5f65 7870 725d 6060 2069  .: end_expr]`` i
+0000fb70: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+0000fb80: 6060 4f6e 654f 724d 6f72 6528 6578 7072  ``OneOrMore(expr
+0000fb90: 2c20 7374 6f70 5f6f 6e3d 656e 645f 6578  , stop_on=end_ex
+0000fba0: 7072 2960 600a 0a20 2020 2020 2020 2022  pr)``..        "
+0000fbb0: 2222 0a0a 2020 2020 2020 2020 7374 6f70  ""..        stop
+0000fbc0: 5f6f 6e5f 6465 6669 6e65 6420 3d20 4661  _on_defined = Fa
+0000fbd0: 6c73 650a 2020 2020 2020 2020 7374 6f70  lse.        stop
+0000fbe0: 5f6f 6e20 3d20 4e6f 4d61 7463 6828 290a  _on = NoMatch().
+0000fbf0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+0000fc00: 7461 6e63 6528 6b65 792c 2073 6c69 6365  tance(key, slice
+0000fc10: 293a 0a20 2020 2020 2020 2020 2020 206b  ):.            k
+0000fc20: 6579 2c20 7374 6f70 5f6f 6e20 3d20 6b65  ey, stop_on = ke
+0000fc30: 792e 7374 6172 742c 206b 6579 2e73 746f  y.start, key.sto
+0000fc40: 700a 2020 2020 2020 2020 2020 2020 6966  p.            if
+0000fc50: 206b 6579 2069 7320 4e6f 6e65 3a0a 2020   key is None:.  
+0000fc60: 2020 2020 2020 2020 2020 2020 2020 6b65                ke
+0000fc70: 7920 3d20 2e2e 2e0a 2020 2020 2020 2020  y = ....        
+0000fc80: 2020 2020 7374 6f70 5f6f 6e5f 6465 6669      stop_on_defi
+0000fc90: 6e65 6420 3d20 5472 7565 0a20 2020 2020  ned = True.     
+0000fca0: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
+0000fcb0: 6365 286b 6579 2c20 7475 706c 6529 2061  ce(key, tuple) a
+0000fcc0: 6e64 2069 7369 6e73 7461 6e63 6528 6b65  nd isinstance(ke
+0000fcd0: 795b 2d31 5d2c 2073 6c69 6365 293a 0a20  y[-1], slice):. 
+0000fce0: 2020 2020 2020 2020 2020 206b 6579 2c20             key, 
+0000fcf0: 7374 6f70 5f6f 6e20 3d20 286b 6579 5b30  stop_on = (key[0
+0000fd00: 5d2c 206b 6579 5b31 5d2e 7374 6172 7429  ], key[1].start)
+0000fd10: 2c20 6b65 795b 315d 2e73 746f 700a 2020  , key[1].stop.  
+0000fd20: 2020 2020 2020 2020 2020 7374 6f70 5f6f            stop_o
+0000fd30: 6e5f 6465 6669 6e65 6420 3d20 5472 7565  n_defined = True
+0000fd40: 0a0a 2020 2020 2020 2020 2320 636f 6e76  ..        # conv
+0000fd50: 6572 7420 7369 6e67 6c65 2061 7267 206b  ert single arg k
+0000fd60: 6579 7320 746f 2074 7570 6c65 730a 2020  eys to tuples.  
+0000fd70: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+0000fd80: 6e63 6528 6b65 792c 2073 7472 5f74 7970  nce(key, str_typ
+0000fd90: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+0000fda0: 6b65 7920 3d20 286b 6579 2c29 0a20 2020  key = (key,).   
+0000fdb0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0000fdc0: 2020 2020 2020 6974 6572 286b 6579 290a        iter(key).
+0000fdd0: 2020 2020 2020 2020 6578 6365 7074 2054          except T
+0000fde0: 7970 6545 7272 6f72 3a0a 2020 2020 2020  ypeError:.      
+0000fdf0: 2020 2020 2020 6b65 7920 3d20 286b 6579        key = (key
+0000fe00: 2c20 6b65 7929 0a0a 2020 2020 2020 2020  , key)..        
+0000fe10: 6966 206c 656e 286b 6579 2920 3e20 323a  if len(key) > 2:
+0000fe20: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0000fe30: 7365 2054 7970 6545 7272 6f72 280a 2020  se TypeError(.  
+0000fe40: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0000fe50: 6f6e 6c79 2031 206f 7220 3220 696e 6465  only 1 or 2 inde
+0000fe60: 7820 6172 6775 6d65 6e74 7320 7375 7070  x arguments supp
+0000fe70: 6f72 7465 6420 287b 6b65 795b 3a35 5d7d  orted ({key[:5]}
+0000fe80: 7b66 272e 2e2e 205b 7b6c 656e 286b 6579  {f'... [{len(key
+0000fe90: 297d 5d27 2069 6620 6c65 6e28 6b65 7929  )}]' if len(key)
+0000fea0: 203e 2035 2065 6c73 6520 2727 7d29 220a   > 5 else ''})".
+0000feb0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
+0000fec0: 2020 2020 2020 2023 2063 6c69 7020 746f         # clip to
+0000fed0: 2032 2065 6c65 6d65 6e74 730a 2020 2020   2 elements.    
+0000fee0: 2020 2020 7265 7420 3d20 7365 6c66 202a      ret = self *
+0000fef0: 2074 7570 6c65 286b 6579 5b3a 325d 290a   tuple(key[:2]).
+0000ff00: 2020 2020 2020 2020 7265 7420 3d20 7479          ret = ty
+0000ff10: 7069 6e67 2e63 6173 7428 5f4d 756c 7469  ping.cast(_Multi
+0000ff20: 706c 654d 6174 6368 2c20 7265 7429 0a0a  pleMatch, ret)..
+0000ff30: 2020 2020 2020 2020 6966 2073 746f 705f          if stop_
+0000ff40: 6f6e 5f64 6566 696e 6564 3a0a 2020 2020  on_defined:.    
+0000ff50: 2020 2020 2020 2020 7265 742e 7374 6f70          ret.stop
+0000ff60: 4f6e 2873 746f 705f 6f6e 290a 0a20 2020  On(stop_on)..   
+0000ff70: 2020 2020 2072 6574 7572 6e20 7265 740a       return ret.
+0000ff80: 0a20 2020 2064 6566 205f 5f63 616c 6c5f  .    def __call_
+0000ff90: 5f28 7365 6c66 2c20 6e61 6d65 3a20 7479  _(self, name: ty
+0000ffa0: 7069 6e67 2e4f 7074 696f 6e61 6c5b 7374  ping.Optional[st
+0000ffb0: 725d 203d 204e 6f6e 6529 202d 3e20 2250  r] = None) -> "P
+0000ffc0: 6172 7365 7245 6c65 6d65 6e74 223a 0a20  arserElement":. 
+0000ffd0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000ffe0: 2020 2053 686f 7274 6375 7420 666f 7220     Shortcut for 
+0000fff0: 3a63 6c61 7373 3a60 7365 745f 7265 7375  :class:`set_resu
+00010000: 6c74 735f 6e61 6d65 602c 2077 6974 6820  lts_name`, with 
+00010010: 6060 6c69 7374 5f61 6c6c 5f6d 6174 6368  ``list_all_match
+00010020: 6573 3d46 616c 7365 6060 2e0a 0a20 2020  es=False``...   
+00010030: 2020 2020 2049 6620 6060 6e61 6d65 6060       If ``name``
+00010040: 2069 7320 6769 7665 6e20 7769 7468 2061   is given with a
+00010050: 2074 7261 696c 696e 6720 6060 272a 2760   trailing ``'*'`
+00010060: 6020 6368 6172 6163 7465 722c 2074 6865  ` character, the
+00010070: 6e20 6060 6c69 7374 5f61 6c6c 5f6d 6174  n ``list_all_mat
+00010080: 6368 6573 6060 2077 696c 6c20 6265 0a20  ches`` will be. 
+00010090: 2020 2020 2020 2070 6173 7365 6420 6173         passed as
+000100a0: 2060 6054 7275 6560 602e 0a0a 2020 2020   ``True``...    
+000100b0: 2020 2020 4966 2060 606e 616d 6560 6020      If ``name`` 
+000100c0: 6973 206f 6d69 7474 6564 2c20 7361 6d65  is omitted, same
+000100d0: 2061 7320 6361 6c6c 696e 6720 3a63 6c61   as calling :cla
+000100e0: 7373 3a60 636f 7079 602e 0a0a 2020 2020  ss:`copy`...    
+000100f0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+00010100: 2020 2020 2020 2020 2020 2023 2074 6865             # the
+00010110: 7365 2061 7265 2065 7175 6976 616c 656e  se are equivalen
+00010120: 740a 2020 2020 2020 2020 2020 2020 7573  t.            us
+00010130: 6572 6461 7461 203d 2057 6f72 6428 616c  erdata = Word(al
+00010140: 7068 6173 292e 7365 745f 7265 7375 6c74  phas).set_result
+00010150: 735f 6e61 6d65 2822 6e61 6d65 2229 202b  s_name("name") +
+00010160: 2057 6f72 6428 6e75 6d73 202b 2022 2d22   Word(nums + "-"
+00010170: 292e 7365 745f 7265 7375 6c74 735f 6e61  ).set_results_na
+00010180: 6d65 2822 736f 6373 6563 6e6f 2229 0a20  me("socsecno"). 
+00010190: 2020 2020 2020 2020 2020 2075 7365 7264             userd
+000101a0: 6174 6120 3d20 576f 7264 2861 6c70 6861  ata = Word(alpha
+000101b0: 7329 2822 6e61 6d65 2229 202b 2057 6f72  s)("name") + Wor
+000101c0: 6428 6e75 6d73 202b 2022 2d22 2928 2273  d(nums + "-")("s
+000101d0: 6f63 7365 636e 6f22 290a 2020 2020 2020  ocsecno").      
+000101e0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
+000101f0: 206e 616d 6520 6973 206e 6f74 204e 6f6e   name is not Non
+00010200: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00010210: 6574 7572 6e20 7365 6c66 2e5f 7365 7452  eturn self._setR
+00010220: 6573 756c 7473 4e61 6d65 286e 616d 6529  esultsName(name)
+00010230: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00010240: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00010250: 6e20 7365 6c66 2e63 6f70 7928 290a 0a20  n self.copy().. 
+00010260: 2020 2064 6566 2073 7570 7072 6573 7328     def suppress(
+00010270: 7365 6c66 2920 2d3e 2022 5061 7273 6572  self) -> "Parser
+00010280: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+00010290: 2020 2222 220a 2020 2020 2020 2020 5375    """.        Su
+000102a0: 7070 7265 7373 6573 2074 6865 206f 7574  ppresses the out
+000102b0: 7075 7420 6f66 2074 6869 7320 3a63 6c61  put of this :cla
+000102c0: 7373 3a60 5061 7273 6572 456c 656d 656e  ss:`ParserElemen
+000102d0: 7460 3b20 7573 6566 756c 2074 6f20 6b65  t`; useful to ke
+000102e0: 6570 2070 756e 6374 7561 7469 6f6e 2066  ep punctuation f
+000102f0: 726f 6d0a 2020 2020 2020 2020 636c 7574  rom.        clut
+00010300: 7465 7269 6e67 2075 7020 7265 7475 726e  tering up return
+00010310: 6564 206f 7574 7075 742e 0a20 2020 2020  ed output..     
+00010320: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
+00010330: 6574 7572 6e20 5375 7070 7265 7373 2873  eturn Suppress(s
+00010340: 656c 6629 0a0a 2020 2020 6465 6620 6967  elf)..    def ig
+00010350: 6e6f 7265 5f77 6869 7465 7370 6163 6528  nore_whitespace(
+00010360: 7365 6c66 2c20 7265 6375 7273 6976 653a  self, recursive:
+00010370: 2062 6f6f 6c20 3d20 5472 7565 2920 2d3e   bool = True) ->
+00010380: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
+00010390: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+000103a0: 2020 2020 2020 456e 6162 6c65 7320 7468        Enables th
+000103b0: 6520 736b 6970 7069 6e67 206f 6620 7768  e skipping of wh
+000103c0: 6974 6573 7061 6365 2062 6566 6f72 6520  itespace before 
+000103d0: 6d61 7463 6869 6e67 2074 6865 2063 6861  matching the cha
+000103e0: 7261 6374 6572 7320 696e 2074 6865 0a20  racters in the. 
+000103f0: 2020 2020 2020 203a 636c 6173 733a 6050         :class:`P
+00010400: 6172 7365 7245 6c65 6d65 6e74 6027 7320  arserElement`'s 
+00010410: 6465 6669 6e65 6420 7061 7474 6572 6e2e  defined pattern.
+00010420: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+00010430: 2072 6563 7572 7369 7665 3a20 4966 2060   recursive: If `
+00010440: 6054 7275 6560 6020 2874 6865 2064 6566  `True`` (the def
+00010450: 6175 6c74 292c 2061 6c73 6f20 656e 6162  ault), also enab
+00010460: 6c65 2077 6869 7465 7370 6163 6520 736b  le whitespace sk
+00010470: 6970 7069 6e67 2069 6e20 6368 696c 6420  ipping in child 
+00010480: 656c 656d 656e 7473 2028 6966 2061 6e79  elements (if any
+00010490: 290a 2020 2020 2020 2020 2222 220a 2020  ).        """.  
+000104a0: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
+000104b0: 6869 7465 7370 6163 6520 3d20 5472 7565  hitespace = True
+000104c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000104d0: 7365 6c66 0a0a 2020 2020 6465 6620 6c65  self..    def le
+000104e0: 6176 655f 7768 6974 6573 7061 6365 2873  ave_whitespace(s
+000104f0: 656c 662c 2072 6563 7572 7369 7665 3a20  elf, recursive: 
+00010500: 626f 6f6c 203d 2054 7275 6529 202d 3e20  bool = True) -> 
+00010510: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
+00010520: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00010530: 2020 2020 2044 6973 6162 6c65 7320 7468       Disables th
+00010540: 6520 736b 6970 7069 6e67 206f 6620 7768  e skipping of wh
+00010550: 6974 6573 7061 6365 2062 6566 6f72 6520  itespace before 
+00010560: 6d61 7463 6869 6e67 2074 6865 2063 6861  matching the cha
+00010570: 7261 6374 6572 7320 696e 2074 6865 0a20  racters in the. 
+00010580: 2020 2020 2020 203a 636c 6173 733a 6050         :class:`P
+00010590: 6172 7365 7245 6c65 6d65 6e74 6027 7320  arserElement`'s 
+000105a0: 6465 6669 6e65 6420 7061 7474 6572 6e2e  defined pattern.
+000105b0: 2020 5468 6973 2069 7320 6e6f 726d 616c    This is normal
+000105c0: 6c79 206f 6e6c 7920 7573 6564 2069 6e74  ly only used int
+000105d0: 6572 6e61 6c6c 7920 6279 0a20 2020 2020  ernally by.     
+000105e0: 2020 2074 6865 2070 7970 6172 7369 6e67     the pyparsing
+000105f0: 206d 6f64 756c 652c 2062 7574 206d 6179   module, but may
+00010600: 2062 6520 6e65 6564 6564 2069 6e20 736f   be needed in so
+00010610: 6d65 2077 6869 7465 7370 6163 652d 7365  me whitespace-se
+00010620: 6e73 6974 6976 6520 6772 616d 6d61 7273  nsitive grammars
+00010630: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+00010640: 6d20 7265 6375 7273 6976 653a 2049 6620  m recursive: If 
+00010650: 7472 7565 2028 7468 6520 6465 6661 756c  true (the defaul
+00010660: 7429 2c20 616c 736f 2064 6973 6162 6c65  t), also disable
+00010670: 2077 6869 7465 7370 6163 6520 736b 6970   whitespace skip
+00010680: 7069 6e67 2069 6e20 6368 696c 6420 656c  ping in child el
+00010690: 656d 656e 7473 2028 6966 2061 6e79 290a  ements (if any).
+000106a0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000106b0: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
+000106c0: 7465 7370 6163 6520 3d20 4661 6c73 650a  tespace = False.
+000106d0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+000106e0: 656c 660a 0a20 2020 2064 6566 2073 6574  elf..    def set
+000106f0: 5f77 6869 7465 7370 6163 655f 6368 6172  _whitespace_char
+00010700: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+00010710: 2063 6861 7273 3a20 556e 696f 6e5b 5365   chars: Union[Se
+00010720: 745b 7374 725d 2c20 7374 725d 2c20 636f  t[str], str], co
+00010730: 7079 5f64 6566 6175 6c74 733a 2062 6f6f  py_defaults: boo
+00010740: 6c20 3d20 4661 6c73 650a 2020 2020 2920  l = False.    ) 
+00010750: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
+00010760: 7422 3a0a 2020 2020 2020 2020 2222 220a  t":.        """.
+00010770: 2020 2020 2020 2020 4f76 6572 7269 6465          Override
+00010780: 7320 7468 6520 6465 6661 756c 7420 7768  s the default wh
+00010790: 6974 6573 7061 6365 2063 6861 7273 0a20  itespace chars. 
+000107a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000107b0: 2020 2073 656c 662e 736b 6970 5768 6974     self.skipWhit
+000107c0: 6573 7061 6365 203d 2054 7275 650a 2020  espace = True.  
+000107d0: 2020 2020 2020 7365 6c66 2e77 6869 7465        self.white
+000107e0: 4368 6172 7320 3d20 7365 7428 6368 6172  Chars = set(char
+000107f0: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
+00010800: 636f 7079 4465 6661 756c 7457 6869 7465  copyDefaultWhite
+00010810: 4368 6172 7320 3d20 636f 7079 5f64 6566  Chars = copy_def
+00010820: 6175 6c74 730a 2020 2020 2020 2020 7265  aults.        re
+00010830: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+00010840: 6566 2070 6172 7365 5f77 6974 685f 7461  ef parse_with_ta
+00010850: 6273 2873 656c 6629 202d 3e20 2250 6172  bs(self) -> "Par
+00010860: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
+00010870: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00010880: 204f 7665 7272 6964 6573 2064 6566 6175   Overrides defau
+00010890: 6c74 2062 6568 6176 696f 7220 746f 2065  lt behavior to e
+000108a0: 7870 616e 6420 6060 3c54 4142 3e60 6020  xpand ``<TAB>`` 
+000108b0: 7320 746f 2073 7061 6365 7320 6265 666f  s to spaces befo
+000108c0: 7265 2070 6172 7369 6e67 2074 6865 2069  re parsing the i
+000108d0: 6e70 7574 2073 7472 696e 672e 0a20 2020  nput string..   
+000108e0: 2020 2020 204d 7573 7420 6265 2063 616c       Must be cal
+000108f0: 6c65 6420 6265 666f 7265 2060 6070 6172  led before ``par
+00010900: 7365 5f73 7472 696e 6760 6020 7768 656e  se_string`` when
+00010910: 2074 6865 2069 6e70 7574 2067 7261 6d6d   the input gramm
+00010920: 6172 2063 6f6e 7461 696e 7320 656c 656d  ar contains elem
+00010930: 656e 7473 2074 6861 740a 2020 2020 2020  ents that.      
+00010940: 2020 6d61 7463 6820 6060 3c54 4142 3e60    match ``<TAB>`
+00010950: 6020 6368 6172 6163 7465 7273 2e0a 2020  ` characters..  
+00010960: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00010970: 2020 7365 6c66 2e6b 6565 7054 6162 7320    self.keepTabs 
+00010980: 3d20 5472 7565 0a20 2020 2020 2020 2072  = True.        r
+00010990: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
+000109a0: 6465 6620 6967 6e6f 7265 2873 656c 662c  def ignore(self,
+000109b0: 206f 7468 6572 3a20 2250 6172 7365 7245   other: "ParserE
+000109c0: 6c65 6d65 6e74 2229 202d 3e20 2250 6172  lement") -> "Par
+000109d0: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
+000109e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+000109f0: 2044 6566 696e 6520 6578 7072 6573 7369   Define expressi
+00010a00: 6f6e 2074 6f20 6265 2069 676e 6f72 6564  on to be ignored
+00010a10: 2028 652e 672e 2c20 636f 6d6d 656e 7473   (e.g., comments
+00010a20: 2920 7768 696c 6520 646f 696e 6720 7061  ) while doing pa
+00010a30: 7474 6572 6e0a 2020 2020 2020 2020 6d61  ttern.        ma
+00010a40: 7463 6869 6e67 3b20 6d61 7920 6265 2063  tching; may be c
+00010a50: 616c 6c65 6420 7265 7065 6174 6564 6c79  alled repeatedly
+00010a60: 2c20 746f 2064 6566 696e 6520 6d75 6c74  , to define mult
+00010a70: 6970 6c65 2063 6f6d 6d65 6e74 206f 7220  iple comment or 
+00010a80: 6f74 6865 720a 2020 2020 2020 2020 6967  other.        ig
+00010a90: 6e6f 7261 626c 6520 7061 7474 6572 6e73  norable patterns
+00010aa0: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
+00010ab0: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
+00010ac0: 2020 7061 7474 203d 2057 6f72 6428 616c    patt = Word(al
+00010ad0: 7068 6173 295b 312c 202e 2e2e 5d0a 2020  phas)[1, ...].  
+00010ae0: 2020 2020 2020 2020 2020 7061 7474 2e70            patt.p
+00010af0: 6172 7365 5f73 7472 696e 6728 2761 626c  arse_string('abl
+00010b00: 616a 202f 2a20 636f 6d6d 656e 7420 2a2f  aj /* comment */
+00010b10: 206c 736b 6a64 2729 0a20 2020 2020 2020   lskjd').       
+00010b20: 2020 2020 2023 202d 3e20 5b27 6162 6c61       # -> ['abla
+00010b30: 6a27 5d0a 0a20 2020 2020 2020 2020 2020  j']..           
+00010b40: 2070 6174 742e 6967 6e6f 7265 2863 5f73   patt.ignore(c_s
+00010b50: 7479 6c65 5f63 6f6d 6d65 6e74 290a 2020  tyle_comment).  
+00010b60: 2020 2020 2020 2020 2020 7061 7474 2e70            patt.p
+00010b70: 6172 7365 5f73 7472 696e 6728 2761 626c  arse_string('abl
+00010b80: 616a 202f 2a20 636f 6d6d 656e 7420 2a2f  aj /* comment */
+00010b90: 206c 736b 6a64 2729 0a20 2020 2020 2020   lskjd').       
+00010ba0: 2020 2020 2023 202d 3e20 5b27 6162 6c61       # -> ['abla
+00010bb0: 6a27 2c20 276c 736b 6a64 275d 0a20 2020  j', 'lskjd'].   
+00010bc0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00010bd0: 2069 6d70 6f72 7420 7479 7069 6e67 0a0a   import typing..
+00010be0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00010bf0: 7461 6e63 6528 6f74 6865 722c 2073 7472  tance(other, str
+00010c00: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
+00010c10: 2020 2020 6f74 6865 7220 3d20 5375 7070      other = Supp
+00010c20: 7265 7373 286f 7468 6572 290a 0a20 2020  ress(other)..   
+00010c30: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00010c40: 6365 286f 7468 6572 2c20 5375 7070 7265  ce(other, Suppre
+00010c50: 7373 293a 0a20 2020 2020 2020 2020 2020  ss):.           
+00010c60: 2069 6620 6f74 6865 7220 6e6f 7420 696e   if other not in
+00010c70: 2073 656c 662e 6967 6e6f 7265 4578 7072   self.ignoreExpr
+00010c80: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00010c90: 2020 2073 656c 662e 6967 6e6f 7265 4578     self.ignoreEx
+00010ca0: 7072 732e 6170 7065 6e64 286f 7468 6572  prs.append(other
+00010cb0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+00010cc0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010cd0: 2e69 676e 6f72 6545 7870 7273 2e61 7070  .ignoreExprs.app
+00010ce0: 656e 6428 5375 7070 7265 7373 286f 7468  end(Suppress(oth
+00010cf0: 6572 2e63 6f70 7928 2929 290a 2020 2020  er.copy())).    
+00010d00: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+00010d10: 0a20 2020 2064 6566 2073 6574 5f64 6562  .    def set_deb
+00010d20: 7567 5f61 6374 696f 6e73 280a 2020 2020  ug_actions(.    
+00010d30: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00010d40: 2020 7374 6172 745f 6163 7469 6f6e 3a20    start_action: 
+00010d50: 4465 6275 6753 7461 7274 4163 7469 6f6e  DebugStartAction
+00010d60: 2c0a 2020 2020 2020 2020 7375 6363 6573  ,.        succes
+00010d70: 735f 6163 7469 6f6e 3a20 4465 6275 6753  s_action: DebugS
+00010d80: 7563 6365 7373 4163 7469 6f6e 2c0a 2020  uccessAction,.  
+00010d90: 2020 2020 2020 6578 6365 7074 696f 6e5f        exception_
+00010da0: 6163 7469 6f6e 3a20 4465 6275 6745 7863  action: DebugExc
+00010db0: 6570 7469 6f6e 4163 7469 6f6e 2c0a 2020  eptionAction,.  
+00010dc0: 2020 2920 2d3e 2022 5061 7273 6572 456c    ) -> "ParserEl
+00010dd0: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
+00010de0: 2222 220a 2020 2020 2020 2020 4375 7374  """.        Cust
+00010df0: 6f6d 697a 6520 6469 7370 6c61 7920 6f66  omize display of
+00010e00: 2064 6562 7567 6769 6e67 206d 6573 7361   debugging messa
+00010e10: 6765 7320 7768 696c 6520 646f 696e 6720  ges while doing 
+00010e20: 7061 7474 6572 6e20 6d61 7463 6869 6e67  pattern matching
+00010e30: 3a0a 0a20 2020 2020 2020 202d 2060 6073  :..        - ``s
+00010e40: 7461 7274 5f61 6374 696f 6e60 6020 2d20  tart_action`` - 
+00010e50: 6d65 7468 6f64 2074 6f20 6265 2063 616c  method to be cal
+00010e60: 6c65 6420 7768 656e 2061 6e20 6578 7072  led when an expr
+00010e70: 6573 7369 6f6e 2069 7320 6162 6f75 7420  ession is about 
+00010e80: 746f 2062 6520 7061 7273 6564 3b0a 2020  to be parsed;.  
+00010e90: 2020 2020 2020 2020 7368 6f75 6c64 2068          should h
+00010ea0: 6176 6520 7468 6520 7369 676e 6174 7572  ave the signatur
+00010eb0: 6520 6060 666e 2869 6e70 7574 5f73 7472  e ``fn(input_str
+00010ec0: 696e 673a 2073 7472 2c20 6c6f 6361 7469  ing: str, locati
+00010ed0: 6f6e 3a20 696e 742c 2065 7870 7265 7373  on: int, express
+00010ee0: 696f 6e3a 2050 6172 7365 7245 6c65 6d65  ion: ParserEleme
+00010ef0: 6e74 2c20 6361 6368 655f 6869 743a 2062  nt, cache_hit: b
+00010f00: 6f6f 6c29 6060 0a0a 2020 2020 2020 2020  ool)``..        
+00010f10: 2d20 6060 7375 6363 6573 735f 6163 7469  - ``success_acti
+00010f20: 6f6e 6060 202d 206d 6574 686f 6420 746f  on`` - method to
+00010f30: 2062 6520 6361 6c6c 6564 2077 6865 6e20   be called when 
+00010f40: 616e 2065 7870 7265 7373 696f 6e20 6861  an expression ha
+00010f50: 7320 7375 6363 6573 7366 756c 6c79 2070  s successfully p
+00010f60: 6172 7365 643b 0a20 2020 2020 2020 2020  arsed;.         
+00010f70: 2073 686f 756c 6420 6861 7665 2074 6865   should have the
+00010f80: 2073 6967 6e61 7475 7265 2060 6066 6e28   signature ``fn(
+00010f90: 696e 7075 745f 7374 7269 6e67 3a20 7374  input_string: st
+00010fa0: 722c 2073 7461 7274 5f6c 6f63 6174 696f  r, start_locatio
+00010fb0: 6e3a 2069 6e74 2c20 656e 645f 6c6f 6361  n: int, end_loca
+00010fc0: 7469 6f6e 3a20 696e 742c 2065 7870 7265  tion: int, expre
+00010fd0: 7373 696f 6e3a 2050 6172 7365 7245 4c65  ssion: ParserELe
+00010fe0: 6d65 6e74 2c20 7061 7273 6564 5f74 6f6b  ment, parsed_tok
+00010ff0: 656e 733a 2050 6172 7365 5265 7375 6c74  ens: ParseResult
+00011000: 732c 2063 6163 6865 5f68 6974 3a20 626f  s, cache_hit: bo
+00011010: 6f6c 2960 600a 0a20 2020 2020 2020 202d  ol)``..        -
+00011020: 2060 6065 7863 6570 7469 6f6e 5f61 6374   ``exception_act
+00011030: 696f 6e60 6020 2d20 6d65 7468 6f64 2074  ion`` - method t
+00011040: 6f20 6265 2063 616c 6c65 6420 7768 656e  o be called when
+00011050: 2065 7870 7265 7373 696f 6e20 6661 696c   expression fail
+00011060: 7320 746f 2070 6172 7365 3b0a 2020 2020  s to parse;.    
+00011070: 2020 2020 2020 7368 6f75 6c64 2068 6176        should hav
+00011080: 6520 7468 6520 7369 676e 6174 7572 6520  e the signature 
+00011090: 6060 666e 2869 6e70 7574 5f73 7472 696e  ``fn(input_strin
+000110a0: 673a 2073 7472 2c20 6c6f 6361 7469 6f6e  g: str, location
+000110b0: 3a20 696e 742c 2065 7870 7265 7373 696f  : int, expressio
+000110c0: 6e3a 2050 6172 7365 7245 6c65 6d65 6e74  n: ParserElement
+000110d0: 2c20 6578 6365 7074 696f 6e3a 2045 7863  , exception: Exc
+000110e0: 6570 7469 6f6e 2c20 6361 6368 655f 6869  eption, cache_hi
+000110f0: 743a 2062 6f6f 6c29 6060 0a20 2020 2020  t: bool)``.     
+00011100: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
+00011110: 656c 662e 6465 6275 6741 6374 696f 6e73  elf.debugActions
+00011120: 203d 2073 656c 662e 4465 6275 6741 6374   = self.DebugAct
+00011130: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
+00011140: 2020 7374 6172 745f 6163 7469 6f6e 206f    start_action o
+00011150: 7220 5f64 6566 6175 6c74 5f73 7461 7274  r _default_start
+00011160: 5f64 6562 7567 5f61 6374 696f 6e2c 2020  _debug_action,  
+00011170: 2320 7479 7065 3a20 6967 6e6f 7265 5b74  # type: ignore[t
+00011180: 7275 7468 792d 6675 6e63 7469 6f6e 5d0a  ruthy-function].
+00011190: 2020 2020 2020 2020 2020 2020 7375 6363              succ
+000111a0: 6573 735f 6163 7469 6f6e 206f 7220 5f64  ess_action or _d
+000111b0: 6566 6175 6c74 5f73 7563 6365 7373 5f64  efault_success_d
+000111c0: 6562 7567 5f61 6374 696f 6e2c 2020 2320  ebug_action,  # 
+000111d0: 7479 7065 3a20 6967 6e6f 7265 5b74 7275  type: ignore[tru
+000111e0: 7468 792d 6675 6e63 7469 6f6e 5d0a 2020  thy-function].  
+000111f0: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00011200: 696f 6e5f 6163 7469 6f6e 206f 7220 5f64  ion_action or _d
+00011210: 6566 6175 6c74 5f65 7863 6570 7469 6f6e  efault_exception
+00011220: 5f64 6562 7567 5f61 6374 696f 6e2c 2020  _debug_action,  
+00011230: 2320 7479 7065 3a20 6967 6e6f 7265 5b74  # type: ignore[t
+00011240: 7275 7468 792d 6675 6e63 7469 6f6e 5d0a  ruthy-function].
+00011250: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00011260: 2020 7365 6c66 2e64 6562 7567 203d 2054    self.debug = T
+00011270: 7275 650a 2020 2020 2020 2020 7265 7475  rue.        retu
+00011280: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+00011290: 2073 6574 5f64 6562 7567 2873 656c 662c   set_debug(self,
+000112a0: 2066 6c61 673a 2062 6f6f 6c20 3d20 5472   flag: bool = Tr
+000112b0: 7565 2c20 7265 6375 7273 653a 2062 6f6f  ue, recurse: boo
+000112c0: 6c20 3d20 4661 6c73 6529 202d 3e20 2250  l = False) -> "P
+000112d0: 6172 7365 7245 6c65 6d65 6e74 223a 0a20  arserElement":. 
+000112e0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000112f0: 2020 2045 6e61 626c 6520 6469 7370 6c61     Enable displa
+00011300: 7920 6f66 2064 6562 7567 6769 6e67 206d  y of debugging m
+00011310: 6573 7361 6765 7320 7768 696c 6520 646f  essages while do
+00011320: 696e 6720 7061 7474 6572 6e20 6d61 7463  ing pattern matc
+00011330: 6869 6e67 2e0a 2020 2020 2020 2020 5365  hing..        Se
+00011340: 7420 6060 666c 6167 6060 2074 6f20 6060  t ``flag`` to ``
+00011350: 5472 7565 6060 2074 6f20 656e 6162 6c65  True`` to enable
+00011360: 2c20 6060 4661 6c73 6560 6020 746f 2064  , ``False`` to d
+00011370: 6973 6162 6c65 2e0a 2020 2020 2020 2020  isable..        
+00011380: 5365 7420 6060 7265 6375 7273 6560 6020  Set ``recurse`` 
+00011390: 746f 2060 6054 7275 6560 6020 746f 2073  to ``True`` to s
+000113a0: 6574 2074 6865 2064 6562 7567 2066 6c61  et the debug fla
+000113b0: 6720 6f6e 2074 6869 7320 6578 7072 6573  g on this expres
+000113c0: 7369 6f6e 2061 6e64 2061 6c6c 2073 7562  sion and all sub
+000113d0: 2d65 7870 7265 7373 696f 6e73 2e0a 0a20  -expressions... 
+000113e0: 2020 2020 2020 2045 7861 6d70 6c65 3a3a         Example::
+000113f0: 0a0a 2020 2020 2020 2020 2020 2020 7764  ..            wd
+00011400: 203d 2057 6f72 6428 616c 7068 6173 292e   = Word(alphas).
+00011410: 7365 745f 6e61 6d65 2822 616c 7068 6177  set_name("alphaw
+00011420: 6f72 6422 290a 2020 2020 2020 2020 2020  ord").          
+00011430: 2020 696e 7465 6765 7220 3d20 576f 7264    integer = Word
+00011440: 286e 756d 7329 2e73 6574 5f6e 616d 6528  (nums).set_name(
+00011450: 226e 756d 776f 7264 2229 0a20 2020 2020  "numword").     
+00011460: 2020 2020 2020 2074 6572 6d20 3d20 7764         term = wd
+00011470: 207c 2069 6e74 6567 6572 0a0a 2020 2020   | integer..    
+00011480: 2020 2020 2020 2020 2320 7475 726e 206f          # turn o
+00011490: 6e20 6465 6275 6767 696e 6720 666f 7220  n debugging for 
+000114a0: 7764 0a20 2020 2020 2020 2020 2020 2077  wd.            w
+000114b0: 642e 7365 745f 6465 6275 6728 290a 0a20  d.set_debug().. 
+000114c0: 2020 2020 2020 2020 2020 2074 6572 6d5b             term[
+000114d0: 312c 202e 2e2e 5d2e 7061 7273 655f 7374  1, ...].parse_st
+000114e0: 7269 6e67 2822 6162 6320 3132 3320 7879  ring("abc 123 xy
+000114f0: 7a20 3839 3022 290a 0a20 2020 2020 2020  z 890")..       
+00011500: 2070 7269 6e74 733a 3a0a 0a20 2020 2020   prints::..     
+00011510: 2020 2020 2020 204d 6174 6368 2061 6c70         Match alp
+00011520: 6861 776f 7264 2061 7420 6c6f 6320 3028  haword at loc 0(
+00011530: 312c 3129 0a20 2020 2020 2020 2020 2020  1,1).           
+00011540: 204d 6174 6368 6564 2061 6c70 6861 776f   Matched alphawo
+00011550: 7264 202d 3e20 5b27 6162 6327 5d0a 2020  rd -> ['abc'].  
+00011560: 2020 2020 2020 2020 2020 4d61 7463 6820            Match 
+00011570: 616c 7068 6177 6f72 6420 6174 206c 6f63  alphaword at loc
+00011580: 2033 2831 2c34 290a 2020 2020 2020 2020   3(1,4).        
+00011590: 2020 2020 4578 6365 7074 696f 6e20 7261      Exception ra
+000115a0: 6973 6564 3a45 7870 6563 7465 6420 616c  ised:Expected al
+000115b0: 7068 6177 6f72 6420 2861 7420 6368 6172  phaword (at char
+000115c0: 2034 292c 2028 6c69 6e65 3a31 2c20 636f   4), (line:1, co
+000115d0: 6c3a 3529 0a20 2020 2020 2020 2020 2020  l:5).           
+000115e0: 204d 6174 6368 2061 6c70 6861 776f 7264   Match alphaword
+000115f0: 2061 7420 6c6f 6320 3728 312c 3829 0a20   at loc 7(1,8). 
+00011600: 2020 2020 2020 2020 2020 204d 6174 6368             Match
+00011610: 6564 2061 6c70 6861 776f 7264 202d 3e20  ed alphaword -> 
+00011620: 5b27 7879 7a27 5d0a 2020 2020 2020 2020  ['xyz'].        
+00011630: 2020 2020 4d61 7463 6820 616c 7068 6177      Match alphaw
+00011640: 6f72 6420 6174 206c 6f63 2031 3128 312c  ord at loc 11(1,
+00011650: 3132 290a 2020 2020 2020 2020 2020 2020  12).            
+00011660: 4578 6365 7074 696f 6e20 7261 6973 6564  Exception raised
+00011670: 3a45 7870 6563 7465 6420 616c 7068 6177  :Expected alphaw
+00011680: 6f72 6420 2861 7420 6368 6172 2031 3229  ord (at char 12)
+00011690: 2c20 286c 696e 653a 312c 2063 6f6c 3a31  , (line:1, col:1
+000116a0: 3329 0a20 2020 2020 2020 2020 2020 204d  3).            M
+000116b0: 6174 6368 2061 6c70 6861 776f 7264 2061  atch alphaword a
+000116c0: 7420 6c6f 6320 3135 2831 2c31 3629 0a20  t loc 15(1,16). 
+000116d0: 2020 2020 2020 2020 2020 2045 7863 6570             Excep
+000116e0: 7469 6f6e 2072 6169 7365 643a 4578 7065  tion raised:Expe
+000116f0: 6374 6564 2061 6c70 6861 776f 7264 2028  cted alphaword (
+00011700: 6174 2063 6861 7220 3135 292c 2028 6c69  at char 15), (li
+00011710: 6e65 3a31 2c20 636f 6c3a 3136 290a 0a20  ne:1, col:16).. 
+00011720: 2020 2020 2020 2054 6865 206f 7574 7075         The outpu
+00011730: 7420 7368 6f77 6e20 6973 2074 6861 7420  t shown is that 
+00011740: 7072 6f64 7563 6564 2062 7920 7468 6520  produced by the 
+00011750: 6465 6661 756c 7420 6465 6275 6720 6163  default debug ac
+00011760: 7469 6f6e 7320 2d20 6375 7374 6f6d 2064  tions - custom d
+00011770: 6562 7567 2061 6374 696f 6e73 2063 616e  ebug actions can
+00011780: 2062 650a 2020 2020 2020 2020 7370 6563   be.        spec
+00011790: 6966 6965 6420 7573 696e 6720 3a63 6c61  ified using :cla
+000117a0: 7373 3a60 7365 745f 6465 6275 675f 6163  ss:`set_debug_ac
+000117b0: 7469 6f6e 7360 2e20 5072 696f 7220 746f  tions`. Prior to
+000117c0: 2061 7474 656d 7074 696e 670a 2020 2020   attempting.    
+000117d0: 2020 2020 746f 206d 6174 6368 2074 6865      to match the
+000117e0: 2060 6077 6460 6020 6578 7072 6573 7369   ``wd`` expressi
+000117f0: 6f6e 2c20 7468 6520 6465 6275 6767 696e  on, the debuggin
+00011800: 6720 6d65 7373 6167 6520 6060 224d 6174  g message ``"Mat
+00011810: 6368 203c 6578 7072 6e61 6d65 3e20 6174  ch <exprname> at
+00011820: 206c 6f63 203c 6e3e 283c 6c69 6e65 3e2c   loc <n>(<line>,
+00011830: 3c63 6f6c 3e29 2260 600a 2020 2020 2020  <col>)"``.      
+00011840: 2020 6973 2073 686f 776e 2e20 5468 656e    is shown. Then
+00011850: 2069 6620 7468 6520 7061 7273 6520 7375   if the parse su
+00011860: 6363 6565 6473 2c20 6120 6060 224d 6174  cceeds, a ``"Mat
+00011870: 6368 6564 2260 6020 6d65 7373 6167 6520  ched"`` message 
+00011880: 6973 2073 686f 776e 2c20 6f72 2061 6e20  is shown, or an 
+00011890: 6060 2245 7863 6570 7469 6f6e 2072 6169  ``"Exception rai
+000118a0: 7365 6422 6060 0a20 2020 2020 2020 206d  sed"``.        m
+000118b0: 6573 7361 6765 2069 7320 7368 6f77 6e2e  essage is shown.
+000118c0: 2041 6c73 6f20 6e6f 7465 2074 6865 2075   Also note the u
+000118d0: 7365 206f 6620 3a63 6c61 7373 3a60 7365  se of :class:`se
+000118e0: 745f 6e61 6d65 6020 746f 2061 7373 6967  t_name` to assig
+000118f0: 6e20 6120 6875 6d61 6e2d 7265 6164 6162  n a human-readab
+00011900: 6c65 206e 616d 6520 746f 2074 6865 2065  le name to the e
+00011910: 7870 7265 7373 696f 6e2c 0a20 2020 2020  xpression,.     
+00011920: 2020 2077 6869 6368 206d 616b 6573 2064     which makes d
+00011930: 6562 7567 6769 6e67 2061 6e64 2065 7863  ebugging and exc
+00011940: 6570 7469 6f6e 206d 6573 7361 6765 7320  eption messages 
+00011950: 6561 7369 6572 2074 6f20 756e 6465 7273  easier to unders
+00011960: 7461 6e64 202d 2066 6f72 2069 6e73 7461  tand - for insta
+00011970: 6e63 652c 2074 6865 2064 6566 6175 6c74  nce, the default
+00011980: 0a20 2020 2020 2020 206e 616d 6520 6372  .        name cr
+00011990: 6561 7465 6420 666f 7220 7468 6520 3a63  eated for the :c
+000119a0: 6c61 7373 3a60 576f 7264 6020 6578 7072  lass:`Word` expr
+000119b0: 6573 7369 6f6e 2077 6974 686f 7574 2063  ession without c
+000119c0: 616c 6c69 6e67 2060 6073 6574 5f6e 616d  alling ``set_nam
+000119d0: 6560 6020 6973 2060 6022 573a 2841 2d5a  e`` is ``"W:(A-Z
+000119e0: 612d 7a29 2260 602e 0a20 2020 2020 2020  a-z)"``..       
+000119f0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+00011a00: 7265 6375 7273 653a 0a20 2020 2020 2020  recurse:.       
+00011a10: 2020 2020 2066 6f72 2065 7870 7220 696e       for expr in
+00011a20: 2073 656c 662e 7669 7369 745f 616c 6c28   self.visit_all(
+00011a30: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00011a40: 2020 2065 7870 722e 7365 745f 6465 6275     expr.set_debu
+00011a50: 6728 666c 6167 2c20 7265 6375 7273 653d  g(flag, recurse=
+00011a60: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
+00011a70: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00011a80: 2020 2020 2020 2020 6966 2066 6c61 673a          if flag:
+00011a90: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00011aa0: 662e 7365 745f 6465 6275 675f 6163 7469  f.set_debug_acti
+00011ab0: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
+00011ac0: 2020 2020 205f 6465 6661 756c 745f 7374       _default_st
+00011ad0: 6172 745f 6465 6275 675f 6163 7469 6f6e  art_debug_action
+00011ae0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00011af0: 2020 5f64 6566 6175 6c74 5f73 7563 6365    _default_succe
+00011b00: 7373 5f64 6562 7567 5f61 6374 696f 6e2c  ss_debug_action,
+00011b10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011b20: 205f 6465 6661 756c 745f 6578 6365 7074   _default_except
+00011b30: 696f 6e5f 6465 6275 675f 6163 7469 6f6e  ion_debug_action
+00011b40: 2c0a 2020 2020 2020 2020 2020 2020 290a  ,.            ).
+00011b50: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00011b60: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
+00011b70: 6562 7567 203d 2046 616c 7365 0a20 2020  ebug = False.   
+00011b80: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00011b90: 0a0a 2020 2020 4070 726f 7065 7274 790a  ..    @property.
+00011ba0: 2020 2020 6465 6620 6465 6661 756c 745f      def default_
+00011bb0: 6e61 6d65 2873 656c 6629 202d 3e20 7374  name(self) -> st
+00011bc0: 723a 0a20 2020 2020 2020 2069 6620 7365  r:.        if se
+00011bd0: 6c66 2e5f 6465 6661 756c 744e 616d 6520  lf._defaultName 
+00011be0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00011bf0: 2020 2020 2073 656c 662e 5f64 6566 6175       self._defau
+00011c00: 6c74 4e61 6d65 203d 2073 656c 662e 5f67  ltName = self._g
+00011c10: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
+00011c20: 6d65 2829 0a20 2020 2020 2020 2072 6574  me().        ret
+00011c30: 7572 6e20 7365 6c66 2e5f 6465 6661 756c  urn self._defaul
+00011c40: 744e 616d 650a 0a20 2020 2040 6162 7374  tName..    @abst
+00011c50: 7261 6374 6d65 7468 6f64 0a20 2020 2064  ractmethod.    d
+00011c60: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+00011c70: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+00011c80: 2073 7472 3a0a 2020 2020 2020 2020 2222   str:.        ""
+00011c90: 220a 2020 2020 2020 2020 4368 696c 6420  ".        Child 
+00011ca0: 636c 6173 7365 7320 6d75 7374 2064 6566  classes must def
+00011cb0: 696e 6520 7468 6973 206d 6574 686f 642c  ine this method,
+00011cc0: 2077 6869 6368 2064 6566 696e 6573 2068   which defines h
+00011cd0: 6f77 2074 6865 2060 6064 6566 6175 6c74  ow the ``default
+00011ce0: 5f6e 616d 6560 6020 6973 2073 6574 2e0a  _name`` is set..
+00011cf0: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
+00011d00: 2064 6566 2073 6574 5f6e 616d 6528 7365   def set_name(se
+00011d10: 6c66 2c20 6e61 6d65 3a20 7374 7229 202d  lf, name: str) -
+00011d20: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
+00011d30: 223a 0a20 2020 2020 2020 2022 2222 0a20  ":.        """. 
+00011d40: 2020 2020 2020 2044 6566 696e 6520 6e61         Define na
+00011d50: 6d65 2066 6f72 2074 6869 7320 6578 7072  me for this expr
+00011d60: 6573 7369 6f6e 2c20 6d61 6b65 7320 6465  ession, makes de
+00011d70: 6275 6767 696e 6720 616e 6420 6578 6365  bugging and exce
+00011d80: 7074 696f 6e20 6d65 7373 6167 6573 2063  ption messages c
+00011d90: 6c65 6172 6572 2e0a 0a20 2020 2020 2020  learer...       
+00011da0: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
+00011db0: 2020 2020 2020 2020 576f 7264 286e 756d          Word(num
+00011dc0: 7329 2e70 6172 7365 5f73 7472 696e 6728  s).parse_string(
+00011dd0: 2241 4243 2229 2020 2320 2d3e 2045 7863  "ABC")  # -> Exc
+00011de0: 6570 7469 6f6e 3a20 4578 7065 6374 6564  eption: Expected
+00011df0: 2057 3a28 302d 3929 2028 6174 2063 6861   W:(0-9) (at cha
+00011e00: 7220 3029 2c20 286c 696e 653a 312c 2063  r 0), (line:1, c
+00011e10: 6f6c 3a31 290a 2020 2020 2020 2020 2020  ol:1).          
+00011e20: 2020 576f 7264 286e 756d 7329 2e73 6574    Word(nums).set
+00011e30: 5f6e 616d 6528 2269 6e74 6567 6572 2229  _name("integer")
+00011e40: 2e70 6172 7365 5f73 7472 696e 6728 2241  .parse_string("A
+00011e50: 4243 2229 2020 2320 2d3e 2045 7863 6570  BC")  # -> Excep
+00011e60: 7469 6f6e 3a20 4578 7065 6374 6564 2069  tion: Expected i
+00011e70: 6e74 6567 6572 2028 6174 2063 6861 7220  nteger (at char 
+00011e80: 3029 2c20 286c 696e 653a 312c 2063 6f6c  0), (line:1, col
+00011e90: 3a31 290a 2020 2020 2020 2020 2222 220a  :1).        """.
+00011ea0: 2020 2020 2020 2020 7365 6c66 2e63 7573          self.cus
+00011eb0: 746f 6d4e 616d 6520 3d20 6e61 6d65 0a20  tomName = name. 
+00011ec0: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
+00011ed0: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
+00011ee0: 202b 2073 656c 662e 6e61 6d65 0a20 2020   + self.name.   
+00011ef0: 2020 2020 2069 6620 5f5f 6469 6167 5f5f       if __diag__
+00011f00: 2e65 6e61 626c 655f 6465 6275 675f 6f6e  .enable_debug_on
+00011f10: 5f6e 616d 6564 5f65 7870 7265 7373 696f  _named_expressio
+00011f20: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00011f30: 7365 6c66 2e73 6574 5f64 6562 7567 2829  self.set_debug()
+00011f40: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00011f50: 7365 6c66 0a0a 2020 2020 4070 726f 7065  self..    @prope
+00011f60: 7274 790a 2020 2020 6465 6620 6e61 6d65  rty.    def name
+00011f70: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
+00011f80: 2020 2020 2020 2023 2054 6869 7320 7769         # This wi
+00011f90: 6c6c 2075 7365 2061 2075 7365 722d 6465  ll use a user-de
+00011fa0: 6669 6e65 6420 6e61 6d65 2069 6620 6176  fined name if av
+00011fb0: 6169 6c61 626c 652c 2062 7574 206f 7468  ailable, but oth
+00011fc0: 6572 7769 7365 2064 6566 6175 6c74 7320  erwise defaults 
+00011fd0: 6261 636b 2074 6f20 7468 6520 6175 746f  back to the auto
+00011fe0: 2d67 656e 6572 6174 6564 206e 616d 650a  -generated name.
+00011ff0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00012000: 656c 662e 6375 7374 6f6d 4e61 6d65 2069  elf.customName i
+00012010: 6620 7365 6c66 2e63 7573 746f 6d4e 616d  f self.customNam
+00012020: 6520 6973 206e 6f74 204e 6f6e 6520 656c  e is not None el
+00012030: 7365 2073 656c 662e 6465 6661 756c 745f  se self.default_
+00012040: 6e61 6d65 0a0a 2020 2020 6465 6620 5f5f  name..    def __
+00012050: 7374 725f 5f28 7365 6c66 2920 2d3e 2073  str__(self) -> s
+00012060: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
+00012070: 726e 2073 656c 662e 6e61 6d65 0a0a 2020  rn self.name..  
+00012080: 2020 6465 6620 5f5f 7265 7072 5f5f 2873    def __repr__(s
+00012090: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
+000120a0: 2020 2020 2072 6574 7572 6e20 7374 7228       return str(
+000120b0: 7365 6c66 290a 0a20 2020 2064 6566 2073  self)..    def s
+000120c0: 7472 6561 6d6c 696e 6528 7365 6c66 2920  treamline(self) 
+000120d0: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
+000120e0: 7422 3a0a 2020 2020 2020 2020 7365 6c66  t":.        self
+000120f0: 2e73 7472 6561 6d6c 696e 6564 203d 2054  .streamlined = T
+00012100: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
+00012110: 2e5f 6465 6661 756c 744e 616d 6520 3d20  ._defaultName = 
+00012120: 4e6f 6e65 0a20 2020 2020 2020 2072 6574  None.        ret
+00012130: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
+00012140: 6620 7265 6375 7273 6528 7365 6c66 2920  f recurse(self) 
+00012150: 2d3e 204c 6973 745b 2250 6172 7365 7245  -> List["ParserE
+00012160: 6c65 6d65 6e74 225d 3a0a 2020 2020 2020  lement"]:.      
+00012170: 2020 7265 7475 726e 205b 5d0a 0a20 2020    return []..   
+00012180: 2064 6566 205f 6368 6563 6b52 6563 7572   def _checkRecur
+00012190: 7369 6f6e 2873 656c 662c 2070 6172 7365  sion(self, parse
+000121a0: 456c 656d 656e 744c 6973 7429 3a0a 2020  ElementList):.  
+000121b0: 2020 2020 2020 7375 6252 6563 4368 6563        subRecChec
+000121c0: 6b4c 6973 7420 3d20 7061 7273 6545 6c65  kList = parseEle
+000121d0: 6d65 6e74 4c69 7374 5b3a 5d20 2b20 5b73  mentList[:] + [s
+000121e0: 656c 665d 0a20 2020 2020 2020 2066 6f72  elf].        for
+000121f0: 2065 2069 6e20 7365 6c66 2e72 6563 7572   e in self.recur
+00012200: 7365 2829 3a0a 2020 2020 2020 2020 2020  se():.          
+00012210: 2020 652e 5f63 6865 636b 5265 6375 7273    e._checkRecurs
+00012220: 696f 6e28 7375 6252 6563 4368 6563 6b4c  ion(subRecCheckL
+00012230: 6973 7429 0a0a 2020 2020 6465 6620 7661  ist)..    def va
+00012240: 6c69 6461 7465 2873 656c 662c 2076 616c  lidate(self, val
+00012250: 6964 6174 6554 7261 6365 3d4e 6f6e 6529  idateTrace=None)
+00012260: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+00012270: 2020 2222 220a 2020 2020 2020 2020 4368    """.        Ch
+00012280: 6563 6b20 6465 6669 6e65 6420 6578 7072  eck defined expr
+00012290: 6573 7369 6f6e 7320 666f 7220 7661 6c69  essions for vali
+000122a0: 6420 7374 7275 6374 7572 652c 2063 6865  d structure, che
+000122b0: 636b 2066 6f72 2069 6e66 696e 6974 6520  ck for infinite 
+000122c0: 7265 6375 7273 6976 6520 6465 6669 6e69  recursive defini
+000122d0: 7469 6f6e 732e 0a20 2020 2020 2020 2022  tions..        "
+000122e0: 2222 0a20 2020 2020 2020 2077 6172 6e69  "".        warni
+000122f0: 6e67 732e 7761 726e 280a 2020 2020 2020  ngs.warn(.      
+00012300: 2020 2020 2020 2250 6172 7365 7245 6c65        "ParserEle
+00012310: 6d65 6e74 2e76 616c 6964 6174 6528 2920  ment.validate() 
+00012320: 6973 2064 6570 7265 6361 7465 642c 2061  is deprecated, a
+00012330: 6e64 2073 686f 756c 6420 6e6f 7420 6265  nd should not be
+00012340: 2075 7365 6420 746f 2063 6865 636b 2066   used to check f
+00012350: 6f72 206c 6566 7420 7265 6375 7273 696f  or left recursio
+00012360: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
+00012370: 4465 7072 6563 6174 696f 6e57 6172 6e69  DeprecationWarni
+00012380: 6e67 2c0a 2020 2020 2020 2020 2020 2020  ng,.            
+00012390: 7374 6163 6b6c 6576 656c 3d32 2c0a 2020  stacklevel=2,.  
+000123a0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+000123b0: 7365 6c66 2e5f 6368 6563 6b52 6563 7572  self._checkRecur
+000123c0: 7369 6f6e 285b 5d29 0a0a 2020 2020 6465  sion([])..    de
+000123d0: 6620 7061 7273 655f 6669 6c65 280a 2020  f parse_file(.  
+000123e0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+000123f0: 2020 2020 6669 6c65 5f6f 725f 6669 6c65      file_or_file
+00012400: 6e61 6d65 3a20 556e 696f 6e5b 7374 722c  name: Union[str,
+00012410: 2050 6174 682c 2054 6578 7449 4f5d 2c0a   Path, TextIO],.
+00012420: 2020 2020 2020 2020 656e 636f 6469 6e67          encoding
+00012430: 3a20 7374 7220 3d20 2275 7466 2d38 222c  : str = "utf-8",
+00012440: 0a20 2020 2020 2020 2070 6172 7365 5f61  .        parse_a
+00012450: 6c6c 3a20 626f 6f6c 203d 2046 616c 7365  ll: bool = False
+00012460: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
+00012470: 2020 2020 2070 6172 7365 416c 6c3a 2062       parseAll: b
+00012480: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+00012490: 2029 202d 3e20 5061 7273 6552 6573 756c   ) -> ParseResul
+000124a0: 7473 3a0a 2020 2020 2020 2020 2222 220a  ts:.        """.
+000124b0: 2020 2020 2020 2020 4578 6563 7574 6520          Execute 
+000124c0: 7468 6520 7061 7273 6520 6578 7072 6573  the parse expres
+000124d0: 7369 6f6e 206f 6e20 7468 6520 6769 7665  sion on the give
+000124e0: 6e20 6669 6c65 206f 7220 6669 6c65 6e61  n file or filena
+000124f0: 6d65 2e0a 2020 2020 2020 2020 4966 2061  me..        If a
+00012500: 2066 696c 656e 616d 6520 6973 2073 7065   filename is spe
+00012510: 6369 6669 6564 2028 696e 7374 6561 6420  cified (instead 
+00012520: 6f66 2061 2066 696c 6520 6f62 6a65 6374  of a file object
+00012530: 292c 0a20 2020 2020 2020 2074 6865 2065  ),.        the e
+00012540: 6e74 6972 6520 6669 6c65 2069 7320 6f70  ntire file is op
+00012550: 656e 6564 2c20 7265 6164 2c20 616e 6420  ened, read, and 
+00012560: 636c 6f73 6564 2062 6566 6f72 6520 7061  closed before pa
+00012570: 7273 696e 672e 0a20 2020 2020 2020 2022  rsing..        "
+00012580: 2222 0a20 2020 2020 2020 2070 6172 7365  "".        parse
+00012590: 416c 6c20 3d20 7061 7273 6541 6c6c 206f  All = parseAll o
+000125a0: 7220 7061 7273 655f 616c 6c0a 2020 2020  r parse_all.    
+000125b0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+000125c0: 2020 2020 2066 696c 655f 6f72 5f66 696c       file_or_fil
+000125d0: 656e 616d 6520 3d20 7479 7069 6e67 2e63  ename = typing.c
+000125e0: 6173 7428 5465 7874 494f 2c20 6669 6c65  ast(TextIO, file
+000125f0: 5f6f 725f 6669 6c65 6e61 6d65 290a 2020  _or_filename).  
+00012600: 2020 2020 2020 2020 2020 6669 6c65 5f63            file_c
+00012610: 6f6e 7465 6e74 7320 3d20 6669 6c65 5f6f  ontents = file_o
+00012620: 725f 6669 6c65 6e61 6d65 2e72 6561 6428  r_filename.read(
+00012630: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
+00012640: 2041 7474 7269 6275 7465 4572 726f 723a   AttributeError:
+00012650: 0a20 2020 2020 2020 2020 2020 2066 696c  .            fil
+00012660: 655f 6f72 5f66 696c 656e 616d 6520 3d20  e_or_filename = 
+00012670: 7479 7069 6e67 2e63 6173 7428 7374 722c  typing.cast(str,
+00012680: 2066 696c 655f 6f72 5f66 696c 656e 616d   file_or_filenam
+00012690: 6529 0a20 2020 2020 2020 2020 2020 2077  e).            w
+000126a0: 6974 6820 6f70 656e 2866 696c 655f 6f72  ith open(file_or
+000126b0: 5f66 696c 656e 616d 652c 2022 7222 2c20  _filename, "r", 
+000126c0: 656e 636f 6469 6e67 3d65 6e63 6f64 696e  encoding=encodin
+000126d0: 6729 2061 7320 663a 0a20 2020 2020 2020  g) as f:.       
+000126e0: 2020 2020 2020 2020 2066 696c 655f 636f           file_co
+000126f0: 6e74 656e 7473 203d 2066 2e72 6561 6428  ntents = f.read(
+00012700: 290a 2020 2020 2020 2020 7472 793a 0a20  ).        try:. 
+00012710: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00012720: 6e20 7365 6c66 2e70 6172 7365 5f73 7472  n self.parse_str
+00012730: 696e 6728 6669 6c65 5f63 6f6e 7465 6e74  ing(file_content
+00012740: 732c 2070 6172 7365 416c 6c29 0a20 2020  s, parseAll).   
+00012750: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
+00012760: 6542 6173 6545 7863 6570 7469 6f6e 2061  eBaseException a
+00012770: 7320 6578 633a 0a20 2020 2020 2020 2020  s exc:.         
+00012780: 2020 2069 6620 5061 7273 6572 456c 656d     if ParserElem
+00012790: 656e 742e 7665 7262 6f73 655f 7374 6163  ent.verbose_stac
+000127a0: 6b74 7261 6365 3a0a 2020 2020 2020 2020  ktrace:.        
+000127b0: 2020 2020 2020 2020 7261 6973 650a 2020          raise.  
+000127c0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000127d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000127e0: 2320 6361 7463 6820 616e 6420 7265 2d72  # catch and re-r
+000127f0: 6169 7365 2065 7863 6570 7469 6f6e 2066  aise exception f
+00012800: 726f 6d20 6865 7265 2c20 636c 6561 7273  rom here, clears
+00012810: 206f 7574 2070 7970 6172 7369 6e67 2069   out pyparsing i
+00012820: 6e74 6572 6e61 6c20 7374 6163 6b20 7472  nternal stack tr
+00012830: 6163 650a 2020 2020 2020 2020 2020 2020  ace.            
+00012840: 2020 2020 7261 6973 6520 6578 632e 7769      raise exc.wi
+00012850: 7468 5f74 7261 6365 6261 636b 284e 6f6e  th_traceback(Non
+00012860: 6529 0a0a 2020 2020 6465 6620 5f5f 6571  e)..    def __eq
+00012870: 5f5f 2873 656c 662c 206f 7468 6572 293a  __(self, other):
+00012880: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00012890: 2069 7320 6f74 6865 723a 0a20 2020 2020   is other:.     
+000128a0: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
+000128b0: 7565 0a20 2020 2020 2020 2065 6c69 6620  ue.        elif 
+000128c0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+000128d0: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
+000128e0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+000128f0: 7365 6c66 2e6d 6174 6368 6573 286f 7468  self.matches(oth
+00012900: 6572 2c20 7061 7273 655f 616c 6c3d 5472  er, parse_all=Tr
+00012910: 7565 290a 2020 2020 2020 2020 656c 6966  ue).        elif
+00012920: 2069 7369 6e73 7461 6e63 6528 6f74 6865   isinstance(othe
+00012930: 722c 2050 6172 7365 7245 6c65 6d65 6e74  r, ParserElement
+00012940: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+00012950: 6574 7572 6e20 7661 7273 2873 656c 6629  eturn vars(self)
+00012960: 203d 3d20 7661 7273 286f 7468 6572 290a   == vars(other).
+00012970: 2020 2020 2020 2020 7265 7475 726e 2046          return F
+00012980: 616c 7365 0a0a 2020 2020 6465 6620 5f5f  alse..    def __
+00012990: 6861 7368 5f5f 2873 656c 6629 3a0a 2020  hash__(self):.  
+000129a0: 2020 2020 2020 7265 7475 726e 2069 6428        return id(
+000129b0: 7365 6c66 290a 0a20 2020 2064 6566 206d  self)..    def m
+000129c0: 6174 6368 6573 280a 2020 2020 2020 2020  atches(.        
+000129d0: 7365 6c66 2c20 7465 7374 5f73 7472 696e  self, test_strin
+000129e0: 673a 2073 7472 2c20 7061 7273 655f 616c  g: str, parse_al
+000129f0: 6c3a 2062 6f6f 6c20 3d20 5472 7565 2c20  l: bool = True, 
+00012a00: 2a2c 2070 6172 7365 416c 6c3a 2062 6f6f  *, parseAll: boo
+00012a10: 6c20 3d20 5472 7565 0a20 2020 2029 202d  l = True.    ) -
+00012a20: 3e20 626f 6f6c 3a0a 2020 2020 2020 2020  > bool:.        
+00012a30: 2222 220a 2020 2020 2020 2020 4d65 7468  """.        Meth
+00012a40: 6f64 2066 6f72 2071 7569 636b 2074 6573  od for quick tes
+00012a50: 7469 6e67 206f 6620 6120 7061 7273 6572  ting of a parser
+00012a60: 2061 6761 696e 7374 2061 2074 6573 7420   against a test 
+00012a70: 7374 7269 6e67 2e20 476f 6f64 2066 6f72  string. Good for
+00012a80: 2073 696d 706c 650a 2020 2020 2020 2020   simple.        
+00012a90: 696e 6c69 6e65 206d 6963 726f 7465 7374  inline microtest
+00012aa0: 7320 6f66 2073 7562 2065 7870 7265 7373  s of sub express
+00012ab0: 696f 6e73 2077 6869 6c65 2062 7569 6c64  ions while build
+00012ac0: 696e 6720 7570 206c 6172 6765 7220 7061  ing up larger pa
+00012ad0: 7273 6572 2e0a 0a20 2020 2020 2020 2050  rser...        P
+00012ae0: 6172 616d 6574 6572 733a 0a0a 2020 2020  arameters:..    
+00012af0: 2020 2020 2d20 6060 7465 7374 5f73 7472      - ``test_str
+00012b00: 696e 6760 6020 2d20 746f 2074 6573 7420  ing`` - to test 
+00012b10: 6167 6169 6e73 7420 7468 6973 2065 7870  against this exp
+00012b20: 7265 7373 696f 6e20 666f 7220 6120 6d61  ression for a ma
+00012b30: 7463 680a 2020 2020 2020 2020 2d20 6060  tch.        - ``
+00012b40: 7061 7273 655f 616c 6c60 6020 2d20 2864  parse_all`` - (d
+00012b50: 6566 6175 6c74 3d20 6060 5472 7565 6060  efault= ``True``
+00012b60: 2920 2d20 666c 6167 2074 6f20 7061 7373  ) - flag to pass
+00012b70: 2074 6f20 3a63 6c61 7373 3a60 7061 7273   to :class:`pars
+00012b80: 655f 7374 7269 6e67 6020 7768 656e 2072  e_string` when r
+00012b90: 756e 6e69 6e67 2074 6573 7473 0a0a 2020  unning tests..  
+00012ba0: 2020 2020 2020 4578 616d 706c 653a 3a0a        Example::.
+00012bb0: 0a20 2020 2020 2020 2020 2020 2065 7870  .            exp
+00012bc0: 7220 3d20 576f 7264 286e 756d 7329 0a20  r = Word(nums). 
+00012bd0: 2020 2020 2020 2020 2020 2061 7373 6572             asser
+00012be0: 7420 6578 7072 2e6d 6174 6368 6573 2822  t expr.matches("
+00012bf0: 3130 3022 290a 2020 2020 2020 2020 2222  100").        ""
+00012c00: 220a 2020 2020 2020 2020 7061 7273 6541  ".        parseA
+00012c10: 6c6c 203d 2070 6172 7365 416c 6c20 616e  ll = parseAll an
+00012c20: 6420 7061 7273 655f 616c 6c0a 2020 2020  d parse_all.    
+00012c30: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00012c40: 2020 2020 2073 656c 662e 7061 7273 655f       self.parse_
+00012c50: 7374 7269 6e67 2873 7472 2874 6573 745f  string(str(test_
+00012c60: 7374 7269 6e67 292c 2070 6172 7365 5f61  string), parse_a
+00012c70: 6c6c 3d70 6172 7365 416c 6c29 0a20 2020  ll=parseAll).   
+00012c80: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00012c90: 5472 7565 0a20 2020 2020 2020 2065 7863  True.        exc
+00012ca0: 6570 7420 5061 7273 6542 6173 6545 7863  ept ParseBaseExc
+00012cb0: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
+00012cc0: 2020 2020 7265 7475 726e 2046 616c 7365      return False
+00012cd0: 0a0a 2020 2020 6465 6620 7275 6e5f 7465  ..    def run_te
+00012ce0: 7374 7328 0a20 2020 2020 2020 2073 656c  sts(.        sel
+00012cf0: 662c 0a20 2020 2020 2020 2074 6573 7473  f,.        tests
+00012d00: 3a20 556e 696f 6e5b 7374 722c 204c 6973  : Union[str, Lis
+00012d10: 745b 7374 725d 5d2c 0a20 2020 2020 2020  t[str]],.       
+00012d20: 2070 6172 7365 5f61 6c6c 3a20 626f 6f6c   parse_all: bool
+00012d30: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
+00012d40: 2063 6f6d 6d65 6e74 3a20 7479 7069 6e67   comment: typing
+00012d50: 2e4f 7074 696f 6e61 6c5b 556e 696f 6e5b  .Optional[Union[
+00012d60: 2250 6172 7365 7245 6c65 6d65 6e74 222c  "ParserElement",
+00012d70: 2073 7472 5d5d 203d 2022 2322 2c0a 2020   str]] = "#",.  
+00012d80: 2020 2020 2020 6675 6c6c 5f64 756d 703a        full_dump:
+00012d90: 2062 6f6f 6c20 3d20 5472 7565 2c0a 2020   bool = True,.  
+00012da0: 2020 2020 2020 7072 696e 745f 7265 7375        print_resu
+00012db0: 6c74 733a 2062 6f6f 6c20 3d20 5472 7565  lts: bool = True
+00012dc0: 2c0a 2020 2020 2020 2020 6661 696c 7572  ,.        failur
+00012dd0: 655f 7465 7374 733a 2062 6f6f 6c20 3d20  e_tests: bool = 
+00012de0: 4661 6c73 652c 0a20 2020 2020 2020 2070  False,.        p
+00012df0: 6f73 745f 7061 7273 653a 2074 7970 696e  ost_parse: typin
+00012e00: 672e 4f70 7469 6f6e 616c 5b43 616c 6c61  g.Optional[Calla
+00012e10: 626c 655b 5b73 7472 2c20 5061 7273 6552  ble[[str, ParseR
+00012e20: 6573 756c 7473 5d2c 2073 7472 5d5d 203d  esults], str]] =
+00012e30: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
+00012e40: 696c 653a 2074 7970 696e 672e 4f70 7469  ile: typing.Opti
+00012e50: 6f6e 616c 5b54 6578 7449 4f5d 203d 204e  onal[TextIO] = N
+00012e60: 6f6e 652c 0a20 2020 2020 2020 2077 6974  one,.        wit
+00012e70: 685f 6c69 6e65 5f6e 756d 6265 7273 3a20  h_line_numbers: 
+00012e80: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+00012e90: 2020 2020 2020 2a2c 0a20 2020 2020 2020        *,.       
+00012ea0: 2070 6172 7365 416c 6c3a 2062 6f6f 6c20   parseAll: bool 
+00012eb0: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
+00012ec0: 6675 6c6c 4475 6d70 3a20 626f 6f6c 203d  fullDump: bool =
+00012ed0: 2054 7275 652c 0a20 2020 2020 2020 2070   True,.        p
+00012ee0: 7269 6e74 5265 7375 6c74 733a 2062 6f6f  rintResults: boo
+00012ef0: 6c20 3d20 5472 7565 2c0a 2020 2020 2020  l = True,.      
+00012f00: 2020 6661 696c 7572 6554 6573 7473 3a20    failureTests: 
+00012f10: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+00012f20: 2020 2020 2020 706f 7374 5061 7273 653a        postParse:
+00012f30: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
+00012f40: 5b43 616c 6c61 626c 655b 5b73 7472 2c20  [Callable[[str, 
+00012f50: 5061 7273 6552 6573 756c 7473 5d2c 2073  ParseResults], s
+00012f60: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
+00012f70: 2029 202d 3e20 5475 706c 655b 626f 6f6c   ) -> Tuple[bool
+00012f80: 2c20 4c69 7374 5b54 7570 6c65 5b73 7472  , List[Tuple[str
+00012f90: 2c20 556e 696f 6e5b 5061 7273 6552 6573  , Union[ParseRes
+00012fa0: 756c 7473 2c20 4578 6365 7074 696f 6e5d  ults, Exception]
+00012fb0: 5d5d 5d3a 0a20 2020 2020 2020 2022 2222  ]]]:.        """
+00012fc0: 0a20 2020 2020 2020 2045 7865 6375 7465  .        Execute
+00012fd0: 2074 6865 2070 6172 7365 2065 7870 7265   the parse expre
+00012fe0: 7373 696f 6e20 6f6e 2061 2073 6572 6965  ssion on a serie
+00012ff0: 7320 6f66 2074 6573 7420 7374 7269 6e67  s of test string
+00013000: 732c 2073 686f 7769 6e67 2065 6163 680a  s, showing each.
+00013010: 2020 2020 2020 2020 7465 7374 2c20 7468          test, th
+00013020: 6520 7061 7273 6564 2072 6573 756c 7473  e parsed results
+00013030: 206f 7220 7768 6572 6520 7468 6520 7061   or where the pa
+00013040: 7273 6520 6661 696c 6564 2e20 5175 6963  rse failed. Quic
+00013050: 6b20 616e 6420 6561 7379 2077 6179 2074  k and easy way t
+00013060: 6f0a 2020 2020 2020 2020 7275 6e20 6120  o.        run a 
+00013070: 7061 7273 6520 6578 7072 6573 7369 6f6e  parse expression
+00013080: 2061 6761 696e 7374 2061 206c 6973 7420   against a list 
+00013090: 6f66 2073 616d 706c 6520 7374 7269 6e67  of sample string
+000130a0: 732e 0a0a 2020 2020 2020 2020 5061 7261  s...        Para
+000130b0: 6d65 7465 7273 3a0a 0a20 2020 2020 2020  meters:..       
+000130c0: 202d 2060 6074 6573 7473 6060 202d 2061   - ``tests`` - a
+000130d0: 206c 6973 7420 6f66 2073 6570 6172 6174   list of separat
+000130e0: 6520 7465 7374 2073 7472 696e 6773 2c20  e test strings, 
+000130f0: 6f72 2061 206d 756c 7469 6c69 6e65 2073  or a multiline s
+00013100: 7472 696e 6720 6f66 2074 6573 7420 7374  tring of test st
+00013110: 7269 6e67 730a 2020 2020 2020 2020 2d20  rings.        - 
+00013120: 6060 7061 7273 655f 616c 6c60 6020 2d20  ``parse_all`` - 
+00013130: 2864 6566 6175 6c74 3d20 6060 5472 7565  (default= ``True
+00013140: 6060 2920 2d20 666c 6167 2074 6f20 7061  ``) - flag to pa
+00013150: 7373 2074 6f20 3a63 6c61 7373 3a60 7061  ss to :class:`pa
+00013160: 7273 655f 7374 7269 6e67 6020 7768 656e  rse_string` when
+00013170: 2072 756e 6e69 6e67 2074 6573 7473 0a20   running tests. 
+00013180: 2020 2020 2020 202d 2060 6063 6f6d 6d65         - ``comme
+00013190: 6e74 6060 202d 2028 6465 6661 756c 743d  nt`` - (default=
+000131a0: 2060 6027 2327 6060 2920 2d20 6578 7072   ``'#'``) - expr
+000131b0: 6573 7369 6f6e 2066 6f72 2069 6e64 6963  ession for indic
+000131c0: 6174 696e 6720 656d 6265 6464 6564 2063  ating embedded c
+000131d0: 6f6d 6d65 6e74 7320 696e 2074 6865 2074  omments in the t
+000131e0: 6573 740a 2020 2020 2020 2020 2020 7374  est.          st
+000131f0: 7269 6e67 3b20 7061 7373 204e 6f6e 6520  ring; pass None 
+00013200: 746f 2064 6973 6162 6c65 2063 6f6d 6d65  to disable comme
+00013210: 6e74 2066 696c 7465 7269 6e67 0a20 2020  nt filtering.   
+00013220: 2020 2020 202d 2060 6066 756c 6c5f 6475       - ``full_du
+00013230: 6d70 6060 202d 2028 6465 6661 756c 743d  mp`` - (default=
+00013240: 2060 6054 7275 6560 6029 202d 2064 756d   ``True``) - dum
+00013250: 7020 7265 7375 6c74 7320 6173 206c 6973  p results as lis
+00013260: 7420 666f 6c6c 6f77 6564 2062 7920 7265  t followed by re
+00013270: 7375 6c74 7320 6e61 6d65 7320 696e 206e  sults names in n
+00013280: 6573 7465 6420 6f75 746c 696e 653b 0a20  ested outline;. 
+00013290: 2020 2020 2020 2020 2069 6620 4661 6c73           if Fals
+000132a0: 652c 206f 6e6c 7920 6475 6d70 206e 6573  e, only dump nes
+000132b0: 7465 6420 6c69 7374 0a20 2020 2020 2020  ted list.       
+000132c0: 202d 2060 6070 7269 6e74 5f72 6573 756c   - ``print_resul
+000132d0: 7473 6060 202d 2028 6465 6661 756c 743d  ts`` - (default=
+000132e0: 2060 6054 7275 6560 6029 2070 7269 6e74   ``True``) print
+000132f0: 7320 7465 7374 206f 7574 7075 7420 746f  s test output to
+00013300: 2073 7464 6f75 740a 2020 2020 2020 2020   stdout.        
+00013310: 2d20 6060 6661 696c 7572 655f 7465 7374  - ``failure_test
+00013320: 7360 6020 2d20 2864 6566 6175 6c74 3d20  s`` - (default= 
+00013330: 6060 4661 6c73 6560 6029 2069 6e64 6963  ``False``) indic
+00013340: 6174 6573 2069 6620 7468 6573 6520 7465  ates if these te
+00013350: 7374 7320 6172 6520 6578 7065 6374 6564  sts are expected
+00013360: 2074 6f20 6661 696c 2070 6172 7369 6e67   to fail parsing
+00013370: 0a20 2020 2020 2020 202d 2060 6070 6f73  .        - ``pos
+00013380: 745f 7061 7273 6560 6020 2d20 2864 6566  t_parse`` - (def
+00013390: 6175 6c74 3d20 6060 4e6f 6e65 6060 2920  ault= ``None``) 
+000133a0: 6f70 7469 6f6e 616c 2063 616c 6c62 6163  optional callbac
+000133b0: 6b20 666f 7220 7375 6363 6573 7366 756c  k for successful
+000133c0: 2070 6172 7365 2072 6573 756c 7473 3b20   parse results; 
+000133d0: 6361 6c6c 6564 2061 730a 2020 2020 2020  called as.      
+000133e0: 2020 2020 6066 6e28 7465 7374 5f73 7472      `fn(test_str
+000133f0: 696e 672c 2070 6172 7365 5f72 6573 756c  ing, parse_resul
+00013400: 7473 2960 2061 6e64 2072 6574 7572 6e73  ts)` and returns
+00013410: 2061 2073 7472 696e 6720 746f 2062 6520   a string to be 
+00013420: 6164 6465 6420 746f 2074 6865 2074 6573  added to the tes
+00013430: 7420 6f75 7470 7574 0a20 2020 2020 2020  t output.       
+00013440: 202d 2060 6066 696c 6560 6020 2d20 2864   - ``file`` - (d
+00013450: 6566 6175 6c74 3d20 6060 4e6f 6e65 6060  efault= ``None``
+00013460: 2920 6f70 7469 6f6e 616c 2066 696c 652d  ) optional file-
+00013470: 6c69 6b65 206f 626a 6563 7420 746f 2077  like object to w
+00013480: 6869 6368 2074 6573 7420 6f75 7470 7574  hich test output
+00013490: 2077 696c 6c20 6265 2077 7269 7474 656e   will be written
+000134a0: 3b0a 2020 2020 2020 2020 2020 6966 204e  ;.          if N
+000134b0: 6f6e 652c 2077 696c 6c20 6465 6661 756c  one, will defaul
+000134c0: 7420 746f 2060 6073 7973 2e73 7464 6f75  t to ``sys.stdou
+000134d0: 7460 600a 2020 2020 2020 2020 2d20 6060  t``.        - ``
+000134e0: 7769 7468 5f6c 696e 655f 6e75 6d62 6572  with_line_number
+000134f0: 7360 6020 2d20 6465 6661 756c 743d 2060  s`` - default= `
+00013500: 6046 616c 7365 6060 2920 7368 6f77 2074  `False``) show t
+00013510: 6573 7420 7374 7269 6e67 7320 7769 7468  est strings with
+00013520: 206c 696e 6520 616e 6420 636f 6c75 6d6e   line and column
+00013530: 206e 756d 6265 7273 0a0a 2020 2020 2020   numbers..      
+00013540: 2020 5265 7475 726e 733a 2061 2028 7375    Returns: a (su
+00013550: 6363 6573 732c 2072 6573 756c 7473 2920  ccess, results) 
+00013560: 7475 706c 652c 2077 6865 7265 2073 7563  tuple, where suc
+00013570: 6365 7373 2069 6e64 6963 6174 6573 2074  cess indicates t
+00013580: 6861 7420 616c 6c20 7465 7374 7320 7375  hat all tests su
+00013590: 6363 6565 6465 640a 2020 2020 2020 2020  cceeded.        
+000135a0: 286f 7220 6661 696c 6564 2069 6620 6060  (or failed if ``
+000135b0: 6661 696c 7572 655f 7465 7374 7360 6020  failure_tests`` 
+000135c0: 6973 2054 7275 6529 2c20 616e 6420 7468  is True), and th
+000135d0: 6520 7265 7375 6c74 7320 636f 6e74 6169  e results contai
+000135e0: 6e20 6120 6c69 7374 206f 6620 6c69 6e65  n a list of line
+000135f0: 7320 6f66 2065 6163 680a 2020 2020 2020  s of each.      
+00013600: 2020 7465 7374 2773 206f 7574 7075 740a    test's output.
+00013610: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
+00013620: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
+00013630: 6e75 6d62 6572 5f65 7870 7220 3d20 7079  number_expr = py
+00013640: 7061 7273 696e 675f 636f 6d6d 6f6e 2e6e  parsing_common.n
+00013650: 756d 6265 722e 636f 7079 2829 0a0a 2020  umber.copy()..  
+00013660: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+00013670: 203d 206e 756d 6265 725f 6578 7072 2e72   = number_expr.r
+00013680: 756e 5f74 6573 7473 2827 2727 0a20 2020  un_tests('''.   
+00013690: 2020 2020 2020 2020 2020 2020 2023 2075               # u
+000136a0: 6e73 6967 6e65 6420 696e 7465 6765 720a  nsigned integer.
+000136b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000136c0: 3130 300a 2020 2020 2020 2020 2020 2020  100.            
+000136d0: 2020 2020 2320 6e65 6761 7469 7665 2069      # negative i
+000136e0: 6e74 6567 6572 0a20 2020 2020 2020 2020  nteger.         
+000136f0: 2020 2020 2020 202d 3130 300a 2020 2020         -100.    
+00013700: 2020 2020 2020 2020 2020 2020 2320 666c              # fl
+00013710: 6f61 7420 7769 7468 2073 6369 656e 7469  oat with scienti
+00013720: 6669 6320 6e6f 7461 7469 6f6e 0a20 2020  fic notation.   
+00013730: 2020 2020 2020 2020 2020 2020 2036 2e30               6.0
+00013740: 3265 3233 0a20 2020 2020 2020 2020 2020  2e23.           
+00013750: 2020 2020 2023 2069 6e74 6567 6572 2077       # integer w
+00013760: 6974 6820 7363 6965 6e74 6966 6963 206e  ith scientific n
+00013770: 6f74 6174 696f 6e0a 2020 2020 2020 2020  otation.        
+00013780: 2020 2020 2020 2020 3165 2d31 320a 2020          1e-12.  
+00013790: 2020 2020 2020 2020 2020 2020 2020 2727                ''
+000137a0: 2729 0a20 2020 2020 2020 2020 2020 2070  ').            p
+000137b0: 7269 6e74 2822 5375 6363 6573 7322 2069  rint("Success" i
+000137c0: 6620 7265 7375 6c74 5b30 5d20 656c 7365  f result[0] else
+000137d0: 2022 4661 696c 6564 2122 290a 0a20 2020   "Failed!")..   
+000137e0: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+000137f0: 3d20 6e75 6d62 6572 5f65 7870 722e 7275  = number_expr.ru
+00013800: 6e5f 7465 7374 7328 2727 270a 2020 2020  n_tests('''.    
+00013810: 2020 2020 2020 2020 2020 2020 2320 7374              # st
+00013820: 7261 7920 6368 6172 6163 7465 720a 2020  ray character.  
+00013830: 2020 2020 2020 2020 2020 2020 2020 3130                10
+00013840: 305a 0a20 2020 2020 2020 2020 2020 2020  0Z.             
+00013850: 2020 2023 206d 6973 7369 6e67 206c 6561     # missing lea
+00013860: 6469 6e67 2064 6967 6974 2062 6566 6f72  ding digit befor
+00013870: 6520 272e 270a 2020 2020 2020 2020 2020  e '.'.          
+00013880: 2020 2020 2020 2d2e 3130 300a 2020 2020        -.100.    
+00013890: 2020 2020 2020 2020 2020 2020 2320 746f              # to
+000138a0: 6f20 6d61 6e79 2027 2e27 0a20 2020 2020  o many '.'.     
+000138b0: 2020 2020 2020 2020 2020 2033 2e31 342e             3.14.
+000138c0: 3135 390a 2020 2020 2020 2020 2020 2020  159.            
+000138d0: 2020 2020 2727 272c 2066 6169 6c75 7265      ''', failure
+000138e0: 5f74 6573 7473 3d54 7275 6529 0a20 2020  _tests=True).   
+000138f0: 2020 2020 2020 2020 2070 7269 6e74 2822           print("
+00013900: 5375 6363 6573 7322 2069 6620 7265 7375  Success" if resu
+00013910: 6c74 5b30 5d20 656c 7365 2022 4661 696c  lt[0] else "Fail
+00013920: 6564 2122 290a 0a20 2020 2020 2020 2070  ed!")..        p
+00013930: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
+00013940: 2020 2020 2023 2075 6e73 6967 6e65 6420       # unsigned 
+00013950: 696e 7465 6765 720a 2020 2020 2020 2020  integer.        
+00013960: 2020 2020 3130 300a 2020 2020 2020 2020      100.        
+00013970: 2020 2020 5b31 3030 5d0a 0a20 2020 2020      [100]..     
+00013980: 2020 2020 2020 2023 206e 6567 6174 6976         # negativ
+00013990: 6520 696e 7465 6765 720a 2020 2020 2020  e integer.      
+000139a0: 2020 2020 2020 2d31 3030 0a20 2020 2020        -100.     
+000139b0: 2020 2020 2020 205b 2d31 3030 5d0a 0a20         [-100].. 
+000139c0: 2020 2020 2020 2020 2020 2023 2066 6c6f             # flo
+000139d0: 6174 2077 6974 6820 7363 6965 6e74 6966  at with scientif
+000139e0: 6963 206e 6f74 6174 696f 6e0a 2020 2020  ic notation.    
+000139f0: 2020 2020 2020 2020 362e 3032 6532 330a          6.02e23.
+00013a00: 2020 2020 2020 2020 2020 2020 5b36 2e30              [6.0
+00013a10: 3265 2b32 335d 0a0a 2020 2020 2020 2020  2e+23]..        
+00013a20: 2020 2020 2320 696e 7465 6765 7220 7769      # integer wi
+00013a30: 7468 2073 6369 656e 7469 6669 6320 6e6f  th scientific no
+00013a40: 7461 7469 6f6e 0a20 2020 2020 2020 2020  tation.         
+00013a50: 2020 2031 652d 3132 0a20 2020 2020 2020     1e-12.       
+00013a60: 2020 2020 205b 3165 2d31 325d 0a0a 2020       [1e-12]..  
+00013a70: 2020 2020 2020 2020 2020 5375 6363 6573            Succes
+00013a80: 730a 0a20 2020 2020 2020 2020 2020 2023  s..            #
+00013a90: 2073 7472 6179 2063 6861 7261 6374 6572   stray character
+00013aa0: 0a20 2020 2020 2020 2020 2020 2031 3030  .            100
+00013ab0: 5a0a 2020 2020 2020 2020 2020 2020 2020  Z.              
+00013ac0: 205e 0a20 2020 2020 2020 2020 2020 2046   ^.            F
+00013ad0: 4149 4c3a 2045 7870 6563 7465 6420 656e  AIL: Expected en
+00013ae0: 6420 6f66 2074 6578 7420 2861 7420 6368  d of text (at ch
+00013af0: 6172 2033 292c 2028 6c69 6e65 3a31 2c20  ar 3), (line:1, 
+00013b00: 636f 6c3a 3429 0a0a 2020 2020 2020 2020  col:4)..        
+00013b10: 2020 2020 2320 6d69 7373 696e 6720 6c65      # missing le
+00013b20: 6164 696e 6720 6469 6769 7420 6265 666f  ading digit befo
+00013b30: 7265 2027 2e27 0a20 2020 2020 2020 2020  re '.'.         
+00013b40: 2020 202d 2e31 3030 0a20 2020 2020 2020     -.100.       
+00013b50: 2020 2020 205e 0a20 2020 2020 2020 2020       ^.         
+00013b60: 2020 2046 4149 4c3a 2045 7870 6563 7465     FAIL: Expecte
+00013b70: 6420 7b72 6561 6c20 6e75 6d62 6572 2077  d {real number w
+00013b80: 6974 6820 7363 6965 6e74 6966 6963 206e  ith scientific n
+00013b90: 6f74 6174 696f 6e20 7c20 7265 616c 206e  otation | real n
+00013ba0: 756d 6265 7220 7c20 7369 676e 6564 2069  umber | signed i
+00013bb0: 6e74 6567 6572 7d20 2861 7420 6368 6172  nteger} (at char
+00013bc0: 2030 292c 2028 6c69 6e65 3a31 2c20 636f   0), (line:1, co
+00013bd0: 6c3a 3129 0a0a 2020 2020 2020 2020 2020  l:1)..          
+00013be0: 2020 2320 746f 6f20 6d61 6e79 2027 2e27    # too many '.'
+00013bf0: 0a20 2020 2020 2020 2020 2020 2033 2e31  .            3.1
+00013c00: 342e 3135 390a 2020 2020 2020 2020 2020  4.159.          
+00013c10: 2020 2020 2020 5e0a 2020 2020 2020 2020        ^.        
+00013c20: 2020 2020 4641 494c 3a20 4578 7065 6374      FAIL: Expect
+00013c30: 6564 2065 6e64 206f 6620 7465 7874 2028  ed end of text (
+00013c40: 6174 2063 6861 7220 3429 2c20 286c 696e  at char 4), (lin
+00013c50: 653a 312c 2063 6f6c 3a35 290a 0a20 2020  e:1, col:5)..   
+00013c60: 2020 2020 2020 2020 2053 7563 6365 7373           Success
+00013c70: 0a0a 2020 2020 2020 2020 4561 6368 2074  ..        Each t
+00013c80: 6573 7420 7374 7269 6e67 206d 7573 7420  est string must 
+00013c90: 6265 206f 6e20 6120 7369 6e67 6c65 206c  be on a single l
+00013ca0: 696e 652e 2049 6620 796f 7520 7761 6e74  ine. If you want
+00013cb0: 2074 6f20 7465 7374 2061 2073 7472 696e   to test a strin
+00013cc0: 6720 7468 6174 2073 7061 6e73 206d 756c  g that spans mul
+00013cd0: 7469 706c 650a 2020 2020 2020 2020 6c69  tiple.        li
+00013ce0: 6e65 732c 2063 7265 6174 6520 6120 7465  nes, create a te
+00013cf0: 7374 206c 696b 6520 7468 6973 3a3a 0a0a  st like this::..
+00013d00: 2020 2020 2020 2020 2020 2020 6578 7072              expr
+00013d10: 2e72 756e 5f74 6573 7473 2872 2274 6869  .run_tests(r"thi
+00013d20: 7320 6973 2061 2074 6573 745c 5c6e 206f  s is a test\\n o
+00013d30: 6620 7374 7269 6e67 7320 7468 6174 2073  f strings that s
+00013d40: 7061 6e73 205c 5c6e 2033 206c 696e 6573  pans \\n 3 lines
+00013d50: 2229 0a0a 2020 2020 2020 2020 284e 6f74  ")..        (Not
+00013d60: 6520 7468 6174 2074 6869 7320 6973 2061  e that this is a
+00013d70: 2072 6177 2073 7472 696e 6720 6c69 7465   raw string lite
+00013d80: 7261 6c2c 2079 6f75 206d 7573 7420 696e  ral, you must in
+00013d90: 636c 7564 6520 7468 6520 6c65 6164 696e  clude the leadin
+00013da0: 6720 6060 2772 2760 602e 290a 2020 2020  g ``'r'``.).    
+00013db0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00013dc0: 6672 6f6d 202e 7465 7374 696e 6720 696d  from .testing im
+00013dd0: 706f 7274 2070 7970 6172 7369 6e67 5f74  port pyparsing_t
+00013de0: 6573 740a 0a20 2020 2020 2020 2070 6172  est..        par
+00013df0: 7365 416c 6c20 3d20 7061 7273 6541 6c6c  seAll = parseAll
+00013e00: 2061 6e64 2070 6172 7365 5f61 6c6c 0a20   and parse_all. 
+00013e10: 2020 2020 2020 2066 756c 6c44 756d 7020         fullDump 
+00013e20: 3d20 6675 6c6c 4475 6d70 2061 6e64 2066  = fullDump and f
+00013e30: 756c 6c5f 6475 6d70 0a20 2020 2020 2020  ull_dump.       
+00013e40: 2070 7269 6e74 5265 7375 6c74 7320 3d20   printResults = 
+00013e50: 7072 696e 7452 6573 756c 7473 2061 6e64  printResults and
+00013e60: 2070 7269 6e74 5f72 6573 756c 7473 0a20   print_results. 
+00013e70: 2020 2020 2020 2066 6169 6c75 7265 5465         failureTe
+00013e80: 7374 7320 3d20 6661 696c 7572 6554 6573  sts = failureTes
+00013e90: 7473 206f 7220 6661 696c 7572 655f 7465  ts or failure_te
+00013ea0: 7374 730a 2020 2020 2020 2020 706f 7374  sts.        post
+00013eb0: 5061 7273 6520 3d20 706f 7374 5061 7273  Parse = postPars
+00013ec0: 6520 6f72 2070 6f73 745f 7061 7273 650a  e or post_parse.
+00013ed0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00013ee0: 7461 6e63 6528 7465 7374 732c 2073 7472  tance(tests, str
+00013ef0: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
+00013f00: 2020 2020 7465 7374 7320 3d20 7479 7069      tests = typi
+00013f10: 6e67 2e63 6173 7428 7374 722c 2074 6573  ng.cast(str, tes
+00013f20: 7473 290a 2020 2020 2020 2020 2020 2020  ts).            
+00013f30: 6c69 6e65 5f73 7472 6970 203d 2074 7970  line_strip = typ
+00013f40: 6528 7465 7374 7329 2e73 7472 6970 0a20  e(tests).strip. 
+00013f50: 2020 2020 2020 2020 2020 2074 6573 7473             tests
+00013f60: 203d 205b 6c69 6e65 5f73 7472 6970 2874   = [line_strip(t
+00013f70: 6573 745f 6c69 6e65 2920 666f 7220 7465  est_line) for te
+00013f80: 7374 5f6c 696e 6520 696e 2074 6573 7473  st_line in tests
+00013f90: 2e72 7374 7269 7028 292e 7370 6c69 746c  .rstrip().splitl
+00013fa0: 696e 6573 2829 5d0a 2020 2020 2020 2020  ines()].        
+00013fb0: 636f 6d6d 656e 745f 7370 6563 6966 6965  comment_specifie
+00013fc0: 6420 3d20 636f 6d6d 656e 7420 6973 206e  d = comment is n
+00013fd0: 6f74 204e 6f6e 650a 2020 2020 2020 2020  ot None.        
+00013fe0: 6966 2063 6f6d 6d65 6e74 5f73 7065 6369  if comment_speci
+00013ff0: 6669 6564 3a0a 2020 2020 2020 2020 2020  fied:.          
+00014000: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+00014010: 636f 6d6d 656e 742c 2073 7472 5f74 7970  comment, str_typ
+00014020: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+00014030: 2020 2020 636f 6d6d 656e 7420 3d20 7479      comment = ty
+00014040: 7069 6e67 2e63 6173 7428 7374 722c 2063  ping.cast(str, c
+00014050: 6f6d 6d65 6e74 290a 2020 2020 2020 2020  omment).        
+00014060: 2020 2020 2020 2020 636f 6d6d 656e 7420          comment 
+00014070: 3d20 4c69 7465 7261 6c28 636f 6d6d 656e  = Literal(commen
+00014080: 7429 0a20 2020 2020 2020 2063 6f6d 6d65  t).        comme
+00014090: 6e74 203d 2074 7970 696e 672e 6361 7374  nt = typing.cast
+000140a0: 2850 6172 7365 7245 6c65 6d65 6e74 2c20  (ParserElement, 
+000140b0: 636f 6d6d 656e 7429 0a20 2020 2020 2020  comment).       
+000140c0: 2069 6620 6669 6c65 2069 7320 4e6f 6e65   if file is None
+000140d0: 3a0a 2020 2020 2020 2020 2020 2020 6669  :.            fi
+000140e0: 6c65 203d 2073 7973 2e73 7464 6f75 740a  le = sys.stdout.
+000140f0: 2020 2020 2020 2020 7072 696e 745f 203d          print_ =
+00014100: 2066 696c 652e 7772 6974 650a 0a20 2020   file.write..   
+00014110: 2020 2020 2072 6573 756c 743a 2055 6e69       result: Uni
+00014120: 6f6e 5b50 6172 7365 5265 7375 6c74 732c  on[ParseResults,
+00014130: 2045 7863 6570 7469 6f6e 5d0a 2020 2020   Exception].    
+00014140: 2020 2020 616c 6c52 6573 756c 7473 3a20      allResults: 
+00014150: 4c69 7374 5b54 7570 6c65 5b73 7472 2c20  List[Tuple[str, 
+00014160: 556e 696f 6e5b 5061 7273 6552 6573 756c  Union[ParseResul
+00014170: 7473 2c20 4578 6365 7074 696f 6e5d 5d5d  ts, Exception]]]
+00014180: 203d 205b 5d0a 2020 2020 2020 2020 636f   = [].        co
+00014190: 6d6d 656e 7473 3a20 4c69 7374 5b73 7472  mments: List[str
+000141a0: 5d20 3d20 5b5d 0a20 2020 2020 2020 2073  ] = [].        s
+000141b0: 7563 6365 7373 203d 2054 7275 650a 2020  uccess = True.  
+000141c0: 2020 2020 2020 4e4c 203d 204c 6974 6572        NL = Liter
+000141d0: 616c 2872 225c 6e22 292e 6164 645f 7061  al(r"\n").add_pa
+000141e0: 7273 655f 6163 7469 6f6e 2872 6570 6c61  rse_action(repla
+000141f0: 6365 5f77 6974 6828 225c 6e22 2929 2e69  ce_with("\n")).i
+00014200: 676e 6f72 6528 7175 6f74 6564 5f73 7472  gnore(quoted_str
+00014210: 696e 6729 0a20 2020 2020 2020 2042 4f4d  ing).        BOM
+00014220: 203d 2022 5c75 6665 6666 220a 2020 2020   = "\ufeff".    
+00014230: 2020 2020 666f 7220 7420 696e 2074 6573      for t in tes
+00014240: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
+00014250: 6966 2063 6f6d 6d65 6e74 5f73 7065 6369  if comment_speci
+00014260: 6669 6564 2061 6e64 2063 6f6d 6d65 6e74  fied and comment
+00014270: 2e6d 6174 6368 6573 2874 2c20 4661 6c73  .matches(t, Fals
+00014280: 6529 206f 7220 636f 6d6d 656e 7473 2061  e) or comments a
+00014290: 6e64 206e 6f74 2074 3a0a 2020 2020 2020  nd not t:.      
+000142a0: 2020 2020 2020 2020 2020 636f 6d6d 656e            commen
+000142b0: 7473 2e61 7070 656e 6428 0a20 2020 2020  ts.append(.     
+000142c0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+000142d0: 7970 6172 7369 6e67 5f74 6573 742e 7769  yparsing_test.wi
+000142e0: 7468 5f6c 696e 655f 6e75 6d62 6572 7328  th_line_numbers(
+000142f0: 7429 2069 6620 7769 7468 5f6c 696e 655f  t) if with_line_
+00014300: 6e75 6d62 6572 7320 656c 7365 2074 0a20  numbers else t. 
+00014310: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00014320: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014330: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+00014340: 2020 2020 2020 6966 206e 6f74 2074 3a0a        if not t:.
+00014350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014360: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
+00014370: 2020 2020 206f 7574 203d 205b 0a20 2020       out = [.   
+00014380: 2020 2020 2020 2020 2020 2020 2022 5c6e               "\n
+00014390: 2220 2b20 225c 6e22 2e6a 6f69 6e28 636f  " + "\n".join(co
+000143a0: 6d6d 656e 7473 2920 6966 2063 6f6d 6d65  mments) if comme
+000143b0: 6e74 7320 656c 7365 2022 222c 0a20 2020  nts else "",.   
+000143c0: 2020 2020 2020 2020 2020 2020 2070 7970               pyp
+000143d0: 6172 7369 6e67 5f74 6573 742e 7769 7468  arsing_test.with
+000143e0: 5f6c 696e 655f 6e75 6d62 6572 7328 7429  _line_numbers(t)
+000143f0: 2069 6620 7769 7468 5f6c 696e 655f 6e75   if with_line_nu
+00014400: 6d62 6572 7320 656c 7365 2074 2c0a 2020  mbers else t,.  
+00014410: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
+00014420: 2020 2020 2020 2020 636f 6d6d 656e 7473          comments
+00014430: 203d 205b 5d0a 2020 2020 2020 2020 2020   = [].          
+00014440: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00014450: 2020 2020 2020 2023 2063 6f6e 7665 7274         # convert
+00014460: 206e 6577 6c69 6e65 206d 6172 6b73 2074   newline marks t
+00014470: 6f20 6163 7475 616c 206e 6577 6c69 6e65  o actual newline
+00014480: 732c 2061 6e64 2073 7472 6970 206c 6561  s, and strip lea
+00014490: 6469 6e67 2042 4f4d 2069 6620 7072 6573  ding BOM if pres
+000144a0: 656e 740a 2020 2020 2020 2020 2020 2020  ent.            
+000144b0: 2020 2020 7420 3d20 4e4c 2e74 7261 6e73      t = NL.trans
+000144c0: 666f 726d 5f73 7472 696e 6728 742e 6c73  form_string(t.ls
+000144d0: 7472 6970 2842 4f4d 2929 0a20 2020 2020  trip(BOM)).     
+000144e0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+000144f0: 7420 3d20 7365 6c66 2e70 6172 7365 5f73  t = self.parse_s
+00014500: 7472 696e 6728 742c 2070 6172 7365 5f61  tring(t, parse_a
+00014510: 6c6c 3d70 6172 7365 416c 6c29 0a20 2020  ll=parseAll).   
+00014520: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+00014530: 5061 7273 6542 6173 6545 7863 6570 7469  ParseBaseExcepti
+00014540: 6f6e 2061 7320 7065 3a0a 2020 2020 2020  on as pe:.      
+00014550: 2020 2020 2020 2020 2020 6661 7461 6c20            fatal 
+00014560: 3d20 2228 4641 5441 4c29 2220 6966 2069  = "(FATAL)" if i
+00014570: 7369 6e73 7461 6e63 6528 7065 2c20 5061  sinstance(pe, Pa
+00014580: 7273 6546 6174 616c 4578 6365 7074 696f  rseFatalExceptio
+00014590: 6e29 2065 6c73 6520 2222 0a20 2020 2020  n) else "".     
+000145a0: 2020 2020 2020 2020 2020 206f 7574 2e61             out.a
+000145b0: 7070 656e 6428 7065 2e65 7870 6c61 696e  ppend(pe.explain
+000145c0: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
+000145d0: 2020 2020 6f75 742e 6170 7065 6e64 2822      out.append("
+000145e0: 4641 494c 3a20 2220 2b20 7374 7228 7065  FAIL: " + str(pe
+000145f0: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00014600: 2020 2069 6620 5061 7273 6572 456c 656d     if ParserElem
+00014610: 656e 742e 7665 7262 6f73 655f 7374 6163  ent.verbose_stac
+00014620: 6b74 7261 6365 3a0a 2020 2020 2020 2020  ktrace:.        
+00014630: 2020 2020 2020 2020 2020 2020 6f75 742e              out.
+00014640: 6578 7465 6e64 2874 7261 6365 6261 636b  extend(traceback
+00014650: 2e66 6f72 6d61 745f 7462 2870 652e 5f5f  .format_tb(pe.__
+00014660: 7472 6163 6562 6163 6b5f 5f29 290a 2020  traceback__)).  
+00014670: 2020 2020 2020 2020 2020 2020 2020 7375                su
+00014680: 6363 6573 7320 3d20 7375 6363 6573 7320  ccess = success 
+00014690: 616e 6420 6661 696c 7572 6554 6573 7473  and failureTests
+000146a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000146b0: 2072 6573 756c 7420 3d20 7065 0a20 2020   result = pe.   
+000146c0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+000146d0: 4578 6365 7074 696f 6e20 6173 2065 7863  Exception as exc
+000146e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000146f0: 2020 6f75 742e 6170 7065 6e64 2866 2246    out.append(f"F
+00014700: 4149 4c2d 4558 4345 5054 494f 4e3a 207b  AIL-EXCEPTION: {
+00014710: 7479 7065 2865 7863 292e 5f5f 6e61 6d65  type(exc).__name
+00014720: 5f5f 7d3a 207b 6578 637d 2229 0a20 2020  __}: {exc}").   
+00014730: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00014740: 5061 7273 6572 456c 656d 656e 742e 7665  ParserElement.ve
+00014750: 7262 6f73 655f 7374 6163 6b74 7261 6365  rbose_stacktrace
+00014760: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00014770: 2020 2020 2020 6f75 742e 6578 7465 6e64        out.extend
+00014780: 2874 7261 6365 6261 636b 2e66 6f72 6d61  (traceback.forma
+00014790: 745f 7462 2865 7863 2e5f 5f74 7261 6365  t_tb(exc.__trace
+000147a0: 6261 636b 5f5f 2929 0a20 2020 2020 2020  back__)).       
+000147b0: 2020 2020 2020 2020 2073 7563 6365 7373           success
+000147c0: 203d 2073 7563 6365 7373 2061 6e64 2066   = success and f
+000147d0: 6169 6c75 7265 5465 7374 730a 2020 2020  ailureTests.    
+000147e0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+000147f0: 6c74 203d 2065 7863 0a20 2020 2020 2020  lt = exc.       
+00014800: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00014810: 2020 2020 2020 2020 2020 2073 7563 6365             succe
+00014820: 7373 203d 2073 7563 6365 7373 2061 6e64  ss = success and
+00014830: 206e 6f74 2066 6169 6c75 7265 5465 7374   not failureTest
+00014840: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+00014850: 2020 6966 2070 6f73 7450 6172 7365 2069    if postParse i
+00014860: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00014870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014880: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00014890: 2020 2020 2020 2020 2020 2020 2070 705f               pp_
+000148a0: 7661 6c75 6520 3d20 706f 7374 5061 7273  value = postPars
+000148b0: 6528 742c 2072 6573 756c 7429 0a20 2020  e(t, result).   
+000148c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000148d0: 2020 2020 2069 6620 7070 5f76 616c 7565       if pp_value
+000148e0: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+000148f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014900: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
+00014910: 6e73 7461 6e63 6528 7070 5f76 616c 7565  nstance(pp_value
+00014920: 2c20 5061 7273 6552 6573 756c 7473 293a  , ParseResults):
+00014930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014950: 206f 7574 2e61 7070 656e 6428 7070 5f76   out.append(pp_v
+00014960: 616c 7565 2e64 756d 7028 2929 0a20 2020  alue.dump()).   
+00014970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014980: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00014990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000149a0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+000149b0: 7574 2e61 7070 656e 6428 7374 7228 7070  ut.append(str(pp
+000149c0: 5f76 616c 7565 2929 0a20 2020 2020 2020  _value)).       
 000149d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000149e0: 2020 2020 2066 227b 706f 7374 5061 7273       f"{postPars
-000149f0: 652e 5f5f 6e61 6d65 5f5f 7d20 6661 696c  e.__name__} fail
-00014a00: 6564 3a20 7b74 7970 6528 6529 2e5f 5f6e  ed: {type(e).__n
-00014a10: 616d 655f 5f7d 3a20 7b65 7d22 0a20 2020  ame__}: {e}".   
+000149e0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000149f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014a00: 2020 206f 7574 2e61 7070 656e 6428 7265     out.append(re
+00014a10: 7375 6c74 2e64 756d 7028 2929 0a20 2020  sult.dump()).   
 00014a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014a30: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-00014a40: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00014a30: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+00014a40: 6e20 6173 2065 3a0a 2020 2020 2020 2020  n as e:.        
 00014a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014a60: 206f 7574 2e61 7070 656e 6428 7265 7375   out.append(resu
-00014a70: 6c74 2e64 756d 7028 6675 6c6c 3d66 756c  lt.dump(full=ful
-00014a80: 6c44 756d 7029 290a 2020 2020 2020 2020  lDump)).        
-00014a90: 2020 2020 6f75 742e 6170 7065 6e64 2822      out.append("
-00014aa0: 2229 0a0a 2020 2020 2020 2020 2020 2020  ")..            
-00014ab0: 6966 2070 7269 6e74 5265 7375 6c74 733a  if printResults:
-00014ac0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014ad0: 2070 7269 6e74 5f28 225c 6e22 2e6a 6f69   print_("\n".joi
-00014ae0: 6e28 6f75 7429 290a 0a20 2020 2020 2020  n(out))..       
-00014af0: 2020 2020 2061 6c6c 5265 7375 6c74 732e       allResults.
-00014b00: 6170 7065 6e64 2828 742c 2072 6573 756c  append((t, resul
-00014b10: 7429 290a 0a20 2020 2020 2020 2072 6574  t))..        ret
-00014b20: 7572 6e20 7375 6363 6573 732c 2061 6c6c  urn success, all
-00014b30: 5265 7375 6c74 730a 0a20 2020 2064 6566  Results..    def
-00014b40: 2063 7265 6174 655f 6469 6167 7261 6d28   create_diagram(
-00014b50: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-00014b60: 2020 2020 2020 206f 7574 7075 745f 6874         output_ht
-00014b70: 6d6c 3a20 556e 696f 6e5b 5465 7874 494f  ml: Union[TextIO
-00014b80: 2c20 5061 7468 2c20 7374 725d 2c0a 2020  , Path, str],.  
-00014b90: 2020 2020 2020 7665 7274 6963 616c 3a20        vertical: 
-00014ba0: 696e 7420 3d20 332c 0a20 2020 2020 2020  int = 3,.       
-00014bb0: 2073 686f 775f 7265 7375 6c74 735f 6e61   show_results_na
-00014bc0: 6d65 733a 2062 6f6f 6c20 3d20 4661 6c73  mes: bool = Fals
-00014bd0: 652c 0a20 2020 2020 2020 2073 686f 775f  e,.        show_
-00014be0: 6772 6f75 7073 3a20 626f 6f6c 203d 2046  groups: bool = F
-00014bf0: 616c 7365 2c0a 2020 2020 2020 2020 656d  alse,.        em
-00014c00: 6265 643a 2062 6f6f 6c20 3d20 4661 6c73  bed: bool = Fals
-00014c10: 652c 0a20 2020 2020 2020 202a 2a6b 7761  e,.        **kwa
-00014c20: 7267 732c 0a20 2020 2029 202d 3e20 4e6f  rgs,.    ) -> No
-00014c30: 6e65 3a0a 2020 2020 2020 2020 2222 220a  ne:.        """.
-00014c40: 2020 2020 2020 2020 4372 6561 7465 2061          Create a
-00014c50: 2072 6169 6c72 6f61 6420 6469 6167 7261   railroad diagra
-00014c60: 6d20 666f 7220 7468 6520 7061 7273 6572  m for the parser
-00014c70: 2e0a 0a20 2020 2020 2020 2050 6172 616d  ...        Param
-00014c80: 6574 6572 733a 0a0a 2020 2020 2020 2020  eters:..        
-00014c90: 2d20 6060 6f75 7470 7574 5f68 746d 6c60  - ``output_html`
-00014ca0: 6020 2873 7472 206f 7220 6669 6c65 2d6c  ` (str or file-l
-00014cb0: 696b 6520 6f62 6a65 6374 2920 2d20 6f75  ike object) - ou
-00014cc0: 7470 7574 2074 6172 6765 7420 666f 7220  tput target for 
-00014cd0: 6765 6e65 7261 7465 640a 2020 2020 2020  generated.      
-00014ce0: 2020 2020 6469 6167 7261 6d20 4854 4d4c      diagram HTML
-00014cf0: 0a20 2020 2020 2020 202d 2060 6076 6572  .        - ``ver
-00014d00: 7469 6361 6c60 6020 2869 6e74 2920 2d20  tical`` (int) - 
-00014d10: 7468 7265 7368 6f6c 6420 666f 7220 666f  threshold for fo
-00014d20: 726d 6174 7469 6e67 206d 756c 7469 706c  rmatting multipl
-00014d30: 6520 616c 7465 726e 6174 6976 6573 2076  e alternatives v
-00014d40: 6572 7469 6361 6c6c 790a 2020 2020 2020  ertically.      
-00014d50: 2020 2020 696e 7374 6561 6420 6f66 2068      instead of h
-00014d60: 6f72 697a 6f6e 7461 6c6c 7920 2864 6566  orizontally (def
-00014d70: 6175 6c74 3d33 290a 2020 2020 2020 2020  ault=3).        
-00014d80: 2d20 6060 7368 6f77 5f72 6573 756c 7473  - ``show_results
-00014d90: 5f6e 616d 6573 6060 202d 2062 6f6f 6c20  _names`` - bool 
-00014da0: 666c 6167 2077 6865 7468 6572 2064 6961  flag whether dia
-00014db0: 6772 616d 2073 686f 756c 6420 7368 6f77  gram should show
-00014dc0: 2061 6e6e 6f74 6174 696f 6e73 2066 6f72   annotations for
-00014dd0: 0a20 2020 2020 2020 2020 2064 6566 696e  .          defin
-00014de0: 6564 2072 6573 756c 7473 206e 616d 6573  ed results names
-00014df0: 0a20 2020 2020 2020 202d 2060 6073 686f  .        - ``sho
-00014e00: 775f 6772 6f75 7073 6060 202d 2062 6f6f  w_groups`` - boo
-00014e10: 6c20 666c 6167 2077 6865 7468 6572 2067  l flag whether g
-00014e20: 726f 7570 7320 7368 6f75 6c64 2062 6520  roups should be 
-00014e30: 6869 6768 6c69 6768 7465 6420 7769 7468  highlighted with
-00014e40: 2061 6e20 756e 6c61 6265 6c65 6420 7375   an unlabeled su
-00014e50: 7272 6f75 6e64 696e 6720 626f 780a 2020  rrounding box.  
-00014e60: 2020 2020 2020 2d20 6060 656d 6265 6460        - ``embed`
-00014e70: 6020 2d20 626f 6f6c 2066 6c61 6720 7768  ` - bool flag wh
-00014e80: 6574 6865 7220 6765 6e65 7261 7465 6420  ether generated 
-00014e90: 4854 4d4c 2073 686f 756c 6420 6f6d 6974  HTML should omit
-00014ea0: 203c 4845 4144 3e2c 203c 424f 4459 3e2c   <HEAD>, <BODY>,
-00014eb0: 2061 6e64 203c 444f 4354 5950 453e 2074   and <DOCTYPE> t
-00014ec0: 6167 7320 746f 2065 6d62 6564 0a20 2020  ags to embed.   
-00014ed0: 2020 2020 2020 2074 6865 2072 6573 756c         the resul
-00014ee0: 7469 6e67 2048 544d 4c20 696e 2061 6e20  ting HTML in an 
-00014ef0: 656e 636c 6f73 696e 6720 4854 4d4c 2073  enclosing HTML s
-00014f00: 6f75 7263 650a 2020 2020 2020 2020 2d20  ource.        - 
-00014f10: 6060 6865 6164 6060 202d 2073 7472 2063  ``head`` - str c
-00014f20: 6f6e 7461 696e 696e 6720 6164 6469 7469  ontaining additi
-00014f30: 6f6e 616c 2048 544d 4c20 746f 2069 6e73  onal HTML to ins
-00014f40: 6572 7420 696e 746f 2074 6865 203c 4845  ert into the <HE
-00014f50: 4144 3e20 7365 6374 696f 6e20 6f66 2074  AD> section of t
-00014f60: 6865 2067 656e 6572 6174 6564 2063 6f64  he generated cod
-00014f70: 653b 0a20 2020 2020 2020 2020 2063 616e  e;.          can
-00014f80: 2062 6520 7573 6564 2074 6f20 696e 7365   be used to inse
-00014f90: 7274 2063 7573 746f 6d20 4353 5320 7374  rt custom CSS st
-00014fa0: 796c 696e 670a 2020 2020 2020 2020 2d20  yling.        - 
-00014fb0: 6060 626f 6479 6060 202d 2073 7472 2063  ``body`` - str c
-00014fc0: 6f6e 7461 696e 696e 6720 6164 6469 7469  ontaining additi
-00014fd0: 6f6e 616c 2048 544d 4c20 746f 2069 6e73  onal HTML to ins
-00014fe0: 6572 7420 6174 2074 6865 2062 6567 696e  ert at the begin
-00014ff0: 6e69 6e67 206f 6620 7468 6520 3c42 4f44  ning of the <BOD
-00015000: 593e 2073 6563 7469 6f6e 206f 6620 7468  Y> section of th
-00015010: 650a 2020 2020 2020 2020 2020 6765 6e65  e.          gene
-00015020: 7261 7465 6420 636f 6465 0a0a 2020 2020  rated code..    
-00015030: 2020 2020 4164 6469 7469 6f6e 616c 2064      Additional d
-00015040: 6961 6772 616d 2d66 6f72 6d61 7474 696e  iagram-formattin
-00015050: 6720 6b65 7977 6f72 6420 6172 6775 6d65  g keyword argume
-00015060: 6e74 7320 6361 6e20 616c 736f 2062 6520  nts can also be 
-00015070: 696e 636c 7564 6564 3b0a 2020 2020 2020  included;.      
-00015080: 2020 7365 6520 7261 696c 726f 6164 2e44    see railroad.D
-00015090: 6961 6772 616d 2063 6c61 7373 2e0a 2020  iagram class..  
-000150a0: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-000150b0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-000150c0: 2020 2020 6672 6f6d 202e 6469 6167 7261      from .diagra
-000150d0: 6d20 696d 706f 7274 2074 6f5f 7261 696c  m import to_rail
-000150e0: 726f 6164 2c20 7261 696c 726f 6164 5f74  road, railroad_t
-000150f0: 6f5f 6874 6d6c 0a20 2020 2020 2020 2065  o_html.        e
-00015100: 7863 6570 7420 496d 706f 7274 4572 726f  xcept ImportErro
-00015110: 7220 6173 2069 653a 0a20 2020 2020 2020  r as ie:.       
-00015120: 2020 2020 2072 6169 7365 2045 7863 6570       raise Excep
-00015130: 7469 6f6e 280a 2020 2020 2020 2020 2020  tion(.          
-00015140: 2020 2020 2020 226d 7573 7420 6060 7069        "must ``pi
-00015150: 7020 696e 7374 616c 6c20 7079 7061 7273  p install pypars
-00015160: 696e 675b 6469 6167 7261 6d73 5d60 6020  ing[diagrams]`` 
-00015170: 746f 2067 656e 6572 6174 6520 7061 7273  to generate pars
-00015180: 6572 2072 6169 6c72 6f61 6420 6469 6167  er railroad diag
-00015190: 7261 6d73 220a 2020 2020 2020 2020 2020  rams".          
-000151a0: 2020 2920 6672 6f6d 2069 650a 0a20 2020    ) from ie..   
-000151b0: 2020 2020 2073 656c 662e 7374 7265 616d       self.stream
-000151c0: 6c69 6e65 2829 0a0a 2020 2020 2020 2020  line()..        
-000151d0: 7261 696c 726f 6164 203d 2074 6f5f 7261  railroad = to_ra
-000151e0: 696c 726f 6164 280a 2020 2020 2020 2020  ilroad(.        
-000151f0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00015200: 2020 2020 2020 7665 7274 6963 616c 3d76        vertical=v
-00015210: 6572 7469 6361 6c2c 0a20 2020 2020 2020  ertical,.       
-00015220: 2020 2020 2073 686f 775f 7265 7375 6c74       show_result
-00015230: 735f 6e61 6d65 733d 7368 6f77 5f72 6573  s_names=show_res
-00015240: 756c 7473 5f6e 616d 6573 2c0a 2020 2020  ults_names,.    
-00015250: 2020 2020 2020 2020 7368 6f77 5f67 726f          show_gro
-00015260: 7570 733d 7368 6f77 5f67 726f 7570 732c  ups=show_groups,
-00015270: 0a20 2020 2020 2020 2020 2020 2064 6961  .            dia
-00015280: 6772 616d 5f6b 7761 7267 733d 6b77 6172  gram_kwargs=kwar
-00015290: 6773 2c0a 2020 2020 2020 2020 290a 2020  gs,.        ).  
-000152a0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-000152b0: 6e63 6528 6f75 7470 7574 5f68 746d 6c2c  nce(output_html,
-000152c0: 2028 7374 722c 2050 6174 6829 293a 0a20   (str, Path)):. 
-000152d0: 2020 2020 2020 2020 2020 2077 6974 6820             with 
-000152e0: 6f70 656e 286f 7574 7075 745f 6874 6d6c  open(output_html
-000152f0: 2c20 2277 222c 2065 6e63 6f64 696e 673d  , "w", encoding=
-00015300: 2275 7466 2d38 2229 2061 7320 6469 6167  "utf-8") as diag
-00015310: 5f66 696c 653a 0a20 2020 2020 2020 2020  _file:.         
-00015320: 2020 2020 2020 2064 6961 675f 6669 6c65         diag_file
-00015330: 2e77 7269 7465 2872 6169 6c72 6f61 645f  .write(railroad_
-00015340: 746f 5f68 746d 6c28 7261 696c 726f 6164  to_html(railroad
-00015350: 2c20 656d 6265 643d 656d 6265 642c 202a  , embed=embed, *
-00015360: 2a6b 7761 7267 7329 290a 2020 2020 2020  *kwargs)).      
-00015370: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00015380: 2020 2020 2320 7765 2077 6572 6520 7061      # we were pa
-00015390: 7373 6564 2061 2066 696c 652d 6c69 6b65  ssed a file-like
-000153a0: 206f 626a 6563 742c 206a 7573 7420 7772   object, just wr
-000153b0: 6974 6520 746f 2069 740a 2020 2020 2020  ite to it.      
-000153c0: 2020 2020 2020 6f75 7470 7574 5f68 746d        output_htm
-000153d0: 6c2e 7772 6974 6528 7261 696c 726f 6164  l.write(railroad
-000153e0: 5f74 6f5f 6874 6d6c 2872 6169 6c72 6f61  _to_html(railroa
-000153f0: 642c 2065 6d62 6564 3d65 6d62 6564 2c20  d, embed=embed, 
-00015400: 2a2a 6b77 6172 6773 2929 0a0a 2020 2020  **kwargs))..    
-00015410: 2320 436f 6d70 6174 6962 696c 6974 7920  # Compatibility 
-00015420: 7379 6e6f 6e79 6d73 0a20 2020 2023 2066  synonyms.    # f
-00015430: 6d74 3a20 6f66 660a 2020 2020 4073 7461  mt: off.    @sta
-00015440: 7469 636d 6574 686f 640a 2020 2020 4072  ticmethod.    @r
-00015450: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
-00015460: 696e 6c69 6e65 5f6c 6974 6572 616c 735f  inline_literals_
-00015470: 7573 696e 6729 0a20 2020 2064 6566 2069  using).    def i
-00015480: 6e6c 696e 654c 6974 6572 616c 7355 7369  nlineLiteralsUsi
-00015490: 6e67 2829 3a20 2e2e 2e0a 0a20 2020 2040  ng(): .....    @
-000154a0: 7374 6174 6963 6d65 7468 6f64 0a20 2020  staticmethod.   
-000154b0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
-000154c0: 7038 2873 6574 5f64 6566 6175 6c74 5f77  p8(set_default_w
-000154d0: 6869 7465 7370 6163 655f 6368 6172 7329  hitespace_chars)
-000154e0: 0a20 2020 2064 6566 2073 6574 4465 6661  .    def setDefa
-000154f0: 756c 7457 6869 7465 7370 6163 6543 6861  ultWhitespaceCha
-00015500: 7273 2829 3a20 2e2e 2e0a 0a20 2020 2040  rs(): .....    @
-00015510: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
-00015520: 2873 6574 5f72 6573 756c 7473 5f6e 616d  (set_results_nam
-00015530: 6529 0a20 2020 2064 6566 2073 6574 5265  e).    def setRe
-00015540: 7375 6c74 734e 616d 6528 7365 6c66 293a  sultsName(self):
-00015550: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
-00015560: 6365 645f 6279 5f70 6570 3828 7365 745f  ced_by_pep8(set_
-00015570: 6272 6561 6b29 0a20 2020 2064 6566 2073  break).    def s
-00015580: 6574 4272 6561 6b28 7365 6c66 293a 202e  etBreak(self): .
-00015590: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
-000155a0: 645f 6279 5f70 6570 3828 7365 745f 7061  d_by_pep8(set_pa
-000155b0: 7273 655f 6163 7469 6f6e 290a 2020 2020  rse_action).    
-000155c0: 6465 6620 7365 7450 6172 7365 4163 7469  def setParseActi
-000155d0: 6f6e 2873 656c 6629 3a20 2e2e 2e0a 0a20  on(self): ..... 
-000155e0: 2020 2040 7265 706c 6163 6564 5f62 795f     @replaced_by_
-000155f0: 7065 7038 2861 6464 5f70 6172 7365 5f61  pep8(add_parse_a
-00015600: 6374 696f 6e29 0a20 2020 2064 6566 2061  ction).    def a
-00015610: 6464 5061 7273 6541 6374 696f 6e28 7365  ddParseAction(se
-00015620: 6c66 293a 202e 2e2e 0a0a 2020 2020 4072  lf): .....    @r
-00015630: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
-00015640: 6164 645f 636f 6e64 6974 696f 6e29 0a20  add_condition). 
-00015650: 2020 2064 6566 2061 6464 436f 6e64 6974     def addCondit
-00015660: 696f 6e28 7365 6c66 293a 202e 2e2e 0a0a  ion(self): .....
-00015670: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
-00015680: 5f70 6570 3828 7365 745f 6661 696c 5f61  _pep8(set_fail_a
-00015690: 6374 696f 6e29 0a20 2020 2064 6566 2073  ction).    def s
-000156a0: 6574 4661 696c 4163 7469 6f6e 2873 656c  etFailAction(sel
-000156b0: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7265  f): .....    @re
-000156c0: 706c 6163 6564 5f62 795f 7065 7038 2874  placed_by_pep8(t
-000156d0: 7279 5f70 6172 7365 290a 2020 2020 6465  ry_parse).    de
-000156e0: 6620 7472 7950 6172 7365 2873 656c 6629  f tryParse(self)
-000156f0: 3a20 2e2e 2e0a 0a20 2020 2040 7374 6174  : .....    @stat
-00015700: 6963 6d65 7468 6f64 0a20 2020 2040 7265  icmethod.    @re
-00015710: 706c 6163 6564 5f62 795f 7065 7038 2865  placed_by_pep8(e
-00015720: 6e61 626c 655f 6c65 6674 5f72 6563 7572  nable_left_recur
-00015730: 7369 6f6e 290a 2020 2020 6465 6620 656e  sion).    def en
-00015740: 6162 6c65 4c65 6674 5265 6375 7273 696f  ableLeftRecursio
-00015750: 6e28 293a 202e 2e2e 0a0a 2020 2020 4073  n(): .....    @s
-00015760: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
-00015770: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
-00015780: 3828 656e 6162 6c65 5f70 6163 6b72 6174  8(enable_packrat
-00015790: 290a 2020 2020 6465 6620 656e 6162 6c65  ).    def enable
-000157a0: 5061 636b 7261 7428 293a 202e 2e2e 0a0a  Packrat(): .....
-000157b0: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
-000157c0: 5f70 6570 3828 7061 7273 655f 7374 7269  _pep8(parse_stri
-000157d0: 6e67 290a 2020 2020 6465 6620 7061 7273  ng).    def pars
-000157e0: 6553 7472 696e 6728 7365 6c66 293a 202e  eString(self): .
-000157f0: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
-00015800: 645f 6279 5f70 6570 3828 7363 616e 5f73  d_by_pep8(scan_s
-00015810: 7472 696e 6729 0a20 2020 2064 6566 2073  tring).    def s
-00015820: 6361 6e53 7472 696e 6728 7365 6c66 293a  canString(self):
-00015830: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
-00015840: 6365 645f 6279 5f70 6570 3828 7472 616e  ced_by_pep8(tran
-00015850: 7366 6f72 6d5f 7374 7269 6e67 290a 2020  sform_string).  
-00015860: 2020 6465 6620 7472 616e 7366 6f72 6d53    def transformS
-00015870: 7472 696e 6728 7365 6c66 293a 202e 2e2e  tring(self): ...
-00015880: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
-00015890: 6279 5f70 6570 3828 7365 6172 6368 5f73  by_pep8(search_s
-000158a0: 7472 696e 6729 0a20 2020 2064 6566 2073  tring).    def s
-000158b0: 6561 7263 6853 7472 696e 6728 7365 6c66  earchString(self
-000158c0: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
-000158d0: 6c61 6365 645f 6279 5f70 6570 3828 6967  laced_by_pep8(ig
-000158e0: 6e6f 7265 5f77 6869 7465 7370 6163 6529  nore_whitespace)
-000158f0: 0a20 2020 2064 6566 2069 676e 6f72 6557  .    def ignoreW
-00015900: 6869 7465 7370 6163 6528 7365 6c66 293a  hitespace(self):
-00015910: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
-00015920: 6365 645f 6279 5f70 6570 3828 6c65 6176  ced_by_pep8(leav
-00015930: 655f 7768 6974 6573 7061 6365 290a 2020  e_whitespace).  
-00015940: 2020 6465 6620 6c65 6176 6557 6869 7465    def leaveWhite
-00015950: 7370 6163 6528 7365 6c66 293a 202e 2e2e  space(self): ...
-00015960: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
-00015970: 6279 5f70 6570 3828 7365 745f 7768 6974  by_pep8(set_whit
-00015980: 6573 7061 6365 5f63 6861 7273 290a 2020  espace_chars).  
-00015990: 2020 6465 6620 7365 7457 6869 7465 7370    def setWhitesp
-000159a0: 6163 6543 6861 7273 2873 656c 6629 3a20  aceChars(self): 
-000159b0: 2e2e 2e0a 0a20 2020 2040 7265 706c 6163  .....    @replac
-000159c0: 6564 5f62 795f 7065 7038 2870 6172 7365  ed_by_pep8(parse
-000159d0: 5f77 6974 685f 7461 6273 290a 2020 2020  _with_tabs).    
-000159e0: 6465 6620 7061 7273 6557 6974 6854 6162  def parseWithTab
-000159f0: 7328 7365 6c66 293a 202e 2e2e 0a0a 2020  s(self): .....  
-00015a00: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
-00015a10: 6570 3828 7365 745f 6465 6275 675f 6163  ep8(set_debug_ac
-00015a20: 7469 6f6e 7329 0a20 2020 2064 6566 2073  tions).    def s
-00015a30: 6574 4465 6275 6741 6374 696f 6e73 2873  etDebugActions(s
-00015a40: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
-00015a50: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
-00015a60: 2873 6574 5f64 6562 7567 290a 2020 2020  (set_debug).    
-00015a70: 6465 6620 7365 7444 6562 7567 2873 656c  def setDebug(sel
-00015a80: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7265  f): .....    @re
-00015a90: 706c 6163 6564 5f62 795f 7065 7038 2873  placed_by_pep8(s
-00015aa0: 6574 5f6e 616d 6529 0a20 2020 2064 6566  et_name).    def
-00015ab0: 2073 6574 4e61 6d65 2873 656c 6629 3a20   setName(self): 
-00015ac0: 2e2e 2e0a 0a20 2020 2040 7265 706c 6163  .....    @replac
-00015ad0: 6564 5f62 795f 7065 7038 2870 6172 7365  ed_by_pep8(parse
-00015ae0: 5f66 696c 6529 0a20 2020 2064 6566 2070  _file).    def p
-00015af0: 6172 7365 4669 6c65 2873 656c 6629 3a20  arseFile(self): 
-00015b00: 2e2e 2e0a 0a20 2020 2040 7265 706c 6163  .....    @replac
-00015b10: 6564 5f62 795f 7065 7038 2872 756e 5f74  ed_by_pep8(run_t
-00015b20: 6573 7473 290a 2020 2020 6465 6620 7275  ests).    def ru
-00015b30: 6e54 6573 7473 2873 656c 6629 3a20 2e2e  nTests(self): ..
-00015b40: 2e0a 0a20 2020 2063 616e 5061 7273 654e  ...    canParseN
-00015b50: 6578 7420 3d20 6361 6e5f 7061 7273 655f  ext = can_parse_
-00015b60: 6e65 7874 0a20 2020 2072 6573 6574 4361  next.    resetCa
-00015b70: 6368 6520 3d20 7265 7365 745f 6361 6368  che = reset_cach
-00015b80: 650a 2020 2020 6465 6661 756c 744e 616d  e.    defaultNam
-00015b90: 6520 3d20 6465 6661 756c 745f 6e61 6d65  e = default_name
-00015ba0: 0a20 2020 2023 2066 6d74 3a20 6f6e 0a0a  .    # fmt: on..
-00015bb0: 0a63 6c61 7373 205f 5065 6e64 696e 6753  .class _PendingS
-00015bc0: 6b69 7028 5061 7273 6572 456c 656d 656e  kip(ParserElemen
-00015bd0: 7429 3a0a 2020 2020 2320 696e 7465 726e  t):.    # intern
-00015be0: 616c 2070 6c61 6365 686f 6c64 6572 2063  al placeholder c
-00015bf0: 6c61 7373 2074 6f20 686f 6c64 2061 2070  lass to hold a p
-00015c00: 6c61 6365 2077 6572 6520 272e 2e2e 2720  lace were '...' 
-00015c10: 6973 2061 6464 6564 2074 6f20 6120 7061  is added to a pa
-00015c20: 7273 6572 2065 6c65 6d65 6e74 2c0a 2020  rser element,.  
-00015c30: 2020 2320 6f6e 6365 2061 6e6f 7468 6572    # once another
-00015c40: 2050 6172 7365 7245 6c65 6d65 6e74 2069   ParserElement i
-00015c50: 7320 6164 6465 642c 2074 6869 7320 706c  s added, this pl
-00015c60: 6163 6568 6f6c 6465 7220 7769 6c6c 2062  aceholder will b
-00015c70: 6520 7265 706c 6163 6564 2077 6974 6820  e replaced with 
-00015c80: 6120 536b 6970 546f 0a20 2020 2064 6566  a SkipTo.    def
-00015c90: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
-00015ca0: 6578 7072 3a20 5061 7273 6572 456c 656d  expr: ParserElem
-00015cb0: 656e 742c 206d 7573 745f 736b 6970 3a20  ent, must_skip: 
-00015cc0: 626f 6f6c 203d 2046 616c 7365 293a 0a20  bool = False):. 
-00015cd0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-00015ce0: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
-00015cf0: 2020 7365 6c66 2e61 6e63 686f 7220 3d20    self.anchor = 
-00015d00: 6578 7072 0a20 2020 2020 2020 2073 656c  expr.        sel
-00015d10: 662e 6d75 7374 5f73 6b69 7020 3d20 6d75  f.must_skip = mu
-00015d20: 7374 5f73 6b69 700a 0a20 2020 2064 6566  st_skip..    def
-00015d30: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
-00015d40: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
-00015d50: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
-00015d60: 726e 2073 7472 2873 656c 662e 616e 6368  rn str(self.anch
-00015d70: 6f72 202b 2045 6d70 7479 2829 292e 7265  or + Empty()).re
-00015d80: 706c 6163 6528 2245 6d70 7479 222c 2022  place("Empty", "
-00015d90: 2e2e 2e22 290a 0a20 2020 2064 6566 205f  ...")..    def _
-00015da0: 5f61 6464 5f5f 2873 656c 662c 206f 7468  _add__(self, oth
-00015db0: 6572 2920 2d3e 2022 5061 7273 6572 456c  er) -> "ParserEl
-00015dc0: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
-00015dd0: 736b 6970 7065 7220 3d20 536b 6970 546f  skipper = SkipTo
-00015de0: 286f 7468 6572 292e 7365 745f 6e61 6d65  (other).set_name
-00015df0: 2822 2e2e 2e22 2928 225f 736b 6970 7065  ("...")("_skippe
-00015e00: 642a 2229 0a20 2020 2020 2020 2069 6620  d*").        if 
-00015e10: 7365 6c66 2e6d 7573 745f 736b 6970 3a0a  self.must_skip:.
-00015e20: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-00015e30: 206d 7573 745f 736b 6970 2874 293a 0a20   must_skip(t):. 
-00015e40: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00015e50: 6620 6e6f 7420 742e 5f73 6b69 7070 6564  f not t._skipped
-00015e60: 206f 7220 742e 5f73 6b69 7070 6564 2e61   or t._skipped.a
-00015e70: 735f 6c69 7374 2829 203d 3d20 5b22 225d  s_list() == [""]
-00015e80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00015e90: 2020 2020 2020 6465 6c20 745b 305d 0a20        del t[0]. 
-00015ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015eb0: 2020 2074 2e70 6f70 2822 5f73 6b69 7070     t.pop("_skipp
-00015ec0: 6564 222c 204e 6f6e 6529 0a0a 2020 2020  ed", None)..    
-00015ed0: 2020 2020 2020 2020 6465 6620 7368 6f77          def show
-00015ee0: 5f73 6b69 7028 7429 3a0a 2020 2020 2020  _skip(t):.      
-00015ef0: 2020 2020 2020 2020 2020 6966 2074 2e5f            if t._
-00015f00: 736b 6970 7065 642e 6173 5f6c 6973 7428  skipped.as_list(
-00015f10: 295b 2d31 3a5d 203d 3d20 5b22 225d 3a0a  )[-1:] == [""]:.
-00015f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015f30: 2020 2020 742e 706f 7028 225f 736b 6970      t.pop("_skip
-00015f40: 7065 6422 290a 2020 2020 2020 2020 2020  ped").          
-00015f50: 2020 2020 2020 2020 2020 745b 225f 736b            t["_sk
-00015f60: 6970 7065 6422 5d20 3d20 226d 6973 7369  ipped"] = "missi
-00015f70: 6e67 203c 2220 2b20 7265 7072 2873 656c  ng <" + repr(sel
-00015f80: 662e 616e 6368 6f72 2920 2b20 223e 220a  f.anchor) + ">".
-00015f90: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00015fa0: 7572 6e20 280a 2020 2020 2020 2020 2020  urn (.          
-00015fb0: 2020 2020 2020 7365 6c66 2e61 6e63 686f        self.ancho
-00015fc0: 7220 2b20 736b 6970 7065 7228 292e 6164  r + skipper().ad
-00015fd0: 645f 7061 7273 655f 6163 7469 6f6e 286d  d_parse_action(m
-00015fe0: 7573 745f 736b 6970 290a 2020 2020 2020  ust_skip).      
-00015ff0: 2020 2020 2020 2020 2020 7c20 736b 6970            | skip
-00016000: 7065 7228 292e 6164 645f 7061 7273 655f  per().add_parse_
-00016010: 6163 7469 6f6e 2873 686f 775f 736b 6970  action(show_skip
-00016020: 290a 2020 2020 2020 2020 2020 2020 2920  ).            ) 
-00016030: 2b20 6f74 6865 720a 0a20 2020 2020 2020  + other..       
-00016040: 2072 6574 7572 6e20 7365 6c66 2e61 6e63   return self.anc
-00016050: 686f 7220 2b20 736b 6970 7065 7220 2b20  hor + skipper + 
-00016060: 6f74 6865 720a 0a20 2020 2064 6566 205f  other..    def _
-00016070: 5f72 6570 725f 5f28 7365 6c66 293a 0a20  _repr__(self):. 
-00016080: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00016090: 6c66 2e64 6566 6175 6c74 4e61 6d65 0a0a  lf.defaultName..
-000160a0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-000160b0: 6c28 7365 6c66 2c20 2a61 7267 7329 3a0a  l(self, *args):.
-000160c0: 2020 2020 2020 2020 7261 6973 6520 4578          raise Ex
-000160d0: 6365 7074 696f 6e28 0a20 2020 2020 2020  ception(.       
-000160e0: 2020 2020 2022 7573 6520 6f66 2060 2e2e       "use of `..
-000160f0: 2e60 2065 7870 7265 7373 696f 6e20 7769  .` expression wi
-00016100: 7468 6f75 7420 666f 6c6c 6f77 696e 6720  thout following 
-00016110: 536b 6970 546f 2074 6172 6765 7420 6578  SkipTo target ex
-00016120: 7072 6573 7369 6f6e 220a 2020 2020 2020  pression".      
-00016130: 2020 290a 0a0a 636c 6173 7320 546f 6b65    )...class Toke
-00016140: 6e28 5061 7273 6572 456c 656d 656e 7429  n(ParserElement)
-00016150: 3a0a 2020 2020 2222 2241 6273 7472 6163  :.    """Abstrac
-00016160: 7420 3a63 6c61 7373 3a60 5061 7273 6572  t :class:`Parser
-00016170: 456c 656d 656e 7460 2073 7562 636c 6173  Element` subclas
-00016180: 732c 2066 6f72 2064 6566 696e 696e 6720  s, for defining 
-00016190: 6174 6f6d 6963 0a20 2020 206d 6174 6368  atomic.    match
-000161a0: 696e 6720 7061 7474 6572 6e73 2e0a 2020  ing patterns..  
-000161b0: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
-000161c0: 5f69 6e69 745f 5f28 7365 6c66 293a 0a20  _init__(self):. 
-000161d0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-000161e0: 5f69 6e69 745f 5f28 7361 7665 6c69 7374  _init__(savelist
-000161f0: 3d46 616c 7365 290a 0a20 2020 2064 6566  =False)..    def
-00016200: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
-00016210: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
-00016220: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
-00016230: 726e 2074 7970 6528 7365 6c66 292e 5f5f  rn type(self).__
-00016240: 6e61 6d65 5f5f 0a0a 0a63 6c61 7373 204e  name__...class N
-00016250: 6f4d 6174 6368 2854 6f6b 656e 293a 0a20  oMatch(Token):. 
-00016260: 2020 2022 2222 0a20 2020 2041 2074 6f6b     """.    A tok
-00016270: 656e 2074 6861 7420 7769 6c6c 206e 6576  en that will nev
-00016280: 6572 206d 6174 6368 2e0a 2020 2020 2222  er match..    ""
-00016290: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-000162a0: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
-000162b0: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-000162c0: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
-000162d0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-000162e0: 7920 3d20 5472 7565 0a20 2020 2020 2020  y = True.       
-000162f0: 2073 656c 662e 6d61 7949 6e64 6578 4572   self.mayIndexEr
-00016300: 726f 7220 3d20 4661 6c73 650a 2020 2020  ror = False.    
-00016310: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
-00016320: 3d20 2255 6e6d 6174 6368 6162 6c65 2074  = "Unmatchable t
-00016330: 6f6b 656e 220a 0a20 2020 2064 6566 2070  oken"..    def p
-00016340: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
-00016350: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-00016360: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-00016370: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
-00016380: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
-00016390: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
-000163a0: 6572 726d 7367 2c20 7365 6c66 290a 0a0a  errmsg, self)...
-000163b0: 636c 6173 7320 4c69 7465 7261 6c28 546f  class Literal(To
-000163c0: 6b65 6e29 3a0a 2020 2020 2222 220a 2020  ken):.    """.  
-000163d0: 2020 546f 6b65 6e20 746f 2065 7861 6374    Token to exact
-000163e0: 6c79 206d 6174 6368 2061 2073 7065 6369  ly match a speci
-000163f0: 6669 6564 2073 7472 696e 672e 0a0a 2020  fied string...  
-00016400: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
-00016410: 2020 2020 204c 6974 6572 616c 2827 626c       Literal('bl
-00016420: 6168 2729 2e70 6172 7365 5f73 7472 696e  ah').parse_strin
-00016430: 6728 2762 6c61 6827 2920 2023 202d 3e20  g('blah')  # -> 
-00016440: 5b27 626c 6168 275d 0a20 2020 2020 2020  ['blah'].       
-00016450: 204c 6974 6572 616c 2827 626c 6168 2729   Literal('blah')
-00016460: 2e70 6172 7365 5f73 7472 696e 6728 2762  .parse_string('b
-00016470: 6c61 6866 6f6f 626c 6168 2729 2020 2320  lahfooblah')  # 
-00016480: 2d3e 205b 2762 6c61 6827 5d0a 2020 2020  -> ['blah'].    
-00016490: 2020 2020 4c69 7465 7261 6c28 2762 6c61      Literal('bla
-000164a0: 6827 292e 7061 7273 655f 7374 7269 6e67  h').parse_string
-000164b0: 2827 626c 6127 2920 2023 202d 3e20 4578  ('bla')  # -> Ex
-000164c0: 6365 7074 696f 6e3a 2045 7870 6563 7465  ception: Expecte
-000164d0: 6420 2262 6c61 6822 0a0a 2020 2020 466f  d "blah"..    Fo
-000164e0: 7220 6361 7365 2d69 6e73 656e 7369 7469  r case-insensiti
-000164f0: 7665 206d 6174 6368 696e 672c 2075 7365  ve matching, use
-00016500: 203a 636c 6173 733a 6043 6173 656c 6573   :class:`Caseles
-00016510: 734c 6974 6572 616c 602e 0a0a 2020 2020  sLiteral`...    
-00016520: 466f 7220 6b65 7977 6f72 6420 6d61 7463  For keyword matc
-00016530: 6869 6e67 2028 666f 7263 6520 776f 7264  hing (force word
-00016540: 2062 7265 616b 2062 6566 6f72 6520 616e   break before an
-00016550: 6420 6166 7465 7220 7468 6520 6d61 7463  d after the matc
-00016560: 6865 6420 7374 7269 6e67 292c 0a20 2020  hed string),.   
-00016570: 2075 7365 203a 636c 6173 733a 604b 6579   use :class:`Key
-00016580: 776f 7264 6020 6f72 203a 636c 6173 733a  word` or :class:
-00016590: 6043 6173 656c 6573 734b 6579 776f 7264  `CaselessKeyword
-000165a0: 602e 0a20 2020 2022 2222 0a0a 2020 2020  `..    """..    
-000165b0: 6465 6620 5f5f 6e65 775f 5f28 636c 732c  def __new__(cls,
-000165c0: 206d 6174 6368 5f73 7472 696e 673a 2073   match_string: s
-000165d0: 7472 203d 2022 222c 202a 2c20 6d61 7463  tr = "", *, matc
-000165e0: 6853 7472 696e 673a 2073 7472 203d 2022  hString: str = "
-000165f0: 2229 3a0a 2020 2020 2020 2020 2320 5065  "):.        # Pe
-00016600: 7266 6f72 6d61 6e63 6520 7475 6e69 6e67  rformance tuning
-00016610: 3a20 7365 6c65 6374 2061 2073 7562 636c  : select a subcl
-00016620: 6173 7320 7769 7468 206f 7074 696d 697a  ass with optimiz
-00016630: 6564 2070 6172 7365 496d 706c 0a20 2020  ed parseImpl.   
-00016640: 2020 2020 2069 6620 636c 7320 6973 204c       if cls is L
-00016650: 6974 6572 616c 3a0a 2020 2020 2020 2020  iteral:.        
-00016660: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
-00016670: 203d 206d 6174 6368 5374 7269 6e67 206f   = matchString o
-00016680: 7220 6d61 7463 685f 7374 7269 6e67 0a20  r match_string. 
-00016690: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
-000166a0: 7420 6d61 7463 685f 7374 7269 6e67 3a0a  t match_string:.
-000166b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166c0: 7265 7475 726e 2073 7570 6572 2829 2e5f  return super()._
-000166d0: 5f6e 6577 5f5f 2845 6d70 7479 290a 2020  _new__(Empty).  
-000166e0: 2020 2020 2020 2020 2020 6966 206c 656e            if len
-000166f0: 286d 6174 6368 5f73 7472 696e 6729 203d  (match_string) =
-00016700: 3d20 313a 0a20 2020 2020 2020 2020 2020  = 1:.           
-00016710: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
-00016720: 7228 292e 5f5f 6e65 775f 5f28 5f53 696e  r().__new__(_Sin
-00016730: 676c 6543 6861 724c 6974 6572 616c 290a  gleCharLiteral).
-00016740: 0a20 2020 2020 2020 2023 2044 6566 6175  .        # Defau
-00016750: 6c74 2062 6568 6176 696f 720a 2020 2020  lt behavior.    
-00016760: 2020 2020 7265 7475 726e 2073 7570 6572      return super
-00016770: 2829 2e5f 5f6e 6577 5f5f 2863 6c73 290a  ().__new__(cls).
-00016780: 0a20 2020 2023 204e 6565 6465 6420 746f  .    # Needed to
-00016790: 206d 616b 6520 636f 7079 2e63 6f70 7928   make copy.copy(
-000167a0: 2920 776f 726b 2063 6f72 7265 6374 6c79  ) work correctly
-000167b0: 2069 6620 7765 2063 7573 746f 6d69 7a65   if we customize
-000167c0: 205f 5f6e 6577 5f5f 0a20 2020 2064 6566   __new__.    def
-000167d0: 205f 5f67 6574 6e65 7761 7267 735f 5f28   __getnewargs__(
-000167e0: 7365 6c66 293a 0a20 2020 2020 2020 2072  self):.        r
-000167f0: 6574 7572 6e20 2873 656c 662e 6d61 7463  eturn (self.matc
-00016800: 682c 290a 0a20 2020 2064 6566 205f 5f69  h,)..    def __i
-00016810: 6e69 745f 5f28 7365 6c66 2c20 6d61 7463  nit__(self, matc
-00016820: 685f 7374 7269 6e67 3a20 7374 7220 3d20  h_string: str = 
-00016830: 2222 2c20 2a2c 206d 6174 6368 5374 7269  "", *, matchStri
-00016840: 6e67 3a20 7374 7220 3d20 2222 293a 0a20  ng: str = ""):. 
-00016850: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-00016860: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
-00016870: 2020 6d61 7463 685f 7374 7269 6e67 203d    match_string =
-00016880: 206d 6174 6368 5374 7269 6e67 206f 7220   matchString or 
-00016890: 6d61 7463 685f 7374 7269 6e67 0a20 2020  match_string.   
-000168a0: 2020 2020 2073 656c 662e 6d61 7463 6820       self.match 
-000168b0: 3d20 6d61 7463 685f 7374 7269 6e67 0a20  = match_string. 
-000168c0: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
-000168d0: 684c 656e 203d 206c 656e 286d 6174 6368  hLen = len(match
-000168e0: 5f73 7472 696e 6729 0a20 2020 2020 2020  _string).       
-000168f0: 2073 656c 662e 6669 7273 744d 6174 6368   self.firstMatch
-00016900: 4368 6172 203d 206d 6174 6368 5f73 7472  Char = match_str
-00016910: 696e 675b 3a31 5d0a 2020 2020 2020 2020  ing[:1].        
-00016920: 7365 6c66 2e65 7272 6d73 6720 3d20 2245  self.errmsg = "E
-00016930: 7870 6563 7465 6420 2220 2b20 7365 6c66  xpected " + self
-00016940: 2e6e 616d 650a 2020 2020 2020 2020 7365  .name.        se
-00016950: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-00016960: 7920 3d20 4661 6c73 650a 2020 2020 2020  y = False.      
-00016970: 2020 7365 6c66 2e6d 6179 496e 6465 7845    self.mayIndexE
-00016980: 7272 6f72 203d 2046 616c 7365 0a0a 2020  rror = False..  
-00016990: 2020 6465 6620 5f67 656e 6572 6174 6544    def _generateD
-000169a0: 6566 6175 6c74 4e61 6d65 2873 656c 6629  efaultName(self)
-000169b0: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
-000169c0: 2072 6574 7572 6e20 7265 7072 2873 656c   return repr(sel
-000169d0: 662e 6d61 7463 6829 0a0a 2020 2020 6465  f.match)..    de
-000169e0: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
-000169f0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
-00016a00: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
-00016a10: 3a0a 2020 2020 2020 2020 6966 2069 6e73  :.        if ins
-00016a20: 7472 696e 675b 6c6f 635d 203d 3d20 7365  tring[loc] == se
-00016a30: 6c66 2e66 6972 7374 4d61 7463 6843 6861  lf.firstMatchCha
-00016a40: 7220 616e 6420 696e 7374 7269 6e67 2e73  r and instring.s
-00016a50: 7461 7274 7377 6974 6828 0a20 2020 2020  tartswith(.     
-00016a60: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
-00016a70: 682c 206c 6f63 0a20 2020 2020 2020 2029  h, loc.        )
-00016a80: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00016a90: 7475 726e 206c 6f63 202b 2073 656c 662e  turn loc + self.
-00016aa0: 6d61 7463 684c 656e 2c20 7365 6c66 2e6d  matchLen, self.m
-00016ab0: 6174 6368 0a20 2020 2020 2020 2072 6169  atch.        rai
-00016ac0: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
-00016ad0: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
-00016ae0: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
-00016af0: 6c66 290a 0a0a 636c 6173 7320 456d 7074  lf)...class Empt
-00016b00: 7928 4c69 7465 7261 6c29 3a0a 2020 2020  y(Literal):.    
-00016b10: 2222 220a 2020 2020 416e 2065 6d70 7479  """.    An empty
-00016b20: 2074 6f6b 656e 2c20 7769 6c6c 2061 6c77   token, will alw
-00016b30: 6179 7320 6d61 7463 682e 0a20 2020 2022  ays match..    "
-00016b40: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
-00016b50: 6974 5f5f 2873 656c 662c 206d 6174 6368  it__(self, match
-00016b60: 5f73 7472 696e 673d 2222 2c20 2a2c 206d  _string="", *, m
-00016b70: 6174 6368 5374 7269 6e67 3d22 2229 3a0a  atchString=""):.
-00016b80: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-00016b90: 5f5f 696e 6974 5f5f 2822 2229 0a20 2020  __init__("").   
-00016ba0: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
-00016bb0: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
-00016bc0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-00016bd0: 496e 6465 7845 7272 6f72 203d 2046 616c  IndexError = Fal
-00016be0: 7365 0a0a 2020 2020 6465 6620 5f67 656e  se..    def _gen
-00016bf0: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
-00016c00: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
-00016c10: 2020 2020 2020 2072 6574 7572 6e20 2245         return "E
-00016c20: 6d70 7479 220a 0a20 2020 2064 6566 2070  mpty"..    def p
-00016c30: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
-00016c40: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-00016c50: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-00016c60: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
-00016c70: 7065 7228 4c69 7465 7261 6c2c 2073 656c  per(Literal, sel
-00016c80: 6629 2e70 6172 7365 496d 706c 2869 6e73  f).parseImpl(ins
-00016c90: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-00016ca0: 7469 6f6e 7329 0a0a 0a63 6c61 7373 205f  tions)...class _
-00016cb0: 5369 6e67 6c65 4368 6172 4c69 7465 7261  SingleCharLitera
-00016cc0: 6c28 4c69 7465 7261 6c29 3a0a 2020 2020  l(Literal):.    
-00016cd0: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
-00016ce0: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-00016cf0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
-00016d00: 6529 3a0a 2020 2020 2020 2020 6966 2069  e):.        if i
-00016d10: 6e73 7472 696e 675b 6c6f 635d 203d 3d20  nstring[loc] == 
-00016d20: 7365 6c66 2e66 6972 7374 4d61 7463 6843  self.firstMatchC
-00016d30: 6861 723a 0a20 2020 2020 2020 2020 2020  har:.           
-00016d40: 2072 6574 7572 6e20 6c6f 6320 2b20 312c   return loc + 1,
-00016d50: 2073 656c 662e 6d61 7463 680a 2020 2020   self.match.    
-00016d60: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
-00016d70: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
-00016d80: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
-00016d90: 6d73 672c 2073 656c 6629 0a0a 0a50 6172  msg, self)...Par
-00016da0: 7365 7245 6c65 6d65 6e74 2e5f 6c69 7465  serElement._lite
-00016db0: 7261 6c53 7472 696e 6743 6c61 7373 203d  ralStringClass =
-00016dc0: 204c 6974 6572 616c 0a0a 0a63 6c61 7373   Literal...class
-00016dd0: 204b 6579 776f 7264 2854 6f6b 656e 293a   Keyword(Token):
-00016de0: 0a20 2020 2022 2222 0a20 2020 2054 6f6b  .    """.    Tok
-00016df0: 656e 2074 6f20 6578 6163 746c 7920 6d61  en to exactly ma
-00016e00: 7463 6820 6120 7370 6563 6966 6965 6420  tch a specified 
-00016e10: 7374 7269 6e67 2061 7320 6120 6b65 7977  string as a keyw
-00016e20: 6f72 642c 2074 6861 7420 6973 2c0a 2020  ord, that is,.  
-00016e30: 2020 6974 206d 7573 7420 6265 2069 6d6d    it must be imm
-00016e40: 6564 6961 7465 6c79 2070 7265 6365 6465  ediately precede
-00016e50: 6420 616e 6420 666f 6c6c 6f77 6564 2062  d and followed b
-00016e60: 7920 7768 6974 6573 7061 6365 206f 720a  y whitespace or.
-00016e70: 2020 2020 6e6f 6e2d 6b65 7977 6f72 6420      non-keyword 
-00016e80: 6368 6172 6163 7465 7273 2e20 436f 6d70  characters. Comp
-00016e90: 6172 6520 7769 7468 203a 636c 6173 733a  are with :class:
-00016ea0: 604c 6974 6572 616c 603a 0a0a 2020 2020  `Literal`:..    
-00016eb0: 2d20 6060 4c69 7465 7261 6c28 2269 6622  - ``Literal("if"
-00016ec0: 2960 6020 7769 6c6c 206d 6174 6368 2074  )`` will match t
-00016ed0: 6865 206c 6561 6469 6e67 2060 6027 6966  he leading ``'if
-00016ee0: 2760 6020 696e 0a20 2020 2020 2060 6027  '`` in.      ``'
-00016ef0: 6966 416e 644f 6e6c 7949 6627 6060 2e0a  ifAndOnlyIf'``..
-00016f00: 2020 2020 2d20 6060 4b65 7977 6f72 6428      - ``Keyword(
-00016f10: 2269 6622 2960 6020 7769 6c6c 206e 6f74  "if")`` will not
-00016f20: 3b20 6974 2077 696c 6c20 6f6e 6c79 206d  ; it will only m
-00016f30: 6174 6368 2074 6865 206c 6561 6469 6e67  atch the leading
-00016f40: 0a20 2020 2020 2060 6027 6966 2760 6020  .      ``'if'`` 
-00016f50: 696e 2060 6027 6966 2078 3d31 2760 602c  in ``'if x=1'``,
-00016f60: 206f 7220 6060 2769 6628 793d 3d32 2927   or ``'if(y==2)'
-00016f70: 6060 0a0a 2020 2020 4163 6365 7074 7320  ``..    Accepts 
-00016f80: 7477 6f20 6f70 7469 6f6e 616c 2063 6f6e  two optional con
-00016f90: 7374 7275 6374 6f72 2061 7267 756d 656e  structor argumen
-00016fa0: 7473 2069 6e20 6164 6469 7469 6f6e 2074  ts in addition t
-00016fb0: 6f20 7468 650a 2020 2020 6b65 7977 6f72  o the.    keywor
-00016fc0: 6420 7374 7269 6e67 3a0a 0a20 2020 202d  d string:..    -
-00016fd0: 2060 6069 6465 6e74 5f63 6861 7273 6060   ``ident_chars``
-00016fe0: 2069 7320 6120 7374 7269 6e67 206f 6620   is a string of 
-00016ff0: 6368 6172 6163 7465 7273 2074 6861 7420  characters that 
-00017000: 776f 756c 6420 6265 2076 616c 6964 0a20  would be valid. 
-00017010: 2020 2020 2069 6465 6e74 6966 6965 7220       identifier 
-00017020: 6368 6172 6163 7465 7273 2c20 6465 6661  characters, defa
-00017030: 756c 7469 6e67 2074 6f20 616c 6c20 616c  ulting to all al
-00017040: 7068 616e 756d 6572 6963 7320 2b20 225f  phanumerics + "_
-00017050: 2220 616e 640a 2020 2020 2020 2224 220a  " and.      "$".
-00017060: 2020 2020 2d20 6060 6361 7365 6c65 7373      - ``caseless
-00017070: 6060 2061 6c6c 6f77 7320 6361 7365 2d69  `` allows case-i
-00017080: 6e73 656e 7369 7469 7665 206d 6174 6368  nsensitive match
-00017090: 696e 672c 2064 6566 6175 6c74 2069 7320  ing, default is 
-000170a0: 6060 4661 6c73 6560 602e 0a0a 2020 2020  ``False``...    
-000170b0: 4578 616d 706c 653a 3a0a 0a20 2020 2020  Example::..     
-000170c0: 2020 204b 6579 776f 7264 2822 7374 6172     Keyword("star
-000170d0: 7422 292e 7061 7273 655f 7374 7269 6e67  t").parse_string
-000170e0: 2822 7374 6172 7422 2920 2023 202d 3e20  ("start")  # -> 
-000170f0: 5b27 7374 6172 7427 5d0a 2020 2020 2020  ['start'].      
-00017100: 2020 4b65 7977 6f72 6428 2273 7461 7274    Keyword("start
-00017110: 2229 2e70 6172 7365 5f73 7472 696e 6728  ").parse_string(
-00017120: 2273 7461 7274 696e 6722 2920 2023 202d  "starting")  # -
-00017130: 3e20 4578 6365 7074 696f 6e0a 0a20 2020  > Exception..   
-00017140: 2046 6f72 2063 6173 652d 696e 7365 6e73   For case-insens
-00017150: 6974 6976 6520 6d61 7463 6869 6e67 2c20  itive matching, 
-00017160: 7573 6520 3a63 6c61 7373 3a60 4361 7365  use :class:`Case
-00017170: 6c65 7373 4b65 7977 6f72 6460 2e0a 2020  lessKeyword`..  
-00017180: 2020 2222 220a 0a20 2020 2044 4546 4155    """..    DEFAU
-00017190: 4c54 5f4b 4559 574f 5244 5f43 4841 5253  LT_KEYWORD_CHARS
-000171a0: 203d 2061 6c70 6861 6e75 6d73 202b 2022   = alphanums + "
-000171b0: 5f24 220a 0a20 2020 2064 6566 205f 5f69  _$"..    def __i
-000171c0: 6e69 745f 5f28 0a20 2020 2020 2020 2073  nit__(.        s
-000171d0: 656c 662c 0a20 2020 2020 2020 206d 6174  elf,.        mat
-000171e0: 6368 5f73 7472 696e 673a 2073 7472 203d  ch_string: str =
-000171f0: 2022 222c 0a20 2020 2020 2020 2069 6465   "",.        ide
-00017200: 6e74 5f63 6861 7273 3a20 7479 7069 6e67  nt_chars: typing
-00017210: 2e4f 7074 696f 6e61 6c5b 7374 725d 203d  .Optional[str] =
-00017220: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
-00017230: 6173 656c 6573 733a 2062 6f6f 6c20 3d20  aseless: bool = 
-00017240: 4661 6c73 652c 0a20 2020 2020 2020 202a  False,.        *
-00017250: 2c0a 2020 2020 2020 2020 6d61 7463 6853  ,.        matchS
-00017260: 7472 696e 673a 2073 7472 203d 2022 222c  tring: str = "",
-00017270: 0a20 2020 2020 2020 2069 6465 6e74 4368  .        identCh
-00017280: 6172 733a 2074 7970 696e 672e 4f70 7469  ars: typing.Opti
-00017290: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-000172a0: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
-000172b0: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-000172c0: 5f28 290a 2020 2020 2020 2020 6964 656e  _().        iden
-000172d0: 7443 6861 7273 203d 2069 6465 6e74 4368  tChars = identCh
-000172e0: 6172 7320 6f72 2069 6465 6e74 5f63 6861  ars or ident_cha
-000172f0: 7273 0a20 2020 2020 2020 2069 6620 6964  rs.        if id
-00017300: 656e 7443 6861 7273 2069 7320 4e6f 6e65  entChars is None
-00017310: 3a0a 2020 2020 2020 2020 2020 2020 6964  :.            id
-00017320: 656e 7443 6861 7273 203d 204b 6579 776f  entChars = Keywo
-00017330: 7264 2e44 4546 4155 4c54 5f4b 4559 574f  rd.DEFAULT_KEYWO
-00017340: 5244 5f43 4841 5253 0a20 2020 2020 2020  RD_CHARS.       
-00017350: 206d 6174 6368 5f73 7472 696e 6720 3d20   match_string = 
-00017360: 6d61 7463 6853 7472 696e 6720 6f72 206d  matchString or m
-00017370: 6174 6368 5f73 7472 696e 670a 2020 2020  atch_string.    
-00017380: 2020 2020 7365 6c66 2e6d 6174 6368 203d      self.match =
-00017390: 206d 6174 6368 5f73 7472 696e 670a 2020   match_string.  
-000173a0: 2020 2020 2020 7365 6c66 2e6d 6174 6368        self.match
-000173b0: 4c65 6e20 3d20 6c65 6e28 6d61 7463 685f  Len = len(match_
-000173c0: 7374 7269 6e67 290a 2020 2020 2020 2020  string).        
-000173d0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-000173e0: 2073 656c 662e 6669 7273 744d 6174 6368   self.firstMatch
-000173f0: 4368 6172 203d 206d 6174 6368 5f73 7472  Char = match_str
-00017400: 696e 675b 305d 0a20 2020 2020 2020 2065  ing[0].        e
-00017410: 7863 6570 7420 496e 6465 7845 7272 6f72  xcept IndexError
-00017420: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-00017430: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
-00017440: 6e75 6c6c 2073 7472 696e 6720 7061 7373  null string pass
-00017450: 6564 2074 6f20 4b65 7977 6f72 643b 2075  ed to Keyword; u
-00017460: 7365 2045 6d70 7479 2829 2069 6e73 7465  se Empty() inste
-00017470: 6164 2229 0a20 2020 2020 2020 2073 656c  ad").        sel
-00017480: 662e 6572 726d 7367 203d 2066 2245 7870  f.errmsg = f"Exp
-00017490: 6563 7465 6420 7b74 7970 6528 7365 6c66  ected {type(self
-000174a0: 292e 5f5f 6e61 6d65 5f5f 7d20 7b73 656c  ).__name__} {sel
-000174b0: 662e 6e61 6d65 7d22 0a20 2020 2020 2020  f.name}".       
-000174c0: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
-000174d0: 6d70 7479 203d 2046 616c 7365 0a20 2020  mpty = False.   
-000174e0: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
-000174f0: 6578 4572 726f 7220 3d20 4661 6c73 650a  exError = False.
-00017500: 2020 2020 2020 2020 7365 6c66 2e63 6173          self.cas
-00017510: 656c 6573 7320 3d20 6361 7365 6c65 7373  eless = caseless
-00017520: 0a20 2020 2020 2020 2069 6620 6361 7365  .        if case
-00017530: 6c65 7373 3a0a 2020 2020 2020 2020 2020  less:.          
-00017540: 2020 7365 6c66 2e63 6173 656c 6573 736d    self.caselessm
-00017550: 6174 6368 203d 206d 6174 6368 5f73 7472  atch = match_str
-00017560: 696e 672e 7570 7065 7228 290a 2020 2020  ing.upper().    
-00017570: 2020 2020 2020 2020 6964 656e 7443 6861          identCha
-00017580: 7273 203d 2069 6465 6e74 4368 6172 732e  rs = identChars.
-00017590: 7570 7065 7228 290a 2020 2020 2020 2020  upper().        
-000175a0: 7365 6c66 2e69 6465 6e74 4368 6172 7320  self.identChars 
-000175b0: 3d20 7365 7428 6964 656e 7443 6861 7273  = set(identChars
-000175c0: 290a 0a20 2020 2064 6566 205f 6765 6e65  )..    def _gene
-000175d0: 7261 7465 4465 6661 756c 744e 616d 6528  rateDefaultName(
-000175e0: 7365 6c66 2920 2d3e 2073 7472 3a0a 2020  self) -> str:.  
-000175f0: 2020 2020 2020 7265 7475 726e 2072 6570        return rep
-00017600: 7228 7365 6c66 2e6d 6174 6368 290a 0a20  r(self.match).. 
-00017610: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-00017620: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-00017630: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-00017640: 5472 7565 293a 0a20 2020 2020 2020 2065  True):.        e
-00017650: 7272 6d73 6720 3d20 7365 6c66 2e65 7272  rrmsg = self.err
-00017660: 6d73 670a 2020 2020 2020 2020 6572 726c  msg.        errl
-00017670: 6f63 203d 206c 6f63 0a20 2020 2020 2020  oc = loc.       
-00017680: 2069 6620 7365 6c66 2e63 6173 656c 6573   if self.caseles
-00017690: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
-000176a0: 6620 696e 7374 7269 6e67 5b6c 6f63 203a  f instring[loc :
-000176b0: 206c 6f63 202b 2073 656c 662e 6d61 7463   loc + self.matc
-000176c0: 684c 656e 5d2e 7570 7065 7228 2920 3d3d  hLen].upper() ==
-000176d0: 2073 656c 662e 6361 7365 6c65 7373 6d61   self.caselessma
-000176e0: 7463 683a 0a20 2020 2020 2020 2020 2020  tch:.           
-000176f0: 2020 2020 2069 6620 6c6f 6320 3d3d 2030       if loc == 0
-00017700: 206f 7220 696e 7374 7269 6e67 5b6c 6f63   or instring[loc
-00017710: 202d 2031 5d2e 7570 7065 7228 2920 6e6f   - 1].upper() no
-00017720: 7420 696e 2073 656c 662e 6964 656e 7443  t in self.identC
-00017730: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
-00017740: 2020 2020 2020 2020 2020 6966 2028 0a20            if (. 
-00017750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017760: 2020 2020 2020 206c 6f63 203e 3d20 6c65         loc >= le
-00017770: 6e28 696e 7374 7269 6e67 2920 2d20 7365  n(instring) - se
-00017780: 6c66 2e6d 6174 6368 4c65 6e0a 2020 2020  lf.matchLen.    
-00017790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000177a0: 2020 2020 6f72 2069 6e73 7472 696e 675b      or instring[
-000177b0: 6c6f 6320 2b20 7365 6c66 2e6d 6174 6368  loc + self.match
-000177c0: 4c65 6e5d 2e75 7070 6572 2829 206e 6f74  Len].upper() not
-000177d0: 2069 6e20 7365 6c66 2e69 6465 6e74 4368   in self.identCh
-000177e0: 6172 730a 2020 2020 2020 2020 2020 2020  ars.            
-000177f0: 2020 2020 2020 2020 293a 0a20 2020 2020          ):.     
+00014a60: 6f75 742e 6170 7065 6e64 2872 6573 756c  out.append(resul
+00014a70: 742e 6475 6d70 2866 756c 6c3d 6675 6c6c  t.dump(full=full
+00014a80: 4475 6d70 2929 0a20 2020 2020 2020 2020  Dump)).         
+00014a90: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+00014aa0: 7574 2e61 7070 656e 6428 0a20 2020 2020  ut.append(.     
+00014ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014ac0: 2020 2020 2020 2066 227b 706f 7374 5061         f"{postPa
+00014ad0: 7273 652e 5f5f 6e61 6d65 5f5f 7d20 6661  rse.__name__} fa
+00014ae0: 696c 6564 3a20 7b74 7970 6528 6529 2e5f  iled: {type(e)._
+00014af0: 5f6e 616d 655f 5f7d 3a20 7b65 7d22 0a20  _name__}: {e}". 
+00014b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014b10: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00014b20: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00014b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014b40: 2020 206f 7574 2e61 7070 656e 6428 7265     out.append(re
+00014b50: 7375 6c74 2e64 756d 7028 6675 6c6c 3d66  sult.dump(full=f
+00014b60: 756c 6c44 756d 7029 290a 2020 2020 2020  ullDump)).      
+00014b70: 2020 2020 2020 6f75 742e 6170 7065 6e64        out.append
+00014b80: 2822 2229 0a0a 2020 2020 2020 2020 2020  ("")..          
+00014b90: 2020 6966 2070 7269 6e74 5265 7375 6c74    if printResult
+00014ba0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00014bb0: 2020 2070 7269 6e74 5f28 225c 6e22 2e6a     print_("\n".j
+00014bc0: 6f69 6e28 6f75 7429 290a 0a20 2020 2020  oin(out))..     
+00014bd0: 2020 2020 2020 2061 6c6c 5265 7375 6c74         allResult
+00014be0: 732e 6170 7065 6e64 2828 742c 2072 6573  s.append((t, res
+00014bf0: 756c 7429 290a 0a20 2020 2020 2020 2072  ult))..        r
+00014c00: 6574 7572 6e20 7375 6363 6573 732c 2061  eturn success, a
+00014c10: 6c6c 5265 7375 6c74 730a 0a20 2020 2064  llResults..    d
+00014c20: 6566 2063 7265 6174 655f 6469 6167 7261  ef create_diagra
+00014c30: 6d28 0a20 2020 2020 2020 2073 656c 662c  m(.        self,
+00014c40: 0a20 2020 2020 2020 206f 7574 7075 745f  .        output_
+00014c50: 6874 6d6c 3a20 556e 696f 6e5b 5465 7874  html: Union[Text
+00014c60: 494f 2c20 5061 7468 2c20 7374 725d 2c0a  IO, Path, str],.
+00014c70: 2020 2020 2020 2020 7665 7274 6963 616c          vertical
+00014c80: 3a20 696e 7420 3d20 332c 0a20 2020 2020  : int = 3,.     
+00014c90: 2020 2073 686f 775f 7265 7375 6c74 735f     show_results_
+00014ca0: 6e61 6d65 733a 2062 6f6f 6c20 3d20 4661  names: bool = Fa
+00014cb0: 6c73 652c 0a20 2020 2020 2020 2073 686f  lse,.        sho
+00014cc0: 775f 6772 6f75 7073 3a20 626f 6f6c 203d  w_groups: bool =
+00014cd0: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+00014ce0: 656d 6265 643a 2062 6f6f 6c20 3d20 4661  embed: bool = Fa
+00014cf0: 6c73 652c 0a20 2020 2020 2020 202a 2a6b  lse,.        **k
+00014d00: 7761 7267 732c 0a20 2020 2029 202d 3e20  wargs,.    ) -> 
+00014d10: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
+00014d20: 220a 2020 2020 2020 2020 4372 6561 7465  ".        Create
+00014d30: 2061 2072 6169 6c72 6f61 6420 6469 6167   a railroad diag
+00014d40: 7261 6d20 666f 7220 7468 6520 7061 7273  ram for the pars
+00014d50: 6572 2e0a 0a20 2020 2020 2020 2050 6172  er...        Par
+00014d60: 616d 6574 6572 733a 0a0a 2020 2020 2020  ameters:..      
+00014d70: 2020 2d20 6060 6f75 7470 7574 5f68 746d    - ``output_htm
+00014d80: 6c60 6020 2873 7472 206f 7220 6669 6c65  l`` (str or file
+00014d90: 2d6c 696b 6520 6f62 6a65 6374 2920 2d20  -like object) - 
+00014da0: 6f75 7470 7574 2074 6172 6765 7420 666f  output target fo
+00014db0: 7220 6765 6e65 7261 7465 640a 2020 2020  r generated.    
+00014dc0: 2020 2020 2020 6469 6167 7261 6d20 4854        diagram HT
+00014dd0: 4d4c 0a20 2020 2020 2020 202d 2060 6076  ML.        - ``v
+00014de0: 6572 7469 6361 6c60 6020 2869 6e74 2920  ertical`` (int) 
+00014df0: 2d20 7468 7265 7368 6f6c 6420 666f 7220  - threshold for 
+00014e00: 666f 726d 6174 7469 6e67 206d 756c 7469  formatting multi
+00014e10: 706c 6520 616c 7465 726e 6174 6976 6573  ple alternatives
+00014e20: 2076 6572 7469 6361 6c6c 790a 2020 2020   vertically.    
+00014e30: 2020 2020 2020 696e 7374 6561 6420 6f66        instead of
+00014e40: 2068 6f72 697a 6f6e 7461 6c6c 7920 2864   horizontally (d
+00014e50: 6566 6175 6c74 3d33 290a 2020 2020 2020  efault=3).      
+00014e60: 2020 2d20 6060 7368 6f77 5f72 6573 756c    - ``show_resul
+00014e70: 7473 5f6e 616d 6573 6060 202d 2062 6f6f  ts_names`` - boo
+00014e80: 6c20 666c 6167 2077 6865 7468 6572 2064  l flag whether d
+00014e90: 6961 6772 616d 2073 686f 756c 6420 7368  iagram should sh
+00014ea0: 6f77 2061 6e6e 6f74 6174 696f 6e73 2066  ow annotations f
+00014eb0: 6f72 0a20 2020 2020 2020 2020 2064 6566  or.          def
+00014ec0: 696e 6564 2072 6573 756c 7473 206e 616d  ined results nam
+00014ed0: 6573 0a20 2020 2020 2020 202d 2060 6073  es.        - ``s
+00014ee0: 686f 775f 6772 6f75 7073 6060 202d 2062  how_groups`` - b
+00014ef0: 6f6f 6c20 666c 6167 2077 6865 7468 6572  ool flag whether
+00014f00: 2067 726f 7570 7320 7368 6f75 6c64 2062   groups should b
+00014f10: 6520 6869 6768 6c69 6768 7465 6420 7769  e highlighted wi
+00014f20: 7468 2061 6e20 756e 6c61 6265 6c65 6420  th an unlabeled 
+00014f30: 7375 7272 6f75 6e64 696e 6720 626f 780a  surrounding box.
+00014f40: 2020 2020 2020 2020 2d20 6060 656d 6265          - ``embe
+00014f50: 6460 6020 2d20 626f 6f6c 2066 6c61 6720  d`` - bool flag 
+00014f60: 7768 6574 6865 7220 6765 6e65 7261 7465  whether generate
+00014f70: 6420 4854 4d4c 2073 686f 756c 6420 6f6d  d HTML should om
+00014f80: 6974 203c 4845 4144 3e2c 203c 424f 4459  it <HEAD>, <BODY
+00014f90: 3e2c 2061 6e64 203c 444f 4354 5950 453e  >, and <DOCTYPE>
+00014fa0: 2074 6167 7320 746f 2065 6d62 6564 0a20   tags to embed. 
+00014fb0: 2020 2020 2020 2020 2074 6865 2072 6573           the res
+00014fc0: 756c 7469 6e67 2048 544d 4c20 696e 2061  ulting HTML in a
+00014fd0: 6e20 656e 636c 6f73 696e 6720 4854 4d4c  n enclosing HTML
+00014fe0: 2073 6f75 7263 650a 2020 2020 2020 2020   source.        
+00014ff0: 2d20 6060 6865 6164 6060 202d 2073 7472  - ``head`` - str
+00015000: 2063 6f6e 7461 696e 696e 6720 6164 6469   containing addi
+00015010: 7469 6f6e 616c 2048 544d 4c20 746f 2069  tional HTML to i
+00015020: 6e73 6572 7420 696e 746f 2074 6865 203c  nsert into the <
+00015030: 4845 4144 3e20 7365 6374 696f 6e20 6f66  HEAD> section of
+00015040: 2074 6865 2067 656e 6572 6174 6564 2063   the generated c
+00015050: 6f64 653b 0a20 2020 2020 2020 2020 2063  ode;.          c
+00015060: 616e 2062 6520 7573 6564 2074 6f20 696e  an be used to in
+00015070: 7365 7274 2063 7573 746f 6d20 4353 5320  sert custom CSS 
+00015080: 7374 796c 696e 670a 2020 2020 2020 2020  styling.        
+00015090: 2d20 6060 626f 6479 6060 202d 2073 7472  - ``body`` - str
+000150a0: 2063 6f6e 7461 696e 696e 6720 6164 6469   containing addi
+000150b0: 7469 6f6e 616c 2048 544d 4c20 746f 2069  tional HTML to i
+000150c0: 6e73 6572 7420 6174 2074 6865 2062 6567  nsert at the beg
+000150d0: 696e 6e69 6e67 206f 6620 7468 6520 3c42  inning of the <B
+000150e0: 4f44 593e 2073 6563 7469 6f6e 206f 6620  ODY> section of 
+000150f0: 7468 650a 2020 2020 2020 2020 2020 6765  the.          ge
+00015100: 6e65 7261 7465 6420 636f 6465 0a0a 2020  nerated code..  
+00015110: 2020 2020 2020 4164 6469 7469 6f6e 616c        Additional
+00015120: 2064 6961 6772 616d 2d66 6f72 6d61 7474   diagram-formatt
+00015130: 696e 6720 6b65 7977 6f72 6420 6172 6775  ing keyword argu
+00015140: 6d65 6e74 7320 6361 6e20 616c 736f 2062  ments can also b
+00015150: 6520 696e 636c 7564 6564 3b0a 2020 2020  e included;.    
+00015160: 2020 2020 7365 6520 7261 696c 726f 6164      see railroad
+00015170: 2e44 6961 6772 616d 2063 6c61 7373 2e0a  .Diagram class..
+00015180: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
+00015190: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+000151a0: 2020 2020 2020 6672 6f6d 202e 6469 6167        from .diag
+000151b0: 7261 6d20 696d 706f 7274 2074 6f5f 7261  ram import to_ra
+000151c0: 696c 726f 6164 2c20 7261 696c 726f 6164  ilroad, railroad
+000151d0: 5f74 6f5f 6874 6d6c 0a20 2020 2020 2020  _to_html.       
+000151e0: 2065 7863 6570 7420 496d 706f 7274 4572   except ImportEr
+000151f0: 726f 7220 6173 2069 653a 0a20 2020 2020  ror as ie:.     
+00015200: 2020 2020 2020 2072 6169 7365 2045 7863         raise Exc
+00015210: 6570 7469 6f6e 280a 2020 2020 2020 2020  eption(.        
+00015220: 2020 2020 2020 2020 226d 7573 7420 6060          "must ``
+00015230: 7069 7020 696e 7374 616c 6c20 7079 7061  pip install pypa
+00015240: 7273 696e 675b 6469 6167 7261 6d73 5d60  rsing[diagrams]`
+00015250: 6020 746f 2067 656e 6572 6174 6520 7061  ` to generate pa
+00015260: 7273 6572 2072 6169 6c72 6f61 6420 6469  rser railroad di
+00015270: 6167 7261 6d73 220a 2020 2020 2020 2020  agrams".        
+00015280: 2020 2020 2920 6672 6f6d 2069 650a 0a20      ) from ie.. 
+00015290: 2020 2020 2020 2073 656c 662e 7374 7265         self.stre
+000152a0: 616d 6c69 6e65 2829 0a0a 2020 2020 2020  amline()..      
+000152b0: 2020 7261 696c 726f 6164 203d 2074 6f5f    railroad = to_
+000152c0: 7261 696c 726f 6164 280a 2020 2020 2020  railroad(.      
+000152d0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+000152e0: 2020 2020 2020 2020 7665 7274 6963 616c          vertical
+000152f0: 3d76 6572 7469 6361 6c2c 0a20 2020 2020  =vertical,.     
+00015300: 2020 2020 2020 2073 686f 775f 7265 7375         show_resu
+00015310: 6c74 735f 6e61 6d65 733d 7368 6f77 5f72  lts_names=show_r
+00015320: 6573 756c 7473 5f6e 616d 6573 2c0a 2020  esults_names,.  
+00015330: 2020 2020 2020 2020 2020 7368 6f77 5f67            show_g
+00015340: 726f 7570 733d 7368 6f77 5f67 726f 7570  roups=show_group
+00015350: 732c 0a20 2020 2020 2020 2020 2020 2064  s,.            d
+00015360: 6961 6772 616d 5f6b 7761 7267 733d 6b77  iagram_kwargs=kw
+00015370: 6172 6773 2c0a 2020 2020 2020 2020 290a  args,.        ).
+00015380: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00015390: 7461 6e63 6528 6f75 7470 7574 5f68 746d  tance(output_htm
+000153a0: 6c2c 2028 7374 722c 2050 6174 6829 293a  l, (str, Path)):
+000153b0: 0a20 2020 2020 2020 2020 2020 2077 6974  .            wit
+000153c0: 6820 6f70 656e 286f 7574 7075 745f 6874  h open(output_ht
+000153d0: 6d6c 2c20 2277 222c 2065 6e63 6f64 696e  ml, "w", encodin
+000153e0: 673d 2275 7466 2d38 2229 2061 7320 6469  g="utf-8") as di
+000153f0: 6167 5f66 696c 653a 0a20 2020 2020 2020  ag_file:.       
+00015400: 2020 2020 2020 2020 2064 6961 675f 6669           diag_fi
+00015410: 6c65 2e77 7269 7465 2872 6169 6c72 6f61  le.write(railroa
+00015420: 645f 746f 5f68 746d 6c28 7261 696c 726f  d_to_html(railro
+00015430: 6164 2c20 656d 6265 643d 656d 6265 642c  ad, embed=embed,
+00015440: 202a 2a6b 7761 7267 7329 290a 2020 2020   **kwargs)).    
+00015450: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00015460: 2020 2020 2020 2320 7765 2077 6572 6520        # we were 
+00015470: 7061 7373 6564 2061 2066 696c 652d 6c69  passed a file-li
+00015480: 6b65 206f 626a 6563 742c 206a 7573 7420  ke object, just 
+00015490: 7772 6974 6520 746f 2069 740a 2020 2020  write to it.    
+000154a0: 2020 2020 2020 2020 6f75 7470 7574 5f68          output_h
+000154b0: 746d 6c2e 7772 6974 6528 7261 696c 726f  tml.write(railro
+000154c0: 6164 5f74 6f5f 6874 6d6c 2872 6169 6c72  ad_to_html(railr
+000154d0: 6f61 642c 2065 6d62 6564 3d65 6d62 6564  oad, embed=embed
+000154e0: 2c20 2a2a 6b77 6172 6773 2929 0a0a 2020  , **kwargs))..  
+000154f0: 2020 2320 436f 6d70 6174 6962 696c 6974    # Compatibilit
+00015500: 7920 7379 6e6f 6e79 6d73 0a20 2020 2023  y synonyms.    #
+00015510: 2066 6d74 3a20 6f66 660a 2020 2020 4073   fmt: off.    @s
+00015520: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
+00015530: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
+00015540: 3828 696e 6c69 6e65 5f6c 6974 6572 616c  8(inline_literal
+00015550: 735f 7573 696e 6729 0a20 2020 2064 6566  s_using).    def
+00015560: 2069 6e6c 696e 654c 6974 6572 616c 7355   inlineLiteralsU
+00015570: 7369 6e67 2829 3a20 2e2e 2e0a 0a20 2020  sing(): .....   
+00015580: 2040 7374 6174 6963 6d65 7468 6f64 0a20   @staticmethod. 
+00015590: 2020 2040 7265 706c 6163 6564 5f62 795f     @replaced_by_
+000155a0: 7065 7038 2873 6574 5f64 6566 6175 6c74  pep8(set_default
+000155b0: 5f77 6869 7465 7370 6163 655f 6368 6172  _whitespace_char
+000155c0: 7329 0a20 2020 2064 6566 2073 6574 4465  s).    def setDe
+000155d0: 6661 756c 7457 6869 7465 7370 6163 6543  faultWhitespaceC
+000155e0: 6861 7273 2829 3a20 2e2e 2e0a 0a20 2020  hars(): .....   
+000155f0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
+00015600: 7038 2873 6574 5f72 6573 756c 7473 5f6e  p8(set_results_n
+00015610: 616d 6529 0a20 2020 2064 6566 2073 6574  ame).    def set
+00015620: 5265 7375 6c74 734e 616d 6528 7365 6c66  ResultsName(self
+00015630: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
+00015640: 6c61 6365 645f 6279 5f70 6570 3828 7365  laced_by_pep8(se
+00015650: 745f 6272 6561 6b29 0a20 2020 2064 6566  t_break).    def
+00015660: 2073 6574 4272 6561 6b28 7365 6c66 293a   setBreak(self):
+00015670: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
+00015680: 6365 645f 6279 5f70 6570 3828 7365 745f  ced_by_pep8(set_
+00015690: 7061 7273 655f 6163 7469 6f6e 290a 2020  parse_action).  
+000156a0: 2020 6465 6620 7365 7450 6172 7365 4163    def setParseAc
+000156b0: 7469 6f6e 2873 656c 6629 3a20 2e2e 2e0a  tion(self): ....
+000156c0: 0a20 2020 2040 7265 706c 6163 6564 5f62  .    @replaced_b
+000156d0: 795f 7065 7038 2861 6464 5f70 6172 7365  y_pep8(add_parse
+000156e0: 5f61 6374 696f 6e29 0a20 2020 2064 6566  _action).    def
+000156f0: 2061 6464 5061 7273 6541 6374 696f 6e28   addParseAction(
+00015700: 7365 6c66 293a 202e 2e2e 0a0a 2020 2020  self): .....    
+00015710: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
+00015720: 3828 6164 645f 636f 6e64 6974 696f 6e29  8(add_condition)
+00015730: 0a20 2020 2064 6566 2061 6464 436f 6e64  .    def addCond
+00015740: 6974 696f 6e28 7365 6c66 293a 202e 2e2e  ition(self): ...
+00015750: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
+00015760: 6279 5f70 6570 3828 7365 745f 6661 696c  by_pep8(set_fail
+00015770: 5f61 6374 696f 6e29 0a20 2020 2064 6566  _action).    def
+00015780: 2073 6574 4661 696c 4163 7469 6f6e 2873   setFailAction(s
+00015790: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
+000157a0: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+000157b0: 2874 7279 5f70 6172 7365 290a 2020 2020  (try_parse).    
+000157c0: 6465 6620 7472 7950 6172 7365 2873 656c  def tryParse(sel
+000157d0: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7374  f): .....    @st
+000157e0: 6174 6963 6d65 7468 6f64 0a20 2020 2040  aticmethod.    @
+000157f0: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00015800: 2865 6e61 626c 655f 6c65 6674 5f72 6563  (enable_left_rec
+00015810: 7572 7369 6f6e 290a 2020 2020 6465 6620  ursion).    def 
+00015820: 656e 6162 6c65 4c65 6674 5265 6375 7273  enableLeftRecurs
+00015830: 696f 6e28 293a 202e 2e2e 0a0a 2020 2020  ion(): .....    
+00015840: 4073 7461 7469 636d 6574 686f 640a 2020  @staticmethod.  
+00015850: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
+00015860: 6570 3828 656e 6162 6c65 5f70 6163 6b72  ep8(enable_packr
+00015870: 6174 290a 2020 2020 6465 6620 656e 6162  at).    def enab
+00015880: 6c65 5061 636b 7261 7428 293a 202e 2e2e  lePackrat(): ...
+00015890: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
+000158a0: 6279 5f70 6570 3828 7061 7273 655f 7374  by_pep8(parse_st
+000158b0: 7269 6e67 290a 2020 2020 6465 6620 7061  ring).    def pa
+000158c0: 7273 6553 7472 696e 6728 7365 6c66 293a  rseString(self):
+000158d0: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
+000158e0: 6365 645f 6279 5f70 6570 3828 7363 616e  ced_by_pep8(scan
+000158f0: 5f73 7472 696e 6729 0a20 2020 2064 6566  _string).    def
+00015900: 2073 6361 6e53 7472 696e 6728 7365 6c66   scanString(self
+00015910: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
+00015920: 6c61 6365 645f 6279 5f70 6570 3828 7472  laced_by_pep8(tr
+00015930: 616e 7366 6f72 6d5f 7374 7269 6e67 290a  ansform_string).
+00015940: 2020 2020 6465 6620 7472 616e 7366 6f72      def transfor
+00015950: 6d53 7472 696e 6728 7365 6c66 293a 202e  mString(self): .
+00015960: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
+00015970: 645f 6279 5f70 6570 3828 7365 6172 6368  d_by_pep8(search
+00015980: 5f73 7472 696e 6729 0a20 2020 2064 6566  _string).    def
+00015990: 2073 6561 7263 6853 7472 696e 6728 7365   searchString(se
+000159a0: 6c66 293a 202e 2e2e 0a0a 2020 2020 4072  lf): .....    @r
+000159b0: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
+000159c0: 6967 6e6f 7265 5f77 6869 7465 7370 6163  ignore_whitespac
+000159d0: 6529 0a20 2020 2064 6566 2069 676e 6f72  e).    def ignor
+000159e0: 6557 6869 7465 7370 6163 6528 7365 6c66  eWhitespace(self
+000159f0: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
+00015a00: 6c61 6365 645f 6279 5f70 6570 3828 6c65  laced_by_pep8(le
+00015a10: 6176 655f 7768 6974 6573 7061 6365 290a  ave_whitespace).
+00015a20: 2020 2020 6465 6620 6c65 6176 6557 6869      def leaveWhi
+00015a30: 7465 7370 6163 6528 7365 6c66 293a 202e  tespace(self): .
+00015a40: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
+00015a50: 645f 6279 5f70 6570 3828 7365 745f 7768  d_by_pep8(set_wh
+00015a60: 6974 6573 7061 6365 5f63 6861 7273 290a  itespace_chars).
+00015a70: 2020 2020 6465 6620 7365 7457 6869 7465      def setWhite
+00015a80: 7370 6163 6543 6861 7273 2873 656c 6629  spaceChars(self)
+00015a90: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
+00015aa0: 6163 6564 5f62 795f 7065 7038 2870 6172  aced_by_pep8(par
+00015ab0: 7365 5f77 6974 685f 7461 6273 290a 2020  se_with_tabs).  
+00015ac0: 2020 6465 6620 7061 7273 6557 6974 6854    def parseWithT
+00015ad0: 6162 7328 7365 6c66 293a 202e 2e2e 0a0a  abs(self): .....
+00015ae0: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
+00015af0: 5f70 6570 3828 7365 745f 6465 6275 675f  _pep8(set_debug_
+00015b00: 6163 7469 6f6e 7329 0a20 2020 2064 6566  actions).    def
+00015b10: 2073 6574 4465 6275 6741 6374 696f 6e73   setDebugActions
+00015b20: 2873 656c 6629 3a20 2e2e 2e0a 0a20 2020  (self): .....   
+00015b30: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
+00015b40: 7038 2873 6574 5f64 6562 7567 290a 2020  p8(set_debug).  
+00015b50: 2020 6465 6620 7365 7444 6562 7567 2873    def setDebug(s
+00015b60: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
+00015b70: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00015b80: 2873 6574 5f6e 616d 6529 0a20 2020 2064  (set_name).    d
+00015b90: 6566 2073 6574 4e61 6d65 2873 656c 6629  ef setName(self)
+00015ba0: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
+00015bb0: 6163 6564 5f62 795f 7065 7038 2870 6172  aced_by_pep8(par
+00015bc0: 7365 5f66 696c 6529 0a20 2020 2064 6566  se_file).    def
+00015bd0: 2070 6172 7365 4669 6c65 2873 656c 6629   parseFile(self)
+00015be0: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
+00015bf0: 6163 6564 5f62 795f 7065 7038 2872 756e  aced_by_pep8(run
+00015c00: 5f74 6573 7473 290a 2020 2020 6465 6620  _tests).    def 
+00015c10: 7275 6e54 6573 7473 2873 656c 6629 3a20  runTests(self): 
+00015c20: 2e2e 2e0a 0a20 2020 2063 616e 5061 7273  .....    canPars
+00015c30: 654e 6578 7420 3d20 6361 6e5f 7061 7273  eNext = can_pars
+00015c40: 655f 6e65 7874 0a20 2020 2072 6573 6574  e_next.    reset
+00015c50: 4361 6368 6520 3d20 7265 7365 745f 6361  Cache = reset_ca
+00015c60: 6368 650a 2020 2020 6465 6661 756c 744e  che.    defaultN
+00015c70: 616d 6520 3d20 6465 6661 756c 745f 6e61  ame = default_na
+00015c80: 6d65 0a20 2020 2023 2066 6d74 3a20 6f6e  me.    # fmt: on
+00015c90: 0a0a 0a63 6c61 7373 205f 5065 6e64 696e  ...class _Pendin
+00015ca0: 6753 6b69 7028 5061 7273 6572 456c 656d  gSkip(ParserElem
+00015cb0: 656e 7429 3a0a 2020 2020 2320 696e 7465  ent):.    # inte
+00015cc0: 726e 616c 2070 6c61 6365 686f 6c64 6572  rnal placeholder
+00015cd0: 2063 6c61 7373 2074 6f20 686f 6c64 2061   class to hold a
+00015ce0: 2070 6c61 6365 2077 6572 6520 272e 2e2e   place were '...
+00015cf0: 2720 6973 2061 6464 6564 2074 6f20 6120  ' is added to a 
+00015d00: 7061 7273 6572 2065 6c65 6d65 6e74 2c0a  parser element,.
+00015d10: 2020 2020 2320 6f6e 6365 2061 6e6f 7468      # once anoth
+00015d20: 6572 2050 6172 7365 7245 6c65 6d65 6e74  er ParserElement
+00015d30: 2069 7320 6164 6465 642c 2074 6869 7320   is added, this 
+00015d40: 706c 6163 6568 6f6c 6465 7220 7769 6c6c  placeholder will
+00015d50: 2062 6520 7265 706c 6163 6564 2077 6974   be replaced wit
+00015d60: 6820 6120 536b 6970 546f 0a20 2020 2064  h a SkipTo.    d
+00015d70: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+00015d80: 2c20 6578 7072 3a20 5061 7273 6572 456c  , expr: ParserEl
+00015d90: 656d 656e 742c 206d 7573 745f 736b 6970  ement, must_skip
+00015da0: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
+00015db0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00015dc0: 2e5f 5f69 6e69 745f 5f28 290a 2020 2020  .__init__().    
+00015dd0: 2020 2020 7365 6c66 2e61 6e63 686f 7220      self.anchor 
+00015de0: 3d20 6578 7072 0a20 2020 2020 2020 2073  = expr.        s
+00015df0: 656c 662e 6d75 7374 5f73 6b69 7020 3d20  elf.must_skip = 
+00015e00: 6d75 7374 5f73 6b69 700a 0a20 2020 2064  must_skip..    d
+00015e10: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+00015e20: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+00015e30: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
+00015e40: 7475 726e 2073 7472 2873 656c 662e 616e  turn str(self.an
+00015e50: 6368 6f72 202b 2045 6d70 7479 2829 292e  chor + Empty()).
+00015e60: 7265 706c 6163 6528 2245 6d70 7479 222c  replace("Empty",
+00015e70: 2022 2e2e 2e22 290a 0a20 2020 2064 6566   "...")..    def
+00015e80: 205f 5f61 6464 5f5f 2873 656c 662c 206f   __add__(self, o
+00015e90: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
+00015ea0: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+00015eb0: 2020 736b 6970 7065 7220 3d20 536b 6970    skipper = Skip
+00015ec0: 546f 286f 7468 6572 292e 7365 745f 6e61  To(other).set_na
+00015ed0: 6d65 2822 2e2e 2e22 2928 225f 736b 6970  me("...")("_skip
+00015ee0: 7065 642a 2229 0a20 2020 2020 2020 2069  ped*").        i
+00015ef0: 6620 7365 6c66 2e6d 7573 745f 736b 6970  f self.must_skip
+00015f00: 3a0a 0a20 2020 2020 2020 2020 2020 2064  :..            d
+00015f10: 6566 206d 7573 745f 736b 6970 2874 293a  ef must_skip(t):
+00015f20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015f30: 2069 6620 6e6f 7420 742e 5f73 6b69 7070   if not t._skipp
+00015f40: 6564 206f 7220 742e 5f73 6b69 7070 6564  ed or t._skipped
+00015f50: 2e61 735f 6c69 7374 2829 203d 3d20 5b22  .as_list() == ["
+00015f60: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
+00015f70: 2020 2020 2020 2020 6465 6c20 745b 305d          del t[0]
+00015f80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015f90: 2020 2020 2074 2e70 6f70 2822 5f73 6b69       t.pop("_ski
+00015fa0: 7070 6564 222c 204e 6f6e 6529 0a0a 2020  pped", None)..  
+00015fb0: 2020 2020 2020 2020 2020 6465 6620 7368            def sh
+00015fc0: 6f77 5f73 6b69 7028 7429 3a0a 2020 2020  ow_skip(t):.    
+00015fd0: 2020 2020 2020 2020 2020 2020 6966 2074              if t
+00015fe0: 2e5f 736b 6970 7065 642e 6173 5f6c 6973  ._skipped.as_lis
+00015ff0: 7428 295b 2d31 3a5d 203d 3d20 5b22 225d  t()[-1:] == [""]
+00016000: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00016010: 2020 2020 2020 742e 706f 7028 225f 736b        t.pop("_sk
+00016020: 6970 7065 6422 290a 2020 2020 2020 2020  ipped").        
+00016030: 2020 2020 2020 2020 2020 2020 745b 225f              t["_
+00016040: 736b 6970 7065 6422 5d20 3d20 226d 6973  skipped"] = "mis
+00016050: 7369 6e67 203c 2220 2b20 7265 7072 2873  sing <" + repr(s
+00016060: 656c 662e 616e 6368 6f72 2920 2b20 223e  elf.anchor) + ">
+00016070: 220a 0a20 2020 2020 2020 2020 2020 2072  "..            r
+00016080: 6574 7572 6e20 280a 2020 2020 2020 2020  eturn (.        
+00016090: 2020 2020 2020 2020 7365 6c66 2e61 6e63          self.anc
+000160a0: 686f 7220 2b20 736b 6970 7065 7228 292e  hor + skipper().
+000160b0: 6164 645f 7061 7273 655f 6163 7469 6f6e  add_parse_action
+000160c0: 286d 7573 745f 736b 6970 290a 2020 2020  (must_skip).    
+000160d0: 2020 2020 2020 2020 2020 2020 7c20 736b              | sk
+000160e0: 6970 7065 7228 292e 6164 645f 7061 7273  ipper().add_pars
+000160f0: 655f 6163 7469 6f6e 2873 686f 775f 736b  e_action(show_sk
+00016100: 6970 290a 2020 2020 2020 2020 2020 2020  ip).            
+00016110: 2920 2b20 6f74 6865 720a 0a20 2020 2020  ) + other..     
+00016120: 2020 2072 6574 7572 6e20 7365 6c66 2e61     return self.a
+00016130: 6e63 686f 7220 2b20 736b 6970 7065 7220  nchor + skipper 
+00016140: 2b20 6f74 6865 720a 0a20 2020 2064 6566  + other..    def
+00016150: 205f 5f72 6570 725f 5f28 7365 6c66 293a   __repr__(self):
+00016160: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00016170: 7365 6c66 2e64 6566 6175 6c74 4e61 6d65  self.defaultName
+00016180: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+00016190: 6d70 6c28 7365 6c66 2c20 2a61 7267 7329  mpl(self, *args)
+000161a0: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
+000161b0: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
+000161c0: 2020 2020 2020 2022 7573 6520 6f66 2060         "use of `
+000161d0: 2e2e 2e60 2065 7870 7265 7373 696f 6e20  ...` expression 
+000161e0: 7769 7468 6f75 7420 666f 6c6c 6f77 696e  without followin
+000161f0: 6720 536b 6970 546f 2074 6172 6765 7420  g SkipTo target 
+00016200: 6578 7072 6573 7369 6f6e 220a 2020 2020  expression".    
+00016210: 2020 2020 290a 0a0a 636c 6173 7320 546f      )...class To
+00016220: 6b65 6e28 5061 7273 6572 456c 656d 656e  ken(ParserElemen
+00016230: 7429 3a0a 2020 2020 2222 2241 6273 7472  t):.    """Abstr
+00016240: 6163 7420 3a63 6c61 7373 3a60 5061 7273  act :class:`Pars
+00016250: 6572 456c 656d 656e 7460 2073 7562 636c  erElement` subcl
+00016260: 6173 732c 2066 6f72 2064 6566 696e 696e  ass, for definin
+00016270: 6720 6174 6f6d 6963 0a20 2020 206d 6174  g atomic.    mat
+00016280: 6368 696e 6720 7061 7474 6572 6e73 2e0a  ching patterns..
+00016290: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+000162a0: 205f 5f69 6e69 745f 5f28 7365 6c66 293a   __init__(self):
+000162b0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+000162c0: 2e5f 5f69 6e69 745f 5f28 7361 7665 6c69  .__init__(saveli
+000162d0: 7374 3d46 616c 7365 290a 0a20 2020 2064  st=False)..    d
+000162e0: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+000162f0: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+00016300: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
+00016310: 7475 726e 2074 7970 6528 7365 6c66 292e  turn type(self).
+00016320: 5f5f 6e61 6d65 5f5f 0a0a 0a63 6c61 7373  __name__...class
+00016330: 204e 6f4d 6174 6368 2854 6f6b 656e 293a   NoMatch(Token):
+00016340: 0a20 2020 2022 2222 0a20 2020 2041 2074  .    """.    A t
+00016350: 6f6b 656e 2074 6861 7420 7769 6c6c 206e  oken that will n
+00016360: 6576 6572 206d 6174 6368 2e0a 2020 2020  ever match..    
+00016370: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
+00016380: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
+00016390: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
+000163a0: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
+000163b0: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
+000163c0: 7074 7920 3d20 5472 7565 0a20 2020 2020  pty = True.     
+000163d0: 2020 2073 656c 662e 6d61 7949 6e64 6578     self.mayIndex
+000163e0: 4572 726f 7220 3d20 4661 6c73 650a 2020  Error = False.  
+000163f0: 2020 2020 2020 7365 6c66 2e65 7272 6d73        self.errms
+00016400: 6720 3d20 2255 6e6d 6174 6368 6162 6c65  g = "Unmatchable
+00016410: 2074 6f6b 656e 220a 0a20 2020 2064 6566   token"..    def
+00016420: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+00016430: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00016440: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+00016450: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
+00016460: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
+00016470: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
+00016480: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
+00016490: 0a0a 636c 6173 7320 4c69 7465 7261 6c28  ..class Literal(
+000164a0: 546f 6b65 6e29 3a0a 2020 2020 2222 220a  Token):.    """.
+000164b0: 2020 2020 546f 6b65 6e20 746f 2065 7861      Token to exa
+000164c0: 6374 6c79 206d 6174 6368 2061 2073 7065  ctly match a spe
+000164d0: 6369 6669 6564 2073 7472 696e 672e 0a0a  cified string...
+000164e0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+000164f0: 2020 2020 2020 204c 6974 6572 616c 2827         Literal('
+00016500: 626c 6168 2729 2e70 6172 7365 5f73 7472  blah').parse_str
+00016510: 696e 6728 2762 6c61 6827 2920 2023 202d  ing('blah')  # -
+00016520: 3e20 5b27 626c 6168 275d 0a20 2020 2020  > ['blah'].     
+00016530: 2020 204c 6974 6572 616c 2827 626c 6168     Literal('blah
+00016540: 2729 2e70 6172 7365 5f73 7472 696e 6728  ').parse_string(
+00016550: 2762 6c61 6866 6f6f 626c 6168 2729 2020  'blahfooblah')  
+00016560: 2320 2d3e 205b 2762 6c61 6827 5d0a 2020  # -> ['blah'].  
+00016570: 2020 2020 2020 4c69 7465 7261 6c28 2762        Literal('b
+00016580: 6c61 6827 292e 7061 7273 655f 7374 7269  lah').parse_stri
+00016590: 6e67 2827 626c 6127 2920 2023 202d 3e20  ng('bla')  # -> 
+000165a0: 4578 6365 7074 696f 6e3a 2045 7870 6563  Exception: Expec
+000165b0: 7465 6420 2262 6c61 6822 0a0a 2020 2020  ted "blah"..    
+000165c0: 466f 7220 6361 7365 2d69 6e73 656e 7369  For case-insensi
+000165d0: 7469 7665 206d 6174 6368 696e 672c 2075  tive matching, u
+000165e0: 7365 203a 636c 6173 733a 6043 6173 656c  se :class:`Casel
+000165f0: 6573 734c 6974 6572 616c 602e 0a0a 2020  essLiteral`...  
+00016600: 2020 466f 7220 6b65 7977 6f72 6420 6d61    For keyword ma
+00016610: 7463 6869 6e67 2028 666f 7263 6520 776f  tching (force wo
+00016620: 7264 2062 7265 616b 2062 6566 6f72 6520  rd break before 
+00016630: 616e 6420 6166 7465 7220 7468 6520 6d61  and after the ma
+00016640: 7463 6865 6420 7374 7269 6e67 292c 0a20  tched string),. 
+00016650: 2020 2075 7365 203a 636c 6173 733a 604b     use :class:`K
+00016660: 6579 776f 7264 6020 6f72 203a 636c 6173  eyword` or :clas
+00016670: 733a 6043 6173 656c 6573 734b 6579 776f  s:`CaselessKeywo
+00016680: 7264 602e 0a20 2020 2022 2222 0a0a 2020  rd`..    """..  
+00016690: 2020 6465 6620 5f5f 6e65 775f 5f28 636c    def __new__(cl
+000166a0: 732c 206d 6174 6368 5f73 7472 696e 673a  s, match_string:
+000166b0: 2073 7472 203d 2022 222c 202a 2c20 6d61   str = "", *, ma
+000166c0: 7463 6853 7472 696e 673a 2073 7472 203d  tchString: str =
+000166d0: 2022 2229 3a0a 2020 2020 2020 2020 2320   ""):.        # 
+000166e0: 5065 7266 6f72 6d61 6e63 6520 7475 6e69  Performance tuni
+000166f0: 6e67 3a20 7365 6c65 6374 2061 2073 7562  ng: select a sub
+00016700: 636c 6173 7320 7769 7468 206f 7074 696d  class with optim
+00016710: 697a 6564 2070 6172 7365 496d 706c 0a20  ized parseImpl. 
+00016720: 2020 2020 2020 2069 6620 636c 7320 6973         if cls is
+00016730: 204c 6974 6572 616c 3a0a 2020 2020 2020   Literal:.      
+00016740: 2020 2020 2020 6d61 7463 685f 7374 7269        match_stri
+00016750: 6e67 203d 206d 6174 6368 5374 7269 6e67  ng = matchString
+00016760: 206f 7220 6d61 7463 685f 7374 7269 6e67   or match_string
+00016770: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00016780: 6e6f 7420 6d61 7463 685f 7374 7269 6e67  not match_string
+00016790: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000167a0: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
+000167b0: 2e5f 5f6e 6577 5f5f 2845 6d70 7479 290a  .__new__(Empty).
+000167c0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+000167d0: 656e 286d 6174 6368 5f73 7472 696e 6729  en(match_string)
+000167e0: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
+000167f0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
+00016800: 7065 7228 292e 5f5f 6e65 775f 5f28 5f53  per().__new__(_S
+00016810: 696e 676c 6543 6861 724c 6974 6572 616c  ingleCharLiteral
+00016820: 290a 0a20 2020 2020 2020 2023 2044 6566  )..        # Def
+00016830: 6175 6c74 2062 6568 6176 696f 720a 2020  ault behavior.  
+00016840: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
+00016850: 6572 2829 2e5f 5f6e 6577 5f5f 2863 6c73  er().__new__(cls
+00016860: 290a 0a20 2020 2023 204e 6565 6465 6420  )..    # Needed 
+00016870: 746f 206d 616b 6520 636f 7079 2e63 6f70  to make copy.cop
+00016880: 7928 2920 776f 726b 2063 6f72 7265 6374  y() work correct
+00016890: 6c79 2069 6620 7765 2063 7573 746f 6d69  ly if we customi
+000168a0: 7a65 205f 5f6e 6577 5f5f 0a20 2020 2064  ze __new__.    d
+000168b0: 6566 205f 5f67 6574 6e65 7761 7267 735f  ef __getnewargs_
+000168c0: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
+000168d0: 2072 6574 7572 6e20 2873 656c 662e 6d61   return (self.ma
+000168e0: 7463 682c 290a 0a20 2020 2064 6566 205f  tch,)..    def _
+000168f0: 5f69 6e69 745f 5f28 7365 6c66 2c20 6d61  _init__(self, ma
+00016900: 7463 685f 7374 7269 6e67 3a20 7374 7220  tch_string: str 
+00016910: 3d20 2222 2c20 2a2c 206d 6174 6368 5374  = "", *, matchSt
+00016920: 7269 6e67 3a20 7374 7220 3d20 2222 293a  ring: str = ""):
+00016930: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00016940: 2e5f 5f69 6e69 745f 5f28 290a 2020 2020  .__init__().    
+00016950: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
+00016960: 203d 206d 6174 6368 5374 7269 6e67 206f   = matchString o
+00016970: 7220 6d61 7463 685f 7374 7269 6e67 0a20  r match_string. 
+00016980: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
+00016990: 6820 3d20 6d61 7463 685f 7374 7269 6e67  h = match_string
+000169a0: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+000169b0: 7463 684c 656e 203d 206c 656e 286d 6174  tchLen = len(mat
+000169c0: 6368 5f73 7472 696e 6729 0a20 2020 2020  ch_string).     
+000169d0: 2020 2073 656c 662e 6669 7273 744d 6174     self.firstMat
+000169e0: 6368 4368 6172 203d 206d 6174 6368 5f73  chChar = match_s
+000169f0: 7472 696e 675b 3a31 5d0a 2020 2020 2020  tring[:1].      
+00016a00: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
+00016a10: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
+00016a20: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
+00016a30: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
+00016a40: 7074 7920 3d20 4661 6c73 650a 2020 2020  pty = False.    
+00016a50: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
+00016a60: 7845 7272 6f72 203d 2046 616c 7365 0a0a  xError = False..
+00016a70: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
+00016a80: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
+00016a90: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+00016aa0: 2020 2072 6574 7572 6e20 7265 7072 2873     return repr(s
+00016ab0: 656c 662e 6d61 7463 6829 0a0a 2020 2020  elf.match)..    
+00016ac0: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
+00016ad0: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
+00016ae0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
+00016af0: 6529 3a0a 2020 2020 2020 2020 6966 2069  e):.        if i
+00016b00: 6e73 7472 696e 675b 6c6f 635d 203d 3d20  nstring[loc] == 
+00016b10: 7365 6c66 2e66 6972 7374 4d61 7463 6843  self.firstMatchC
+00016b20: 6861 7220 616e 6420 696e 7374 7269 6e67  har and instring
+00016b30: 2e73 7461 7274 7377 6974 6828 0a20 2020  .startswith(.   
+00016b40: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+00016b50: 7463 682c 206c 6f63 0a20 2020 2020 2020  tch, loc.       
+00016b60: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+00016b70: 7265 7475 726e 206c 6f63 202b 2073 656c  return loc + sel
+00016b80: 662e 6d61 7463 684c 656e 2c20 7365 6c66  f.matchLen, self
+00016b90: 2e6d 6174 6368 0a20 2020 2020 2020 2072  .match.        r
+00016ba0: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+00016bb0: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
+00016bc0: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
+00016bd0: 7365 6c66 290a 0a0a 636c 6173 7320 456d  self)...class Em
+00016be0: 7074 7928 4c69 7465 7261 6c29 3a0a 2020  pty(Literal):.  
+00016bf0: 2020 2222 220a 2020 2020 416e 2065 6d70    """.    An emp
+00016c00: 7479 2074 6f6b 656e 2c20 7769 6c6c 2061  ty token, will a
+00016c10: 6c77 6179 7320 6d61 7463 682e 0a20 2020  lways match..   
+00016c20: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
+00016c30: 696e 6974 5f5f 2873 656c 662c 206d 6174  init__(self, mat
+00016c40: 6368 5f73 7472 696e 673d 2222 2c20 2a2c  ch_string="", *,
+00016c50: 206d 6174 6368 5374 7269 6e67 3d22 2229   matchString="")
+00016c60: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+00016c70: 292e 5f5f 696e 6974 5f5f 2822 2229 0a20  ).__init__(""). 
+00016c80: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
+00016c90: 6574 7572 6e45 6d70 7479 203d 2054 7275  eturnEmpty = Tru
+00016ca0: 650a 2020 2020 2020 2020 7365 6c66 2e6d  e.        self.m
+00016cb0: 6179 496e 6465 7845 7272 6f72 203d 2046  ayIndexError = F
+00016cc0: 616c 7365 0a0a 2020 2020 6465 6620 5f67  alse..    def _g
+00016cd0: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
+00016ce0: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
+00016cf0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00016d00: 2245 6d70 7479 220a 0a20 2020 2064 6566  "Empty"..    def
+00016d10: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+00016d20: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00016d30: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+00016d40: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00016d50: 6c6f 632c 205b 5d0a 0a0a 636c 6173 7320  loc, []...class 
+00016d60: 5f53 696e 676c 6543 6861 724c 6974 6572  _SingleCharLiter
+00016d70: 616c 284c 6974 6572 616c 293a 0a20 2020  al(Literal):.   
+00016d80: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+00016d90: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+00016da0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+00016db0: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
+00016dc0: 696e 7374 7269 6e67 5b6c 6f63 5d20 3d3d  instring[loc] ==
+00016dd0: 2073 656c 662e 6669 7273 744d 6174 6368   self.firstMatch
+00016de0: 4368 6172 3a0a 2020 2020 2020 2020 2020  Char:.          
+00016df0: 2020 7265 7475 726e 206c 6f63 202b 2031    return loc + 1
+00016e00: 2c20 7365 6c66 2e6d 6174 6368 0a20 2020  , self.match.   
+00016e10: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
+00016e20: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
+00016e30: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
+00016e40: 726d 7367 2c20 7365 6c66 290a 0a0a 5061  rmsg, self)...Pa
+00016e50: 7273 6572 456c 656d 656e 742e 5f6c 6974  rserElement._lit
+00016e60: 6572 616c 5374 7269 6e67 436c 6173 7320  eralStringClass 
+00016e70: 3d20 4c69 7465 7261 6c0a 0a0a 636c 6173  = Literal...clas
+00016e80: 7320 4b65 7977 6f72 6428 546f 6b65 6e29  s Keyword(Token)
+00016e90: 3a0a 2020 2020 2222 220a 2020 2020 546f  :.    """.    To
+00016ea0: 6b65 6e20 746f 2065 7861 6374 6c79 206d  ken to exactly m
+00016eb0: 6174 6368 2061 2073 7065 6369 6669 6564  atch a specified
+00016ec0: 2073 7472 696e 6720 6173 2061 206b 6579   string as a key
+00016ed0: 776f 7264 2c20 7468 6174 2069 732c 0a20  word, that is,. 
+00016ee0: 2020 2069 7420 6d75 7374 2062 6520 696d     it must be im
+00016ef0: 6d65 6469 6174 656c 7920 7072 6563 6564  mediately preced
+00016f00: 6564 2061 6e64 2066 6f6c 6c6f 7765 6420  ed and followed 
+00016f10: 6279 2077 6869 7465 7370 6163 6520 6f72  by whitespace or
+00016f20: 0a20 2020 206e 6f6e 2d6b 6579 776f 7264  .    non-keyword
+00016f30: 2063 6861 7261 6374 6572 732e 2043 6f6d   characters. Com
+00016f40: 7061 7265 2077 6974 6820 3a63 6c61 7373  pare with :class
+00016f50: 3a60 4c69 7465 7261 6c60 3a0a 0a20 2020  :`Literal`:..   
+00016f60: 202d 2060 604c 6974 6572 616c 2822 6966   - ``Literal("if
+00016f70: 2229 6060 2077 696c 6c20 6d61 7463 6820  ")`` will match 
+00016f80: 7468 6520 6c65 6164 696e 6720 6060 2769  the leading ``'i
+00016f90: 6627 6060 2069 6e0a 2020 2020 2020 6060  f'`` in.      ``
+00016fa0: 2769 6641 6e64 4f6e 6c79 4966 2760 602e  'ifAndOnlyIf'``.
+00016fb0: 0a20 2020 202d 2060 604b 6579 776f 7264  .    - ``Keyword
+00016fc0: 2822 6966 2229 6060 2077 696c 6c20 6e6f  ("if")`` will no
+00016fd0: 743b 2069 7420 7769 6c6c 206f 6e6c 7920  t; it will only 
+00016fe0: 6d61 7463 6820 7468 6520 6c65 6164 696e  match the leadin
+00016ff0: 670a 2020 2020 2020 6060 2769 6627 6060  g.      ``'if'``
+00017000: 2069 6e20 6060 2769 6620 783d 3127 6060   in ``'if x=1'``
+00017010: 2c20 6f72 2060 6027 6966 2879 3d3d 3229  , or ``'if(y==2)
+00017020: 2760 600a 0a20 2020 2041 6363 6570 7473  '``..    Accepts
+00017030: 2074 776f 206f 7074 696f 6e61 6c20 636f   two optional co
+00017040: 6e73 7472 7563 746f 7220 6172 6775 6d65  nstructor argume
+00017050: 6e74 7320 696e 2061 6464 6974 696f 6e20  nts in addition 
+00017060: 746f 2074 6865 0a20 2020 206b 6579 776f  to the.    keywo
+00017070: 7264 2073 7472 696e 673a 0a0a 2020 2020  rd string:..    
+00017080: 2d20 6060 6964 656e 745f 6368 6172 7360  - ``ident_chars`
+00017090: 6020 6973 2061 2073 7472 696e 6720 6f66  ` is a string of
+000170a0: 2063 6861 7261 6374 6572 7320 7468 6174   characters that
+000170b0: 2077 6f75 6c64 2062 6520 7661 6c69 640a   would be valid.
+000170c0: 2020 2020 2020 6964 656e 7469 6669 6572        identifier
+000170d0: 2063 6861 7261 6374 6572 732c 2064 6566   characters, def
+000170e0: 6175 6c74 696e 6720 746f 2061 6c6c 2061  aulting to all a
+000170f0: 6c70 6861 6e75 6d65 7269 6373 202b 2022  lphanumerics + "
+00017100: 5f22 2061 6e64 0a20 2020 2020 2022 2422  _" and.      "$"
+00017110: 0a20 2020 202d 2060 6063 6173 656c 6573  .    - ``caseles
+00017120: 7360 6020 616c 6c6f 7773 2063 6173 652d  s`` allows case-
+00017130: 696e 7365 6e73 6974 6976 6520 6d61 7463  insensitive matc
+00017140: 6869 6e67 2c20 6465 6661 756c 7420 6973  hing, default is
+00017150: 2060 6046 616c 7365 6060 2e0a 0a20 2020   ``False``...   
+00017160: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
+00017170: 2020 2020 4b65 7977 6f72 6428 2273 7461      Keyword("sta
+00017180: 7274 2229 2e70 6172 7365 5f73 7472 696e  rt").parse_strin
+00017190: 6728 2273 7461 7274 2229 2020 2320 2d3e  g("start")  # ->
+000171a0: 205b 2773 7461 7274 275d 0a20 2020 2020   ['start'].     
+000171b0: 2020 204b 6579 776f 7264 2822 7374 6172     Keyword("star
+000171c0: 7422 292e 7061 7273 655f 7374 7269 6e67  t").parse_string
+000171d0: 2822 7374 6172 7469 6e67 2229 2020 2320  ("starting")  # 
+000171e0: 2d3e 2045 7863 6570 7469 6f6e 0a0a 2020  -> Exception..  
+000171f0: 2020 466f 7220 6361 7365 2d69 6e73 656e    For case-insen
+00017200: 7369 7469 7665 206d 6174 6368 696e 672c  sitive matching,
+00017210: 2075 7365 203a 636c 6173 733a 6043 6173   use :class:`Cas
+00017220: 656c 6573 734b 6579 776f 7264 602e 0a20  elessKeyword`.. 
+00017230: 2020 2022 2222 0a0a 2020 2020 4445 4641     """..    DEFA
+00017240: 554c 545f 4b45 5957 4f52 445f 4348 4152  ULT_KEYWORD_CHAR
+00017250: 5320 3d20 616c 7068 616e 756d 7320 2b20  S = alphanums + 
+00017260: 225f 2422 0a0a 2020 2020 6465 6620 5f5f  "_$"..    def __
+00017270: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
+00017280: 7365 6c66 2c0a 2020 2020 2020 2020 6d61  self,.        ma
+00017290: 7463 685f 7374 7269 6e67 3a20 7374 7220  tch_string: str 
+000172a0: 3d20 2222 2c0a 2020 2020 2020 2020 6964  = "",.        id
+000172b0: 656e 745f 6368 6172 733a 2074 7970 696e  ent_chars: typin
+000172c0: 672e 4f70 7469 6f6e 616c 5b73 7472 5d20  g.Optional[str] 
+000172d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000172e0: 6361 7365 6c65 7373 3a20 626f 6f6c 203d  caseless: bool =
+000172f0: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+00017300: 2a2c 0a20 2020 2020 2020 206d 6174 6368  *,.        match
+00017310: 5374 7269 6e67 3a20 7374 7220 3d20 2222  String: str = ""
+00017320: 2c0a 2020 2020 2020 2020 6964 656e 7443  ,.        identC
+00017330: 6861 7273 3a20 7479 7069 6e67 2e4f 7074  hars: typing.Opt
+00017340: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+00017350: 652c 0a20 2020 2029 3a0a 2020 2020 2020  e,.    ):.      
+00017360: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+00017370: 5f5f 2829 0a20 2020 2020 2020 2069 6465  __().        ide
+00017380: 6e74 4368 6172 7320 3d20 6964 656e 7443  ntChars = identC
+00017390: 6861 7273 206f 7220 6964 656e 745f 6368  hars or ident_ch
+000173a0: 6172 730a 2020 2020 2020 2020 6966 2069  ars.        if i
+000173b0: 6465 6e74 4368 6172 7320 6973 204e 6f6e  dentChars is Non
+000173c0: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
+000173d0: 6465 6e74 4368 6172 7320 3d20 4b65 7977  dentChars = Keyw
+000173e0: 6f72 642e 4445 4641 554c 545f 4b45 5957  ord.DEFAULT_KEYW
+000173f0: 4f52 445f 4348 4152 530a 2020 2020 2020  ORD_CHARS.      
+00017400: 2020 6d61 7463 685f 7374 7269 6e67 203d    match_string =
+00017410: 206d 6174 6368 5374 7269 6e67 206f 7220   matchString or 
+00017420: 6d61 7463 685f 7374 7269 6e67 0a20 2020  match_string.   
+00017430: 2020 2020 2073 656c 662e 6d61 7463 6820       self.match 
+00017440: 3d20 6d61 7463 685f 7374 7269 6e67 0a20  = match_string. 
+00017450: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
+00017460: 684c 656e 203d 206c 656e 286d 6174 6368  hLen = len(match
+00017470: 5f73 7472 696e 6729 0a20 2020 2020 2020  _string).       
+00017480: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00017490: 2020 7365 6c66 2e66 6972 7374 4d61 7463    self.firstMatc
+000174a0: 6843 6861 7220 3d20 6d61 7463 685f 7374  hChar = match_st
+000174b0: 7269 6e67 5b30 5d0a 2020 2020 2020 2020  ring[0].        
+000174c0: 6578 6365 7074 2049 6e64 6578 4572 726f  except IndexErro
+000174d0: 723a 0a20 2020 2020 2020 2020 2020 2072  r:.            r
+000174e0: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
+000174f0: 226e 756c 6c20 7374 7269 6e67 2070 6173  "null string pas
+00017500: 7365 6420 746f 204b 6579 776f 7264 3b20  sed to Keyword; 
+00017510: 7573 6520 456d 7074 7928 2920 696e 7374  use Empty() inst
+00017520: 6561 6422 290a 2020 2020 2020 2020 7365  ead").        se
+00017530: 6c66 2e65 7272 6d73 6720 3d20 6622 4578  lf.errmsg = f"Ex
+00017540: 7065 6374 6564 207b 7479 7065 2873 656c  pected {type(sel
+00017550: 6629 2e5f 5f6e 616d 655f 5f7d 207b 7365  f).__name__} {se
+00017560: 6c66 2e6e 616d 657d 220a 2020 2020 2020  lf.name}".      
+00017570: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
+00017580: 456d 7074 7920 3d20 4661 6c73 650a 2020  Empty = False.  
+00017590: 2020 2020 2020 7365 6c66 2e6d 6179 496e        self.mayIn
+000175a0: 6465 7845 7272 6f72 203d 2046 616c 7365  dexError = False
+000175b0: 0a20 2020 2020 2020 2073 656c 662e 6361  .        self.ca
+000175c0: 7365 6c65 7373 203d 2063 6173 656c 6573  seless = caseles
+000175d0: 730a 2020 2020 2020 2020 6966 2063 6173  s.        if cas
+000175e0: 656c 6573 733a 0a20 2020 2020 2020 2020  eless:.         
+000175f0: 2020 2073 656c 662e 6361 7365 6c65 7373     self.caseless
+00017600: 6d61 7463 6820 3d20 6d61 7463 685f 7374  match = match_st
+00017610: 7269 6e67 2e75 7070 6572 2829 0a20 2020  ring.upper().   
+00017620: 2020 2020 2020 2020 2069 6465 6e74 4368           identCh
+00017630: 6172 7320 3d20 6964 656e 7443 6861 7273  ars = identChars
+00017640: 2e75 7070 6572 2829 0a20 2020 2020 2020  .upper().       
+00017650: 2073 656c 662e 6964 656e 7443 6861 7273   self.identChars
+00017660: 203d 2073 6574 2869 6465 6e74 4368 6172   = set(identChar
+00017670: 7329 0a0a 2020 2020 6465 6620 5f67 656e  s)..    def _gen
+00017680: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
+00017690: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
+000176a0: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+000176b0: 7072 2873 656c 662e 6d61 7463 6829 0a0a  pr(self.match)..
+000176c0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
+000176d0: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
+000176e0: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
+000176f0: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
+00017700: 6572 726d 7367 203d 2073 656c 662e 6572  errmsg = self.er
+00017710: 726d 7367 0a20 2020 2020 2020 2065 7272  rmsg.        err
+00017720: 6c6f 6320 3d20 6c6f 630a 2020 2020 2020  loc = loc.      
+00017730: 2020 6966 2073 656c 662e 6361 7365 6c65    if self.casele
+00017740: 7373 3a0a 2020 2020 2020 2020 2020 2020  ss:.            
+00017750: 6966 2069 6e73 7472 696e 675b 6c6f 6320  if instring[loc 
+00017760: 3a20 6c6f 6320 2b20 7365 6c66 2e6d 6174  : loc + self.mat
+00017770: 6368 4c65 6e5d 2e75 7070 6572 2829 203d  chLen].upper() =
+00017780: 3d20 7365 6c66 2e63 6173 656c 6573 736d  = self.caselessm
+00017790: 6174 6368 3a0a 2020 2020 2020 2020 2020  atch:.          
+000177a0: 2020 2020 2020 6966 206c 6f63 203d 3d20        if loc == 
+000177b0: 3020 6f72 2069 6e73 7472 696e 675b 6c6f  0 or instring[lo
+000177c0: 6320 2d20 315d 2e75 7070 6572 2829 206e  c - 1].upper() n
+000177d0: 6f74 2069 6e20 7365 6c66 2e69 6465 6e74  ot in self.ident
+000177e0: 4368 6172 733a 0a20 2020 2020 2020 2020  Chars:.         
+000177f0: 2020 2020 2020 2020 2020 2069 6620 280a             if (.
 00017800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017810: 2020 2072 6574 7572 6e20 6c6f 6320 2b20     return loc + 
-00017820: 7365 6c66 2e6d 6174 6368 4c65 6e2c 2073  self.matchLen, s
-00017830: 656c 662e 6d61 7463 680a 2020 2020 2020  elf.match.      
-00017840: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00017850: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00017860: 2020 2020 2020 2020 2020 2020 2320 666f              # fo
-00017870: 6c6c 6f77 6564 2062 7920 6b65 7977 6f72  llowed by keywor
-00017880: 6420 6368 6172 0a20 2020 2020 2020 2020  d char.         
-00017890: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000178a0: 7272 6d73 6720 2b3d 2022 2c20 7761 7320  rrmsg += ", was 
-000178b0: 696d 6d65 6469 6174 656c 7920 666f 6c6c  immediately foll
-000178c0: 6f77 6564 2062 7920 6b65 7977 6f72 6420  owed by keyword 
-000178d0: 6368 6172 6163 7465 7222 0a20 2020 2020  character".     
-000178e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000178f0: 2020 2065 7272 6c6f 6320 3d20 6c6f 6320     errloc = loc 
-00017900: 2b20 7365 6c66 2e6d 6174 6368 4c65 6e0a  + self.matchLen.
-00017910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017920: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00017930: 2020 2020 2020 2020 2020 2320 7072 6563            # prec
-00017940: 6564 6564 2062 7920 6b65 7977 6f72 6420  eded by keyword 
-00017950: 6368 6172 0a20 2020 2020 2020 2020 2020  char.           
-00017960: 2020 2020 2020 2020 2065 7272 6d73 6720           errmsg 
-00017970: 2b3d 2022 2c20 6b65 7977 6f72 6420 7761  += ", keyword wa
-00017980: 7320 696d 6d65 6469 6174 656c 7920 7072  s immediately pr
-00017990: 6563 6564 6564 2062 7920 6b65 7977 6f72  eceded by keywor
-000179a0: 6420 6368 6172 6163 7465 7222 0a20 2020  d character".   
-000179b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000179c0: 2065 7272 6c6f 6320 3d20 6c6f 6320 2d20   errloc = loc - 
-000179d0: 310a 2020 2020 2020 2020 2020 2020 2320  1.            # 
-000179e0: 656c 7365 206e 6f20 6d61 7463 6820 6a75  else no match ju
-000179f0: 7374 2072 6169 7365 2070 6c61 696e 2065  st raise plain e
-00017a00: 7863 6570 7469 6f6e 0a0a 2020 2020 2020  xception..      
-00017a10: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00017a20: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
-00017a30: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
-00017a40: 675b 6c6f 635d 203d 3d20 7365 6c66 2e66  g[loc] == self.f
-00017a50: 6972 7374 4d61 7463 6843 6861 720a 2020  irstMatchChar.  
-00017a60: 2020 2020 2020 2020 2020 2020 2020 616e                an
-00017a70: 6420 7365 6c66 2e6d 6174 6368 4c65 6e20  d self.matchLen 
-00017a80: 3d3d 2031 0a20 2020 2020 2020 2020 2020  == 1.           
-00017a90: 2020 2020 206f 7220 696e 7374 7269 6e67       or instring
-00017aa0: 2e73 7461 7274 7377 6974 6828 7365 6c66  .startswith(self
-00017ab0: 2e6d 6174 6368 2c20 6c6f 6329 0a20 2020  .match, loc).   
-00017ac0: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
-00017ad0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-00017ae0: 6f63 203d 3d20 3020 6f72 2069 6e73 7472  oc == 0 or instr
-00017af0: 696e 675b 6c6f 6320 2d20 315d 206e 6f74  ing[loc - 1] not
-00017b00: 2069 6e20 7365 6c66 2e69 6465 6e74 4368   in self.identCh
-00017b10: 6172 733a 0a20 2020 2020 2020 2020 2020  ars:.           
-00017b20: 2020 2020 2020 2020 2069 6620 280a 2020           if (.  
-00017b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b40: 2020 2020 2020 6c6f 6320 3e3d 206c 656e        loc >= len
-00017b50: 2869 6e73 7472 696e 6729 202d 2073 656c  (instring) - sel
-00017b60: 662e 6d61 7463 684c 656e 0a20 2020 2020  f.matchLen.     
-00017b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b80: 2020 206f 7220 696e 7374 7269 6e67 5b6c     or instring[l
-00017b90: 6f63 202b 2073 656c 662e 6d61 7463 684c  oc + self.matchL
-00017ba0: 656e 5d20 6e6f 7420 696e 2073 656c 662e  en] not in self.
-00017bb0: 6964 656e 7443 6861 7273 0a20 2020 2020  identChars.     
-00017bc0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-00017bd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017be0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00017bf0: 206c 6f63 202b 2073 656c 662e 6d61 7463   loc + self.matc
-00017c00: 684c 656e 2c20 7365 6c66 2e6d 6174 6368  hLen, self.match
-00017c10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017c20: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00017c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c40: 2020 2023 2066 6f6c 6c6f 7765 6420 6279     # followed by
-00017c50: 206b 6579 776f 7264 2063 6861 720a 2020   keyword char.  
-00017c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c70: 2020 2020 2020 6572 726d 7367 202b 3d20        errmsg += 
-00017c80: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00017c90: 2020 2020 2020 2020 2020 2020 2020 222c                ",
-00017ca0: 206b 6579 776f 7264 2077 6173 2069 6d6d   keyword was imm
-00017cb0: 6564 6961 7465 6c79 2066 6f6c 6c6f 7765  ediately followe
-00017cc0: 6420 6279 206b 6579 776f 7264 2063 6861  d by keyword cha
-00017cd0: 7261 6374 6572 220a 2020 2020 2020 2020  racter".        
+00017810: 2020 2020 2020 2020 6c6f 6320 3e3d 206c          loc >= l
+00017820: 656e 2869 6e73 7472 696e 6729 202d 2073  en(instring) - s
+00017830: 656c 662e 6d61 7463 684c 656e 0a20 2020  elf.matchLen.   
+00017840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017850: 2020 2020 206f 7220 696e 7374 7269 6e67       or instring
+00017860: 5b6c 6f63 202b 2073 656c 662e 6d61 7463  [loc + self.matc
+00017870: 684c 656e 5d2e 7570 7065 7228 2920 6e6f  hLen].upper() no
+00017880: 7420 696e 2073 656c 662e 6964 656e 7443  t in self.identC
+00017890: 6861 7273 0a20 2020 2020 2020 2020 2020  hars.           
+000178a0: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
+000178b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000178c0: 2020 2020 7265 7475 726e 206c 6f63 202b      return loc +
+000178d0: 2073 656c 662e 6d61 7463 684c 656e 2c20   self.matchLen, 
+000178e0: 7365 6c66 2e6d 6174 6368 0a20 2020 2020  self.match.     
+000178f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00017900: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00017910: 2020 2020 2020 2020 2020 2020 2023 2066               # f
+00017920: 6f6c 6c6f 7765 6420 6279 206b 6579 776f  ollowed by keywo
+00017930: 7264 2063 6861 720a 2020 2020 2020 2020  rd char.        
+00017940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017950: 6572 726d 7367 202b 3d20 222c 2077 6173  errmsg += ", was
+00017960: 2069 6d6d 6564 6961 7465 6c79 2066 6f6c   immediately fol
+00017970: 6c6f 7765 6420 6279 206b 6579 776f 7264  lowed by keyword
+00017980: 2063 6861 7261 6374 6572 220a 2020 2020   character".    
+00017990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000179a0: 2020 2020 6572 726c 6f63 203d 206c 6f63      errloc = loc
+000179b0: 202b 2073 656c 662e 6d61 7463 684c 656e   + self.matchLen
+000179c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000179d0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000179e0: 2020 2020 2020 2020 2020 2023 2070 7265             # pre
+000179f0: 6365 6465 6420 6279 206b 6579 776f 7264  ceded by keyword
+00017a00: 2063 6861 720a 2020 2020 2020 2020 2020   char.          
+00017a10: 2020 2020 2020 2020 2020 6572 726d 7367            errmsg
+00017a20: 202b 3d20 222c 206b 6579 776f 7264 2077   += ", keyword w
+00017a30: 6173 2069 6d6d 6564 6961 7465 6c79 2070  as immediately p
+00017a40: 7265 6365 6465 6420 6279 206b 6579 776f  receded by keywo
+00017a50: 7264 2063 6861 7261 6374 6572 220a 2020  rd character".  
+00017a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a70: 2020 6572 726c 6f63 203d 206c 6f63 202d    errloc = loc -
+00017a80: 2031 0a20 2020 2020 2020 2020 2020 2023   1.            #
+00017a90: 2065 6c73 6520 6e6f 206d 6174 6368 206a   else no match j
+00017aa0: 7573 7420 7261 6973 6520 706c 6169 6e20  ust raise plain 
+00017ab0: 6578 6365 7074 696f 6e0a 0a20 2020 2020  exception..     
+00017ac0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00017ad0: 2020 2020 2069 6620 280a 2020 2020 2020       if (.      
+00017ae0: 2020 2020 2020 2020 2020 696e 7374 7269            instri
+00017af0: 6e67 5b6c 6f63 5d20 3d3d 2073 656c 662e  ng[loc] == self.
+00017b00: 6669 7273 744d 6174 6368 4368 6172 0a20  firstMatchChar. 
+00017b10: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00017b20: 6e64 2073 656c 662e 6d61 7463 684c 656e  nd self.matchLen
+00017b30: 203d 3d20 310a 2020 2020 2020 2020 2020   == 1.          
+00017b40: 2020 2020 2020 6f72 2069 6e73 7472 696e        or instrin
+00017b50: 672e 7374 6172 7473 7769 7468 2873 656c  g.startswith(sel
+00017b60: 662e 6d61 7463 682c 206c 6f63 290a 2020  f.match, loc).  
+00017b70: 2020 2020 2020 2020 2020 293a 0a20 2020            ):.   
+00017b80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00017b90: 6c6f 6320 3d3d 2030 206f 7220 696e 7374  loc == 0 or inst
+00017ba0: 7269 6e67 5b6c 6f63 202d 2031 5d20 6e6f  ring[loc - 1] no
+00017bb0: 7420 696e 2073 656c 662e 6964 656e 7443  t in self.identC
+00017bc0: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
+00017bd0: 2020 2020 2020 2020 2020 6966 2028 0a20            if (. 
+00017be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017bf0: 2020 2020 2020 206c 6f63 203e 3d20 6c65         loc >= le
+00017c00: 6e28 696e 7374 7269 6e67 2920 2d20 7365  n(instring) - se
+00017c10: 6c66 2e6d 6174 6368 4c65 6e0a 2020 2020  lf.matchLen.    
+00017c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c30: 2020 2020 6f72 2069 6e73 7472 696e 675b      or instring[
+00017c40: 6c6f 6320 2b20 7365 6c66 2e6d 6174 6368  loc + self.match
+00017c50: 4c65 6e5d 206e 6f74 2069 6e20 7365 6c66  Len] not in self
+00017c60: 2e69 6465 6e74 4368 6172 730a 2020 2020  .identChars.    
+00017c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00017c90: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00017ca0: 6e20 6c6f 6320 2b20 7365 6c66 2e6d 6174  n loc + self.mat
+00017cb0: 6368 4c65 6e2c 2073 656c 662e 6d61 7463  chLen, self.matc
+00017cc0: 680a 2020 2020 2020 2020 2020 2020 2020  h.              
+00017cd0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
 00017ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017cf0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00017d00: 2020 2020 2020 2020 2020 6572 726c 6f63            errloc
-00017d10: 203d 206c 6f63 202b 2073 656c 662e 6d61   = loc + self.ma
-00017d20: 7463 684c 656e 0a20 2020 2020 2020 2020  tchLen.         
-00017d30: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00017d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017d50: 2023 2070 7265 6365 6465 6420 6279 206b   # preceded by k
-00017d60: 6579 776f 7264 2063 6861 720a 2020 2020  eyword char.    
-00017d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017d80: 6572 726d 7367 202b 3d20 222c 206b 6579  errmsg += ", key
-00017d90: 776f 7264 2077 6173 2069 6d6d 6564 6961  word was immedia
-00017da0: 7465 6c79 2070 7265 6365 6465 6420 6279  tely preceded by
-00017db0: 206b 6579 776f 7264 2063 6861 7261 6374   keyword charact
-00017dc0: 6572 220a 2020 2020 2020 2020 2020 2020  er".            
-00017dd0: 2020 2020 2020 2020 6572 726c 6f63 203d          errloc =
-00017de0: 206c 6f63 202d 2031 0a20 2020 2020 2020   loc - 1.       
-00017df0: 2020 2020 2023 2065 6c73 6520 6e6f 206d       # else no m
-00017e00: 6174 6368 206a 7573 7420 7261 6973 6520  atch just raise 
-00017e10: 706c 6169 6e20 6578 6365 7074 696f 6e0a  plain exception.
-00017e20: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
-00017e30: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
-00017e40: 7374 7269 6e67 2c20 6572 726c 6f63 2c20  string, errloc, 
-00017e50: 6572 726d 7367 2c20 7365 6c66 290a 0a20  errmsg, self).. 
-00017e60: 2020 2040 7374 6174 6963 6d65 7468 6f64     @staticmethod
-00017e70: 0a20 2020 2064 6566 2073 6574 5f64 6566  .    def set_def
-00017e80: 6175 6c74 5f6b 6579 776f 7264 5f63 6861  ault_keyword_cha
-00017e90: 7273 2863 6861 7273 2920 2d3e 204e 6f6e  rs(chars) -> Non
-00017ea0: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
-00017eb0: 2020 2020 2020 204f 7665 7272 6964 6573         Overrides
-00017ec0: 2074 6865 2064 6566 6175 6c74 2063 6861   the default cha
-00017ed0: 7261 6374 6572 7320 7573 6564 2062 7920  racters used by 
-00017ee0: 3a63 6c61 7373 3a60 4b65 7977 6f72 6460  :class:`Keyword`
-00017ef0: 2065 7870 7265 7373 696f 6e73 2e0a 2020   expressions..  
-00017f00: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00017f10: 2020 4b65 7977 6f72 642e 4445 4641 554c    Keyword.DEFAUL
-00017f20: 545f 4b45 5957 4f52 445f 4348 4152 5320  T_KEYWORD_CHARS 
-00017f30: 3d20 6368 6172 730a 0a20 2020 2073 6574  = chars..    set
-00017f40: 4465 6661 756c 744b 6579 776f 7264 4368  DefaultKeywordCh
-00017f50: 6172 7320 3d20 7365 745f 6465 6661 756c  ars = set_defaul
-00017f60: 745f 6b65 7977 6f72 645f 6368 6172 730a  t_keyword_chars.
-00017f70: 0a0a 636c 6173 7320 4361 7365 6c65 7373  ..class Caseless
-00017f80: 4c69 7465 7261 6c28 4c69 7465 7261 6c29  Literal(Literal)
-00017f90: 3a0a 2020 2020 2222 220a 2020 2020 546f  :.    """.    To
-00017fa0: 6b65 6e20 746f 206d 6174 6368 2061 2073  ken to match a s
-00017fb0: 7065 6369 6669 6564 2073 7472 696e 672c  pecified string,
-00017fc0: 2069 676e 6f72 696e 6720 6361 7365 206f   ignoring case o
-00017fd0: 6620 6c65 7474 6572 732e 0a20 2020 204e  f letters..    N
-00017fe0: 6f74 653a 2074 6865 206d 6174 6368 6564  ote: the matched
-00017ff0: 2072 6573 756c 7473 2077 696c 6c20 616c   results will al
-00018000: 7761 7973 2062 6520 696e 2074 6865 2063  ways be in the c
-00018010: 6173 6520 6f66 2074 6865 2067 6976 656e  ase of the given
-00018020: 0a20 2020 206d 6174 6368 2073 7472 696e  .    match strin
-00018030: 672c 204e 4f54 2074 6865 2063 6173 6520  g, NOT the case 
-00018040: 6f66 2074 6865 2069 6e70 7574 2074 6578  of the input tex
-00018050: 742e 0a0a 2020 2020 4578 616d 706c 653a  t...    Example:
-00018060: 3a0a 0a20 2020 2020 2020 2043 6173 656c  :..        Casel
-00018070: 6573 734c 6974 6572 616c 2822 434d 4422  essLiteral("CMD"
-00018080: 295b 312c 202e 2e2e 5d2e 7061 7273 655f  )[1, ...].parse_
-00018090: 7374 7269 6e67 2822 636d 6420 434d 4420  string("cmd CMD 
-000180a0: 436d 6431 3022 290a 2020 2020 2020 2020  Cmd10").        
-000180b0: 2320 2d3e 205b 2743 4d44 272c 2027 434d  # -> ['CMD', 'CM
-000180c0: 4427 2c20 2743 4d44 275d 0a0a 2020 2020  D', 'CMD']..    
-000180d0: 2843 6f6e 7472 6173 7420 7769 7468 2065  (Contrast with e
-000180e0: 7861 6d70 6c65 2066 6f72 203a 636c 6173  xample for :clas
-000180f0: 733a 6043 6173 656c 6573 734b 6579 776f  s:`CaselessKeywo
-00018100: 7264 602e 290a 2020 2020 2222 220a 0a20  rd`.).    """.. 
-00018110: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-00018120: 7365 6c66 2c20 6d61 7463 685f 7374 7269  self, match_stri
-00018130: 6e67 3a20 7374 7220 3d20 2222 2c20 2a2c  ng: str = "", *,
-00018140: 206d 6174 6368 5374 7269 6e67 3a20 7374   matchString: st
-00018150: 7220 3d20 2222 293a 0a20 2020 2020 2020  r = ""):.       
-00018160: 206d 6174 6368 5f73 7472 696e 6720 3d20   match_string = 
-00018170: 6d61 7463 6853 7472 696e 6720 6f72 206d  matchString or m
-00018180: 6174 6368 5f73 7472 696e 670a 2020 2020  atch_string.    
-00018190: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-000181a0: 6974 5f5f 286d 6174 6368 5f73 7472 696e  it__(match_strin
-000181b0: 672e 7570 7065 7228 2929 0a20 2020 2020  g.upper()).     
-000181c0: 2020 2023 2050 7265 7365 7276 6520 7468     # Preserve th
-000181d0: 6520 6465 6669 6e69 6e67 206c 6974 6572  e defining liter
-000181e0: 616c 2e0a 2020 2020 2020 2020 7365 6c66  al..        self
-000181f0: 2e72 6574 7572 6e53 7472 696e 6720 3d20  .returnString = 
-00018200: 6d61 7463 685f 7374 7269 6e67 0a20 2020  match_string.   
-00018210: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
-00018220: 203d 2022 4578 7065 6374 6564 2022 202b   = "Expected " +
-00018230: 2073 656c 662e 6e61 6d65 0a0a 2020 2020   self.name..    
-00018240: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
-00018250: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-00018260: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
-00018270: 6529 3a0a 2020 2020 2020 2020 6966 2069  e):.        if i
-00018280: 6e73 7472 696e 675b 6c6f 6320 3a20 6c6f  nstring[loc : lo
-00018290: 6320 2b20 7365 6c66 2e6d 6174 6368 4c65  c + self.matchLe
-000182a0: 6e5d 2e75 7070 6572 2829 203d 3d20 7365  n].upper() == se
-000182b0: 6c66 2e6d 6174 6368 3a0a 2020 2020 2020  lf.match:.      
-000182c0: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
-000182d0: 202b 2073 656c 662e 6d61 7463 684c 656e   + self.matchLen
-000182e0: 2c20 7365 6c66 2e72 6574 7572 6e53 7472  , self.returnStr
-000182f0: 696e 670a 2020 2020 2020 2020 7261 6973  ing.        rais
-00018300: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-00018310: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-00018320: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
-00018330: 6629 0a0a 0a63 6c61 7373 2043 6173 656c  f)...class Casel
-00018340: 6573 734b 6579 776f 7264 284b 6579 776f  essKeyword(Keywo
-00018350: 7264 293a 0a20 2020 2022 2222 0a20 2020  rd):.    """.   
-00018360: 2043 6173 656c 6573 7320 7665 7273 696f   Caseless versio
-00018370: 6e20 6f66 203a 636c 6173 733a 604b 6579  n of :class:`Key
-00018380: 776f 7264 602e 0a0a 2020 2020 4578 616d  word`...    Exam
-00018390: 706c 653a 3a0a 0a20 2020 2020 2020 2043  ple::..        C
-000183a0: 6173 656c 6573 734b 6579 776f 7264 2822  aselessKeyword("
-000183b0: 434d 4422 295b 312c 202e 2e2e 5d2e 7061  CMD")[1, ...].pa
-000183c0: 7273 655f 7374 7269 6e67 2822 636d 6420  rse_string("cmd 
-000183d0: 434d 4420 436d 6431 3022 290a 2020 2020  CMD Cmd10").    
-000183e0: 2020 2020 2320 2d3e 205b 2743 4d44 272c      # -> ['CMD',
-000183f0: 2027 434d 4427 5d0a 0a20 2020 2028 436f   'CMD']..    (Co
-00018400: 6e74 7261 7374 2077 6974 6820 6578 616d  ntrast with exam
-00018410: 706c 6520 666f 7220 3a63 6c61 7373 3a60  ple for :class:`
-00018420: 4361 7365 6c65 7373 4c69 7465 7261 6c60  CaselessLiteral`
-00018430: 2e29 0a20 2020 2022 2222 0a0a 2020 2020  .).    """..    
-00018440: 6465 6620 5f5f 696e 6974 5f5f 280a 2020  def __init__(.  
-00018450: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00018460: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
-00018470: 3a20 7374 7220 3d20 2222 2c0a 2020 2020  : str = "",.    
-00018480: 2020 2020 6964 656e 745f 6368 6172 733a      ident_chars:
-00018490: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
-000184a0: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
-000184b0: 2020 2020 2020 2a2c 0a20 2020 2020 2020        *,.       
-000184c0: 206d 6174 6368 5374 7269 6e67 3a20 7374   matchString: st
-000184d0: 7220 3d20 2222 2c0a 2020 2020 2020 2020  r = "",.        
-000184e0: 6964 656e 7443 6861 7273 3a20 7479 7069  identChars: typi
-000184f0: 6e67 2e4f 7074 696f 6e61 6c5b 7374 725d  ng.Optional[str]
-00018500: 203d 204e 6f6e 652c 0a20 2020 2029 3a0a   = None,.    ):.
-00018510: 2020 2020 2020 2020 6964 656e 7443 6861          identCha
-00018520: 7273 203d 2069 6465 6e74 4368 6172 7320  rs = identChars 
-00018530: 6f72 2069 6465 6e74 5f63 6861 7273 0a20  or ident_chars. 
-00018540: 2020 2020 2020 206d 6174 6368 5f73 7472         match_str
-00018550: 696e 6720 3d20 6d61 7463 6853 7472 696e  ing = matchStrin
-00018560: 6720 6f72 206d 6174 6368 5f73 7472 696e  g or match_strin
-00018570: 670a 2020 2020 2020 2020 7375 7065 7228  g.        super(
-00018580: 292e 5f5f 696e 6974 5f5f 286d 6174 6368  ).__init__(match
-00018590: 5f73 7472 696e 672c 2069 6465 6e74 4368  _string, identCh
-000185a0: 6172 732c 2063 6173 656c 6573 733d 5472  ars, caseless=Tr
-000185b0: 7565 290a 0a0a 636c 6173 7320 436c 6f73  ue)...class Clos
-000185c0: 654d 6174 6368 2854 6f6b 656e 293a 0a20  eMatch(Token):. 
-000185d0: 2020 2022 2222 4120 7661 7269 6174 696f     """A variatio
-000185e0: 6e20 6f6e 203a 636c 6173 733a 604c 6974  n on :class:`Lit
-000185f0: 6572 616c 6020 7768 6963 6820 6d61 7463  eral` which matc
-00018600: 6865 7320 2263 6c6f 7365 2220 6d61 7463  hes "close" matc
-00018610: 6865 732c 0a20 2020 2074 6861 7420 6973  hes,.    that is
-00018620: 2c20 7374 7269 6e67 7320 7769 7468 2061  , strings with a
-00018630: 7420 6d6f 7374 2027 6e27 206d 6973 6d61  t most 'n' misma
-00018640: 7463 6869 6e67 2063 6861 7261 6374 6572  tching character
-00018650: 732e 0a20 2020 203a 636c 6173 733a 6043  s..    :class:`C
-00018660: 6c6f 7365 4d61 7463 6860 2074 616b 6573  loseMatch` takes
-00018670: 2070 6172 616d 6574 6572 733a 0a0a 2020   parameters:..  
-00018680: 2020 2d20 6060 6d61 7463 685f 7374 7269    - ``match_stri
-00018690: 6e67 6060 202d 2073 7472 696e 6720 746f  ng`` - string to
-000186a0: 2062 6520 6d61 7463 6865 640a 2020 2020   be matched.    
-000186b0: 2d20 6060 6361 7365 6c65 7373 6060 202d  - ``caseless`` -
-000186c0: 2061 2062 6f6f 6c65 616e 2069 6e64 6963   a boolean indic
-000186d0: 6174 696e 6720 7768 6574 6865 7220 746f  ating whether to
-000186e0: 2069 676e 6f72 6520 6361 7369 6e67 2077   ignore casing w
-000186f0: 6865 6e20 636f 6d70 6172 696e 6720 6368  hen comparing ch
-00018700: 6172 6163 7465 7273 0a20 2020 202d 2060  aracters.    - `
-00018710: 606d 6178 5f6d 6973 6d61 7463 6865 7360  `max_mismatches`
-00018720: 6020 2d20 2860 6064 6566 6175 6c74 3d31  ` - (``default=1
-00018730: 6060 2920 6d61 7869 6d75 6d20 6e75 6d62  ``) maximum numb
-00018740: 6572 206f 660a 2020 2020 2020 6d69 736d  er of.      mism
-00018750: 6174 6368 6573 2061 6c6c 6f77 6564 2074  atches allowed t
-00018760: 6f20 636f 756e 7420 6173 2061 206d 6174  o count as a mat
-00018770: 6368 0a0a 2020 2020 5468 6520 7265 7375  ch..    The resu
-00018780: 6c74 7320 6672 6f6d 2061 2073 7563 6365  lts from a succe
-00018790: 7373 6675 6c20 7061 7273 6520 7769 6c6c  ssful parse will
-000187a0: 2063 6f6e 7461 696e 2074 6865 206d 6174   contain the mat
-000187b0: 6368 6564 2074 6578 740a 2020 2020 6672  ched text.    fr
-000187c0: 6f6d 2074 6865 2069 6e70 7574 2073 7472  om the input str
-000187d0: 696e 6720 616e 6420 7468 6520 666f 6c6c  ing and the foll
-000187e0: 6f77 696e 6720 6e61 6d65 6420 7265 7375  owing named resu
-000187f0: 6c74 733a 0a0a 2020 2020 2d20 6060 6d69  lts:..    - ``mi
-00018800: 736d 6174 6368 6573 6060 202d 2061 206c  smatches`` - a l
-00018810: 6973 7420 6f66 2074 6865 2070 6f73 6974  ist of the posit
-00018820: 696f 6e73 2077 6974 6869 6e20 7468 650a  ions within the.
-00018830: 2020 2020 2020 6d61 7463 685f 7374 7269        match_stri
-00018840: 6e67 2077 6865 7265 206d 6973 6d61 7463  ng where mismatc
-00018850: 6865 7320 7765 7265 2066 6f75 6e64 0a20  hes were found. 
-00018860: 2020 202d 2060 606f 7269 6769 6e61 6c60     - ``original`
-00018870: 6020 2d20 7468 6520 6f72 6967 696e 616c  ` - the original
-00018880: 206d 6174 6368 5f73 7472 696e 6720 7573   match_string us
-00018890: 6564 2074 6f20 636f 6d70 6172 650a 2020  ed to compare.  
-000188a0: 2020 2020 6167 6169 6e73 7420 7468 6520      against the 
-000188b0: 696e 7075 7420 7374 7269 6e67 0a0a 2020  input string..  
-000188c0: 2020 4966 2060 606d 6973 6d61 7463 6865    If ``mismatche
-000188d0: 7360 6020 6973 2061 6e20 656d 7074 7920  s`` is an empty 
-000188e0: 6c69 7374 2c20 7468 656e 2074 6865 206d  list, then the m
-000188f0: 6174 6368 2077 6173 2061 6e20 6578 6163  atch was an exac
-00018900: 740a 2020 2020 6d61 7463 682e 0a0a 2020  t.    match...  
-00018910: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
-00018920: 2020 2020 2070 6174 7420 3d20 436c 6f73       patt = Clos
-00018930: 654d 6174 6368 2822 4154 4341 5443 4741  eMatch("ATCATCGA
-00018940: 4154 4747 4122 290a 2020 2020 2020 2020  ATGGA").        
-00018950: 7061 7474 2e70 6172 7365 5f73 7472 696e  patt.parse_strin
-00018960: 6728 2241 5443 4154 4347 4141 5847 4741  g("ATCATCGAAXGGA
-00018970: 2229 2023 202d 3e20 285b 2741 5443 4154  ") # -> (['ATCAT
-00018980: 4347 4141 5847 4741 275d 2c20 7b27 6d69  CGAAXGGA'], {'mi
-00018990: 736d 6174 6368 6573 273a 205b 5b39 5d5d  smatches': [[9]]
-000189a0: 2c20 276f 7269 6769 6e61 6c27 3a20 5b27  , 'original': ['
-000189b0: 4154 4341 5443 4741 4154 4747 4127 5d7d  ATCATCGAATGGA']}
-000189c0: 290a 2020 2020 2020 2020 7061 7474 2e70  ).        patt.p
-000189d0: 6172 7365 5f73 7472 696e 6728 2241 5443  arse_string("ATC
-000189e0: 4158 4347 4141 5847 4741 2229 2023 202d  AXCGAAXGGA") # -
-000189f0: 3e20 4578 6365 7074 696f 6e3a 2045 7870  > Exception: Exp
-00018a00: 6563 7465 6420 2741 5443 4154 4347 4141  ected 'ATCATCGAA
-00018a10: 5447 4741 2720 2877 6974 6820 7570 2074  TGGA' (with up t
-00018a20: 6f20 3120 6d69 736d 6174 6368 6573 2920  o 1 mismatches) 
-00018a30: 2861 7420 6368 6172 2030 292c 2028 6c69  (at char 0), (li
-00018a40: 6e65 3a31 2c20 636f 6c3a 3129 0a0a 2020  ne:1, col:1)..  
-00018a50: 2020 2020 2020 2320 6578 6163 7420 6d61        # exact ma
-00018a60: 7463 680a 2020 2020 2020 2020 7061 7474  tch.        patt
-00018a70: 2e70 6172 7365 5f73 7472 696e 6728 2241  .parse_string("A
-00018a80: 5443 4154 4347 4141 5447 4741 2229 2023  TCATCGAATGGA") #
-00018a90: 202d 3e20 285b 2741 5443 4154 4347 4141   -> (['ATCATCGAA
-00018aa0: 5447 4741 275d 2c20 7b27 6d69 736d 6174  TGGA'], {'mismat
-00018ab0: 6368 6573 273a 205b 5b5d 5d2c 2027 6f72  ches': [[]], 'or
-00018ac0: 6967 696e 616c 273a 205b 2741 5443 4154  iginal': ['ATCAT
-00018ad0: 4347 4141 5447 4741 275d 7d29 0a0a 2020  CGAATGGA']})..  
-00018ae0: 2020 2020 2020 2320 636c 6f73 6520 6d61        # close ma
-00018af0: 7463 6820 616c 6c6f 7769 6e67 2075 7020  tch allowing up 
-00018b00: 746f 2032 206d 6973 6d61 7463 6865 730a  to 2 mismatches.
-00018b10: 2020 2020 2020 2020 7061 7474 203d 2043          patt = C
-00018b20: 6c6f 7365 4d61 7463 6828 2241 5443 4154  loseMatch("ATCAT
-00018b30: 4347 4141 5447 4741 222c 206d 6178 5f6d  CGAATGGA", max_m
-00018b40: 6973 6d61 7463 6865 733d 3229 0a20 2020  ismatches=2).   
-00018b50: 2020 2020 2070 6174 742e 7061 7273 655f       patt.parse_
-00018b60: 7374 7269 6e67 2822 4154 4341 5843 4741  string("ATCAXCGA
-00018b70: 4158 4747 4122 2920 2320 2d3e 2028 5b27  AXGGA") # -> (['
-00018b80: 4154 4341 5843 4741 4158 4747 4127 5d2c  ATCAXCGAAXGGA'],
-00018b90: 207b 276d 6973 6d61 7463 6865 7327 3a20   {'mismatches': 
-00018ba0: 5b5b 342c 2039 5d5d 2c20 276f 7269 6769  [[4, 9]], 'origi
-00018bb0: 6e61 6c27 3a20 5b27 4154 4341 5443 4741  nal': ['ATCATCGA
-00018bc0: 4154 4747 4127 5d7d 290a 2020 2020 2222  ATGGA']}).    ""
-00018bd0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-00018be0: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
-00018bf0: 662c 0a20 2020 2020 2020 206d 6174 6368  f,.        match
-00018c00: 5f73 7472 696e 673a 2073 7472 2c0a 2020  _string: str,.  
-00018c10: 2020 2020 2020 6d61 785f 6d69 736d 6174        max_mismat
-00018c20: 6368 6573 3a20 7479 7069 6e67 2e4f 7074  ches: typing.Opt
-00018c30: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
-00018c40: 652c 0a20 2020 2020 2020 202a 2c0a 2020  e,.        *,.  
-00018c50: 2020 2020 2020 6d61 784d 6973 6d61 7463        maxMismatc
-00018c60: 6865 733a 2069 6e74 203d 2031 2c0a 2020  hes: int = 1,.  
-00018c70: 2020 2020 2020 6361 7365 6c65 7373 3d46        caseless=F
-00018c80: 616c 7365 2c0a 2020 2020 293a 0a20 2020  alse,.    ):.   
-00018c90: 2020 2020 206d 6178 4d69 736d 6174 6368       maxMismatch
-00018ca0: 6573 203d 206d 6178 5f6d 6973 6d61 7463  es = max_mismatc
-00018cb0: 6865 7320 6966 206d 6178 5f6d 6973 6d61  hes if max_misma
-00018cc0: 7463 6865 7320 6973 206e 6f74 204e 6f6e  tches is not Non
-00018cd0: 6520 656c 7365 206d 6178 4d69 736d 6174  e else maxMismat
-00018ce0: 6368 6573 0a20 2020 2020 2020 2073 7570  ches.        sup
-00018cf0: 6572 2829 2e5f 5f69 6e69 745f 5f28 290a  er().__init__().
-00018d00: 2020 2020 2020 2020 7365 6c66 2e6d 6174          self.mat
-00018d10: 6368 5f73 7472 696e 6720 3d20 6d61 7463  ch_string = matc
-00018d20: 685f 7374 7269 6e67 0a20 2020 2020 2020  h_string.       
-00018d30: 2073 656c 662e 6d61 784d 6973 6d61 7463   self.maxMismatc
-00018d40: 6865 7320 3d20 6d61 784d 6973 6d61 7463  hes = maxMismatc
-00018d50: 6865 730a 2020 2020 2020 2020 7365 6c66  hes.        self
-00018d60: 2e65 7272 6d73 6720 3d20 6622 4578 7065  .errmsg = f"Expe
-00018d70: 6374 6564 207b 7365 6c66 2e6d 6174 6368  cted {self.match
-00018d80: 5f73 7472 696e 6721 727d 2028 7769 7468  _string!r} (with
-00018d90: 2075 7020 746f 207b 7365 6c66 2e6d 6178   up to {self.max
-00018da0: 4d69 736d 6174 6368 6573 7d20 6d69 736d  Mismatches} mism
-00018db0: 6174 6368 6573 2922 0a20 2020 2020 2020  atches)".       
-00018dc0: 2073 656c 662e 6361 7365 6c65 7373 203d   self.caseless =
-00018dd0: 2063 6173 656c 6573 730a 2020 2020 2020   caseless.      
-00018de0: 2020 7365 6c66 2e6d 6179 496e 6465 7845    self.mayIndexE
-00018df0: 7272 6f72 203d 2046 616c 7365 0a20 2020  rror = False.   
-00018e00: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
-00018e10: 7572 6e45 6d70 7479 203d 2046 616c 7365  urnEmpty = False
-00018e20: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
-00018e30: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
-00018e40: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00018e50: 2020 2020 2072 6574 7572 6e20 6622 7b74       return f"{t
-00018e60: 7970 6528 7365 6c66 292e 5f5f 6e61 6d65  ype(self).__name
-00018e70: 5f5f 7d3a 7b73 656c 662e 6d61 7463 685f  __}:{self.match_
-00018e80: 7374 7269 6e67 2172 7d22 0a0a 2020 2020  string!r}"..    
-00018e90: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
-00018ea0: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-00018eb0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
-00018ec0: 6529 3a0a 2020 2020 2020 2020 7374 6172  e):.        star
-00018ed0: 7420 3d20 6c6f 630a 2020 2020 2020 2020  t = loc.        
-00018ee0: 696e 7374 726c 656e 203d 206c 656e 2869  instrlen = len(i
-00018ef0: 6e73 7472 696e 6729 0a20 2020 2020 2020  nstring).       
-00018f00: 206d 6178 6c6f 6320 3d20 7374 6172 7420   maxloc = start 
-00018f10: 2b20 6c65 6e28 7365 6c66 2e6d 6174 6368  + len(self.match
-00018f20: 5f73 7472 696e 6729 0a0a 2020 2020 2020  _string)..      
-00018f30: 2020 6966 206d 6178 6c6f 6320 3c3d 2069    if maxloc <= i
-00018f40: 6e73 7472 6c65 6e3a 0a20 2020 2020 2020  nstrlen:.       
-00018f50: 2020 2020 206d 6174 6368 5f73 7472 696e       match_strin
-00018f60: 6720 3d20 7365 6c66 2e6d 6174 6368 5f73  g = self.match_s
-00018f70: 7472 696e 670a 2020 2020 2020 2020 2020  tring.          
-00018f80: 2020 6d61 7463 685f 7374 7269 6e67 6c6f    match_stringlo
-00018f90: 6320 3d20 300a 2020 2020 2020 2020 2020  c = 0.          
-00018fa0: 2020 6d69 736d 6174 6368 6573 203d 205b    mismatches = [
-00018fb0: 5d0a 2020 2020 2020 2020 2020 2020 6d61  ].            ma
-00018fc0: 784d 6973 6d61 7463 6865 7320 3d20 7365  xMismatches = se
-00018fd0: 6c66 2e6d 6178 4d69 736d 6174 6368 6573  lf.maxMismatches
-00018fe0: 0a0a 2020 2020 2020 2020 2020 2020 666f  ..            fo
-00018ff0: 7220 6d61 7463 685f 7374 7269 6e67 6c6f  r match_stringlo
-00019000: 632c 2073 5f6d 2069 6e20 656e 756d 6572  c, s_m in enumer
-00019010: 6174 6528 0a20 2020 2020 2020 2020 2020  ate(.           
-00019020: 2020 2020 207a 6970 2869 6e73 7472 696e       zip(instrin
-00019030: 675b 6c6f 633a 6d61 786c 6f63 5d2c 206d  g[loc:maxloc], m
-00019040: 6174 6368 5f73 7472 696e 6729 0a20 2020  atch_string).   
-00019050: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
-00019060: 2020 2020 2020 2020 2020 2020 7372 632c              src,
-00019070: 206d 6174 203d 2073 5f6d 0a20 2020 2020   mat = s_m.     
-00019080: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-00019090: 6c66 2e63 6173 656c 6573 733a 0a20 2020  lf.caseless:.   
-000190a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000190b0: 2073 7263 2c20 6d61 7420 3d20 7372 632e   src, mat = src.
-000190c0: 6c6f 7765 7228 292c 206d 6174 2e6c 6f77  lower(), mat.low
-000190d0: 6572 2829 0a0a 2020 2020 2020 2020 2020  er()..          
-000190e0: 2020 2020 2020 6966 2073 7263 2021 3d20        if src != 
-000190f0: 6d61 743a 0a20 2020 2020 2020 2020 2020  mat:.           
-00019100: 2020 2020 2020 2020 206d 6973 6d61 7463           mismatc
-00019110: 6865 732e 6170 7065 6e64 286d 6174 6368  hes.append(match
-00019120: 5f73 7472 696e 676c 6f63 290a 2020 2020  _stringloc).    
-00019130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019140: 6966 206c 656e 286d 6973 6d61 7463 6865  if len(mismatche
-00019150: 7329 203e 206d 6178 4d69 736d 6174 6368  s) > maxMismatch
-00019160: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
-00019170: 2020 2020 2020 2020 2020 2020 6272 6561              brea
-00019180: 6b0a 2020 2020 2020 2020 2020 2020 656c  k.            el
-00019190: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-000191a0: 2020 2020 6c6f 6320 3d20 7374 6172 7420      loc = start 
-000191b0: 2b20 6d61 7463 685f 7374 7269 6e67 6c6f  + match_stringlo
-000191c0: 6320 2b20 310a 2020 2020 2020 2020 2020  c + 1.          
-000191d0: 2020 2020 2020 7265 7375 6c74 7320 3d20        results = 
-000191e0: 5061 7273 6552 6573 756c 7473 285b 696e  ParseResults([in
-000191f0: 7374 7269 6e67 5b73 7461 7274 3a6c 6f63  string[start:loc
-00019200: 5d5d 290a 2020 2020 2020 2020 2020 2020  ]]).            
-00019210: 2020 2020 7265 7375 6c74 735b 226f 7269      results["ori
-00019220: 6769 6e61 6c22 5d20 3d20 6d61 7463 685f  ginal"] = match_
-00019230: 7374 7269 6e67 0a20 2020 2020 2020 2020  string.         
-00019240: 2020 2020 2020 2072 6573 756c 7473 5b22         results["
-00019250: 6d69 736d 6174 6368 6573 225d 203d 206d  mismatches"] = m
-00019260: 6973 6d61 7463 6865 730a 2020 2020 2020  ismatches.      
-00019270: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00019280: 206c 6f63 2c20 7265 7375 6c74 730a 0a20   loc, results.. 
-00019290: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
-000192a0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
-000192b0: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
-000192c0: 6572 726d 7367 2c20 7365 6c66 290a 0a0a  errmsg, self)...
-000192d0: 636c 6173 7320 576f 7264 2854 6f6b 656e  class Word(Token
-000192e0: 293a 0a20 2020 2022 2222 546f 6b65 6e20  ):.    """Token 
-000192f0: 666f 7220 6d61 7463 6869 6e67 2077 6f72  for matching wor
-00019300: 6473 2063 6f6d 706f 7365 6420 6f66 2061  ds composed of a
-00019310: 6c6c 6f77 6564 2063 6861 7261 6374 6572  llowed character
-00019320: 2073 6574 732e 0a0a 2020 2020 5061 7261   sets...    Para
-00019330: 6d65 7465 7273 3a0a 0a20 2020 202d 2060  meters:..    - `
-00019340: 6069 6e69 745f 6368 6172 7360 6020 2d20  `init_chars`` - 
-00019350: 7374 7269 6e67 206f 6620 616c 6c20 6368  string of all ch
-00019360: 6172 6163 7465 7273 2074 6861 7420 7368  aracters that sh
-00019370: 6f75 6c64 2062 6520 7573 6564 2074 6f0a  ould be used to.
-00019380: 2020 2020 2020 6d61 7463 6820 6173 2061        match as a
-00019390: 2077 6f72 643b 2022 4142 4322 2077 696c   word; "ABC" wil
-000193a0: 6c20 6d61 7463 6820 2241 4141 222c 2022  l match "AAA", "
-000193b0: 4142 4142 222c 2022 4342 4143 222c 2065  ABAB", "CBAC", e
-000193c0: 7463 2e3b 0a20 2020 2020 2069 6620 6060  tc.;.      if ``
-000193d0: 626f 6479 5f63 6861 7273 6060 2069 7320  body_chars`` is 
-000193e0: 616c 736f 2073 7065 6369 6669 6564 2c20  also specified, 
-000193f0: 7468 656e 2074 6869 7320 6973 2074 6865  then this is the
-00019400: 2073 7472 696e 6720 6f66 0a20 2020 2020   string of.     
-00019410: 2069 6e69 7469 616c 2063 6861 7261 6374   initial charact
-00019420: 6572 730a 2020 2020 2d20 6060 626f 6479  ers.    - ``body
-00019430: 5f63 6861 7273 6060 202d 2073 7472 696e  _chars`` - strin
-00019440: 6720 6f66 2063 6861 7261 6374 6572 7320  g of characters 
-00019450: 7468 6174 0a20 2020 2020 2063 616e 2062  that.      can b
-00019460: 6520 7573 6564 2066 6f72 206d 6174 6368  e used for match
-00019470: 696e 6720 6166 7465 7220 6120 6d61 7463  ing after a matc
-00019480: 6865 6420 696e 6974 6961 6c20 6368 6172  hed initial char
-00019490: 6163 7465 7220 6173 0a20 2020 2020 2067  acter as.      g
-000194a0: 6976 656e 2069 6e20 6060 696e 6974 5f63  iven in ``init_c
-000194b0: 6861 7273 6060 3b20 6966 206f 6d69 7474  hars``; if omitt
-000194c0: 6564 2c20 7361 6d65 2061 7320 7468 6520  ed, same as the 
-000194d0: 696e 6974 6961 6c20 6368 6172 6163 7465  initial characte
-000194e0: 7273 0a20 2020 2020 2028 6465 6661 756c  rs.      (defaul
-000194f0: 743d 6060 4e6f 6e65 6060 290a 2020 2020  t=``None``).    
-00019500: 2d20 6060 6d69 6e60 6020 2d20 6d69 6e69  - ``min`` - mini
-00019510: 6d75 6d20 6e75 6d62 6572 206f 6620 6368  mum number of ch
-00019520: 6172 6163 7465 7273 2074 6f20 6d61 7463  aracters to matc
-00019530: 6820 2864 6566 6175 6c74 3d31 290a 2020  h (default=1).  
-00019540: 2020 2d20 6060 6d61 7860 6020 2d20 6d61    - ``max`` - ma
-00019550: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
-00019560: 6368 6172 6163 7465 7273 2074 6f20 6d61  characters to ma
-00019570: 7463 6820 2864 6566 6175 6c74 3d30 290a  tch (default=0).
-00019580: 2020 2020 2d20 6060 6578 6163 7460 6020      - ``exact`` 
-00019590: 2d20 6578 6163 7420 6e75 6d62 6572 206f  - exact number o
-000195a0: 6620 6368 6172 6163 7465 7273 2074 6f20  f characters to 
-000195b0: 6d61 7463 6820 2864 6566 6175 6c74 3d30  match (default=0
-000195c0: 290a 2020 2020 2d20 6060 6173 5f6b 6579  ).    - ``as_key
-000195d0: 776f 7264 6060 202d 206d 6174 6368 2061  word`` - match a
-000195e0: 7320 6120 6b65 7977 6f72 6420 2864 6566  s a keyword (def
-000195f0: 6175 6c74 3d60 6046 616c 7365 6060 290a  ault=``False``).
-00019600: 2020 2020 2d20 6060 6578 636c 7564 655f      - ``exclude_
-00019610: 6368 6172 7360 6020 2d20 6368 6172 6163  chars`` - charac
-00019620: 7465 7273 2074 6861 7420 6d69 6768 7420  ters that might 
-00019630: 6265 0a20 2020 2020 2066 6f75 6e64 2069  be.      found i
-00019640: 6e20 7468 6520 696e 7075 7420 6060 626f  n the input ``bo
-00019650: 6479 5f63 6861 7273 6060 2073 7472 696e  dy_chars`` strin
-00019660: 6720 6275 7420 7768 6963 6820 7368 6f75  g but which shou
-00019670: 6c64 206e 6f74 2062 650a 2020 2020 2020  ld not be.      
-00019680: 6163 6365 7074 6564 2066 6f72 206d 6174  accepted for mat
-00019690: 6368 696e 6720 3b75 7365 6675 6c20 746f  ching ;useful to
-000196a0: 2064 6566 696e 6520 6120 776f 7264 206f   define a word o
-000196b0: 6620 616c 6c0a 2020 2020 2020 7072 696e  f all.      prin
-000196c0: 7461 626c 6573 2065 7863 6570 7420 666f  tables except fo
-000196d0: 7220 6f6e 6520 6f72 2074 776f 2063 6861  r one or two cha
-000196e0: 7261 6374 6572 732c 2066 6f72 2069 6e73  racters, for ins
-000196f0: 7461 6e63 650a 2020 2020 2020 2864 6566  tance.      (def
-00019700: 6175 6c74 3d60 604e 6f6e 6560 6029 0a0a  ault=``None``)..
-00019710: 2020 2020 3a63 6c61 7373 3a60 7372 616e      :class:`sran
-00019720: 6765 6020 6973 2075 7365 6675 6c20 666f  ge` is useful fo
-00019730: 7220 6465 6669 6e69 6e67 2063 7573 746f  r defining custo
-00019740: 6d20 6368 6172 6163 7465 7220 7365 7420  m character set 
-00019750: 7374 7269 6e67 730a 2020 2020 666f 7220  strings.    for 
-00019760: 6465 6669 6e69 6e67 203a 636c 6173 733a  defining :class:
-00019770: 6057 6f72 6460 2065 7870 7265 7373 696f  `Word` expressio
-00019780: 6e73 2c20 7573 696e 6720 7261 6e67 6520  ns, using range 
-00019790: 6e6f 7461 7469 6f6e 2066 726f 6d0a 2020  notation from.  
-000197a0: 2020 7265 6775 6c61 7220 6578 7072 6573    regular expres
-000197b0: 7369 6f6e 2063 6861 7261 6374 6572 2073  sion character s
-000197c0: 6574 732e 0a0a 2020 2020 4120 636f 6d6d  ets...    A comm
-000197d0: 6f6e 206d 6973 7461 6b65 2069 7320 746f  on mistake is to
-000197e0: 2075 7365 203a 636c 6173 733a 6057 6f72   use :class:`Wor
-000197f0: 6460 2074 6f20 6d61 7463 6820 6120 7370  d` to match a sp
-00019800: 6563 6966 6963 206c 6974 6572 616c 0a20  ecific literal. 
-00019810: 2020 2073 7472 696e 672c 2061 7320 696e     string, as in
-00019820: 2060 6057 6f72 6428 2241 6464 7265 7373   ``Word("Address
-00019830: 2229 6060 2e20 5265 6d65 6d62 6572 2074  ")``. Remember t
-00019840: 6861 7420 3a63 6c61 7373 3a60 576f 7264  hat :class:`Word
-00019850: 600a 2020 2020 7573 6573 2074 6865 2073  `.    uses the s
-00019860: 7472 696e 6720 6172 6775 6d65 6e74 2074  tring argument t
-00019870: 6f20 6465 6669 6e65 202a 7365 7473 2a20  o define *sets* 
-00019880: 6f66 206d 6174 6368 6162 6c65 2063 6861  of matchable cha
-00019890: 7261 6374 6572 732e 0a20 2020 2054 6869  racters..    Thi
-000198a0: 7320 6578 7072 6573 7369 6f6e 2077 6f75  s expression wou
-000198b0: 6c64 206d 6174 6368 2022 4164 6422 2c20  ld match "Add", 
-000198c0: 2241 4141 222c 2022 6441 7265 6422 2c20  "AAA", "dAred", 
-000198d0: 6f72 2061 6e79 206f 7468 6572 2077 6f72  or any other wor
-000198e0: 640a 2020 2020 6d61 6465 2075 7020 6f66  d.    made up of
-000198f0: 2074 6865 2063 6861 7261 6374 6572 7320   the characters 
-00019900: 2741 272c 2027 6427 2c20 2772 272c 2027  'A', 'd', 'r', '
-00019910: 6527 2c20 616e 6420 2773 272e 2054 6f20  e', and 's'. To 
-00019920: 6d61 7463 6820 616e 0a20 2020 2065 7861  match an.    exa
-00019930: 6374 206c 6974 6572 616c 2073 7472 696e  ct literal strin
-00019940: 672c 2075 7365 203a 636c 6173 733a 604c  g, use :class:`L
-00019950: 6974 6572 616c 6020 6f72 203a 636c 6173  iteral` or :clas
-00019960: 733a 604b 6579 776f 7264 602e 0a0a 2020  s:`Keyword`...  
-00019970: 2020 7079 7061 7273 696e 6720 696e 636c    pyparsing incl
-00019980: 7564 6573 2068 656c 7065 7220 7374 7269  udes helper stri
-00019990: 6e67 7320 666f 7220 6275 696c 6469 6e67  ngs for building
-000199a0: 2057 6f72 6473 3a0a 0a20 2020 202d 203a   Words:..    - :
-000199b0: 636c 6173 733a 6061 6c70 6861 7360 0a20  class:`alphas`. 
-000199c0: 2020 202d 203a 636c 6173 733a 606e 756d     - :class:`num
-000199d0: 7360 0a20 2020 202d 203a 636c 6173 733a  s`.    - :class:
-000199e0: 6061 6c70 6861 6e75 6d73 600a 2020 2020  `alphanums`.    
-000199f0: 2d20 3a63 6c61 7373 3a60 6865 786e 756d  - :class:`hexnum
-00019a00: 7360 0a20 2020 202d 203a 636c 6173 733a  s`.    - :class:
-00019a10: 6061 6c70 6861 7338 6269 7460 2028 616c  `alphas8bit` (al
-00019a20: 7068 6162 6574 6963 2063 6861 7261 6374  phabetic charact
-00019a30: 6572 7320 696e 2041 5343 4949 2072 616e  ers in ASCII ran
-00019a40: 6765 2031 3238 2d32 3535 0a20 2020 2020  ge 128-255.     
-00019a50: 202d 2061 6363 656e 7465 642c 2074 696c   - accented, til
-00019a60: 6465 642c 2075 6d6c 6175 7465 642c 2065  ded, umlauted, e
-00019a70: 7463 2e29 0a20 2020 202d 203a 636c 6173  tc.).    - :clas
-00019a80: 733a 6070 756e 6338 6269 7460 2028 6e6f  s:`punc8bit` (no
-00019a90: 6e2d 616c 7068 6162 6574 6963 2063 6861  n-alphabetic cha
-00019aa0: 7261 6374 6572 7320 696e 2041 5343 4949  racters in ASCII
-00019ab0: 2072 616e 6765 0a20 2020 2020 2031 3238   range.      128
-00019ac0: 2d32 3535 202d 2063 7572 7265 6e63 792c  -255 - currency,
-00019ad0: 2073 796d 626f 6c73 2c20 7375 7065 7273   symbols, supers
-00019ae0: 6372 6970 7473 2c20 6469 6163 7269 7469  cripts, diacriti
-00019af0: 6361 6c73 2c20 6574 632e 290a 2020 2020  cals, etc.).    
-00019b00: 2d20 3a63 6c61 7373 3a60 7072 696e 7461  - :class:`printa
-00019b10: 626c 6573 6020 2861 6e79 206e 6f6e 2d77  bles` (any non-w
-00019b20: 6869 7465 7370 6163 6520 6368 6172 6163  hitespace charac
-00019b30: 7465 7229 0a0a 2020 2020 6060 616c 7068  ter)..    ``alph
-00019b40: 6173 6060 2c20 6060 6e75 6d73 6060 2c20  as``, ``nums``, 
-00019b50: 616e 6420 6060 7072 696e 7461 626c 6573  and ``printables
-00019b60: 6060 2061 7265 2061 6c73 6f20 6465 6669  `` are also defi
-00019b70: 6e65 6420 696e 2073 6576 6572 616c 0a20  ned in several. 
-00019b80: 2020 2055 6e69 636f 6465 2073 6574 7320     Unicode sets 
-00019b90: 2d20 7365 6520 3a63 6c61 7373 3a60 7079  - see :class:`py
-00019ba0: 7061 7273 696e 675f 756e 6963 6f64 6560  parsing_unicode`
-00019bb0: 602e 0a0a 2020 2020 4578 616d 706c 653a  `...    Example:
-00019bc0: 3a0a 0a20 2020 2020 2020 2023 2061 2077  :..        # a w
-00019bd0: 6f72 6420 636f 6d70 6f73 6564 206f 6620  ord composed of 
-00019be0: 6469 6769 7473 0a20 2020 2020 2020 2069  digits.        i
-00019bf0: 6e74 6567 6572 203d 2057 6f72 6428 6e75  nteger = Word(nu
-00019c00: 6d73 2920 2320 6571 7569 7661 6c65 6e74  ms) # equivalent
-00019c10: 2074 6f20 576f 7264 2822 3031 3233 3435   to Word("012345
-00019c20: 3637 3839 2229 206f 7220 576f 7264 2873  6789") or Word(s
-00019c30: 7261 6e67 6528 2230 2d39 2229 290a 0a20  range("0-9")).. 
-00019c40: 2020 2020 2020 2023 2061 2077 6f72 6420         # a word 
-00019c50: 7769 7468 2061 206c 6561 6469 6e67 2063  with a leading c
-00019c60: 6170 6974 616c 2c20 616e 6420 7a65 726f  apital, and zero
-00019c70: 206f 7220 6d6f 7265 206c 6f77 6572 6361   or more lowerca
-00019c80: 7365 0a20 2020 2020 2020 2063 6170 6974  se.        capit
-00019c90: 616c 5f77 6f72 6420 3d20 576f 7264 2861  al_word = Word(a
-00019ca0: 6c70 6861 732e 7570 7065 7228 292c 2061  lphas.upper(), a
-00019cb0: 6c70 6861 732e 6c6f 7765 7228 2929 0a0a  lphas.lower())..
-00019cc0: 2020 2020 2020 2020 2320 686f 7374 6e61          # hostna
-00019cd0: 6d65 7320 6172 6520 616c 7068 616e 756d  mes are alphanum
-00019ce0: 6572 6963 2c20 7769 7468 206c 6561 6469  eric, with leadi
-00019cf0: 6e67 2061 6c70 6861 2c20 616e 6420 272d  ng alpha, and '-
-00019d00: 270a 2020 2020 2020 2020 686f 7374 6e61  '.        hostna
-00019d10: 6d65 203d 2057 6f72 6428 616c 7068 6173  me = Word(alphas
-00019d20: 2c20 616c 7068 616e 756d 7320 2b20 272d  , alphanums + '-
-00019d30: 2729 0a0a 2020 2020 2020 2020 2320 726f  ')..        # ro
-00019d40: 6d61 6e20 6e75 6d65 7261 6c20 286e 6f74  man numeral (not
-00019d50: 2061 2073 7472 6963 7420 7061 7273 6572   a strict parser
-00019d60: 2c20 6163 6365 7074 7320 696e 7661 6c69  , accepts invali
-00019d70: 6420 6d69 7820 6f66 2063 6861 7261 6374  d mix of charact
-00019d80: 6572 7329 0a20 2020 2020 2020 2072 6f6d  ers).        rom
-00019d90: 616e 203d 2057 6f72 6428 2249 5658 4c43  an = Word("IVXLC
-00019da0: 444d 2229 0a0a 2020 2020 2020 2020 2320  DM")..        # 
-00019db0: 616e 7920 7374 7269 6e67 206f 6620 6e6f  any string of no
-00019dc0: 6e2d 7768 6974 6573 7061 6365 2063 6861  n-whitespace cha
-00019dd0: 7261 6374 6572 732c 2065 7863 6570 7420  racters, except 
-00019de0: 666f 7220 272c 270a 2020 2020 2020 2020  for ','.        
-00019df0: 6373 765f 7661 6c75 6520 3d20 576f 7264  csv_value = Word
-00019e00: 2870 7269 6e74 6162 6c65 732c 2065 7863  (printables, exc
-00019e10: 6c75 6465 5f63 6861 7273 3d22 2c22 290a  lude_chars=",").
-00019e20: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
-00019e30: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
-00019e40: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00019e50: 2069 6e69 745f 6368 6172 733a 2073 7472   init_chars: str
-00019e60: 203d 2022 222c 0a20 2020 2020 2020 2062   = "",.        b
-00019e70: 6f64 795f 6368 6172 733a 2074 7970 696e  ody_chars: typin
-00019e80: 672e 4f70 7469 6f6e 616c 5b73 7472 5d20  g.Optional[str] 
-00019e90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00019ea0: 6d69 6e3a 2069 6e74 203d 2031 2c0a 2020  min: int = 1,.  
-00019eb0: 2020 2020 2020 6d61 783a 2069 6e74 203d        max: int =
-00019ec0: 2030 2c0a 2020 2020 2020 2020 6578 6163   0,.        exac
-00019ed0: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
-00019ee0: 2020 2020 6173 5f6b 6579 776f 7264 3a20      as_keyword: 
-00019ef0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-00019f00: 2020 2020 2020 6578 636c 7564 655f 6368        exclude_ch
-00019f10: 6172 733a 2074 7970 696e 672e 4f70 7469  ars: typing.Opti
-00019f20: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-00019f30: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
-00019f40: 2020 2020 2069 6e69 7443 6861 7273 3a20       initChars: 
-00019f50: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
-00019f60: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
-00019f70: 2020 2020 2062 6f64 7943 6861 7273 3a20       bodyChars: 
-00019f80: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
-00019f90: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
-00019fa0: 2020 2020 2061 734b 6579 776f 7264 3a20       asKeyword: 
-00019fb0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-00019fc0: 2020 2020 2020 6578 636c 7564 6543 6861        excludeCha
-00019fd0: 7273 3a20 7479 7069 6e67 2e4f 7074 696f  rs: typing.Optio
-00019fe0: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
-00019ff0: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
-0001a000: 696e 6974 4368 6172 7320 3d20 696e 6974  initChars = init
-0001a010: 4368 6172 7320 6f72 2069 6e69 745f 6368  Chars or init_ch
-0001a020: 6172 730a 2020 2020 2020 2020 626f 6479  ars.        body
-0001a030: 4368 6172 7320 3d20 626f 6479 4368 6172  Chars = bodyChar
-0001a040: 7320 6f72 2062 6f64 795f 6368 6172 730a  s or body_chars.
-0001a050: 2020 2020 2020 2020 6173 4b65 7977 6f72          asKeywor
-0001a060: 6420 3d20 6173 4b65 7977 6f72 6420 6f72  d = asKeyword or
-0001a070: 2061 735f 6b65 7977 6f72 640a 2020 2020   as_keyword.    
-0001a080: 2020 2020 6578 636c 7564 6543 6861 7273      excludeChars
-0001a090: 203d 2065 7863 6c75 6465 4368 6172 7320   = excludeChars 
-0001a0a0: 6f72 2065 7863 6c75 6465 5f63 6861 7273  or exclude_chars
-0001a0b0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
-0001a0c0: 2e5f 5f69 6e69 745f 5f28 290a 2020 2020  .__init__().    
-0001a0d0: 2020 2020 6966 206e 6f74 2069 6e69 7443      if not initC
-0001a0e0: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
-0001a0f0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
-0001a100: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-0001a110: 2020 2020 6622 696e 7661 6c69 6420 7b74      f"invalid {t
-0001a120: 7970 6528 7365 6c66 292e 5f5f 6e61 6d65  ype(self).__name
-0001a130: 5f5f 7d2c 2069 6e69 7443 6861 7273 2063  __}, initChars c
-0001a140: 616e 6e6f 7420 6265 2065 6d70 7479 2073  annot be empty s
-0001a150: 7472 696e 6722 0a20 2020 2020 2020 2020  tring".         
-0001a160: 2020 2029 0a0a 2020 2020 2020 2020 696e     )..        in
-0001a170: 6974 4368 6172 735f 7365 7420 3d20 7365  itChars_set = se
-0001a180: 7428 696e 6974 4368 6172 7329 0a20 2020  t(initChars).   
-0001a190: 2020 2020 2069 6620 6578 636c 7564 6543       if excludeC
-0001a1a0: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
-0001a1b0: 2020 6578 636c 7564 6543 6861 7273 5f73    excludeChars_s
-0001a1c0: 6574 203d 2073 6574 2865 7863 6c75 6465  et = set(exclude
-0001a1d0: 4368 6172 7329 0a20 2020 2020 2020 2020  Chars).         
-0001a1e0: 2020 2069 6e69 7443 6861 7273 5f73 6574     initChars_set
-0001a1f0: 202d 3d20 6578 636c 7564 6543 6861 7273   -= excludeChars
-0001a200: 5f73 6574 0a20 2020 2020 2020 2020 2020  _set.           
-0001a210: 2069 6620 626f 6479 4368 6172 733a 0a20   if bodyChars:. 
-0001a220: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-0001a230: 6f64 7943 6861 7273 203d 2022 222e 6a6f  odyChars = "".jo
-0001a240: 696e 2873 6574 2862 6f64 7943 6861 7273  in(set(bodyChars
-0001a250: 2920 2d20 6578 636c 7564 6543 6861 7273  ) - excludeChars
-0001a260: 5f73 6574 290a 2020 2020 2020 2020 7365  _set).        se
-0001a270: 6c66 2e69 6e69 7443 6861 7273 203d 2069  lf.initChars = i
-0001a280: 6e69 7443 6861 7273 5f73 6574 0a20 2020  nitChars_set.   
-0001a290: 2020 2020 2073 656c 662e 696e 6974 4368       self.initCh
-0001a2a0: 6172 734f 7269 6720 3d20 2222 2e6a 6f69  arsOrig = "".joi
-0001a2b0: 6e28 736f 7274 6564 2869 6e69 7443 6861  n(sorted(initCha
-0001a2c0: 7273 5f73 6574 2929 0a0a 2020 2020 2020  rs_set))..      
-0001a2d0: 2020 6966 2062 6f64 7943 6861 7273 3a0a    if bodyChars:.
-0001a2e0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001a2f0: 2e62 6f64 7943 6861 7273 203d 2073 6574  .bodyChars = set
-0001a300: 2862 6f64 7943 6861 7273 290a 2020 2020  (bodyChars).    
-0001a310: 2020 2020 2020 2020 7365 6c66 2e62 6f64          self.bod
-0001a320: 7943 6861 7273 4f72 6967 203d 2022 222e  yCharsOrig = "".
-0001a330: 6a6f 696e 2873 6f72 7465 6428 626f 6479  join(sorted(body
-0001a340: 4368 6172 7329 290a 2020 2020 2020 2020  Chars)).        
-0001a350: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0001a360: 2020 7365 6c66 2e62 6f64 7943 6861 7273    self.bodyChars
-0001a370: 203d 2069 6e69 7443 6861 7273 5f73 6574   = initChars_set
-0001a380: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001a390: 662e 626f 6479 4368 6172 734f 7269 6720  f.bodyCharsOrig 
-0001a3a0: 3d20 7365 6c66 2e69 6e69 7443 6861 7273  = self.initChars
-0001a3b0: 4f72 6967 0a0a 2020 2020 2020 2020 7365  Orig..        se
-0001a3c0: 6c66 2e6d 6178 5370 6563 6966 6965 6420  lf.maxSpecified 
-0001a3d0: 3d20 6d61 7820 3e20 300a 0a20 2020 2020  = max > 0..     
-0001a3e0: 2020 2069 6620 6d69 6e20 3c20 313a 0a20     if min < 1:. 
-0001a3f0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0001a400: 2056 616c 7565 4572 726f 7228 0a20 2020   ValueError(.   
-0001a410: 2020 2020 2020 2020 2020 2020 2022 6361               "ca
-0001a420: 6e6e 6f74 2073 7065 6369 6679 2061 206d  nnot specify a m
-0001a430: 696e 696d 756d 206c 656e 6774 6820 3c20  inimum length < 
-0001a440: 313b 2075 7365 204f 7074 2857 6f72 6428  1; use Opt(Word(
-0001a450: 2929 2069 6620 7a65 726f 2d6c 656e 6774  )) if zero-lengt
-0001a460: 6820 776f 7264 2069 7320 7065 726d 6974  h word is permit
-0001a470: 7465 6422 0a20 2020 2020 2020 2020 2020  ted".           
-0001a480: 2029 0a0a 2020 2020 2020 2020 6966 2073   )..        if s
-0001a490: 656c 662e 6d61 7853 7065 6369 6669 6564  elf.maxSpecified
-0001a4a0: 2061 6e64 206d 696e 203e 206d 6178 3a0a   and min > max:.
-0001a4b0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0001a4c0: 6520 5661 6c75 6545 7272 6f72 280a 2020  e ValueError(.  
-0001a4d0: 2020 2020 2020 2020 2020 2020 2020 6622                f"
-0001a4e0: 696e 7661 6c69 6420 6172 6773 2c20 6966  invalid args, if
-0001a4f0: 206d 696e 2061 6e64 206d 6178 2062 6f74   min and max bot
-0001a500: 6820 7370 6563 6966 6965 6420 6d69 6e20  h specified min 
-0001a510: 6d75 7374 2062 6520 3c3d 206d 6178 2028  must be <= max (
-0001a520: 6d69 6e3d 7b6d 696e 7d2c 206d 6178 3d7b  min={min}, max={
-0001a530: 6d61 787d 2922 0a20 2020 2020 2020 2020  max})".         
-0001a540: 2020 2029 0a0a 2020 2020 2020 2020 7365     )..        se
-0001a550: 6c66 2e6d 696e 4c65 6e20 3d20 6d69 6e0a  lf.minLen = min.
-0001a560: 0a20 2020 2020 2020 2069 6620 6d61 7820  .        if max 
-0001a570: 3e20 303a 0a20 2020 2020 2020 2020 2020  > 0:.           
-0001a580: 2073 656c 662e 6d61 784c 656e 203d 206d   self.maxLen = m
-0001a590: 6178 0a20 2020 2020 2020 2065 6c73 653a  ax.        else:
-0001a5a0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001a5b0: 662e 6d61 784c 656e 203d 205f 4d41 585f  f.maxLen = _MAX_
-0001a5c0: 494e 540a 0a20 2020 2020 2020 2069 6620  INT..        if 
-0001a5d0: 6578 6163 7420 3e20 303a 0a20 2020 2020  exact > 0:.     
-0001a5e0: 2020 2020 2020 206d 696e 203d 206d 6178         min = max
-0001a5f0: 203d 2065 7861 6374 0a20 2020 2020 2020   = exact.       
-0001a600: 2020 2020 2073 656c 662e 6d61 784c 656e       self.maxLen
-0001a610: 203d 2065 7861 6374 0a20 2020 2020 2020   = exact.       
-0001a620: 2020 2020 2073 656c 662e 6d69 6e4c 656e       self.minLen
-0001a630: 203d 2065 7861 6374 0a0a 2020 2020 2020   = exact..      
-0001a640: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
-0001a650: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
-0001a660: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
-0001a670: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
-0001a680: 6f72 203d 2046 616c 7365 0a20 2020 2020  or = False.     
-0001a690: 2020 2073 656c 662e 6173 4b65 7977 6f72     self.asKeywor
-0001a6a0: 6420 3d20 6173 4b65 7977 6f72 640a 2020  d = asKeyword.  
-0001a6b0: 2020 2020 2020 6966 2073 656c 662e 6173        if self.as
-0001a6c0: 4b65 7977 6f72 643a 0a20 2020 2020 2020  Keyword:.       
-0001a6d0: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
-0001a6e0: 202b 3d20 2220 6173 2061 206b 6579 776f   += " as a keywo
-0001a6f0: 7264 220a 0a20 2020 2020 2020 2023 2073  rd"..        # s
-0001a700: 6565 2069 6620 7765 2063 616e 206d 616b  ee if we can mak
-0001a710: 6520 6120 7265 6765 7820 666f 7220 7468  e a regex for th
-0001a720: 6973 2057 6f72 640a 2020 2020 2020 2020  is Word.        
-0001a730: 6966 2022 2022 206e 6f74 2069 6e20 2873  if " " not in (s
-0001a740: 656c 662e 696e 6974 4368 6172 7320 7c20  elf.initChars | 
-0001a750: 7365 6c66 2e62 6f64 7943 6861 7273 293a  self.bodyChars):
-0001a760: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0001a770: 6c65 6e28 7365 6c66 2e69 6e69 7443 6861  len(self.initCha
-0001a780: 7273 2920 3d3d 2031 3a0a 2020 2020 2020  rs) == 1:.      
-0001a790: 2020 2020 2020 2020 2020 7265 5f6c 6561            re_lea
-0001a7a0: 6469 6e67 5f66 7261 676d 656e 7420 3d20  ding_fragment = 
-0001a7b0: 7265 2e65 7363 6170 6528 7365 6c66 2e69  re.escape(self.i
-0001a7c0: 6e69 7443 6861 7273 4f72 6967 290a 2020  nitCharsOrig).  
-0001a7d0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-0001a7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a7f0: 7265 5f6c 6561 6469 6e67 5f66 7261 676d  re_leading_fragm
-0001a800: 656e 7420 3d20 6622 5b7b 5f63 6f6c 6c61  ent = f"[{_colla
-0001a810: 7073 655f 7374 7269 6e67 5f74 6f5f 7261  pse_string_to_ra
-0001a820: 6e67 6573 2873 656c 662e 696e 6974 4368  nges(self.initCh
-0001a830: 6172 7329 7d5d 220a 0a20 2020 2020 2020  ars)}]"..       
-0001a840: 2020 2020 2069 6620 7365 6c66 2e62 6f64       if self.bod
-0001a850: 7943 6861 7273 203d 3d20 7365 6c66 2e69  yChars == self.i
-0001a860: 6e69 7443 6861 7273 3a0a 2020 2020 2020  nitChars:.      
-0001a870: 2020 2020 2020 2020 2020 6966 206d 6178            if max
-0001a880: 203d 3d20 303a 0a20 2020 2020 2020 2020   == 0:.         
-0001a890: 2020 2020 2020 2020 2020 2072 6570 6561             repea
-0001a8a0: 7420 3d20 222b 220a 2020 2020 2020 2020  t = "+".        
-0001a8b0: 2020 2020 2020 2020 656c 6966 206d 6178          elif max
-0001a8c0: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
-0001a8d0: 2020 2020 2020 2020 2020 2072 6570 6561             repea
-0001a8e0: 7420 3d20 2222 0a20 2020 2020 2020 2020  t = "".         
-0001a8f0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001a900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a910: 2069 6620 7365 6c66 2e6d 696e 4c65 6e20   if self.minLen 
-0001a920: 213d 2073 656c 662e 6d61 784c 656e 3a0a  != self.maxLen:.
-0001a930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a940: 2020 2020 2020 2020 7265 7065 6174 203d          repeat =
-0001a950: 2066 227b 7b7b 7365 6c66 2e6d 696e 4c65   f"{{{self.minLe
-0001a960: 6e7d 2c7b 2727 2069 6620 7365 6c66 2e6d  n},{'' if self.m
-0001a970: 6178 4c65 6e20 3d3d 205f 4d41 585f 494e  axLen == _MAX_IN
-0001a980: 5420 656c 7365 2073 656c 662e 6d61 784c  T else self.maxL
-0001a990: 656e 7d7d 7d22 0a20 2020 2020 2020 2020  en}}}".         
-0001a9a0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001a9b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a9c0: 2020 2020 2020 2020 2072 6570 6561 7420           repeat 
-0001a9d0: 3d20 6622 7b7b 7b73 656c 662e 6d69 6e4c  = f"{{{self.minL
-0001a9e0: 656e 7d7d 7d22 0a20 2020 2020 2020 2020  en}}}".         
-0001a9f0: 2020 2020 2020 2073 656c 662e 7265 5374         self.reSt
-0001aa00: 7269 6e67 203d 2066 227b 7265 5f6c 6561  ring = f"{re_lea
-0001aa10: 6469 6e67 5f66 7261 676d 656e 747d 7b72  ding_fragment}{r
-0001aa20: 6570 6561 747d 220a 2020 2020 2020 2020  epeat}".        
-0001aa30: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001aa40: 2020 2020 2020 2020 2020 6966 206d 6178            if max
-0001aa50: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
-0001aa60: 2020 2020 2020 2020 2020 2072 655f 626f             re_bo
-0001aa70: 6479 5f66 7261 676d 656e 7420 3d20 2222  dy_fragment = ""
-0001aa80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001aa90: 2020 2020 2072 6570 6561 7420 3d20 2222       repeat = ""
-0001aaa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001aab0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001aac0: 2020 2020 2020 2020 2020 2072 655f 626f             re_bo
-0001aad0: 6479 5f66 7261 676d 656e 7420 3d20 6622  dy_fragment = f"
-0001aae0: 5b7b 5f63 6f6c 6c61 7073 655f 7374 7269  [{_collapse_stri
-0001aaf0: 6e67 5f74 6f5f 7261 6e67 6573 2873 656c  ng_to_ranges(sel
-0001ab00: 662e 626f 6479 4368 6172 7329 7d5d 220a  f.bodyChars)}]".
-0001ab10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ab20: 2020 2020 6966 206d 6178 203d 3d20 303a      if max == 0:
-0001ab30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ab40: 2020 2020 2020 2020 2072 6570 6561 7420           repeat 
-0001ab50: 3d20 222a 220a 2020 2020 2020 2020 2020  = "*".          
-0001ab60: 2020 2020 2020 2020 2020 656c 6966 206d            elif m
-0001ab70: 6178 203d 3d20 323a 0a20 2020 2020 2020  ax == 2:.       
+00017cf0: 2020 2020 2320 666f 6c6c 6f77 6564 2062      # followed b
+00017d00: 7920 6b65 7977 6f72 6420 6368 6172 0a20  y keyword char. 
+00017d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017d20: 2020 2020 2020 2065 7272 6d73 6720 2b3d         errmsg +=
+00017d30: 2028 0a20 2020 2020 2020 2020 2020 2020   (.             
+00017d40: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00017d50: 2c20 6b65 7977 6f72 6420 7761 7320 696d  , keyword was im
+00017d60: 6d65 6469 6174 656c 7920 666f 6c6c 6f77  mediately follow
+00017d70: 6564 2062 7920 6b65 7977 6f72 6420 6368  ed by keyword ch
+00017d80: 6172 6163 7465 7222 0a20 2020 2020 2020  aracter".       
+00017d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017da0: 2029 0a20 2020 2020 2020 2020 2020 2020   ).             
+00017db0: 2020 2020 2020 2020 2020 2065 7272 6c6f             errlo
+00017dc0: 6320 3d20 6c6f 6320 2b20 7365 6c66 2e6d  c = loc + self.m
+00017dd0: 6174 6368 4c65 6e0a 2020 2020 2020 2020  atchLen.        
+00017de0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00017df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017e00: 2020 2320 7072 6563 6564 6564 2062 7920    # preceded by 
+00017e10: 6b65 7977 6f72 6420 6368 6172 0a20 2020  keyword char.   
+00017e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017e30: 2065 7272 6d73 6720 2b3d 2022 2c20 6b65   errmsg += ", ke
+00017e40: 7977 6f72 6420 7761 7320 696d 6d65 6469  yword was immedi
+00017e50: 6174 656c 7920 7072 6563 6564 6564 2062  ately preceded b
+00017e60: 7920 6b65 7977 6f72 6420 6368 6172 6163  y keyword charac
+00017e70: 7465 7222 0a20 2020 2020 2020 2020 2020  ter".           
+00017e80: 2020 2020 2020 2020 2065 7272 6c6f 6320           errloc 
+00017e90: 3d20 6c6f 6320 2d20 310a 2020 2020 2020  = loc - 1.      
+00017ea0: 2020 2020 2020 2320 656c 7365 206e 6f20        # else no 
+00017eb0: 6d61 7463 6820 6a75 7374 2072 6169 7365  match just raise
+00017ec0: 2070 6c61 696e 2065 7863 6570 7469 6f6e   plain exception
+00017ed0: 0a0a 2020 2020 2020 2020 7261 6973 6520  ..        raise 
+00017ee0: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
+00017ef0: 6e73 7472 696e 672c 2065 7272 6c6f 632c  nstring, errloc,
+00017f00: 2065 7272 6d73 672c 2073 656c 6629 0a0a   errmsg, self)..
+00017f10: 2020 2020 4073 7461 7469 636d 6574 686f      @staticmetho
+00017f20: 640a 2020 2020 6465 6620 7365 745f 6465  d.    def set_de
+00017f30: 6661 756c 745f 6b65 7977 6f72 645f 6368  fault_keyword_ch
+00017f40: 6172 7328 6368 6172 7329 202d 3e20 4e6f  ars(chars) -> No
+00017f50: 6e65 3a0a 2020 2020 2020 2020 2222 220a  ne:.        """.
+00017f60: 2020 2020 2020 2020 4f76 6572 7269 6465          Override
+00017f70: 7320 7468 6520 6465 6661 756c 7420 6368  s the default ch
+00017f80: 6172 6163 7465 7273 2075 7365 6420 6279  aracters used by
+00017f90: 203a 636c 6173 733a 604b 6579 776f 7264   :class:`Keyword
+00017fa0: 6020 6578 7072 6573 7369 6f6e 732e 0a20  ` expressions.. 
+00017fb0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00017fc0: 2020 204b 6579 776f 7264 2e44 4546 4155     Keyword.DEFAU
+00017fd0: 4c54 5f4b 4559 574f 5244 5f43 4841 5253  LT_KEYWORD_CHARS
+00017fe0: 203d 2063 6861 7273 0a0a 2020 2020 7365   = chars..    se
+00017ff0: 7444 6566 6175 6c74 4b65 7977 6f72 6443  tDefaultKeywordC
+00018000: 6861 7273 203d 2073 6574 5f64 6566 6175  hars = set_defau
+00018010: 6c74 5f6b 6579 776f 7264 5f63 6861 7273  lt_keyword_chars
+00018020: 0a0a 0a63 6c61 7373 2043 6173 656c 6573  ...class Caseles
+00018030: 734c 6974 6572 616c 284c 6974 6572 616c  sLiteral(Literal
+00018040: 293a 0a20 2020 2022 2222 0a20 2020 2054  ):.    """.    T
+00018050: 6f6b 656e 2074 6f20 6d61 7463 6820 6120  oken to match a 
+00018060: 7370 6563 6966 6965 6420 7374 7269 6e67  specified string
+00018070: 2c20 6967 6e6f 7269 6e67 2063 6173 6520  , ignoring case 
+00018080: 6f66 206c 6574 7465 7273 2e0a 2020 2020  of letters..    
+00018090: 4e6f 7465 3a20 7468 6520 6d61 7463 6865  Note: the matche
+000180a0: 6420 7265 7375 6c74 7320 7769 6c6c 2061  d results will a
+000180b0: 6c77 6179 7320 6265 2069 6e20 7468 6520  lways be in the 
+000180c0: 6361 7365 206f 6620 7468 6520 6769 7665  case of the give
+000180d0: 6e0a 2020 2020 6d61 7463 6820 7374 7269  n.    match stri
+000180e0: 6e67 2c20 4e4f 5420 7468 6520 6361 7365  ng, NOT the case
+000180f0: 206f 6620 7468 6520 696e 7075 7420 7465   of the input te
+00018100: 7874 2e0a 0a20 2020 2045 7861 6d70 6c65  xt...    Example
+00018110: 3a3a 0a0a 2020 2020 2020 2020 4361 7365  ::..        Case
+00018120: 6c65 7373 4c69 7465 7261 6c28 2243 4d44  lessLiteral("CMD
+00018130: 2229 5b31 2c20 2e2e 2e5d 2e70 6172 7365  ")[1, ...].parse
+00018140: 5f73 7472 696e 6728 2263 6d64 2043 4d44  _string("cmd CMD
+00018150: 2043 6d64 3130 2229 0a20 2020 2020 2020   Cmd10").       
+00018160: 2023 202d 3e20 5b27 434d 4427 2c20 2743   # -> ['CMD', 'C
+00018170: 4d44 272c 2027 434d 4427 5d0a 0a20 2020  MD', 'CMD']..   
+00018180: 2028 436f 6e74 7261 7374 2077 6974 6820   (Contrast with 
+00018190: 6578 616d 706c 6520 666f 7220 3a63 6c61  example for :cla
+000181a0: 7373 3a60 4361 7365 6c65 7373 4b65 7977  ss:`CaselessKeyw
+000181b0: 6f72 6460 2e29 0a20 2020 2022 2222 0a0a  ord`.).    """..
+000181c0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+000181d0: 2873 656c 662c 206d 6174 6368 5f73 7472  (self, match_str
+000181e0: 696e 673a 2073 7472 203d 2022 222c 202a  ing: str = "", *
+000181f0: 2c20 6d61 7463 6853 7472 696e 673a 2073  , matchString: s
+00018200: 7472 203d 2022 2229 3a0a 2020 2020 2020  tr = ""):.      
+00018210: 2020 6d61 7463 685f 7374 7269 6e67 203d    match_string =
+00018220: 206d 6174 6368 5374 7269 6e67 206f 7220   matchString or 
+00018230: 6d61 7463 685f 7374 7269 6e67 0a20 2020  match_string.   
+00018240: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
+00018250: 6e69 745f 5f28 6d61 7463 685f 7374 7269  nit__(match_stri
+00018260: 6e67 2e75 7070 6572 2829 290a 2020 2020  ng.upper()).    
+00018270: 2020 2020 2320 5072 6573 6572 7665 2074      # Preserve t
+00018280: 6865 2064 6566 696e 696e 6720 6c69 7465  he defining lite
+00018290: 7261 6c2e 0a20 2020 2020 2020 2073 656c  ral..        sel
+000182a0: 662e 7265 7475 726e 5374 7269 6e67 203d  f.returnString =
+000182b0: 206d 6174 6368 5f73 7472 696e 670a 2020   match_string.  
+000182c0: 2020 2020 2020 7365 6c66 2e65 7272 6d73        self.errms
+000182d0: 6720 3d20 2245 7870 6563 7465 6420 2220  g = "Expected " 
+000182e0: 2b20 7365 6c66 2e6e 616d 650a 0a20 2020  + self.name..   
+000182f0: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+00018300: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+00018310: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+00018320: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
+00018330: 696e 7374 7269 6e67 5b6c 6f63 203a 206c  instring[loc : l
+00018340: 6f63 202b 2073 656c 662e 6d61 7463 684c  oc + self.matchL
+00018350: 656e 5d2e 7570 7065 7228 2920 3d3d 2073  en].upper() == s
+00018360: 656c 662e 6d61 7463 683a 0a20 2020 2020  elf.match:.     
+00018370: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
+00018380: 6320 2b20 7365 6c66 2e6d 6174 6368 4c65  c + self.matchLe
+00018390: 6e2c 2073 656c 662e 7265 7475 726e 5374  n, self.returnSt
+000183a0: 7269 6e67 0a20 2020 2020 2020 2072 6169  ring.        rai
+000183b0: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
+000183c0: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
+000183d0: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
+000183e0: 6c66 290a 0a0a 636c 6173 7320 4361 7365  lf)...class Case
+000183f0: 6c65 7373 4b65 7977 6f72 6428 4b65 7977  lessKeyword(Keyw
+00018400: 6f72 6429 3a0a 2020 2020 2222 220a 2020  ord):.    """.  
+00018410: 2020 4361 7365 6c65 7373 2076 6572 7369    Caseless versi
+00018420: 6f6e 206f 6620 3a63 6c61 7373 3a60 4b65  on of :class:`Ke
+00018430: 7977 6f72 6460 2e0a 0a20 2020 2045 7861  yword`...    Exa
+00018440: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
+00018450: 4361 7365 6c65 7373 4b65 7977 6f72 6428  CaselessKeyword(
+00018460: 2243 4d44 2229 5b31 2c20 2e2e 2e5d 2e70  "CMD")[1, ...].p
+00018470: 6172 7365 5f73 7472 696e 6728 2263 6d64  arse_string("cmd
+00018480: 2043 4d44 2043 6d64 3130 2229 0a20 2020   CMD Cmd10").   
+00018490: 2020 2020 2023 202d 3e20 5b27 434d 4427       # -> ['CMD'
+000184a0: 2c20 2743 4d44 275d 0a0a 2020 2020 2843  , 'CMD']..    (C
+000184b0: 6f6e 7472 6173 7420 7769 7468 2065 7861  ontrast with exa
+000184c0: 6d70 6c65 2066 6f72 203a 636c 6173 733a  mple for :class:
+000184d0: 6043 6173 656c 6573 734c 6974 6572 616c  `CaselessLiteral
+000184e0: 602e 290a 2020 2020 2222 220a 0a20 2020  `.).    """..   
+000184f0: 2064 6566 205f 5f69 6e69 745f 5f28 0a20   def __init__(. 
+00018500: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00018510: 2020 2020 206d 6174 6368 5f73 7472 696e       match_strin
+00018520: 673a 2073 7472 203d 2022 222c 0a20 2020  g: str = "",.   
+00018530: 2020 2020 2069 6465 6e74 5f63 6861 7273       ident_chars
+00018540: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
+00018550: 6c5b 7374 725d 203d 204e 6f6e 652c 0a20  l[str] = None,. 
+00018560: 2020 2020 2020 202a 2c0a 2020 2020 2020         *,.      
+00018570: 2020 6d61 7463 6853 7472 696e 673a 2073    matchString: s
+00018580: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
+00018590: 2069 6465 6e74 4368 6172 733a 2074 7970   identChars: typ
+000185a0: 696e 672e 4f70 7469 6f6e 616c 5b73 7472  ing.Optional[str
+000185b0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 293a  ] = None,.    ):
+000185c0: 0a20 2020 2020 2020 2069 6465 6e74 4368  .        identCh
+000185d0: 6172 7320 3d20 6964 656e 7443 6861 7273  ars = identChars
+000185e0: 206f 7220 6964 656e 745f 6368 6172 730a   or ident_chars.
+000185f0: 2020 2020 2020 2020 6d61 7463 685f 7374          match_st
+00018600: 7269 6e67 203d 206d 6174 6368 5374 7269  ring = matchStri
+00018610: 6e67 206f 7220 6d61 7463 685f 7374 7269  ng or match_stri
+00018620: 6e67 0a20 2020 2020 2020 2073 7570 6572  ng.        super
+00018630: 2829 2e5f 5f69 6e69 745f 5f28 6d61 7463  ().__init__(matc
+00018640: 685f 7374 7269 6e67 2c20 6964 656e 7443  h_string, identC
+00018650: 6861 7273 2c20 6361 7365 6c65 7373 3d54  hars, caseless=T
+00018660: 7275 6529 0a0a 0a63 6c61 7373 2043 6c6f  rue)...class Clo
+00018670: 7365 4d61 7463 6828 546f 6b65 6e29 3a0a  seMatch(Token):.
+00018680: 2020 2020 2222 2241 2076 6172 6961 7469      """A variati
+00018690: 6f6e 206f 6e20 3a63 6c61 7373 3a60 4c69  on on :class:`Li
+000186a0: 7465 7261 6c60 2077 6869 6368 206d 6174  teral` which mat
+000186b0: 6368 6573 2022 636c 6f73 6522 206d 6174  ches "close" mat
+000186c0: 6368 6573 2c0a 2020 2020 7468 6174 2069  ches,.    that i
+000186d0: 732c 2073 7472 696e 6773 2077 6974 6820  s, strings with 
+000186e0: 6174 206d 6f73 7420 276e 2720 6d69 736d  at most 'n' mism
+000186f0: 6174 6368 696e 6720 6368 6172 6163 7465  atching characte
+00018700: 7273 2e0a 2020 2020 3a63 6c61 7373 3a60  rs..    :class:`
+00018710: 436c 6f73 654d 6174 6368 6020 7461 6b65  CloseMatch` take
+00018720: 7320 7061 7261 6d65 7465 7273 3a0a 0a20  s parameters:.. 
+00018730: 2020 202d 2060 606d 6174 6368 5f73 7472     - ``match_str
+00018740: 696e 6760 6020 2d20 7374 7269 6e67 2074  ing`` - string t
+00018750: 6f20 6265 206d 6174 6368 6564 0a20 2020  o be matched.   
+00018760: 202d 2060 6063 6173 656c 6573 7360 6020   - ``caseless`` 
+00018770: 2d20 6120 626f 6f6c 6561 6e20 696e 6469  - a boolean indi
+00018780: 6361 7469 6e67 2077 6865 7468 6572 2074  cating whether t
+00018790: 6f20 6967 6e6f 7265 2063 6173 696e 6720  o ignore casing 
+000187a0: 7768 656e 2063 6f6d 7061 7269 6e67 2063  when comparing c
+000187b0: 6861 7261 6374 6572 730a 2020 2020 2d20  haracters.    - 
+000187c0: 6060 6d61 785f 6d69 736d 6174 6368 6573  ``max_mismatches
+000187d0: 6060 202d 2028 6060 6465 6661 756c 743d  `` - (``default=
+000187e0: 3160 6029 206d 6178 696d 756d 206e 756d  1``) maximum num
+000187f0: 6265 7220 6f66 0a20 2020 2020 206d 6973  ber of.      mis
+00018800: 6d61 7463 6865 7320 616c 6c6f 7765 6420  matches allowed 
+00018810: 746f 2063 6f75 6e74 2061 7320 6120 6d61  to count as a ma
+00018820: 7463 680a 0a20 2020 2054 6865 2072 6573  tch..    The res
+00018830: 756c 7473 2066 726f 6d20 6120 7375 6363  ults from a succ
+00018840: 6573 7366 756c 2070 6172 7365 2077 696c  essful parse wil
+00018850: 6c20 636f 6e74 6169 6e20 7468 6520 6d61  l contain the ma
+00018860: 7463 6865 6420 7465 7874 0a20 2020 2066  tched text.    f
+00018870: 726f 6d20 7468 6520 696e 7075 7420 7374  rom the input st
+00018880: 7269 6e67 2061 6e64 2074 6865 2066 6f6c  ring and the fol
+00018890: 6c6f 7769 6e67 206e 616d 6564 2072 6573  lowing named res
+000188a0: 756c 7473 3a0a 0a20 2020 202d 2060 606d  ults:..    - ``m
+000188b0: 6973 6d61 7463 6865 7360 6020 2d20 6120  ismatches`` - a 
+000188c0: 6c69 7374 206f 6620 7468 6520 706f 7369  list of the posi
+000188d0: 7469 6f6e 7320 7769 7468 696e 2074 6865  tions within the
+000188e0: 0a20 2020 2020 206d 6174 6368 5f73 7472  .      match_str
+000188f0: 696e 6720 7768 6572 6520 6d69 736d 6174  ing where mismat
+00018900: 6368 6573 2077 6572 6520 666f 756e 640a  ches were found.
+00018910: 2020 2020 2d20 6060 6f72 6967 696e 616c      - ``original
+00018920: 6060 202d 2074 6865 206f 7269 6769 6e61  `` - the origina
+00018930: 6c20 6d61 7463 685f 7374 7269 6e67 2075  l match_string u
+00018940: 7365 6420 746f 2063 6f6d 7061 7265 0a20  sed to compare. 
+00018950: 2020 2020 2061 6761 696e 7374 2074 6865       against the
+00018960: 2069 6e70 7574 2073 7472 696e 670a 0a20   input string.. 
+00018970: 2020 2049 6620 6060 6d69 736d 6174 6368     If ``mismatch
+00018980: 6573 6060 2069 7320 616e 2065 6d70 7479  es`` is an empty
+00018990: 206c 6973 742c 2074 6865 6e20 7468 6520   list, then the 
+000189a0: 6d61 7463 6820 7761 7320 616e 2065 7861  match was an exa
+000189b0: 6374 0a20 2020 206d 6174 6368 2e0a 0a20  ct.    match... 
+000189c0: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
+000189d0: 2020 2020 2020 7061 7474 203d 2043 6c6f        patt = Clo
+000189e0: 7365 4d61 7463 6828 2241 5443 4154 4347  seMatch("ATCATCG
+000189f0: 4141 5447 4741 2229 0a20 2020 2020 2020  AATGGA").       
+00018a00: 2070 6174 742e 7061 7273 655f 7374 7269   patt.parse_stri
+00018a10: 6e67 2822 4154 4341 5443 4741 4158 4747  ng("ATCATCGAAXGG
+00018a20: 4122 2920 2320 2d3e 2028 5b27 4154 4341  A") # -> (['ATCA
+00018a30: 5443 4741 4158 4747 4127 5d2c 207b 276d  TCGAAXGGA'], {'m
+00018a40: 6973 6d61 7463 6865 7327 3a20 5b5b 395d  ismatches': [[9]
+00018a50: 5d2c 2027 6f72 6967 696e 616c 273a 205b  ], 'original': [
+00018a60: 2741 5443 4154 4347 4141 5447 4741 275d  'ATCATCGAATGGA']
+00018a70: 7d29 0a20 2020 2020 2020 2070 6174 742e  }).        patt.
+00018a80: 7061 7273 655f 7374 7269 6e67 2822 4154  parse_string("AT
+00018a90: 4341 5843 4741 4158 4747 4122 2920 2320  CAXCGAAXGGA") # 
+00018aa0: 2d3e 2045 7863 6570 7469 6f6e 3a20 4578  -> Exception: Ex
+00018ab0: 7065 6374 6564 2027 4154 4341 5443 4741  pected 'ATCATCGA
+00018ac0: 4154 4747 4127 2028 7769 7468 2075 7020  ATGGA' (with up 
+00018ad0: 746f 2031 206d 6973 6d61 7463 6865 7329  to 1 mismatches)
+00018ae0: 2028 6174 2063 6861 7220 3029 2c20 286c   (at char 0), (l
+00018af0: 696e 653a 312c 2063 6f6c 3a31 290a 0a20  ine:1, col:1).. 
+00018b00: 2020 2020 2020 2023 2065 7861 6374 206d         # exact m
+00018b10: 6174 6368 0a20 2020 2020 2020 2070 6174  atch.        pat
+00018b20: 742e 7061 7273 655f 7374 7269 6e67 2822  t.parse_string("
+00018b30: 4154 4341 5443 4741 4154 4747 4122 2920  ATCATCGAATGGA") 
+00018b40: 2320 2d3e 2028 5b27 4154 4341 5443 4741  # -> (['ATCATCGA
+00018b50: 4154 4747 4127 5d2c 207b 276d 6973 6d61  ATGGA'], {'misma
+00018b60: 7463 6865 7327 3a20 5b5b 5d5d 2c20 276f  tches': [[]], 'o
+00018b70: 7269 6769 6e61 6c27 3a20 5b27 4154 4341  riginal': ['ATCA
+00018b80: 5443 4741 4154 4747 4127 5d7d 290a 0a20  TCGAATGGA']}).. 
+00018b90: 2020 2020 2020 2023 2063 6c6f 7365 206d         # close m
+00018ba0: 6174 6368 2061 6c6c 6f77 696e 6720 7570  atch allowing up
+00018bb0: 2074 6f20 3220 6d69 736d 6174 6368 6573   to 2 mismatches
+00018bc0: 0a20 2020 2020 2020 2070 6174 7420 3d20  .        patt = 
+00018bd0: 436c 6f73 654d 6174 6368 2822 4154 4341  CloseMatch("ATCA
+00018be0: 5443 4741 4154 4747 4122 2c20 6d61 785f  TCGAATGGA", max_
+00018bf0: 6d69 736d 6174 6368 6573 3d32 290a 2020  mismatches=2).  
+00018c00: 2020 2020 2020 7061 7474 2e70 6172 7365        patt.parse
+00018c10: 5f73 7472 696e 6728 2241 5443 4158 4347  _string("ATCAXCG
+00018c20: 4141 5847 4741 2229 2023 202d 3e20 285b  AAXGGA") # -> ([
+00018c30: 2741 5443 4158 4347 4141 5847 4741 275d  'ATCAXCGAAXGGA']
+00018c40: 2c20 7b27 6d69 736d 6174 6368 6573 273a  , {'mismatches':
+00018c50: 205b 5b34 2c20 395d 5d2c 2027 6f72 6967   [[4, 9]], 'orig
+00018c60: 696e 616c 273a 205b 2741 5443 4154 4347  inal': ['ATCATCG
+00018c70: 4141 5447 4741 275d 7d29 0a20 2020 2022  AATGGA']}).    "
+00018c80: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
+00018c90: 6974 5f5f 280a 2020 2020 2020 2020 7365  it__(.        se
+00018ca0: 6c66 2c0a 2020 2020 2020 2020 6d61 7463  lf,.        matc
+00018cb0: 685f 7374 7269 6e67 3a20 7374 722c 0a20  h_string: str,. 
+00018cc0: 2020 2020 2020 206d 6178 5f6d 6973 6d61         max_misma
+00018cd0: 7463 6865 733a 2074 7970 696e 672e 4f70  tches: typing.Op
+00018ce0: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
+00018cf0: 6e65 2c0a 2020 2020 2020 2020 2a2c 0a20  ne,.        *,. 
+00018d00: 2020 2020 2020 206d 6178 4d69 736d 6174         maxMismat
+00018d10: 6368 6573 3a20 696e 7420 3d20 312c 0a20  ches: int = 1,. 
+00018d20: 2020 2020 2020 2063 6173 656c 6573 733d         caseless=
+00018d30: 4661 6c73 652c 0a20 2020 2029 3a0a 2020  False,.    ):.  
+00018d40: 2020 2020 2020 6d61 784d 6973 6d61 7463        maxMismatc
+00018d50: 6865 7320 3d20 6d61 785f 6d69 736d 6174  hes = max_mismat
+00018d60: 6368 6573 2069 6620 6d61 785f 6d69 736d  ches if max_mism
+00018d70: 6174 6368 6573 2069 7320 6e6f 7420 4e6f  atches is not No
+00018d80: 6e65 2065 6c73 6520 6d61 784d 6973 6d61  ne else maxMisma
+00018d90: 7463 6865 730a 2020 2020 2020 2020 7375  tches.        su
+00018da0: 7065 7228 292e 5f5f 696e 6974 5f5f 2829  per().__init__()
+00018db0: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+00018dc0: 7463 685f 7374 7269 6e67 203d 206d 6174  tch_string = mat
+00018dd0: 6368 5f73 7472 696e 670a 2020 2020 2020  ch_string.      
+00018de0: 2020 7365 6c66 2e6d 6178 4d69 736d 6174    self.maxMismat
+00018df0: 6368 6573 203d 206d 6178 4d69 736d 6174  ches = maxMismat
+00018e00: 6368 6573 0a20 2020 2020 2020 2073 656c  ches.        sel
+00018e10: 662e 6572 726d 7367 203d 2066 2245 7870  f.errmsg = f"Exp
+00018e20: 6563 7465 6420 7b73 656c 662e 6d61 7463  ected {self.matc
+00018e30: 685f 7374 7269 6e67 2172 7d20 2877 6974  h_string!r} (wit
+00018e40: 6820 7570 2074 6f20 7b73 656c 662e 6d61  h up to {self.ma
+00018e50: 784d 6973 6d61 7463 6865 737d 206d 6973  xMismatches} mis
+00018e60: 6d61 7463 6865 7329 220a 2020 2020 2020  matches)".      
+00018e70: 2020 7365 6c66 2e63 6173 656c 6573 7320    self.caseless 
+00018e80: 3d20 6361 7365 6c65 7373 0a20 2020 2020  = caseless.     
+00018e90: 2020 2073 656c 662e 6d61 7949 6e64 6578     self.mayIndex
+00018ea0: 4572 726f 7220 3d20 4661 6c73 650a 2020  Error = False.  
+00018eb0: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
+00018ec0: 7475 726e 456d 7074 7920 3d20 4661 6c73  turnEmpty = Fals
+00018ed0: 650a 0a20 2020 2064 6566 205f 6765 6e65  e..    def _gene
+00018ee0: 7261 7465 4465 6661 756c 744e 616d 6528  rateDefaultName(
+00018ef0: 7365 6c66 2920 2d3e 2073 7472 3a0a 2020  self) -> str:.  
+00018f00: 2020 2020 2020 7265 7475 726e 2066 227b        return f"{
+00018f10: 7479 7065 2873 656c 6629 2e5f 5f6e 616d  type(self).__nam
+00018f20: 655f 5f7d 3a7b 7365 6c66 2e6d 6174 6368  e__}:{self.match
+00018f30: 5f73 7472 696e 6721 727d 220a 0a20 2020  _string!r}"..   
+00018f40: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+00018f50: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+00018f60: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+00018f70: 7565 293a 0a20 2020 2020 2020 2073 7461  ue):.        sta
+00018f80: 7274 203d 206c 6f63 0a20 2020 2020 2020  rt = loc.       
+00018f90: 2069 6e73 7472 6c65 6e20 3d20 6c65 6e28   instrlen = len(
+00018fa0: 696e 7374 7269 6e67 290a 2020 2020 2020  instring).      
+00018fb0: 2020 6d61 786c 6f63 203d 2073 7461 7274    maxloc = start
+00018fc0: 202b 206c 656e 2873 656c 662e 6d61 7463   + len(self.matc
+00018fd0: 685f 7374 7269 6e67 290a 0a20 2020 2020  h_string)..     
+00018fe0: 2020 2069 6620 6d61 786c 6f63 203c 3d20     if maxloc <= 
+00018ff0: 696e 7374 726c 656e 3a0a 2020 2020 2020  instrlen:.      
+00019000: 2020 2020 2020 6d61 7463 685f 7374 7269        match_stri
+00019010: 6e67 203d 2073 656c 662e 6d61 7463 685f  ng = self.match_
+00019020: 7374 7269 6e67 0a20 2020 2020 2020 2020  string.         
+00019030: 2020 206d 6174 6368 5f73 7472 696e 676c     match_stringl
+00019040: 6f63 203d 2030 0a20 2020 2020 2020 2020  oc = 0.         
+00019050: 2020 206d 6973 6d61 7463 6865 7320 3d20     mismatches = 
+00019060: 5b5d 0a20 2020 2020 2020 2020 2020 206d  [].            m
+00019070: 6178 4d69 736d 6174 6368 6573 203d 2073  axMismatches = s
+00019080: 656c 662e 6d61 784d 6973 6d61 7463 6865  elf.maxMismatche
+00019090: 730a 0a20 2020 2020 2020 2020 2020 2066  s..            f
+000190a0: 6f72 206d 6174 6368 5f73 7472 696e 676c  or match_stringl
+000190b0: 6f63 2c20 735f 6d20 696e 2065 6e75 6d65  oc, s_m in enume
+000190c0: 7261 7465 280a 2020 2020 2020 2020 2020  rate(.          
+000190d0: 2020 2020 2020 7a69 7028 696e 7374 7269        zip(instri
+000190e0: 6e67 5b6c 6f63 3a6d 6178 6c6f 635d 2c20  ng[loc:maxloc], 
+000190f0: 6d61 7463 685f 7374 7269 6e67 290a 2020  match_string).  
+00019100: 2020 2020 2020 2020 2020 293a 0a20 2020            ):.   
+00019110: 2020 2020 2020 2020 2020 2020 2073 7263               src
+00019120: 2c20 6d61 7420 3d20 735f 6d0a 2020 2020  , mat = s_m.    
+00019130: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00019140: 656c 662e 6361 7365 6c65 7373 3a0a 2020  elf.caseless:.  
+00019150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019160: 2020 7372 632c 206d 6174 203d 2073 7263    src, mat = src
+00019170: 2e6c 6f77 6572 2829 2c20 6d61 742e 6c6f  .lower(), mat.lo
+00019180: 7765 7228 290a 0a20 2020 2020 2020 2020  wer()..         
+00019190: 2020 2020 2020 2069 6620 7372 6320 213d         if src !=
+000191a0: 206d 6174 3a0a 2020 2020 2020 2020 2020   mat:.          
+000191b0: 2020 2020 2020 2020 2020 6d69 736d 6174            mismat
+000191c0: 6368 6573 2e61 7070 656e 6428 6d61 7463  ches.append(matc
+000191d0: 685f 7374 7269 6e67 6c6f 6329 0a20 2020  h_stringloc).   
+000191e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000191f0: 2069 6620 6c65 6e28 6d69 736d 6174 6368   if len(mismatch
+00019200: 6573 2920 3e20 6d61 784d 6973 6d61 7463  es) > maxMismatc
+00019210: 6865 733a 0a20 2020 2020 2020 2020 2020  hes:.           
+00019220: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+00019230: 616b 0a20 2020 2020 2020 2020 2020 2065  ak.            e
+00019240: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00019250: 2020 2020 206c 6f63 203d 2073 7461 7274       loc = start
+00019260: 202b 206d 6174 6368 5f73 7472 696e 676c   + match_stringl
+00019270: 6f63 202b 2031 0a20 2020 2020 2020 2020  oc + 1.         
+00019280: 2020 2020 2020 2072 6573 756c 7473 203d         results =
+00019290: 2050 6172 7365 5265 7375 6c74 7328 5b69   ParseResults([i
+000192a0: 6e73 7472 696e 675b 7374 6172 743a 6c6f  nstring[start:lo
+000192b0: 635d 5d29 0a20 2020 2020 2020 2020 2020  c]]).           
+000192c0: 2020 2020 2072 6573 756c 7473 5b22 6f72       results["or
+000192d0: 6967 696e 616c 225d 203d 206d 6174 6368  iginal"] = match
+000192e0: 5f73 7472 696e 670a 2020 2020 2020 2020  _string.        
+000192f0: 2020 2020 2020 2020 7265 7375 6c74 735b          results[
+00019300: 226d 6973 6d61 7463 6865 7322 5d20 3d20  "mismatches"] = 
+00019310: 6d69 736d 6174 6368 6573 0a20 2020 2020  mismatches.     
+00019320: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00019330: 6e20 6c6f 632c 2072 6573 756c 7473 0a0a  n loc, results..
+00019340: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+00019350: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
+00019360: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
+00019370: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
+00019380: 0a63 6c61 7373 2057 6f72 6428 546f 6b65  .class Word(Toke
+00019390: 6e29 3a0a 2020 2020 2222 2254 6f6b 656e  n):.    """Token
+000193a0: 2066 6f72 206d 6174 6368 696e 6720 776f   for matching wo
+000193b0: 7264 7320 636f 6d70 6f73 6564 206f 6620  rds composed of 
+000193c0: 616c 6c6f 7765 6420 6368 6172 6163 7465  allowed characte
+000193d0: 7220 7365 7473 2e0a 0a20 2020 2050 6172  r sets...    Par
+000193e0: 616d 6574 6572 733a 0a0a 2020 2020 2d20  ameters:..    - 
+000193f0: 6060 696e 6974 5f63 6861 7273 6060 202d  ``init_chars`` -
+00019400: 2073 7472 696e 6720 6f66 2061 6c6c 2063   string of all c
+00019410: 6861 7261 6374 6572 7320 7468 6174 2073  haracters that s
+00019420: 686f 756c 6420 6265 2075 7365 6420 746f  hould be used to
+00019430: 0a20 2020 2020 206d 6174 6368 2061 7320  .      match as 
+00019440: 6120 776f 7264 3b20 2241 4243 2220 7769  a word; "ABC" wi
+00019450: 6c6c 206d 6174 6368 2022 4141 4122 2c20  ll match "AAA", 
+00019460: 2241 4241 4222 2c20 2243 4241 4322 2c20  "ABAB", "CBAC", 
+00019470: 6574 632e 3b0a 2020 2020 2020 6966 2060  etc.;.      if `
+00019480: 6062 6f64 795f 6368 6172 7360 6020 6973  `body_chars`` is
+00019490: 2061 6c73 6f20 7370 6563 6966 6965 642c   also specified,
+000194a0: 2074 6865 6e20 7468 6973 2069 7320 7468   then this is th
+000194b0: 6520 7374 7269 6e67 206f 660a 2020 2020  e string of.    
+000194c0: 2020 696e 6974 6961 6c20 6368 6172 6163    initial charac
+000194d0: 7465 7273 0a20 2020 202d 2060 6062 6f64  ters.    - ``bod
+000194e0: 795f 6368 6172 7360 6020 2d20 7374 7269  y_chars`` - stri
+000194f0: 6e67 206f 6620 6368 6172 6163 7465 7273  ng of characters
+00019500: 2074 6861 740a 2020 2020 2020 6361 6e20   that.      can 
+00019510: 6265 2075 7365 6420 666f 7220 6d61 7463  be used for matc
+00019520: 6869 6e67 2061 6674 6572 2061 206d 6174  hing after a mat
+00019530: 6368 6564 2069 6e69 7469 616c 2063 6861  ched initial cha
+00019540: 7261 6374 6572 2061 730a 2020 2020 2020  racter as.      
+00019550: 6769 7665 6e20 696e 2060 6069 6e69 745f  given in ``init_
+00019560: 6368 6172 7360 603b 2069 6620 6f6d 6974  chars``; if omit
+00019570: 7465 642c 2073 616d 6520 6173 2074 6865  ted, same as the
+00019580: 2069 6e69 7469 616c 2063 6861 7261 6374   initial charact
+00019590: 6572 730a 2020 2020 2020 2864 6566 6175  ers.      (defau
+000195a0: 6c74 3d60 604e 6f6e 6560 6029 0a20 2020  lt=``None``).   
+000195b0: 202d 2060 606d 696e 6060 202d 206d 696e   - ``min`` - min
+000195c0: 696d 756d 206e 756d 6265 7220 6f66 2063  imum number of c
+000195d0: 6861 7261 6374 6572 7320 746f 206d 6174  haracters to mat
+000195e0: 6368 2028 6465 6661 756c 743d 3129 0a20  ch (default=1). 
+000195f0: 2020 202d 2060 606d 6178 6060 202d 206d     - ``max`` - m
+00019600: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
+00019610: 2063 6861 7261 6374 6572 7320 746f 206d   characters to m
+00019620: 6174 6368 2028 6465 6661 756c 743d 3029  atch (default=0)
+00019630: 0a20 2020 202d 2060 6065 7861 6374 6060  .    - ``exact``
+00019640: 202d 2065 7861 6374 206e 756d 6265 7220   - exact number 
+00019650: 6f66 2063 6861 7261 6374 6572 7320 746f  of characters to
+00019660: 206d 6174 6368 2028 6465 6661 756c 743d   match (default=
+00019670: 3029 0a20 2020 202d 2060 6061 735f 6b65  0).    - ``as_ke
+00019680: 7977 6f72 6460 6020 2d20 6d61 7463 6820  yword`` - match 
+00019690: 6173 2061 206b 6579 776f 7264 2028 6465  as a keyword (de
+000196a0: 6661 756c 743d 6060 4661 6c73 6560 6029  fault=``False``)
+000196b0: 0a20 2020 202d 2060 6065 7863 6c75 6465  .    - ``exclude
+000196c0: 5f63 6861 7273 6060 202d 2063 6861 7261  _chars`` - chara
+000196d0: 6374 6572 7320 7468 6174 206d 6967 6874  cters that might
+000196e0: 2062 650a 2020 2020 2020 666f 756e 6420   be.      found 
+000196f0: 696e 2074 6865 2069 6e70 7574 2060 6062  in the input ``b
+00019700: 6f64 795f 6368 6172 7360 6020 7374 7269  ody_chars`` stri
+00019710: 6e67 2062 7574 2077 6869 6368 2073 686f  ng but which sho
+00019720: 756c 6420 6e6f 7420 6265 0a20 2020 2020  uld not be.     
+00019730: 2061 6363 6570 7465 6420 666f 7220 6d61   accepted for ma
+00019740: 7463 6869 6e67 203b 7573 6566 756c 2074  tching ;useful t
+00019750: 6f20 6465 6669 6e65 2061 2077 6f72 6420  o define a word 
+00019760: 6f66 2061 6c6c 0a20 2020 2020 2070 7269  of all.      pri
+00019770: 6e74 6162 6c65 7320 6578 6365 7074 2066  ntables except f
+00019780: 6f72 206f 6e65 206f 7220 7477 6f20 6368  or one or two ch
+00019790: 6172 6163 7465 7273 2c20 666f 7220 696e  aracters, for in
+000197a0: 7374 616e 6365 0a20 2020 2020 2028 6465  stance.      (de
+000197b0: 6661 756c 743d 6060 4e6f 6e65 6060 290a  fault=``None``).
+000197c0: 0a20 2020 203a 636c 6173 733a 6073 7261  .    :class:`sra
+000197d0: 6e67 6560 2069 7320 7573 6566 756c 2066  nge` is useful f
+000197e0: 6f72 2064 6566 696e 696e 6720 6375 7374  or defining cust
+000197f0: 6f6d 2063 6861 7261 6374 6572 2073 6574  om character set
+00019800: 2073 7472 696e 6773 0a20 2020 2066 6f72   strings.    for
+00019810: 2064 6566 696e 696e 6720 3a63 6c61 7373   defining :class
+00019820: 3a60 576f 7264 6020 6578 7072 6573 7369  :`Word` expressi
+00019830: 6f6e 732c 2075 7369 6e67 2072 616e 6765  ons, using range
+00019840: 206e 6f74 6174 696f 6e20 6672 6f6d 0a20   notation from. 
+00019850: 2020 2072 6567 756c 6172 2065 7870 7265     regular expre
+00019860: 7373 696f 6e20 6368 6172 6163 7465 7220  ssion character 
+00019870: 7365 7473 2e0a 0a20 2020 2041 2063 6f6d  sets...    A com
+00019880: 6d6f 6e20 6d69 7374 616b 6520 6973 2074  mon mistake is t
+00019890: 6f20 7573 6520 3a63 6c61 7373 3a60 576f  o use :class:`Wo
+000198a0: 7264 6020 746f 206d 6174 6368 2061 2073  rd` to match a s
+000198b0: 7065 6369 6669 6320 6c69 7465 7261 6c0a  pecific literal.
+000198c0: 2020 2020 7374 7269 6e67 2c20 6173 2069      string, as i
+000198d0: 6e20 6060 576f 7264 2822 4164 6472 6573  n ``Word("Addres
+000198e0: 7322 2960 602e 2052 656d 656d 6265 7220  s")``. Remember 
+000198f0: 7468 6174 203a 636c 6173 733a 6057 6f72  that :class:`Wor
+00019900: 6460 0a20 2020 2075 7365 7320 7468 6520  d`.    uses the 
+00019910: 7374 7269 6e67 2061 7267 756d 656e 7420  string argument 
+00019920: 746f 2064 6566 696e 6520 2a73 6574 732a  to define *sets*
+00019930: 206f 6620 6d61 7463 6861 626c 6520 6368   of matchable ch
+00019940: 6172 6163 7465 7273 2e0a 2020 2020 5468  aracters..    Th
+00019950: 6973 2065 7870 7265 7373 696f 6e20 776f  is expression wo
+00019960: 756c 6420 6d61 7463 6820 2241 6464 222c  uld match "Add",
+00019970: 2022 4141 4122 2c20 2264 4172 6564 222c   "AAA", "dAred",
+00019980: 206f 7220 616e 7920 6f74 6865 7220 776f   or any other wo
+00019990: 7264 0a20 2020 206d 6164 6520 7570 206f  rd.    made up o
+000199a0: 6620 7468 6520 6368 6172 6163 7465 7273  f the characters
+000199b0: 2027 4127 2c20 2764 272c 2027 7227 2c20   'A', 'd', 'r', 
+000199c0: 2765 272c 2061 6e64 2027 7327 2e20 546f  'e', and 's'. To
+000199d0: 206d 6174 6368 2061 6e0a 2020 2020 6578   match an.    ex
+000199e0: 6163 7420 6c69 7465 7261 6c20 7374 7269  act literal stri
+000199f0: 6e67 2c20 7573 6520 3a63 6c61 7373 3a60  ng, use :class:`
+00019a00: 4c69 7465 7261 6c60 206f 7220 3a63 6c61  Literal` or :cla
+00019a10: 7373 3a60 4b65 7977 6f72 6460 2e0a 0a20  ss:`Keyword`... 
+00019a20: 2020 2070 7970 6172 7369 6e67 2069 6e63     pyparsing inc
+00019a30: 6c75 6465 7320 6865 6c70 6572 2073 7472  ludes helper str
+00019a40: 696e 6773 2066 6f72 2062 7569 6c64 696e  ings for buildin
+00019a50: 6720 576f 7264 733a 0a0a 2020 2020 2d20  g Words:..    - 
+00019a60: 3a63 6c61 7373 3a60 616c 7068 6173 600a  :class:`alphas`.
+00019a70: 2020 2020 2d20 3a63 6c61 7373 3a60 6e75      - :class:`nu
+00019a80: 6d73 600a 2020 2020 2d20 3a63 6c61 7373  ms`.    - :class
+00019a90: 3a60 616c 7068 616e 756d 7360 0a20 2020  :`alphanums`.   
+00019aa0: 202d 203a 636c 6173 733a 6068 6578 6e75   - :class:`hexnu
+00019ab0: 6d73 600a 2020 2020 2d20 3a63 6c61 7373  ms`.    - :class
+00019ac0: 3a60 616c 7068 6173 3862 6974 6020 2861  :`alphas8bit` (a
+00019ad0: 6c70 6861 6265 7469 6320 6368 6172 6163  lphabetic charac
+00019ae0: 7465 7273 2069 6e20 4153 4349 4920 7261  ters in ASCII ra
+00019af0: 6e67 6520 3132 382d 3235 350a 2020 2020  nge 128-255.    
+00019b00: 2020 2d20 6163 6365 6e74 6564 2c20 7469    - accented, ti
+00019b10: 6c64 6564 2c20 756d 6c61 7574 6564 2c20  lded, umlauted, 
+00019b20: 6574 632e 290a 2020 2020 2d20 3a63 6c61  etc.).    - :cla
+00019b30: 7373 3a60 7075 6e63 3862 6974 6020 286e  ss:`punc8bit` (n
+00019b40: 6f6e 2d61 6c70 6861 6265 7469 6320 6368  on-alphabetic ch
+00019b50: 6172 6163 7465 7273 2069 6e20 4153 4349  aracters in ASCI
+00019b60: 4920 7261 6e67 650a 2020 2020 2020 3132  I range.      12
+00019b70: 382d 3235 3520 2d20 6375 7272 656e 6379  8-255 - currency
+00019b80: 2c20 7379 6d62 6f6c 732c 2073 7570 6572  , symbols, super
+00019b90: 7363 7269 7074 732c 2064 6961 6372 6974  scripts, diacrit
+00019ba0: 6963 616c 732c 2065 7463 2e29 0a20 2020  icals, etc.).   
+00019bb0: 202d 203a 636c 6173 733a 6070 7269 6e74   - :class:`print
+00019bc0: 6162 6c65 7360 2028 616e 7920 6e6f 6e2d  ables` (any non-
+00019bd0: 7768 6974 6573 7061 6365 2063 6861 7261  whitespace chara
+00019be0: 6374 6572 290a 0a20 2020 2060 6061 6c70  cter)..    ``alp
+00019bf0: 6861 7360 602c 2060 606e 756d 7360 602c  has``, ``nums``,
+00019c00: 2061 6e64 2060 6070 7269 6e74 6162 6c65   and ``printable
+00019c10: 7360 6020 6172 6520 616c 736f 2064 6566  s`` are also def
+00019c20: 696e 6564 2069 6e20 7365 7665 7261 6c0a  ined in several.
+00019c30: 2020 2020 556e 6963 6f64 6520 7365 7473      Unicode sets
+00019c40: 202d 2073 6565 203a 636c 6173 733a 6070   - see :class:`p
+00019c50: 7970 6172 7369 6e67 5f75 6e69 636f 6465  yparsing_unicode
+00019c60: 6060 2e0a 0a20 2020 2045 7861 6d70 6c65  ``...    Example
+00019c70: 3a3a 0a0a 2020 2020 2020 2020 2320 6120  ::..        # a 
+00019c80: 776f 7264 2063 6f6d 706f 7365 6420 6f66  word composed of
+00019c90: 2064 6967 6974 730a 2020 2020 2020 2020   digits.        
+00019ca0: 696e 7465 6765 7220 3d20 576f 7264 286e  integer = Word(n
+00019cb0: 756d 7329 2023 2065 7175 6976 616c 656e  ums) # equivalen
+00019cc0: 7420 746f 2057 6f72 6428 2230 3132 3334  t to Word("01234
+00019cd0: 3536 3738 3922 2920 6f72 2057 6f72 6428  56789") or Word(
+00019ce0: 7372 616e 6765 2822 302d 3922 2929 0a0a  srange("0-9"))..
+00019cf0: 2020 2020 2020 2020 2320 6120 776f 7264          # a word
+00019d00: 2077 6974 6820 6120 6c65 6164 696e 6720   with a leading 
+00019d10: 6361 7069 7461 6c2c 2061 6e64 207a 6572  capital, and zer
+00019d20: 6f20 6f72 206d 6f72 6520 6c6f 7765 7263  o or more lowerc
+00019d30: 6173 650a 2020 2020 2020 2020 6361 7069  ase.        capi
+00019d40: 7461 6c5f 776f 7264 203d 2057 6f72 6428  tal_word = Word(
+00019d50: 616c 7068 6173 2e75 7070 6572 2829 2c20  alphas.upper(), 
+00019d60: 616c 7068 6173 2e6c 6f77 6572 2829 290a  alphas.lower()).
+00019d70: 0a20 2020 2020 2020 2023 2068 6f73 746e  .        # hostn
+00019d80: 616d 6573 2061 7265 2061 6c70 6861 6e75  ames are alphanu
+00019d90: 6d65 7269 632c 2077 6974 6820 6c65 6164  meric, with lead
+00019da0: 696e 6720 616c 7068 612c 2061 6e64 2027  ing alpha, and '
+00019db0: 2d27 0a20 2020 2020 2020 2068 6f73 746e  -'.        hostn
+00019dc0: 616d 6520 3d20 576f 7264 2861 6c70 6861  ame = Word(alpha
+00019dd0: 732c 2061 6c70 6861 6e75 6d73 202b 2027  s, alphanums + '
+00019de0: 2d27 290a 0a20 2020 2020 2020 2023 2072  -')..        # r
+00019df0: 6f6d 616e 206e 756d 6572 616c 2028 6e6f  oman numeral (no
+00019e00: 7420 6120 7374 7269 6374 2070 6172 7365  t a strict parse
+00019e10: 722c 2061 6363 6570 7473 2069 6e76 616c  r, accepts inval
+00019e20: 6964 206d 6978 206f 6620 6368 6172 6163  id mix of charac
+00019e30: 7465 7273 290a 2020 2020 2020 2020 726f  ters).        ro
+00019e40: 6d61 6e20 3d20 576f 7264 2822 4956 584c  man = Word("IVXL
+00019e50: 4344 4d22 290a 0a20 2020 2020 2020 2023  CDM")..        #
+00019e60: 2061 6e79 2073 7472 696e 6720 6f66 206e   any string of n
+00019e70: 6f6e 2d77 6869 7465 7370 6163 6520 6368  on-whitespace ch
+00019e80: 6172 6163 7465 7273 2c20 6578 6365 7074  aracters, except
+00019e90: 2066 6f72 2027 2c27 0a20 2020 2020 2020   for ','.       
+00019ea0: 2063 7376 5f76 616c 7565 203d 2057 6f72   csv_value = Wor
+00019eb0: 6428 7072 696e 7461 626c 6573 2c20 6578  d(printables, ex
+00019ec0: 636c 7564 655f 6368 6172 733d 222c 2229  clude_chars=",")
+00019ed0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+00019ee0: 6620 5f5f 696e 6974 5f5f 280a 2020 2020  f __init__(.    
+00019ef0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00019f00: 2020 696e 6974 5f63 6861 7273 3a20 7374    init_chars: st
+00019f10: 7220 3d20 2222 2c0a 2020 2020 2020 2020  r = "",.        
+00019f20: 626f 6479 5f63 6861 7273 3a20 7479 7069  body_chars: typi
+00019f30: 6e67 2e4f 7074 696f 6e61 6c5b 7374 725d  ng.Optional[str]
+00019f40: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00019f50: 206d 696e 3a20 696e 7420 3d20 312c 0a20   min: int = 1,. 
+00019f60: 2020 2020 2020 206d 6178 3a20 696e 7420         max: int 
+00019f70: 3d20 302c 0a20 2020 2020 2020 2065 7861  = 0,.        exa
+00019f80: 6374 3a20 696e 7420 3d20 302c 0a20 2020  ct: int = 0,.   
+00019f90: 2020 2020 2061 735f 6b65 7977 6f72 643a       as_keyword:
+00019fa0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+00019fb0: 2020 2020 2020 2065 7863 6c75 6465 5f63         exclude_c
+00019fc0: 6861 7273 3a20 7479 7069 6e67 2e4f 7074  hars: typing.Opt
+00019fd0: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+00019fe0: 652c 0a20 2020 2020 2020 202a 2c0a 2020  e,.        *,.  
+00019ff0: 2020 2020 2020 696e 6974 4368 6172 733a        initChars:
+0001a000: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
+0001a010: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
+0001a020: 2020 2020 2020 626f 6479 4368 6172 733a        bodyChars:
+0001a030: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
+0001a040: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
+0001a050: 2020 2020 2020 6173 4b65 7977 6f72 643a        asKeyword:
+0001a060: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+0001a070: 2020 2020 2020 2065 7863 6c75 6465 4368         excludeCh
+0001a080: 6172 733a 2074 7970 696e 672e 4f70 7469  ars: typing.Opti
+0001a090: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+0001a0a0: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
+0001a0b0: 2069 6e69 7443 6861 7273 203d 2069 6e69   initChars = ini
+0001a0c0: 7443 6861 7273 206f 7220 696e 6974 5f63  tChars or init_c
+0001a0d0: 6861 7273 0a20 2020 2020 2020 2062 6f64  hars.        bod
+0001a0e0: 7943 6861 7273 203d 2062 6f64 7943 6861  yChars = bodyCha
+0001a0f0: 7273 206f 7220 626f 6479 5f63 6861 7273  rs or body_chars
+0001a100: 0a20 2020 2020 2020 2061 734b 6579 776f  .        asKeywo
+0001a110: 7264 203d 2061 734b 6579 776f 7264 206f  rd = asKeyword o
+0001a120: 7220 6173 5f6b 6579 776f 7264 0a20 2020  r as_keyword.   
+0001a130: 2020 2020 2065 7863 6c75 6465 4368 6172       excludeChar
+0001a140: 7320 3d20 6578 636c 7564 6543 6861 7273  s = excludeChars
+0001a150: 206f 7220 6578 636c 7564 655f 6368 6172   or exclude_char
+0001a160: 730a 2020 2020 2020 2020 7375 7065 7228  s.        super(
+0001a170: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
+0001a180: 2020 2020 2069 6620 6e6f 7420 696e 6974       if not init
+0001a190: 4368 6172 733a 0a20 2020 2020 2020 2020  Chars:.         
+0001a1a0: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+0001a1b0: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+0001a1c0: 2020 2020 2066 2269 6e76 616c 6964 207b       f"invalid {
+0001a1d0: 7479 7065 2873 656c 6629 2e5f 5f6e 616d  type(self).__nam
+0001a1e0: 655f 5f7d 2c20 696e 6974 4368 6172 7320  e__}, initChars 
+0001a1f0: 6361 6e6e 6f74 2062 6520 656d 7074 7920  cannot be empty 
+0001a200: 7374 7269 6e67 220a 2020 2020 2020 2020  string".        
+0001a210: 2020 2020 290a 0a20 2020 2020 2020 2069      )..        i
+0001a220: 6e69 7443 6861 7273 5f73 6574 203d 2073  nitChars_set = s
+0001a230: 6574 2869 6e69 7443 6861 7273 290a 2020  et(initChars).  
+0001a240: 2020 2020 2020 6966 2065 7863 6c75 6465        if exclude
+0001a250: 4368 6172 733a 0a20 2020 2020 2020 2020  Chars:.         
+0001a260: 2020 2065 7863 6c75 6465 4368 6172 735f     excludeChars_
+0001a270: 7365 7420 3d20 7365 7428 6578 636c 7564  set = set(exclud
+0001a280: 6543 6861 7273 290a 2020 2020 2020 2020  eChars).        
+0001a290: 2020 2020 696e 6974 4368 6172 735f 7365      initChars_se
+0001a2a0: 7420 2d3d 2065 7863 6c75 6465 4368 6172  t -= excludeChar
+0001a2b0: 735f 7365 740a 2020 2020 2020 2020 2020  s_set.          
+0001a2c0: 2020 6966 2062 6f64 7943 6861 7273 3a0a    if bodyChars:.
+0001a2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a2e0: 626f 6479 4368 6172 7320 3d20 2222 2e6a  bodyChars = "".j
+0001a2f0: 6f69 6e28 7365 7428 626f 6479 4368 6172  oin(set(bodyChar
+0001a300: 7329 202d 2065 7863 6c75 6465 4368 6172  s) - excludeChar
+0001a310: 735f 7365 7429 0a20 2020 2020 2020 2073  s_set).        s
+0001a320: 656c 662e 696e 6974 4368 6172 7320 3d20  elf.initChars = 
+0001a330: 696e 6974 4368 6172 735f 7365 740a 2020  initChars_set.  
+0001a340: 2020 2020 2020 7365 6c66 2e69 6e69 7443        self.initC
+0001a350: 6861 7273 4f72 6967 203d 2022 222e 6a6f  harsOrig = "".jo
+0001a360: 696e 2873 6f72 7465 6428 696e 6974 4368  in(sorted(initCh
+0001a370: 6172 735f 7365 7429 290a 0a20 2020 2020  ars_set))..     
+0001a380: 2020 2069 6620 626f 6479 4368 6172 733a     if bodyChars:
+0001a390: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001a3a0: 662e 626f 6479 4368 6172 7320 3d20 7365  f.bodyChars = se
+0001a3b0: 7428 626f 6479 4368 6172 7329 0a20 2020  t(bodyChars).   
+0001a3c0: 2020 2020 2020 2020 2073 656c 662e 626f           self.bo
+0001a3d0: 6479 4368 6172 734f 7269 6720 3d20 2222  dyCharsOrig = ""
+0001a3e0: 2e6a 6f69 6e28 736f 7274 6564 2862 6f64  .join(sorted(bod
+0001a3f0: 7943 6861 7273 2929 0a20 2020 2020 2020  yChars)).       
+0001a400: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001a410: 2020 2073 656c 662e 626f 6479 4368 6172     self.bodyChar
+0001a420: 7320 3d20 696e 6974 4368 6172 735f 7365  s = initChars_se
+0001a430: 740a 2020 2020 2020 2020 2020 2020 7365  t.            se
+0001a440: 6c66 2e62 6f64 7943 6861 7273 4f72 6967  lf.bodyCharsOrig
+0001a450: 203d 2073 656c 662e 696e 6974 4368 6172   = self.initChar
+0001a460: 734f 7269 670a 0a20 2020 2020 2020 2073  sOrig..        s
+0001a470: 656c 662e 6d61 7853 7065 6369 6669 6564  elf.maxSpecified
+0001a480: 203d 206d 6178 203e 2030 0a0a 2020 2020   = max > 0..    
+0001a490: 2020 2020 6966 206d 696e 203c 2031 3a0a      if min < 1:.
+0001a4a0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001a4b0: 6520 5661 6c75 6545 7272 6f72 280a 2020  e ValueError(.  
+0001a4c0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
+0001a4d0: 616e 6e6f 7420 7370 6563 6966 7920 6120  annot specify a 
+0001a4e0: 6d69 6e69 6d75 6d20 6c65 6e67 7468 203c  minimum length <
+0001a4f0: 2031 3b20 7573 6520 4f70 7428 576f 7264   1; use Opt(Word
+0001a500: 2829 2920 6966 207a 6572 6f2d 6c65 6e67  ()) if zero-leng
+0001a510: 7468 2077 6f72 6420 6973 2070 6572 6d69  th word is permi
+0001a520: 7474 6564 220a 2020 2020 2020 2020 2020  tted".          
+0001a530: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
+0001a540: 7365 6c66 2e6d 6178 5370 6563 6966 6965  self.maxSpecifie
+0001a550: 6420 616e 6420 6d69 6e20 3e20 6d61 783a  d and min > max:
+0001a560: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0001a570: 7365 2056 616c 7565 4572 726f 7228 0a20  se ValueError(. 
+0001a580: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0001a590: 2269 6e76 616c 6964 2061 7267 732c 2069  "invalid args, i
+0001a5a0: 6620 6d69 6e20 616e 6420 6d61 7820 626f  f min and max bo
+0001a5b0: 7468 2073 7065 6369 6669 6564 206d 696e  th specified min
+0001a5c0: 206d 7573 7420 6265 203c 3d20 6d61 7820   must be <= max 
+0001a5d0: 286d 696e 3d7b 6d69 6e7d 2c20 6d61 783d  (min={min}, max=
+0001a5e0: 7b6d 6178 7d29 220a 2020 2020 2020 2020  {max})".        
+0001a5f0: 2020 2020 290a 0a20 2020 2020 2020 2073      )..        s
+0001a600: 656c 662e 6d69 6e4c 656e 203d 206d 696e  elf.minLen = min
+0001a610: 0a0a 2020 2020 2020 2020 6966 206d 6178  ..        if max
+0001a620: 203e 2030 3a0a 2020 2020 2020 2020 2020   > 0:.          
+0001a630: 2020 7365 6c66 2e6d 6178 4c65 6e20 3d20    self.maxLen = 
+0001a640: 6d61 780a 2020 2020 2020 2020 656c 7365  max.        else
+0001a650: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0001a660: 6c66 2e6d 6178 4c65 6e20 3d20 5f4d 4158  lf.maxLen = _MAX
+0001a670: 5f49 4e54 0a0a 2020 2020 2020 2020 6966  _INT..        if
+0001a680: 2065 7861 6374 203e 2030 3a0a 2020 2020   exact > 0:.    
+0001a690: 2020 2020 2020 2020 6d69 6e20 3d20 6d61          min = ma
+0001a6a0: 7820 3d20 6578 6163 740a 2020 2020 2020  x = exact.      
+0001a6b0: 2020 2020 2020 7365 6c66 2e6d 6178 4c65        self.maxLe
+0001a6c0: 6e20 3d20 6578 6163 740a 2020 2020 2020  n = exact.      
+0001a6d0: 2020 2020 2020 7365 6c66 2e6d 696e 4c65        self.minLe
+0001a6e0: 6e20 3d20 6578 6163 740a 0a20 2020 2020  n = exact..     
+0001a6f0: 2020 2073 656c 662e 6572 726d 7367 203d     self.errmsg =
+0001a700: 2022 4578 7065 6374 6564 2022 202b 2073   "Expected " + s
+0001a710: 656c 662e 6e61 6d65 0a20 2020 2020 2020  elf.name.       
+0001a720: 2073 656c 662e 6d61 7949 6e64 6578 4572   self.mayIndexEr
+0001a730: 726f 7220 3d20 4661 6c73 650a 2020 2020  ror = False.    
+0001a740: 2020 2020 7365 6c66 2e61 734b 6579 776f      self.asKeywo
+0001a750: 7264 203d 2061 734b 6579 776f 7264 0a20  rd = asKeyword. 
+0001a760: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
+0001a770: 734b 6579 776f 7264 3a0a 2020 2020 2020  sKeyword:.      
+0001a780: 2020 2020 2020 7365 6c66 2e65 7272 6d73        self.errms
+0001a790: 6720 2b3d 2022 2061 7320 6120 6b65 7977  g += " as a keyw
+0001a7a0: 6f72 6422 0a0a 2020 2020 2020 2020 2320  ord"..        # 
+0001a7b0: 7365 6520 6966 2077 6520 6361 6e20 6d61  see if we can ma
+0001a7c0: 6b65 2061 2072 6567 6578 2066 6f72 2074  ke a regex for t
+0001a7d0: 6869 7320 576f 7264 0a20 2020 2020 2020  his Word.       
+0001a7e0: 2069 6620 2220 2220 6e6f 7420 696e 2028   if " " not in (
+0001a7f0: 7365 6c66 2e69 6e69 7443 6861 7273 207c  self.initChars |
+0001a800: 2073 656c 662e 626f 6479 4368 6172 7329   self.bodyChars)
+0001a810: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0001a820: 206c 656e 2873 656c 662e 696e 6974 4368   len(self.initCh
+0001a830: 6172 7329 203d 3d20 313a 0a20 2020 2020  ars) == 1:.     
+0001a840: 2020 2020 2020 2020 2020 2072 655f 6c65             re_le
+0001a850: 6164 696e 675f 6672 6167 6d65 6e74 203d  ading_fragment =
+0001a860: 2072 652e 6573 6361 7065 2873 656c 662e   re.escape(self.
+0001a870: 696e 6974 4368 6172 734f 7269 6729 0a20  initCharsOrig). 
+0001a880: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0001a890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a8a0: 2072 655f 6c65 6164 696e 675f 6672 6167   re_leading_frag
+0001a8b0: 6d65 6e74 203d 2066 225b 7b5f 636f 6c6c  ment = f"[{_coll
+0001a8c0: 6170 7365 5f73 7472 696e 675f 746f 5f72  apse_string_to_r
+0001a8d0: 616e 6765 7328 7365 6c66 2e69 6e69 7443  anges(self.initC
+0001a8e0: 6861 7273 297d 5d22 0a0a 2020 2020 2020  hars)}]"..      
+0001a8f0: 2020 2020 2020 6966 2073 656c 662e 626f        if self.bo
+0001a900: 6479 4368 6172 7320 3d3d 2073 656c 662e  dyChars == self.
+0001a910: 696e 6974 4368 6172 733a 0a20 2020 2020  initChars:.     
+0001a920: 2020 2020 2020 2020 2020 2069 6620 6d61             if ma
+0001a930: 7820 3d3d 2030 2061 6e64 2073 656c 662e  x == 0 and self.
+0001a940: 6d69 6e4c 656e 203d 3d20 313a 0a20 2020  minLen == 1:.   
+0001a950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a960: 2072 6570 6561 7420 3d20 222b 220a 2020   repeat = "+".  
+0001a970: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001a980: 6966 206d 6178 203d 3d20 313a 0a20 2020  if max == 1:.   
+0001a990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a9a0: 2072 6570 6561 7420 3d20 2222 0a20 2020   repeat = "".   
+0001a9b0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0001a9c0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0001a9d0: 2020 2020 2020 2069 6620 7365 6c66 2e6d         if self.m
+0001a9e0: 696e 4c65 6e20 213d 2073 656c 662e 6d61  inLen != self.ma
+0001a9f0: 784c 656e 3a0a 2020 2020 2020 2020 2020  xLen:.          
+0001aa00: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001aa10: 7065 6174 203d 2066 227b 7b7b 7365 6c66  peat = f"{{{self
+0001aa20: 2e6d 696e 4c65 6e7d 2c7b 2727 2069 6620  .minLen},{'' if 
+0001aa30: 7365 6c66 2e6d 6178 4c65 6e20 3d3d 205f  self.maxLen == _
+0001aa40: 4d41 585f 494e 5420 656c 7365 2073 656c  MAX_INT else sel
+0001aa50: 662e 6d61 784c 656e 7d7d 7d22 0a20 2020  f.maxLen}}}".   
+0001aa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa70: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001aa80: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001aa90: 6570 6561 7420 3d20 6622 7b7b 7b73 656c  epeat = f"{{{sel
+0001aaa0: 662e 6d69 6e4c 656e 7d7d 7d22 0a20 2020  f.minLen}}}".   
+0001aab0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0001aac0: 662e 7265 5374 7269 6e67 203d 2066 227b  f.reString = f"{
+0001aad0: 7265 5f6c 6561 6469 6e67 5f66 7261 676d  re_leading_fragm
+0001aae0: 656e 747d 7b72 6570 6561 747d 220a 2020  ent}{repeat}".  
+0001aaf0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0001ab00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab10: 6966 206d 6178 203d 3d20 313a 0a20 2020  if max == 1:.   
+0001ab20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab30: 2072 655f 626f 6479 5f66 7261 676d 656e   re_body_fragmen
+0001ab40: 7420 3d20 2222 0a20 2020 2020 2020 2020  t = "".         
+0001ab50: 2020 2020 2020 2020 2020 2072 6570 6561             repea
+0001ab60: 7420 3d20 2222 0a20 2020 2020 2020 2020  t = "".         
+0001ab70: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
 0001ab80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ab90: 2072 6570 6561 7420 3d20 223f 2220 6966   repeat = "?" if
-0001aba0: 206d 696e 203c 3d20 3120 656c 7365 2022   min <= 1 else "
-0001abb0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0001abc0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0001abd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001abe0: 2020 2020 6966 206d 696e 2021 3d20 6d61      if min != ma
-0001abf0: 783a 0a20 2020 2020 2020 2020 2020 2020  x:.             
-0001ac00: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001ac10: 6570 6561 7420 3d20 6622 7b7b 7b6d 696e  epeat = f"{{{min
-0001ac20: 202d 2031 2069 6620 6d69 6e20 3e20 3020   - 1 if min > 0 
-0001ac30: 656c 7365 2030 7d2c 7b6d 6178 202d 2031  else 0},{max - 1
-0001ac40: 7d7d 7d22 0a20 2020 2020 2020 2020 2020  }}}".           
-0001ac50: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0001ac60: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0001ac70: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001ac80: 6570 6561 7420 3d20 6622 7b7b 7b6d 696e  epeat = f"{{{min
-0001ac90: 202d 2031 2069 6620 6d69 6e20 3e20 3020   - 1 if min > 0 
-0001aca0: 656c 7365 2030 7d7d 7d22 0a0a 2020 2020  else 0}}}"..    
-0001acb0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001acc0: 2e72 6553 7472 696e 6720 3d20 280a 2020  .reString = (.  
+0001ab90: 2072 655f 626f 6479 5f66 7261 676d 656e   re_body_fragmen
+0001aba0: 7420 3d20 6622 5b7b 5f63 6f6c 6c61 7073  t = f"[{_collaps
+0001abb0: 655f 7374 7269 6e67 5f74 6f5f 7261 6e67  e_string_to_rang
+0001abc0: 6573 2873 656c 662e 626f 6479 4368 6172  es(self.bodyChar
+0001abd0: 7329 7d5d 220a 2020 2020 2020 2020 2020  s)}]".          
+0001abe0: 2020 2020 2020 2020 2020 6966 206d 6178            if max
+0001abf0: 203d 3d20 3020 616e 6420 7365 6c66 2e6d   == 0 and self.m
+0001ac00: 696e 4c65 6e20 3d3d 2031 3a0a 2020 2020  inLen == 1:.    
+0001ac10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac20: 2020 2020 7265 7065 6174 203d 2022 2a22      repeat = "*"
+0001ac30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ac40: 2020 2020 2065 6c69 6620 6d61 7820 3d3d       elif max ==
+0001ac50: 2032 3a0a 2020 2020 2020 2020 2020 2020   2:.            
+0001ac60: 2020 2020 2020 2020 2020 2020 7265 7065              repe
+0001ac70: 6174 203d 2022 3f22 2069 6620 6d69 6e20  at = "?" if min 
+0001ac80: 3c3d 2031 2065 6c73 6520 2222 0a20 2020  <= 1 else "".   
+0001ac90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aca0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001acb0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001acc0: 6620 6d69 6e20 213d 206d 6178 3a0a 2020  f min != max:.  
 0001acd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ace0: 2020 6622 7b72 655f 6c65 6164 696e 675f    f"{re_leading_
-0001acf0: 6672 6167 6d65 6e74 7d22 2066 227b 7265  fragment}" f"{re
-0001ad00: 5f62 6f64 795f 6672 6167 6d65 6e74 7d22  _body_fragment}"
-0001ad10: 2066 227b 7265 7065 6174 7d22 0a20 2020   f"{repeat}".   
-0001ad20: 2020 2020 2020 2020 2020 2020 2029 0a0a               )..
-0001ad30: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-0001ad40: 656c 662e 6173 4b65 7977 6f72 643a 0a20  elf.asKeyword:. 
-0001ad50: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001ad60: 656c 662e 7265 5374 7269 6e67 203d 2072  elf.reString = r
-0001ad70: 6622 5c62 7b73 656c 662e 7265 5374 7269  f"\b{self.reStri
-0001ad80: 6e67 7d5c 6222 0a0a 2020 2020 2020 2020  ng}\b"..        
-0001ad90: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0001ada0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-0001adb0: 203d 2072 652e 636f 6d70 696c 6528 7365   = re.compile(se
-0001adc0: 6c66 2e72 6553 7472 696e 6729 0a20 2020  lf.reString).   
-0001add0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-0001ade0: 7265 2e65 7272 6f72 3a0a 2020 2020 2020  re.error:.      
-0001adf0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-0001ae00: 6520 3d20 4e6f 6e65 2020 2320 7479 7065  e = None  # type
-0001ae10: 3a20 6967 6e6f 7265 5b61 7373 6967 6e6d  : ignore[assignm
-0001ae20: 656e 745d 0a20 2020 2020 2020 2020 2020  ent].           
-0001ae30: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001ae40: 2020 2020 2020 2073 656c 662e 7265 5f6d         self.re_m
-0001ae50: 6174 6368 203d 2073 656c 662e 7265 2e6d  atch = self.re.m
-0001ae60: 6174 6368 0a20 2020 2020 2020 2020 2020  atch.           
-0001ae70: 2020 2020 2073 656c 662e 7061 7273 6549       self.parseI
-0001ae80: 6d70 6c20 3d20 7365 6c66 2e70 6172 7365  mpl = self.parse
-0001ae90: 496d 706c 5f72 6567 6578 2020 2320 7479  Impl_regex  # ty
-0001aea0: 7065 3a20 6967 6e6f 7265 5b61 7373 6967  pe: ignore[assig
-0001aeb0: 6e6d 656e 745d 0a0a 2020 2020 6465 6620  nment]..    def 
-0001aec0: 5f67 656e 6572 6174 6544 6566 6175 6c74  _generateDefault
-0001aed0: 4e61 6d65 2873 656c 6629 202d 3e20 7374  Name(self) -> st
-0001aee0: 723a 0a20 2020 2020 2020 2064 6566 2063  r:.        def c
-0001aef0: 6861 7273 4173 5374 7228 7329 3a0a 2020  harsAsStr(s):.  
-0001af00: 2020 2020 2020 2020 2020 6d61 785f 7265            max_re
-0001af10: 7072 5f6c 656e 203d 2031 360a 2020 2020  pr_len = 16.    
-0001af20: 2020 2020 2020 2020 7320 3d20 5f63 6f6c          s = _col
-0001af30: 6c61 7073 655f 7374 7269 6e67 5f74 6f5f  lapse_string_to_
-0001af40: 7261 6e67 6573 2873 2c20 7265 5f65 7363  ranges(s, re_esc
-0001af50: 6170 653d 4661 6c73 6529 0a20 2020 2020  ape=False).     
-0001af60: 2020 2020 2020 2069 6620 6c65 6e28 7329         if len(s)
-0001af70: 203e 206d 6178 5f72 6570 725f 6c65 6e3a   > max_repr_len:
-0001af80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001af90: 2072 6574 7572 6e20 735b 3a20 6d61 785f   return s[: max_
-0001afa0: 7265 7072 5f6c 656e 202d 2033 5d20 2b20  repr_len - 3] + 
-0001afb0: 222e 2e2e 220a 2020 2020 2020 2020 2020  "...".          
-0001afc0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0001afd0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0001afe0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
-0001aff0: 662e 696e 6974 4368 6172 7320 213d 2073  f.initChars != s
-0001b000: 656c 662e 626f 6479 4368 6172 733a 0a20  elf.bodyChars:. 
-0001b010: 2020 2020 2020 2020 2020 2062 6173 6520             base 
-0001b020: 3d20 6622 573a 287b 6368 6172 7341 7353  = f"W:({charsAsS
-0001b030: 7472 2873 656c 662e 696e 6974 4368 6172  tr(self.initChar
-0001b040: 7329 7d2c 207b 6368 6172 7341 7353 7472  s)}, {charsAsStr
-0001b050: 2873 656c 662e 626f 6479 4368 6172 7329  (self.bodyChars)
-0001b060: 7d29 220a 2020 2020 2020 2020 656c 7365  })".        else
-0001b070: 3a0a 2020 2020 2020 2020 2020 2020 6261  :.            ba
-0001b080: 7365 203d 2066 2257 3a28 7b63 6861 7273  se = f"W:({chars
-0001b090: 4173 5374 7228 7365 6c66 2e69 6e69 7443  AsStr(self.initC
-0001b0a0: 6861 7273 297d 2922 0a0a 2020 2020 2020  hars)})"..      
-0001b0b0: 2020 2320 6164 6420 6c65 6e67 7468 2073    # add length s
-0001b0c0: 7065 6369 6669 6361 7469 6f6e 0a20 2020  pecification.   
-0001b0d0: 2020 2020 2069 6620 7365 6c66 2e6d 696e       if self.min
-0001b0e0: 4c65 6e20 3e20 3120 6f72 2073 656c 662e  Len > 1 or self.
-0001b0f0: 6d61 784c 656e 2021 3d20 5f4d 4158 5f49  maxLen != _MAX_I
-0001b100: 4e54 3a0a 2020 2020 2020 2020 2020 2020  NT:.            
-0001b110: 6966 2073 656c 662e 6d69 6e4c 656e 203d  if self.minLen =
-0001b120: 3d20 7365 6c66 2e6d 6178 4c65 6e3a 0a20  = self.maxLen:. 
-0001b130: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001b140: 6620 7365 6c66 2e6d 696e 4c65 6e20 3d3d  f self.minLen ==
-0001b150: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-0001b160: 2020 2020 2020 2020 7265 7475 726e 2062          return b
-0001b170: 6173 655b 323a 5d0a 2020 2020 2020 2020  ase[2:].        
-0001b180: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0001b190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b1a0: 2020 7265 7475 726e 2062 6173 6520 2b20    return base + 
-0001b1b0: 6622 7b7b 7b73 656c 662e 6d69 6e4c 656e  f"{{{self.minLen
-0001b1c0: 7d7d 7d22 0a20 2020 2020 2020 2020 2020  }}}".           
-0001b1d0: 2065 6c69 6620 7365 6c66 2e6d 6178 4c65   elif self.maxLe
-0001b1e0: 6e20 3d3d 205f 4d41 585f 494e 543a 0a20  n == _MAX_INT:. 
-0001b1f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001b200: 6574 7572 6e20 6261 7365 202b 2066 227b  eturn base + f"{
-0001b210: 7b7b 7365 6c66 2e6d 696e 4c65 6e7d 2c2e  {{self.minLen},.
-0001b220: 2e2e 7d7d 220a 2020 2020 2020 2020 2020  ..}}".          
-0001b230: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0001b240: 2020 2020 2020 2020 7265 7475 726e 2062          return b
-0001b250: 6173 6520 2b20 6622 7b7b 7b73 656c 662e  ase + f"{{{self.
-0001b260: 6d69 6e4c 656e 7d2c 7b73 656c 662e 6d61  minLen},{self.ma
-0001b270: 784c 656e 7d7d 7d22 0a20 2020 2020 2020  xLen}}}".       
-0001b280: 2072 6574 7572 6e20 6261 7365 0a0a 2020   return base..  
-0001b290: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-0001b2a0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-0001b2b0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-0001b2c0: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
-0001b2d0: 2069 6e73 7472 696e 675b 6c6f 635d 206e   instring[loc] n
-0001b2e0: 6f74 2069 6e20 7365 6c66 2e69 6e69 7443  ot in self.initC
-0001b2f0: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
-0001b300: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
-0001b310: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
-0001b320: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
-0001b330: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
-0001b340: 2020 7374 6172 7420 3d20 6c6f 630a 2020    start = loc.  
-0001b350: 2020 2020 2020 6c6f 6320 2b3d 2031 0a20        loc += 1. 
-0001b360: 2020 2020 2020 2069 6e73 7472 6c65 6e20         instrlen 
-0001b370: 3d20 6c65 6e28 696e 7374 7269 6e67 290a  = len(instring).
-0001b380: 2020 2020 2020 2020 626f 6479 6368 6172          bodychar
-0001b390: 7320 3d20 7365 6c66 2e62 6f64 7943 6861  s = self.bodyCha
-0001b3a0: 7273 0a20 2020 2020 2020 206d 6178 6c6f  rs.        maxlo
-0001b3b0: 6320 3d20 7374 6172 7420 2b20 7365 6c66  c = start + self
-0001b3c0: 2e6d 6178 4c65 6e0a 2020 2020 2020 2020  .maxLen.        
-0001b3d0: 6d61 786c 6f63 203d 206d 696e 286d 6178  maxloc = min(max
-0001b3e0: 6c6f 632c 2069 6e73 7472 6c65 6e29 0a20  loc, instrlen). 
-0001b3f0: 2020 2020 2020 2077 6869 6c65 206c 6f63         while loc
-0001b400: 203c 206d 6178 6c6f 6320 616e 6420 696e   < maxloc and in
-0001b410: 7374 7269 6e67 5b6c 6f63 5d20 696e 2062  string[loc] in b
-0001b420: 6f64 7963 6861 7273 3a0a 2020 2020 2020  odychars:.      
-0001b430: 2020 2020 2020 6c6f 6320 2b3d 2031 0a0a        loc += 1..
-0001b440: 2020 2020 2020 2020 7468 726f 7745 7863          throwExc
-0001b450: 6570 7469 6f6e 203d 2046 616c 7365 0a20  eption = False. 
-0001b460: 2020 2020 2020 2069 6620 6c6f 6320 2d20         if loc - 
-0001b470: 7374 6172 7420 3c20 7365 6c66 2e6d 696e  start < self.min
-0001b480: 4c65 6e3a 0a20 2020 2020 2020 2020 2020  Len:.           
-0001b490: 2074 6872 6f77 4578 6365 7074 696f 6e20   throwException 
-0001b4a0: 3d20 5472 7565 0a20 2020 2020 2020 2065  = True.        e
-0001b4b0: 6c69 6620 7365 6c66 2e6d 6178 5370 6563  lif self.maxSpec
-0001b4c0: 6966 6965 6420 616e 6420 6c6f 6320 3c20  ified and loc < 
-0001b4d0: 696e 7374 726c 656e 2061 6e64 2069 6e73  instrlen and ins
-0001b4e0: 7472 696e 675b 6c6f 635d 2069 6e20 626f  tring[loc] in bo
-0001b4f0: 6479 6368 6172 733a 0a20 2020 2020 2020  dychars:.       
-0001b500: 2020 2020 2074 6872 6f77 4578 6365 7074       throwExcept
-0001b510: 696f 6e20 3d20 5472 7565 0a20 2020 2020  ion = True.     
-0001b520: 2020 2065 6c69 6620 7365 6c66 2e61 734b     elif self.asK
-0001b530: 6579 776f 7264 3a0a 2020 2020 2020 2020  eyword:.        
-0001b540: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
-0001b550: 2020 2020 2020 2020 2073 7461 7274 203e           start >
-0001b560: 2030 0a20 2020 2020 2020 2020 2020 2020   0.             
-0001b570: 2020 2061 6e64 2069 6e73 7472 696e 675b     and instring[
-0001b580: 7374 6172 7420 2d20 315d 2069 6e20 626f  start - 1] in bo
-0001b590: 6479 6368 6172 730a 2020 2020 2020 2020  dychars.        
-0001b5a0: 2020 2020 2020 2020 6f72 206c 6f63 203c          or loc <
-0001b5b0: 2069 6e73 7472 6c65 6e0a 2020 2020 2020   instrlen.      
-0001b5c0: 2020 2020 2020 2020 2020 616e 6420 696e            and in
-0001b5d0: 7374 7269 6e67 5b6c 6f63 5d20 696e 2062  string[loc] in b
-0001b5e0: 6f64 7963 6861 7273 0a20 2020 2020 2020  odychars.       
-0001b5f0: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
-0001b600: 2020 2020 2020 2020 7468 726f 7745 7863          throwExc
-0001b610: 6570 7469 6f6e 203d 2054 7275 650a 0a20  eption = True.. 
-0001b620: 2020 2020 2020 2069 6620 7468 726f 7745         if throwE
-0001b630: 7863 6570 7469 6f6e 3a0a 2020 2020 2020  xception:.      
-0001b640: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
-0001b650: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
-0001b660: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
-0001b670: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
-0001b680: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
-0001b690: 2c20 696e 7374 7269 6e67 5b73 7461 7274  , instring[start
-0001b6a0: 3a6c 6f63 5d0a 0a20 2020 2064 6566 2070  :loc]..    def p
-0001b6b0: 6172 7365 496d 706c 5f72 6567 6578 2873  arseImpl_regex(s
-0001b6c0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-0001b6d0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-0001b6e0: 7565 293a 0a20 2020 2020 2020 2072 6573  ue):.        res
-0001b6f0: 756c 7420 3d20 7365 6c66 2e72 655f 6d61  ult = self.re_ma
-0001b700: 7463 6828 696e 7374 7269 6e67 2c20 6c6f  tch(instring, lo
-0001b710: 6329 0a20 2020 2020 2020 2069 6620 6e6f  c).        if no
-0001b720: 7420 7265 7375 6c74 3a0a 2020 2020 2020  t result:.      
-0001b730: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
-0001b740: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
-0001b750: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
-0001b760: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
-0001b770: 2020 2020 2020 6c6f 6320 3d20 7265 7375        loc = resu
-0001b780: 6c74 2e65 6e64 2829 0a20 2020 2020 2020  lt.end().       
-0001b790: 2072 6574 7572 6e20 6c6f 632c 2072 6573   return loc, res
-0001b7a0: 756c 742e 6772 6f75 7028 290a 0a0a 636c  ult.group()...cl
-0001b7b0: 6173 7320 4368 6172 2857 6f72 6429 3a0a  ass Char(Word):.
-0001b7c0: 2020 2020 2222 2241 2073 686f 7274 2d63      """A short-c
-0001b7d0: 7574 2063 6c61 7373 2066 6f72 2064 6566  ut class for def
-0001b7e0: 696e 696e 6720 3a63 6c61 7373 3a60 576f  ining :class:`Wo
-0001b7f0: 7264 6020 6060 2863 6861 7261 6374 6572  rd` ``(character
-0001b800: 732c 2065 7861 6374 3d31 2960 602c 0a20  s, exact=1)``,. 
-0001b810: 2020 2077 6865 6e20 6465 6669 6e69 6e67     when defining
-0001b820: 2061 206d 6174 6368 206f 6620 616e 7920   a match of any 
-0001b830: 7369 6e67 6c65 2063 6861 7261 6374 6572  single character
-0001b840: 2069 6e20 6120 7374 7269 6e67 206f 660a   in a string of.
-0001b850: 2020 2020 6368 6172 6163 7465 7273 2e0a      characters..
-0001b860: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
-0001b870: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
-0001b880: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0001b890: 2063 6861 7273 6574 3a20 7374 722c 0a20   charset: str,. 
-0001b8a0: 2020 2020 2020 2061 735f 6b65 7977 6f72         as_keywor
-0001b8b0: 643a 2062 6f6f 6c20 3d20 4661 6c73 652c  d: bool = False,
-0001b8c0: 0a20 2020 2020 2020 2065 7863 6c75 6465  .        exclude
-0001b8d0: 5f63 6861 7273 3a20 7479 7069 6e67 2e4f  _chars: typing.O
-0001b8e0: 7074 696f 6e61 6c5b 7374 725d 203d 204e  ptional[str] = N
-0001b8f0: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
-0001b900: 2020 2020 2020 2020 6173 4b65 7977 6f72          asKeywor
-0001b910: 643a 2062 6f6f 6c20 3d20 4661 6c73 652c  d: bool = False,
-0001b920: 0a20 2020 2020 2020 2065 7863 6c75 6465  .        exclude
-0001b930: 4368 6172 733a 2074 7970 696e 672e 4f70  Chars: typing.Op
-0001b940: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
-0001b950: 6e65 2c0a 2020 2020 293a 0a20 2020 2020  ne,.    ):.     
-0001b960: 2020 2061 734b 6579 776f 7264 203d 2061     asKeyword = a
-0001b970: 734b 6579 776f 7264 206f 7220 6173 5f6b  sKeyword or as_k
-0001b980: 6579 776f 7264 0a20 2020 2020 2020 2065  eyword.        e
-0001b990: 7863 6c75 6465 4368 6172 7320 3d20 6578  xcludeChars = ex
-0001b9a0: 636c 7564 6543 6861 7273 206f 7220 6578  cludeChars or ex
-0001b9b0: 636c 7564 655f 6368 6172 730a 2020 2020  clude_chars.    
-0001b9c0: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-0001b9d0: 6974 5f5f 280a 2020 2020 2020 2020 2020  it__(.          
-0001b9e0: 2020 6368 6172 7365 742c 2065 7861 6374    charset, exact
-0001b9f0: 3d31 2c20 6173 5f6b 6579 776f 7264 3d61  =1, as_keyword=a
-0001ba00: 734b 6579 776f 7264 2c20 6578 636c 7564  sKeyword, exclud
-0001ba10: 655f 6368 6172 733d 6578 636c 7564 6543  e_chars=excludeC
-0001ba20: 6861 7273 0a20 2020 2020 2020 2029 0a0a  hars.        )..
-0001ba30: 0a63 6c61 7373 2052 6567 6578 2854 6f6b  .class Regex(Tok
-0001ba40: 656e 293a 0a20 2020 2072 2222 2254 6f6b  en):.    r"""Tok
-0001ba50: 656e 2066 6f72 206d 6174 6368 696e 6720  en for matching 
-0001ba60: 7374 7269 6e67 7320 7468 6174 206d 6174  strings that mat
-0001ba70: 6368 2061 2067 6976 656e 2072 6567 756c  ch a given regul
-0001ba80: 6172 0a20 2020 2065 7870 7265 7373 696f  ar.    expressio
-0001ba90: 6e2e 2044 6566 696e 6564 2077 6974 6820  n. Defined with 
-0001baa0: 7374 7269 6e67 2073 7065 6369 6679 696e  string specifyin
-0001bab0: 6720 7468 6520 7265 6775 6c61 7220 6578  g the regular ex
-0001bac0: 7072 6573 7369 6f6e 2069 6e0a 2020 2020  pression in.    
-0001bad0: 6120 666f 726d 2072 6563 6f67 6e69 7a65  a form recognize
-0001bae0: 6420 6279 2074 6865 2073 7464 6c69 6220  d by the stdlib 
-0001baf0: 5079 7468 6f6e 2020 6072 6520 6d6f 6475  Python  `re modu
-0001bb00: 6c65 203c 6874 7470 733a 2f2f 646f 6373  le <https://docs
-0001bb10: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
-0001bb20: 6272 6172 792f 7265 2e68 746d 6c3e 605f  brary/re.html>`_
-0001bb30: 2e0a 2020 2020 4966 2074 6865 2067 6976  ..    If the giv
-0001bb40: 656e 2072 6567 6578 2063 6f6e 7461 696e  en regex contain
-0001bb50: 7320 6e61 6d65 6420 6772 6f75 7073 2028  s named groups (
-0001bb60: 6465 6669 6e65 6420 7573 696e 6720 6060  defined using ``
-0001bb70: 283f 503c 6e61 6d65 3e2e 2e2e 2960 6029  (?P<name>...)``)
-0001bb80: 2c0a 2020 2020 7468 6573 6520 7769 6c6c  ,.    these will
-0001bb90: 2062 6520 7072 6573 6572 7665 6420 6173   be preserved as
-0001bba0: 206e 616d 6564 203a 636c 6173 733a 6050   named :class:`P
-0001bbb0: 6172 7365 5265 7375 6c74 7360 2e0a 0a20  arseResults`... 
-0001bbc0: 2020 2049 6620 696e 7374 6561 6420 6f66     If instead of
-0001bbd0: 2074 6865 2050 7974 686f 6e20 7374 646c   the Python stdl
-0001bbe0: 6962 2060 6072 6560 6020 6d6f 6475 6c65  ib ``re`` module
-0001bbf0: 2079 6f75 2077 6973 6820 746f 2075 7365   you wish to use
-0001bc00: 2061 2064 6966 6665 7265 6e74 2052 4520   a different RE 
-0001bc10: 6d6f 6475 6c65 0a20 2020 2028 7375 6368  module.    (such
-0001bc20: 2061 7320 7468 6520 6060 7265 6765 7860   as the ``regex`
-0001bc30: 6020 6d6f 6475 6c65 292c 2079 6f75 2063  ` module), you c
-0001bc40: 616e 2064 6f20 736f 2062 7920 6275 696c  an do so by buil
-0001bc50: 6469 6e67 2079 6f75 7220 6060 5265 6765  ding your ``Rege
-0001bc60: 7860 6020 6f62 6a65 6374 2077 6974 680a  x`` object with.
-0001bc70: 2020 2020 6120 636f 6d70 696c 6564 2052      a compiled R
-0001bc80: 4520 7468 6174 2077 6173 2063 6f6d 7069  E that was compi
-0001bc90: 6c65 6420 7573 696e 6720 6060 7265 6765  led using ``rege
-0001bca0: 7860 602e 0a0a 2020 2020 4578 616d 706c  x``...    Exampl
-0001bcb0: 653a 3a0a 0a20 2020 2020 2020 2072 6561  e::..        rea
-0001bcc0: 6c6e 756d 203d 2052 6567 6578 2872 225b  lnum = Regex(r"[
-0001bcd0: 2b2d 5d3f 5c64 2b5c 2e5c 642a 2229 0a20  +-]?\d+\.\d*"). 
-0001bce0: 2020 2020 2020 2023 2072 6566 3a20 6874         # ref: ht
-0001bcf0: 7470 733a 2f2f 7374 6163 6b6f 7665 7266  tps://stackoverf
-0001bd00: 6c6f 772e 636f 6d2f 7175 6573 7469 6f6e  low.com/question
-0001bd10: 732f 3236 3733 3939 2f68 6f77 2d64 6f2d  s/267399/how-do-
-0001bd20: 796f 752d 6d61 7463 682d 6f6e 6c79 2d76  you-match-only-v
-0001bd30: 616c 6964 2d72 6f6d 616e 2d6e 756d 6572  alid-roman-numer
-0001bd40: 616c 732d 7769 7468 2d61 2d72 6567 756c  als-with-a-regul
-0001bd50: 6172 2d65 7870 7265 7373 696f 6e0a 2020  ar-expression.  
-0001bd60: 2020 2020 2020 726f 6d61 6e20 3d20 5265        roman = Re
-0001bd70: 6765 7828 7222 4d7b 302c 347d 2843 4d7c  gex(r"M{0,4}(CM|
-0001bd80: 4344 7c44 3f7b 302c 337d 2928 5843 7c58  CD|D?{0,3})(XC|X
-0001bd90: 4c7c 4c3f 587b 302c 337d 2928 4958 7c49  L|L?X{0,3})(IX|I
-0001bda0: 567c 563f 497b 302c 337d 2922 290a 0a20  V|V?I{0,3})").. 
-0001bdb0: 2020 2020 2020 2023 206e 616d 6564 2066         # named f
-0001bdc0: 6965 6c64 7320 696e 2061 2072 6567 6578  ields in a regex
-0001bdd0: 2077 696c 6c20 6265 2072 6574 7572 6e65   will be returne
-0001bde0: 6420 6173 206e 616d 6564 2072 6573 756c  d as named resul
-0001bdf0: 7473 0a20 2020 2020 2020 2064 6174 6520  ts.        date 
-0001be00: 3d20 5265 6765 7828 7227 283f 503c 7965  = Regex(r'(?P<ye
-0001be10: 6172 3e5c 647b 347d 292d 283f 503c 6d6f  ar>\d{4})-(?P<mo
-0001be20: 6e74 683e 5c64 5c64 3f29 2d28 3f50 3c64  nth>\d\d?)-(?P<d
-0001be30: 6179 3e5c 645c 643f 2927 290a 0a20 2020  ay>\d\d?)')..   
-0001be40: 2020 2020 2023 2074 6865 2052 6567 6578       # the Regex
-0001be50: 2063 6c61 7373 2077 696c 6c20 6163 6365   class will acce
-0001be60: 7074 2072 6527 7320 636f 6d70 696c 6564  pt re's compiled
-0001be70: 2075 7369 6e67 2074 6865 2072 6567 6578   using the regex
-0001be80: 206d 6f64 756c 650a 2020 2020 2020 2020   module.        
-0001be90: 696d 706f 7274 2072 6567 6578 0a20 2020  import regex.   
-0001bea0: 2020 2020 2070 6172 7365 7220 3d20 7070       parser = pp
-0001beb0: 2e52 6567 6578 2872 6567 6578 2e63 6f6d  .Regex(regex.com
-0001bec0: 7069 6c65 2872 275b 302d 395d 2729 290a  pile(r'[0-9]')).
-0001bed0: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
-0001bee0: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
-0001bef0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0001bf00: 2070 6174 7465 726e 3a20 416e 792c 0a20   pattern: Any,. 
-0001bf10: 2020 2020 2020 2066 6c61 6773 3a20 556e         flags: Un
-0001bf20: 696f 6e5b 7265 2e52 6567 6578 466c 6167  ion[re.RegexFlag
-0001bf30: 2c20 696e 745d 203d 2030 2c0a 2020 2020  , int] = 0,.    
-0001bf40: 2020 2020 6173 5f67 726f 7570 5f6c 6973      as_group_lis
-0001bf50: 743a 2062 6f6f 6c20 3d20 4661 6c73 652c  t: bool = False,
-0001bf60: 0a20 2020 2020 2020 2061 735f 6d61 7463  .        as_matc
-0001bf70: 683a 2062 6f6f 6c20 3d20 4661 6c73 652c  h: bool = False,
-0001bf80: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
-0001bf90: 2020 2020 6173 4772 6f75 704c 6973 743a      asGroupList:
-0001bfa0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0001bfb0: 2020 2020 2020 2061 734d 6174 6368 3a20         asMatch: 
-0001bfc0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-0001bfd0: 2020 293a 0a20 2020 2020 2020 2022 2222    ):.        """
-0001bfe0: 5468 6520 7061 7261 6d65 7465 7273 2060  The parameters `
-0001bff0: 6070 6174 7465 726e 6060 2061 6e64 2060  `pattern`` and `
-0001c000: 6066 6c61 6773 6060 2061 7265 2070 6173  `flags`` are pas
-0001c010: 7365 640a 2020 2020 2020 2020 746f 2074  sed.        to t
-0001c020: 6865 2060 6072 652e 636f 6d70 696c 6528  he ``re.compile(
-0001c030: 2960 6020 6675 6e63 7469 6f6e 2061 732d  )`` function as-
-0001c040: 6973 2e20 5365 6520 7468 6520 5079 7468  is. See the Pyth
-0001c050: 6f6e 0a20 2020 2020 2020 2060 7265 206d  on.        `re m
-0001c060: 6f64 756c 6520 3c68 7474 7073 3a2f 2f64  odule <https://d
-0001c070: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
-0001c080: 2f6c 6962 7261 7279 2f72 652e 6874 6d6c  /library/re.html
-0001c090: 3e60 5f20 6d6f 6475 6c65 2066 6f72 2061  >`_ module for a
-0001c0a0: 6e0a 2020 2020 2020 2020 6578 706c 616e  n.        explan
-0001c0b0: 6174 696f 6e20 6f66 2074 6865 2061 6363  ation of the acc
-0001c0c0: 6570 7461 626c 6520 7061 7474 6572 6e73  eptable patterns
-0001c0d0: 2061 6e64 2066 6c61 6773 2e0a 2020 2020   and flags..    
-0001c0e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001c0f0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-0001c100: 2829 0a20 2020 2020 2020 2061 7347 726f  ().        asGro
-0001c110: 7570 4c69 7374 203d 2061 7347 726f 7570  upList = asGroup
-0001c120: 4c69 7374 206f 7220 6173 5f67 726f 7570  List or as_group
-0001c130: 5f6c 6973 740a 2020 2020 2020 2020 6173  _list.        as
-0001c140: 4d61 7463 6820 3d20 6173 4d61 7463 6820  Match = asMatch 
-0001c150: 6f72 2061 735f 6d61 7463 680a 0a20 2020  or as_match..   
-0001c160: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0001c170: 6365 2870 6174 7465 726e 2c20 7374 725f  ce(pattern, str_
-0001c180: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
-0001c190: 2020 2069 6620 6e6f 7420 7061 7474 6572     if not patter
-0001c1a0: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
-0001c1b0: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
-0001c1c0: 726f 7228 226e 756c 6c20 7374 7269 6e67  ror("null string
-0001c1d0: 2070 6173 7365 6420 746f 2052 6567 6578   passed to Regex
-0001c1e0: 3b20 7573 6520 456d 7074 7928 2920 696e  ; use Empty() in
-0001c1f0: 7374 6561 6422 290a 0a20 2020 2020 2020  stead")..       
-0001c200: 2020 2020 2073 656c 662e 5f72 6520 3d20       self._re = 
-0001c210: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
-0001c220: 2073 656c 662e 7265 5374 7269 6e67 203d   self.reString =
-0001c230: 2073 656c 662e 7061 7474 6572 6e20 3d20   self.pattern = 
-0001c240: 7061 7474 6572 6e0a 2020 2020 2020 2020  pattern.        
-0001c250: 2020 2020 7365 6c66 2e66 6c61 6773 203d      self.flags =
-0001c260: 2066 6c61 6773 0a0a 2020 2020 2020 2020   flags..        
-0001c270: 656c 6966 2068 6173 6174 7472 2870 6174  elif hasattr(pat
-0001c280: 7465 726e 2c20 2270 6174 7465 726e 2229  tern, "pattern")
-0001c290: 2061 6e64 2068 6173 6174 7472 2870 6174   and hasattr(pat
-0001c2a0: 7465 726e 2c20 226d 6174 6368 2229 3a0a  tern, "match"):.
-0001c2b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001c2c0: 2e5f 7265 203d 2070 6174 7465 726e 0a20  ._re = pattern. 
-0001c2d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001c2e0: 7061 7474 6572 6e20 3d20 7365 6c66 2e72  pattern = self.r
-0001c2f0: 6553 7472 696e 6720 3d20 7061 7474 6572  eString = patter
-0001c300: 6e2e 7061 7474 6572 6e0a 2020 2020 2020  n.pattern.      
-0001c310: 2020 2020 2020 7365 6c66 2e66 6c61 6773        self.flags
-0001c320: 203d 2066 6c61 6773 0a0a 2020 2020 2020   = flags..      
-0001c330: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0001c340: 2020 2020 7261 6973 6520 5479 7065 4572      raise TypeEr
-0001c350: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
-0001c360: 2020 2020 2022 5265 6765 7820 6d61 7920       "Regex may 
-0001c370: 6f6e 6c79 2062 6520 636f 6e73 7472 7563  only be construc
-0001c380: 7465 6420 7769 7468 2061 2073 7472 696e  ted with a strin
-0001c390: 6720 6f72 2061 2063 6f6d 7069 6c65 6420  g or a compiled 
-0001c3a0: 5245 206f 626a 6563 7422 0a20 2020 2020  RE object".     
-0001c3b0: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
-0001c3c0: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
-0001c3d0: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
-0001c3e0: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
-0001c3f0: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
-0001c400: 6f72 203d 2046 616c 7365 0a20 2020 2020  or = False.     
-0001c410: 2020 2073 656c 662e 6173 4772 6f75 704c     self.asGroupL
-0001c420: 6973 7420 3d20 6173 4772 6f75 704c 6973  ist = asGroupLis
-0001c430: 740a 2020 2020 2020 2020 7365 6c66 2e61  t.        self.a
-0001c440: 734d 6174 6368 203d 2061 734d 6174 6368  sMatch = asMatch
-0001c450: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0001c460: 2e61 7347 726f 7570 4c69 7374 3a0a 2020  .asGroupList:.  
-0001c470: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
-0001c480: 6172 7365 496d 706c 203d 2073 656c 662e  arseImpl = self.
-0001c490: 7061 7273 6549 6d70 6c41 7347 726f 7570  parseImplAsGroup
-0001c4a0: 4c69 7374 2020 2320 7479 7065 3a20 6967  List  # type: ig
-0001c4b0: 6e6f 7265 205b 6173 7369 676e 6d65 6e74  nore [assignment
-0001c4c0: 5d0a 2020 2020 2020 2020 6966 2073 656c  ].        if sel
-0001c4d0: 662e 6173 4d61 7463 683a 0a20 2020 2020  f.asMatch:.     
-0001c4e0: 2020 2020 2020 2073 656c 662e 7061 7273         self.pars
-0001c4f0: 6549 6d70 6c20 3d20 7365 6c66 2e70 6172  eImpl = self.par
-0001c500: 7365 496d 706c 4173 4d61 7463 6820 2023  seImplAsMatch  #
-0001c510: 2074 7970 653a 2069 676e 6f72 6520 5b61   type: ignore [a
-0001c520: 7373 6967 6e6d 656e 745d 0a0a 2020 2020  ssignment]..    
-0001c530: 4063 6163 6865 645f 7072 6f70 6572 7479  @cached_property
-0001c540: 0a20 2020 2064 6566 2072 6528 7365 6c66  .    def re(self
-0001c550: 293a 0a20 2020 2020 2020 2069 6620 7365  ):.        if se
-0001c560: 6c66 2e5f 7265 3a0a 2020 2020 2020 2020  lf._re:.        
-0001c570: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-0001c580: 5f72 650a 2020 2020 2020 2020 656c 7365  _re.        else
-0001c590: 3a0a 2020 2020 2020 2020 2020 2020 7472  :.            tr
-0001c5a0: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-0001c5b0: 2020 2072 6574 7572 6e20 7265 2e63 6f6d     return re.com
-0001c5c0: 7069 6c65 2873 656c 662e 7061 7474 6572  pile(self.patter
-0001c5d0: 6e2c 2073 656c 662e 666c 6167 7329 0a20  n, self.flags). 
-0001c5e0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-0001c5f0: 7420 7265 2e65 7272 6f72 3a0a 2020 2020  t re.error:.    
-0001c600: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0001c610: 6520 5661 6c75 6545 7272 6f72 2866 2269  e ValueError(f"i
-0001c620: 6e76 616c 6964 2070 6174 7465 726e 2028  nvalid pattern (
-0001c630: 7b73 656c 662e 7061 7474 6572 6e21 727d  {self.pattern!r}
-0001c640: 2920 7061 7373 6564 2074 6f20 5265 6765  ) passed to Rege
-0001c650: 7822 290a 0a20 2020 2040 6361 6368 6564  x")..    @cached
-0001c660: 5f70 726f 7065 7274 790a 2020 2020 6465  _property.    de
-0001c670: 6620 7265 5f6d 6174 6368 2873 656c 6629  f re_match(self)
-0001c680: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-0001c690: 2073 656c 662e 7265 2e6d 6174 6368 0a0a   self.re.match..
-0001c6a0: 2020 2020 4063 6163 6865 645f 7072 6f70      @cached_prop
-0001c6b0: 6572 7479 0a20 2020 2064 6566 206d 6179  erty.    def may
-0001c6c0: 5265 7475 726e 456d 7074 7928 7365 6c66  ReturnEmpty(self
-0001c6d0: 293a 0a20 2020 2020 2020 2072 6574 7572  ):.        retur
-0001c6e0: 6e20 7365 6c66 2e72 655f 6d61 7463 6828  n self.re_match(
-0001c6f0: 2222 2920 6973 206e 6f74 204e 6f6e 650a  "") is not None.
-0001c700: 0a20 2020 2064 6566 205f 6765 6e65 7261  .    def _genera
-0001c710: 7465 4465 6661 756c 744e 616d 6528 7365  teDefaultName(se
-0001c720: 6c66 2920 2d3e 2073 7472 3a0a 2020 2020  lf) -> str:.    
-0001c730: 2020 2020 7265 7475 726e 2022 5265 3a28      return "Re:(
-0001c740: 7b7d 2922 2e66 6f72 6d61 7428 7265 7072  {})".format(repr
-0001c750: 2873 656c 662e 7061 7474 6572 6e29 2e72  (self.pattern).r
-0001c760: 6570 6c61 6365 2822 5c5c 5c5c 222c 2022  eplace("\\\\", "
-0001c770: 5c5c 2229 290a 0a20 2020 2064 6566 2070  \\"))..    def p
-0001c780: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
-0001c790: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-0001c7a0: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-0001c7b0: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-0001c7c0: 7365 6c66 2e72 655f 6d61 7463 6828 696e  self.re_match(in
-0001c7d0: 7374 7269 6e67 2c20 6c6f 6329 0a20 2020  string, loc).   
-0001c7e0: 2020 2020 2069 6620 6e6f 7420 7265 7375       if not resu
-0001c7f0: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
-0001c800: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-0001c810: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
-0001c820: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
-0001c830: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
-0001c840: 6c6f 6320 3d20 7265 7375 6c74 2e65 6e64  loc = result.end
-0001c850: 2829 0a20 2020 2020 2020 2072 6574 203d  ().        ret =
-0001c860: 2050 6172 7365 5265 7375 6c74 7328 7265   ParseResults(re
-0001c870: 7375 6c74 2e67 726f 7570 2829 290a 2020  sult.group()).  
-0001c880: 2020 2020 2020 6420 3d20 7265 7375 6c74        d = result
-0001c890: 2e67 726f 7570 6469 6374 2829 0a20 2020  .groupdict().   
-0001c8a0: 2020 2020 2069 6620 643a 0a20 2020 2020       if d:.     
-0001c8b0: 2020 2020 2020 2066 6f72 206b 2c20 7620         for k, v 
-0001c8c0: 696e 2064 2e69 7465 6d73 2829 3a0a 2020  in d.items():.  
-0001c8d0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0001c8e0: 745b 6b5d 203d 2076 0a20 2020 2020 2020  t[k] = v.       
-0001c8f0: 2072 6574 7572 6e20 6c6f 632c 2072 6574   return loc, ret
-0001c900: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
-0001c910: 6d70 6c41 7347 726f 7570 4c69 7374 2873  mplAsGroupList(s
-0001c920: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-0001c930: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-0001c940: 7565 293a 0a20 2020 2020 2020 2072 6573  ue):.        res
-0001c950: 756c 7420 3d20 7365 6c66 2e72 655f 6d61  ult = self.re_ma
-0001c960: 7463 6828 696e 7374 7269 6e67 2c20 6c6f  tch(instring, lo
-0001c970: 6329 0a20 2020 2020 2020 2069 6620 6e6f  c).        if no
-0001c980: 7420 7265 7375 6c74 3a0a 2020 2020 2020  t result:.      
-0001c990: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
-0001c9a0: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
-0001c9b0: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
-0001c9c0: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
-0001c9d0: 2020 2020 2020 6c6f 6320 3d20 7265 7375        loc = resu
-0001c9e0: 6c74 2e65 6e64 2829 0a20 2020 2020 2020  lt.end().       
-0001c9f0: 2072 6574 203d 2072 6573 756c 742e 6772   ret = result.gr
-0001ca00: 6f75 7073 2829 0a20 2020 2020 2020 2072  oups().        r
-0001ca10: 6574 7572 6e20 6c6f 632c 2072 6574 0a0a  eturn loc, ret..
-0001ca20: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-0001ca30: 6c41 734d 6174 6368 2873 656c 662c 2069  lAsMatch(self, i
-0001ca40: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-0001ca50: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-0001ca60: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-0001ca70: 7365 6c66 2e72 655f 6d61 7463 6828 696e  self.re_match(in
-0001ca80: 7374 7269 6e67 2c20 6c6f 6329 0a20 2020  string, loc).   
-0001ca90: 2020 2020 2069 6620 6e6f 7420 7265 7375       if not resu
-0001caa0: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
-0001cab0: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-0001cac0: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
-0001cad0: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
-0001cae0: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
-0001caf0: 6c6f 6320 3d20 7265 7375 6c74 2e65 6e64  loc = result.end
-0001cb00: 2829 0a20 2020 2020 2020 2072 6574 203d  ().        ret =
-0001cb10: 2072 6573 756c 740a 2020 2020 2020 2020   result.        
-0001cb20: 7265 7475 726e 206c 6f63 2c20 7265 740a  return loc, ret.
-0001cb30: 0a20 2020 2064 6566 2073 7562 2873 656c  .    def sub(sel
-0001cb40: 662c 2072 6570 6c3a 2073 7472 2920 2d3e  f, repl: str) ->
-0001cb50: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
-0001cb60: 2020 2020 2020 2020 7222 2222 0a20 2020          r""".   
-0001cb70: 2020 2020 2052 6574 7572 6e20 3a63 6c61       Return :cla
-0001cb80: 7373 3a60 5265 6765 7860 2077 6974 6820  ss:`Regex` with 
-0001cb90: 616e 2061 7474 6163 6865 6420 7061 7273  an attached pars
-0001cba0: 6520 6163 7469 6f6e 2074 6f20 7472 616e  e action to tran
-0001cbb0: 7366 6f72 6d20 7468 6520 7061 7273 6564  sform the parsed
-0001cbc0: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
-0001cbd0: 6173 2069 6620 6361 6c6c 6564 2075 7369  as if called usi
-0001cbe0: 6e67 2060 7265 2e73 7562 2865 7870 722c  ng `re.sub(expr,
-0001cbf0: 2072 6570 6c2c 2073 7472 696e 6729 203c   repl, string) <
-0001cc00: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
-0001cc10: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
-0001cc20: 792f 7265 2e68 746d 6c23 7265 2e73 7562  y/re.html#re.sub
-0001cc30: 3e60 5f2e 0a0a 2020 2020 2020 2020 4578  >`_...        Ex
-0001cc40: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
-0001cc50: 2020 2020 206d 616b 655f 6874 6d6c 203d       make_html =
-0001cc60: 2052 6567 6578 2872 2228 5c77 2b29 3a28   Regex(r"(\w+):(
-0001cc70: 2e2a 3f29 3a22 292e 7375 6228 7222 3c5c  .*?):").sub(r"<\
-0001cc80: 313e 5c32 3c2f 5c31 3e22 290a 2020 2020  1>\2</\1>").    
-0001cc90: 2020 2020 2020 2020 7072 696e 7428 6d61          print(ma
-0001cca0: 6b65 5f68 746d 6c2e 7472 616e 7366 6f72  ke_html.transfor
-0001ccb0: 6d5f 7374 7269 6e67 2822 6831 3a6d 6169  m_string("h1:mai
-0001ccc0: 6e20 7469 746c 653a 2229 290a 2020 2020  n title:")).    
-0001ccd0: 2020 2020 2020 2020 2320 7072 696e 7473          # prints
-0001cce0: 2022 3c68 313e 6d61 696e 2074 6974 6c65   "<h1>main title
-0001ccf0: 3c2f 6831 3e22 0a20 2020 2020 2020 2022  </h1>".        "
-0001cd00: 2222 0a20 2020 2020 2020 2069 6620 7365  "".        if se
-0001cd10: 6c66 2e61 7347 726f 7570 4c69 7374 3a0a  lf.asGroupList:.
-0001cd20: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0001cd30: 6520 5479 7065 4572 726f 7228 2263 616e  e TypeError("can
-0001cd40: 6e6f 7420 7573 6520 7375 6228 2920 7769  not use sub() wi
-0001cd50: 7468 2052 6567 6578 2861 735f 6772 6f75  th Regex(as_grou
-0001cd60: 705f 6c69 7374 3d54 7275 6529 2229 0a0a  p_list=True)")..
-0001cd70: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0001cd80: 6173 4d61 7463 6820 616e 6420 6361 6c6c  asMatch and call
-0001cd90: 6162 6c65 2872 6570 6c29 3a0a 2020 2020  able(repl):.    
-0001cda0: 2020 2020 2020 2020 7261 6973 6520 5479          raise Ty
-0001cdb0: 7065 4572 726f 7228 0a20 2020 2020 2020  peError(.       
-0001cdc0: 2020 2020 2020 2020 2022 6361 6e6e 6f74           "cannot
-0001cdd0: 2075 7365 2073 7562 2829 2077 6974 6820   use sub() with 
-0001cde0: 6120 6361 6c6c 6162 6c65 2077 6974 6820  a callable with 
-0001cdf0: 5265 6765 7828 6173 5f6d 6174 6368 3d54  Regex(as_match=T
-0001ce00: 7275 6529 220a 2020 2020 2020 2020 2020  rue)".          
-0001ce10: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
-0001ce20: 7365 6c66 2e61 734d 6174 6368 3a0a 0a20  self.asMatch:.. 
-0001ce30: 2020 2020 2020 2020 2020 2064 6566 2070             def p
-0001ce40: 6128 746f 6b65 6e73 293a 0a20 2020 2020  a(tokens):.     
-0001ce50: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0001ce60: 6e20 746f 6b65 6e73 5b30 5d2e 6578 7061  n tokens[0].expa
-0001ce70: 6e64 2872 6570 6c29 0a0a 2020 2020 2020  nd(repl)..      
-0001ce80: 2020 656c 7365 3a0a 0a20 2020 2020 2020    else:..       
-0001ce90: 2020 2020 2064 6566 2070 6128 746f 6b65       def pa(toke
-0001cea0: 6e73 293a 0a20 2020 2020 2020 2020 2020  ns):.           
-0001ceb0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-0001cec0: 2e72 652e 7375 6228 7265 706c 2c20 746f  .re.sub(repl, to
-0001ced0: 6b65 6e73 5b30 5d29 0a0a 2020 2020 2020  kens[0])..      
-0001cee0: 2020 7265 7475 726e 2073 656c 662e 6164    return self.ad
-0001cef0: 645f 7061 7273 655f 6163 7469 6f6e 2870  d_parse_action(p
-0001cf00: 6129 0a0a 0a63 6c61 7373 2051 756f 7465  a)...class Quote
-0001cf10: 6453 7472 696e 6728 546f 6b65 6e29 3a0a  dString(Token):.
-0001cf20: 2020 2020 7222 2222 0a20 2020 2054 6f6b      r""".    Tok
-0001cf30: 656e 2066 6f72 206d 6174 6368 696e 6720  en for matching 
-0001cf40: 7374 7269 6e67 7320 7468 6174 2061 7265  strings that are
-0001cf50: 2064 656c 696d 6974 6564 2062 7920 7175   delimited by qu
-0001cf60: 6f74 696e 6720 6368 6172 6163 7465 7273  oting characters
-0001cf70: 2e0a 0a20 2020 2044 6566 696e 6564 2077  ...    Defined w
-0001cf80: 6974 6820 7468 6520 666f 6c6c 6f77 696e  ith the followin
-0001cf90: 6720 7061 7261 6d65 7465 7273 3a0a 0a20  g parameters:.. 
-0001cfa0: 2020 202d 2060 6071 756f 7465 5f63 6861     - ``quote_cha
-0001cfb0: 7260 6020 2d20 7374 7269 6e67 206f 6620  r`` - string of 
-0001cfc0: 6f6e 6520 6f72 206d 6f72 6520 6368 6172  one or more char
-0001cfd0: 6163 7465 7273 2064 6566 696e 696e 6720  acters defining 
-0001cfe0: 7468 650a 2020 2020 2020 7175 6f74 6520  the.      quote 
-0001cff0: 6465 6c69 6d69 7469 6e67 2073 7472 696e  delimiting strin
-0001d000: 670a 2020 2020 2d20 6060 6573 635f 6368  g.    - ``esc_ch
-0001d010: 6172 6060 202d 2063 6861 7261 6374 6572  ar`` - character
-0001d020: 2074 6f20 7265 5f65 7363 6170 6520 7175   to re_escape qu
-0001d030: 6f74 6573 2c20 7479 7069 6361 6c6c 7920  otes, typically 
-0001d040: 6261 636b 736c 6173 680a 2020 2020 2020  backslash.      
-0001d050: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
-0001d060: 6060 290a 2020 2020 2d20 6060 6573 635f  ``).    - ``esc_
-0001d070: 7175 6f74 6560 6020 2d20 7370 6563 6961  quote`` - specia
-0001d080: 6c20 7175 6f74 6520 7365 7175 656e 6365  l quote sequence
-0001d090: 2074 6f20 7265 5f65 7363 6170 6520 616e   to re_escape an
-0001d0a0: 2065 6d62 6564 6465 6420 7175 6f74 650a   embedded quote.
-0001d0b0: 2020 2020 2020 7374 7269 6e67 2028 7375        string (su
-0001d0c0: 6368 2061 7320 5351 4c27 7320 6060 2222  ch as SQL's ``""
-0001d0d0: 6060 2074 6f20 7265 5f65 7363 6170 6520  `` to re_escape 
-0001d0e0: 616e 2065 6d62 6564 6465 6420 6060 2260  an embedded ``"`
-0001d0f0: 6029 0a20 2020 2020 2028 6465 6661 756c  `).      (defaul
-0001d100: 743d 2060 604e 6f6e 6560 6029 0a20 2020  t= ``None``).   
-0001d110: 202d 2060 606d 756c 7469 6c69 6e65 6060   - ``multiline``
-0001d120: 202d 2062 6f6f 6c65 616e 2069 6e64 6963   - boolean indic
-0001d130: 6174 696e 6720 7768 6574 6865 7220 7175  ating whether qu
-0001d140: 6f74 6573 2063 616e 2073 7061 6e0a 2020  otes can span.  
-0001d150: 2020 2020 6d75 6c74 6970 6c65 206c 696e      multiple lin
-0001d160: 6573 2028 6465 6661 756c 743d 2060 6046  es (default= ``F
-0001d170: 616c 7365 6060 290a 2020 2020 2d20 6060  alse``).    - ``
-0001d180: 756e 7175 6f74 655f 7265 7375 6c74 7360  unquote_results`
-0001d190: 6020 2d20 626f 6f6c 6561 6e20 696e 6469  ` - boolean indi
-0001d1a0: 6361 7469 6e67 2077 6865 7468 6572 2074  cating whether t
-0001d1b0: 6865 206d 6174 6368 6564 2074 6578 740a  he matched text.
-0001d1c0: 2020 2020 2020 7368 6f75 6c64 2062 6520        should be 
-0001d1d0: 756e 7175 6f74 6564 2028 6465 6661 756c  unquoted (defaul
-0001d1e0: 743d 2060 6054 7275 6560 6029 0a20 2020  t= ``True``).   
-0001d1f0: 202d 2060 6065 6e64 5f71 756f 7465 5f63   - ``end_quote_c
-0001d200: 6861 7260 6020 2d20 7374 7269 6e67 206f  har`` - string o
-0001d210: 6620 6f6e 6520 6f72 206d 6f72 6520 6368  f one or more ch
-0001d220: 6172 6163 7465 7273 2064 6566 696e 696e  aracters definin
-0001d230: 6720 7468 650a 2020 2020 2020 656e 6420  g the.      end 
-0001d240: 6f66 2074 6865 2071 756f 7465 2064 656c  of the quote del
-0001d250: 696d 6974 6564 2073 7472 696e 6720 2864  imited string (d
-0001d260: 6566 6175 6c74 3d20 6060 4e6f 6e65 6060  efault= ``None``
-0001d270: 2020 3d3e 2073 616d 6520 6173 0a20 2020    => same as.   
-0001d280: 2020 2071 756f 7465 5f63 6861 7229 0a20     quote_char). 
-0001d290: 2020 202d 2060 6063 6f6e 7665 7274 5f77     - ``convert_w
-0001d2a0: 6869 7465 7370 6163 655f 6573 6361 7065  hitespace_escape
-0001d2b0: 7360 6020 2d20 636f 6e76 6572 7420 6573  s`` - convert es
-0001d2c0: 6361 7065 6420 7768 6974 6573 7061 6365  caped whitespace
-0001d2d0: 0a20 2020 2020 2028 6060 275c 7427 6060  .      (``'\t'``
-0001d2e0: 2c20 6060 275c 6e27 6060 2c20 6574 632e  , ``'\n'``, etc.
-0001d2f0: 2920 746f 2061 6374 7561 6c20 7768 6974  ) to actual whit
-0001d300: 6573 7061 6365 0a20 2020 2020 2028 6465  espace.      (de
-0001d310: 6661 756c 743d 2060 6054 7275 6560 6029  fault= ``True``)
-0001d320: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
-0001d330: 0a20 2020 2020 2020 2071 7320 3d20 5175  .        qs = Qu
-0001d340: 6f74 6564 5374 7269 6e67 2827 2227 290a  otedString('"').
-0001d350: 2020 2020 2020 2020 7072 696e 7428 7173          print(qs
-0001d360: 2e73 6561 7263 685f 7374 7269 6e67 2827  .search_string('
-0001d370: 6c73 6a64 6620 2254 6869 7320 6973 2074  lsjdf "This is t
-0001d380: 6865 2071 756f 7465 2220 736c 646a 6627  he quote" sldjf'
-0001d390: 2929 0a20 2020 2020 2020 2063 6f6d 706c  )).        compl
-0001d3a0: 6578 5f71 7320 3d20 5175 6f74 6564 5374  ex_qs = QuotedSt
-0001d3b0: 7269 6e67 2827 7b7b 272c 2065 6e64 5f71  ring('{{', end_q
-0001d3c0: 756f 7465 5f63 6861 723d 277d 7d27 290a  uote_char='}}').
-0001d3d0: 2020 2020 2020 2020 7072 696e 7428 636f          print(co
-0001d3e0: 6d70 6c65 785f 7173 2e73 6561 7263 685f  mplex_qs.search_
-0001d3f0: 7374 7269 6e67 2827 6c73 6a64 6620 7b7b  string('lsjdf {{
-0001d400: 5468 6973 2069 7320 7468 6520 2271 756f  This is the "quo
-0001d410: 7465 227d 7d20 736c 646a 6627 2929 0a20  te"}} sldjf')). 
-0001d420: 2020 2020 2020 2073 716c 5f71 7320 3d20         sql_qs = 
-0001d430: 5175 6f74 6564 5374 7269 6e67 2827 2227  QuotedString('"'
-0001d440: 2c20 6573 635f 7175 6f74 653d 2722 2227  , esc_quote='""'
-0001d450: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-0001d460: 7371 6c5f 7173 2e73 6561 7263 685f 7374  sql_qs.search_st
-0001d470: 7269 6e67 2827 6c73 6a64 6620 2254 6869  ring('lsjdf "Thi
-0001d480: 7320 6973 2074 6865 2071 756f 7465 2077  s is the quote w
-0001d490: 6974 6820 2222 656d 6265 6464 6564 2222  ith ""embedded""
-0001d4a0: 2071 756f 7465 7322 2073 6c64 6a66 2729   quotes" sldjf')
-0001d4b0: 290a 0a20 2020 2070 7269 6e74 733a 3a0a  )..    prints::.
-0001d4c0: 0a20 2020 2020 2020 205b 5b27 5468 6973  .        [['This
-0001d4d0: 2069 7320 7468 6520 7175 6f74 6527 5d5d   is the quote']]
-0001d4e0: 0a20 2020 2020 2020 205b 5b27 5468 6973  .        [['This
-0001d4f0: 2069 7320 7468 6520 2271 756f 7465 2227   is the "quote"'
-0001d500: 5d5d 0a20 2020 2020 2020 205b 5b27 5468  ]].        [['Th
-0001d510: 6973 2069 7320 7468 6520 7175 6f74 6520  is is the quote 
-0001d520: 7769 7468 2022 656d 6265 6464 6564 2220  with "embedded" 
-0001d530: 7175 6f74 6573 275d 5d0a 2020 2020 2222  quotes']].    ""
-0001d540: 220a 2020 2020 7773 5f6d 6170 203d 2064  ".    ws_map = d
-0001d550: 6963 7428 2828 7222 5c74 222c 2022 5c74  ict(((r"\t", "\t
-0001d560: 2229 2c20 2872 225c 6e22 2c20 225c 6e22  "), (r"\n", "\n"
-0001d570: 292c 2028 7222 5c66 222c 2022 5c66 2229  ), (r"\f", "\f")
-0001d580: 2c20 2872 225c 7222 2c20 225c 7222 2929  , (r"\r", "\r"))
-0001d590: 290a 0a20 2020 2064 6566 205f 5f69 6e69  )..    def __ini
-0001d5a0: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
-0001d5b0: 662c 0a20 2020 2020 2020 2071 756f 7465  f,.        quote
-0001d5c0: 5f63 6861 723a 2073 7472 203d 2022 222c  _char: str = "",
-0001d5d0: 0a20 2020 2020 2020 2065 7363 5f63 6861  .        esc_cha
-0001d5e0: 723a 2074 7970 696e 672e 4f70 7469 6f6e  r: typing.Option
-0001d5f0: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
-0001d600: 2020 2020 2020 2020 6573 635f 7175 6f74          esc_quot
-0001d610: 653a 2074 7970 696e 672e 4f70 7469 6f6e  e: typing.Option
-0001d620: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
-0001d630: 2020 2020 2020 2020 6d75 6c74 696c 696e          multilin
-0001d640: 653a 2062 6f6f 6c20 3d20 4661 6c73 652c  e: bool = False,
-0001d650: 0a20 2020 2020 2020 2075 6e71 756f 7465  .        unquote
-0001d660: 5f72 6573 756c 7473 3a20 626f 6f6c 203d  _results: bool =
-0001d670: 2054 7275 652c 0a20 2020 2020 2020 2065   True,.        e
-0001d680: 6e64 5f71 756f 7465 5f63 6861 723a 2074  nd_quote_char: t
-0001d690: 7970 696e 672e 4f70 7469 6f6e 616c 5b73  yping.Optional[s
-0001d6a0: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
-0001d6b0: 2020 2020 636f 6e76 6572 745f 7768 6974      convert_whit
-0001d6c0: 6573 7061 6365 5f65 7363 6170 6573 3a20  espace_escapes: 
-0001d6d0: 626f 6f6c 203d 2054 7275 652c 0a20 2020  bool = True,.   
-0001d6e0: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
-0001d6f0: 7175 6f74 6543 6861 723a 2073 7472 203d  quoteChar: str =
-0001d700: 2022 222c 0a20 2020 2020 2020 2065 7363   "",.        esc
-0001d710: 4368 6172 3a20 7479 7069 6e67 2e4f 7074  Char: typing.Opt
-0001d720: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
-0001d730: 652c 0a20 2020 2020 2020 2065 7363 5175  e,.        escQu
-0001d740: 6f74 653a 2074 7970 696e 672e 4f70 7469  ote: typing.Opti
-0001d750: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0001d760: 2c0a 2020 2020 2020 2020 756e 7175 6f74  ,.        unquot
-0001d770: 6552 6573 756c 7473 3a20 626f 6f6c 203d  eResults: bool =
-0001d780: 2054 7275 652c 0a20 2020 2020 2020 2065   True,.        e
-0001d790: 6e64 5175 6f74 6543 6861 723a 2074 7970  ndQuoteChar: typ
-0001d7a0: 696e 672e 4f70 7469 6f6e 616c 5b73 7472  ing.Optional[str
-0001d7b0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-0001d7c0: 2020 636f 6e76 6572 7457 6869 7465 7370    convertWhitesp
-0001d7d0: 6163 6545 7363 6170 6573 3a20 626f 6f6c  aceEscapes: bool
-0001d7e0: 203d 2054 7275 652c 0a20 2020 2029 3a0a   = True,.    ):.
-0001d7f0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-0001d800: 5f5f 696e 6974 5f5f 2829 0a20 2020 2020  __init__().     
-0001d810: 2020 2065 7363 4368 6172 203d 2065 7363     escChar = esc
-0001d820: 4368 6172 206f 7220 6573 635f 6368 6172  Char or esc_char
-0001d830: 0a20 2020 2020 2020 2065 7363 5175 6f74  .        escQuot
-0001d840: 6520 3d20 6573 6351 756f 7465 206f 7220  e = escQuote or 
-0001d850: 6573 635f 7175 6f74 650a 2020 2020 2020  esc_quote.      
-0001d860: 2020 756e 7175 6f74 6552 6573 756c 7473    unquoteResults
-0001d870: 203d 2075 6e71 756f 7465 5265 7375 6c74   = unquoteResult
-0001d880: 7320 616e 6420 756e 7175 6f74 655f 7265  s and unquote_re
-0001d890: 7375 6c74 730a 2020 2020 2020 2020 656e  sults.        en
-0001d8a0: 6451 756f 7465 4368 6172 203d 2065 6e64  dQuoteChar = end
-0001d8b0: 5175 6f74 6543 6861 7220 6f72 2065 6e64  QuoteChar or end
-0001d8c0: 5f71 756f 7465 5f63 6861 720a 2020 2020  _quote_char.    
-0001d8d0: 2020 2020 636f 6e76 6572 7457 6869 7465      convertWhite
-0001d8e0: 7370 6163 6545 7363 6170 6573 203d 2028  spaceEscapes = (
-0001d8f0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0001d900: 7665 7274 5768 6974 6573 7061 6365 4573  vertWhitespaceEs
-0001d910: 6361 7065 7320 616e 6420 636f 6e76 6572  capes and conver
-0001d920: 745f 7768 6974 6573 7061 6365 5f65 7363  t_whitespace_esc
-0001d930: 6170 6573 0a20 2020 2020 2020 2029 0a20  apes.        ). 
-0001d940: 2020 2020 2020 2071 756f 7465 5f63 6861         quote_cha
-0001d950: 7220 3d20 7175 6f74 6543 6861 7220 6f72  r = quoteChar or
-0001d960: 2071 756f 7465 5f63 6861 720a 0a20 2020   quote_char..   
-0001d970: 2020 2020 2023 2072 656d 6f76 6520 7768       # remove wh
-0001d980: 6974 6520 7370 6163 6520 6672 6f6d 2071  ite space from q
-0001d990: 756f 7465 2063 6861 7273 202d 2077 6f6e  uote chars - won
-0001d9a0: 7420 776f 726b 2061 6e79 7761 790a 2020  t work anyway.  
-0001d9b0: 2020 2020 2020 7175 6f74 655f 6368 6172        quote_char
-0001d9c0: 203d 2071 756f 7465 5f63 6861 722e 7374   = quote_char.st
-0001d9d0: 7269 7028 290a 2020 2020 2020 2020 6966  rip().        if
-0001d9e0: 206e 6f74 2071 756f 7465 5f63 6861 723a   not quote_char:
-0001d9f0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0001da00: 7365 2056 616c 7565 4572 726f 7228 2271  se ValueError("q
-0001da10: 756f 7465 5f63 6861 7220 6361 6e6e 6f74  uote_char cannot
-0001da20: 2062 6520 7468 6520 656d 7074 7920 7374   be the empty st
-0001da30: 7269 6e67 2229 0a0a 2020 2020 2020 2020  ring")..        
-0001da40: 6966 2065 6e64 5175 6f74 6543 6861 7220  if endQuoteChar 
-0001da50: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0001da60: 2020 2020 2065 6e64 5175 6f74 6543 6861       endQuoteCha
-0001da70: 7220 3d20 7175 6f74 655f 6368 6172 0a20  r = quote_char. 
-0001da80: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001da90: 2020 2020 2020 2020 2065 6e64 5175 6f74           endQuot
-0001daa0: 6543 6861 7220 3d20 656e 6451 756f 7465  eChar = endQuote
-0001dab0: 4368 6172 2e73 7472 6970 2829 0a20 2020  Char.strip().   
-0001dac0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-0001dad0: 656e 6451 756f 7465 4368 6172 3a0a 2020  endQuoteChar:.  
-0001dae0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-0001daf0: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
-0001db00: 656e 645f 7175 6f74 655f 6368 6172 2063  end_quote_char c
-0001db10: 616e 6e6f 7420 6265 2074 6865 2065 6d70  annot be the emp
-0001db20: 7479 2073 7472 696e 6722 290a 0a20 2020  ty string")..   
-0001db30: 2020 2020 2073 656c 662e 7175 6f74 6543       self.quoteC
-0001db40: 6861 723a 2073 7472 203d 2071 756f 7465  har: str = quote
-0001db50: 5f63 6861 720a 2020 2020 2020 2020 7365  _char.        se
-0001db60: 6c66 2e71 756f 7465 4368 6172 4c65 6e3a  lf.quoteCharLen:
-0001db70: 2069 6e74 203d 206c 656e 2871 756f 7465   int = len(quote
-0001db80: 5f63 6861 7229 0a20 2020 2020 2020 2073  _char).        s
-0001db90: 656c 662e 6669 7273 7451 756f 7465 4368  elf.firstQuoteCh
-0001dba0: 6172 3a20 7374 7220 3d20 7175 6f74 655f  ar: str = quote_
-0001dbb0: 6368 6172 5b30 5d0a 2020 2020 2020 2020  char[0].        
-0001dbc0: 7365 6c66 2e65 6e64 5175 6f74 6543 6861  self.endQuoteCha
-0001dbd0: 723a 2073 7472 203d 2065 6e64 5175 6f74  r: str = endQuot
-0001dbe0: 6543 6861 720a 2020 2020 2020 2020 7365  eChar.        se
-0001dbf0: 6c66 2e65 6e64 5175 6f74 6543 6861 724c  lf.endQuoteCharL
-0001dc00: 656e 3a20 696e 7420 3d20 6c65 6e28 656e  en: int = len(en
-0001dc10: 6451 756f 7465 4368 6172 290a 2020 2020  dQuoteChar).    
-0001dc20: 2020 2020 7365 6c66 2e65 7363 4368 6172      self.escChar
-0001dc30: 3a20 7374 7220 3d20 6573 6343 6861 7220  : str = escChar 
-0001dc40: 6f72 2022 220a 2020 2020 2020 2020 7365  or "".        se
-0001dc50: 6c66 2e65 7363 5175 6f74 653a 2073 7472  lf.escQuote: str
-0001dc60: 203d 2065 7363 5175 6f74 6520 6f72 2022   = escQuote or "
-0001dc70: 220a 2020 2020 2020 2020 7365 6c66 2e75  ".        self.u
-0001dc80: 6e71 756f 7465 5265 7375 6c74 733a 2062  nquoteResults: b
-0001dc90: 6f6f 6c20 3d20 756e 7175 6f74 6552 6573  ool = unquoteRes
-0001dca0: 756c 7473 0a20 2020 2020 2020 2073 656c  ults.        sel
-0001dcb0: 662e 636f 6e76 6572 7457 6869 7465 7370  f.convertWhitesp
-0001dcc0: 6163 6545 7363 6170 6573 3a20 626f 6f6c  aceEscapes: bool
-0001dcd0: 203d 2063 6f6e 7665 7274 5768 6974 6573   = convertWhites
-0001dce0: 7061 6365 4573 6361 7065 730a 2020 2020  paceEscapes.    
-0001dcf0: 2020 2020 7365 6c66 2e6d 756c 7469 6c69      self.multili
-0001dd00: 6e65 203d 206d 756c 7469 6c69 6e65 0a0a  ne = multiline..
-0001dd10: 2020 2020 2020 2020 7365 7020 3d20 2222          sep = ""
-0001dd20: 0a20 2020 2020 2020 2069 6e6e 6572 5f70  .        inner_p
-0001dd30: 6174 7465 726e 203d 2022 220a 0a20 2020  attern = ""..   
-0001dd40: 2020 2020 2069 6620 6573 6351 756f 7465       if escQuote
-0001dd50: 3a0a 2020 2020 2020 2020 2020 2020 696e  :.            in
-0001dd60: 6e65 725f 7061 7474 6572 6e20 2b3d 2072  ner_pattern += r
-0001dd70: 6622 7b73 6570 7d28 3f3a 7b72 652e 6573  f"{sep}(?:{re.es
-0001dd80: 6361 7065 2865 7363 5175 6f74 6529 7d29  cape(escQuote)})
-0001dd90: 220a 2020 2020 2020 2020 2020 2020 7365  ".            se
-0001dda0: 7020 3d20 227c 220a 0a20 2020 2020 2020  p = "|"..       
-0001ddb0: 2069 6620 6573 6343 6861 723a 0a20 2020   if escChar:.   
-0001ddc0: 2020 2020 2020 2020 2069 6e6e 6572 5f70           inner_p
-0001ddd0: 6174 7465 726e 202b 3d20 7266 227b 7365  attern += rf"{se
-0001dde0: 707d 283f 3a7b 7265 2e65 7363 6170 6528  p}(?:{re.escape(
-0001ddf0: 6573 6343 6861 7229 7d2e 2922 0a20 2020  escChar)}.)".   
-0001de00: 2020 2020 2020 2020 2073 6570 203d 2022           sep = "
-0001de10: 7c22 0a20 2020 2020 2020 2020 2020 2073  |".            s
-0001de20: 656c 662e 6573 6343 6861 7252 6570 6c61  elf.escCharRepla
-0001de30: 6365 5061 7474 6572 6e20 3d20 7265 2e65  cePattern = re.e
-0001de40: 7363 6170 6528 6573 6343 6861 7229 202b  scape(escChar) +
-0001de50: 2022 282e 2922 0a0a 2020 2020 2020 2020   "(.)"..        
-0001de60: 6966 206c 656e 2873 656c 662e 656e 6451  if len(self.endQ
-0001de70: 756f 7465 4368 6172 2920 3e20 313a 0a20  uoteChar) > 1:. 
-0001de80: 2020 2020 2020 2020 2020 2069 6e6e 6572             inner
-0001de90: 5f70 6174 7465 726e 202b 3d20 280a 2020  _pattern += (.  
-0001dea0: 2020 2020 2020 2020 2020 2020 2020 6622                f"
-0001deb0: 7b73 6570 7d28 3f3a 220a 2020 2020 2020  {sep}(?:".      
-0001dec0: 2020 2020 2020 2020 2020 2b20 227c 222e            + "|".
-0001ded0: 6a6f 696e 280a 2020 2020 2020 2020 2020  join(.          
-0001dee0: 2020 2020 2020 2020 2020 6622 283f 3a7b            f"(?:{
-0001def0: 7265 2e65 7363 6170 6528 7365 6c66 2e65  re.escape(self.e
-0001df00: 6e64 5175 6f74 6543 6861 725b 3a69 5d29  ndQuoteChar[:i])
-0001df10: 7d28 3f21 7b72 652e 6573 6361 7065 2873  }(?!{re.escape(s
-0001df20: 656c 662e 656e 6451 756f 7465 4368 6172  elf.endQuoteChar
-0001df30: 5b69 3a5d 297d 2929 220a 2020 2020 2020  [i:])}))".      
-0001df40: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-0001df50: 7220 6920 696e 2072 616e 6765 286c 656e  r i in range(len
-0001df60: 2873 656c 662e 656e 6451 756f 7465 4368  (self.endQuoteCh
-0001df70: 6172 2920 2d20 312c 2030 2c20 2d31 290a  ar) - 1, 0, -1).
-0001df80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001df90: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001dfa0: 2020 2b20 2229 220a 2020 2020 2020 2020    + ")".        
-0001dfb0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-0001dfc0: 2020 7365 7020 3d20 227c 220a 0a20 2020    sep = "|"..   
-0001dfd0: 2020 2020 2073 656c 662e 666c 6167 7320       self.flags 
-0001dfe0: 3d20 7265 2e52 6567 6578 466c 6167 2830  = re.RegexFlag(0
-0001dff0: 290a 0a20 2020 2020 2020 2069 6620 6d75  )..        if mu
-0001e000: 6c74 696c 696e 653a 0a20 2020 2020 2020  ltiline:.       
-0001e010: 2020 2020 2073 656c 662e 666c 6167 7320       self.flags 
-0001e020: 3d20 7265 2e4d 554c 5449 4c49 4e45 207c  = re.MULTILINE |
-0001e030: 2072 652e 444f 5441 4c4c 0a20 2020 2020   re.DOTALL.     
-0001e040: 2020 2020 2020 2069 6e6e 6572 5f70 6174         inner_pat
-0001e050: 7465 726e 202b 3d20 280a 2020 2020 2020  tern += (.      
-0001e060: 2020 2020 2020 2020 2020 7266 227b 7365            rf"{se
-0001e070: 707d 283f 3a5b 5e7b 5f65 7363 6170 655f  p}(?:[^{_escape_
-0001e080: 7265 6765 785f 7261 6e67 655f 6368 6172  regex_range_char
-0001e090: 7328 7365 6c66 2e65 6e64 5175 6f74 6543  s(self.endQuoteC
-0001e0a0: 6861 725b 305d 297d 220a 2020 2020 2020  har[0])}".      
-0001e0b0: 2020 2020 2020 2020 2020 7266 227b 285f            rf"{(_
-0001e0c0: 6573 6361 7065 5f72 6567 6578 5f72 616e  escape_regex_ran
-0001e0d0: 6765 5f63 6861 7273 2865 7363 4368 6172  ge_chars(escChar
-0001e0e0: 2920 6966 2065 7363 4368 6172 2069 7320  ) if escChar is 
-0001e0f0: 6e6f 7420 4e6f 6e65 2065 6c73 6520 2727  not None else ''
-0001e100: 297d 5d29 220a 2020 2020 2020 2020 2020  )}])".          
-0001e110: 2020 290a 2020 2020 2020 2020 656c 7365    ).        else
-0001e120: 3a0a 2020 2020 2020 2020 2020 2020 696e  :.            in
-0001e130: 6e65 725f 7061 7474 6572 6e20 2b3d 2028  ner_pattern += (
-0001e140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001e150: 2072 6622 7b73 6570 7d28 3f3a 5b5e 7b5f   rf"{sep}(?:[^{_
-0001e160: 6573 6361 7065 5f72 6567 6578 5f72 616e  escape_regex_ran
-0001e170: 6765 5f63 6861 7273 2873 656c 662e 656e  ge_chars(self.en
-0001e180: 6451 756f 7465 4368 6172 5b30 5d29 7d5c  dQuoteChar[0])}\
-0001e190: 6e5c 7222 0a20 2020 2020 2020 2020 2020  n\r".           
-0001e1a0: 2020 2020 2072 6622 7b28 5f65 7363 6170       rf"{(_escap
-0001e1b0: 655f 7265 6765 785f 7261 6e67 655f 6368  e_regex_range_ch
-0001e1c0: 6172 7328 6573 6343 6861 7229 2069 6620  ars(escChar) if 
-0001e1d0: 6573 6343 6861 7220 6973 206e 6f74 204e  escChar is not N
-0001e1e0: 6f6e 6520 656c 7365 2027 2729 7d5d 2922  one else '')}])"
-0001e1f0: 0a20 2020 2020 2020 2020 2020 2029 0a0a  .            )..
-0001e200: 2020 2020 2020 2020 7365 6c66 2e70 6174          self.pat
-0001e210: 7465 726e 203d 2022 222e 6a6f 696e 280a  tern = "".join(.
-0001e220: 2020 2020 2020 2020 2020 2020 5b0a 2020              [.  
-0001e230: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0001e240: 2e65 7363 6170 6528 7365 6c66 2e71 756f  .escape(self.quo
-0001e250: 7465 4368 6172 292c 0a20 2020 2020 2020  teChar),.       
-0001e260: 2020 2020 2020 2020 2022 283f 3a22 2c0a           "(?:",.
-0001e270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e280: 696e 6e65 725f 7061 7474 6572 6e2c 0a20  inner_pattern,. 
-0001e290: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0001e2a0: 292a 222c 0a20 2020 2020 2020 2020 2020  )*",.           
-0001e2b0: 2020 2020 2072 652e 6573 6361 7065 2873       re.escape(s
-0001e2c0: 656c 662e 656e 6451 756f 7465 4368 6172  elf.endQuoteChar
-0001e2d0: 292c 0a20 2020 2020 2020 2020 2020 205d  ),.            ]
-0001e2e0: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-0001e2f0: 2020 2020 6966 2073 656c 662e 756e 7175      if self.unqu
-0001e300: 6f74 6552 6573 756c 7473 3a0a 2020 2020  oteResults:.    
-0001e310: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0001e320: 636f 6e76 6572 7457 6869 7465 7370 6163  convertWhitespac
-0001e330: 6545 7363 6170 6573 3a0a 2020 2020 2020  eEscapes:.      
-0001e340: 2020 2020 2020 2020 2020 7365 6c66 2e75            self.u
-0001e350: 6e71 756f 7465 5f73 6361 6e5f 7265 203d  nquote_scan_re =
-0001e360: 2072 652e 636f 6d70 696c 6528 0a20 2020   re.compile(.   
-0001e370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e380: 2072 6622 287b 277c 272e 6a6f 696e 2872   rf"({'|'.join(r
-0001e390: 652e 6573 6361 7065 286b 2920 666f 7220  e.escape(k) for 
-0001e3a0: 6b20 696e 2073 656c 662e 7773 5f6d 6170  k in self.ws_map
-0001e3b0: 297d 297c 287b 7265 2e65 7363 6170 6528  )})|({re.escape(
-0001e3c0: 7365 6c66 2e65 7363 4368 6172 297d 2e29  self.escChar)}.)
-0001e3d0: 7c28 5c6e 7c2e 2922 2c0a 2020 2020 2020  |(\n|.)",.      
-0001e3e0: 2020 2020 2020 2020 2020 2020 2020 666c                fl
-0001e3f0: 6167 733d 7365 6c66 2e66 6c61 6773 2c0a  ags=self.flags,.
-0001e400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e410: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-0001e420: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0001e430: 2020 2020 7365 6c66 2e75 6e71 756f 7465      self.unquote
-0001e440: 5f73 6361 6e5f 7265 203d 2072 652e 636f  _scan_re = re.co
-0001e450: 6d70 696c 6528 0a20 2020 2020 2020 2020  mpile(.         
-0001e460: 2020 2020 2020 2020 2020 2072 6622 287b             rf"({
-0001e470: 7265 2e65 7363 6170 6528 7365 6c66 2e65  re.escape(self.e
-0001e480: 7363 4368 6172 297d 2e29 7c28 5c6e 7c2e  scChar)}.)|(\n|.
-0001e490: 2922 2c20 666c 6167 733d 7365 6c66 2e66  )", flags=self.f
-0001e4a0: 6c61 6773 0a20 2020 2020 2020 2020 2020  lags.           
-0001e4b0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-0001e4c0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0001e4d0: 2073 656c 662e 7265 203d 2072 652e 636f   self.re = re.co
-0001e4e0: 6d70 696c 6528 7365 6c66 2e70 6174 7465  mpile(self.patte
-0001e4f0: 726e 2c20 7365 6c66 2e66 6c61 6773 290a  rn, self.flags).
-0001e500: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001e510: 2e72 6553 7472 696e 6720 3d20 7365 6c66  .reString = self
-0001e520: 2e70 6174 7465 726e 0a20 2020 2020 2020  .pattern.       
-0001e530: 2020 2020 2073 656c 662e 7265 5f6d 6174       self.re_mat
-0001e540: 6368 203d 2073 656c 662e 7265 2e6d 6174  ch = self.re.mat
-0001e550: 6368 0a20 2020 2020 2020 2065 7863 6570  ch.        excep
-0001e560: 7420 7265 2e65 7272 6f72 3a0a 2020 2020  t re.error:.    
-0001e570: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-0001e580: 6c75 6545 7272 6f72 2866 2269 6e76 616c  lueError(f"inval
-0001e590: 6964 2070 6174 7465 726e 207b 7365 6c66  id pattern {self
-0001e5a0: 2e70 6174 7465 726e 2172 7d20 7061 7373  .pattern!r} pass
-0001e5b0: 6564 2074 6f20 5265 6765 7822 290a 0a20  ed to Regex").. 
-0001e5c0: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
-0001e5d0: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
-0001e5e0: 202b 2073 656c 662e 6e61 6d65 0a20 2020   + self.name.   
-0001e5f0: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
-0001e600: 6578 4572 726f 7220 3d20 4661 6c73 650a  exError = False.
-0001e610: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-0001e620: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
-0001e630: 7565 0a0a 2020 2020 6465 6620 5f67 656e  ue..    def _gen
-0001e640: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
-0001e650: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
-0001e660: 2020 2020 2020 2069 6620 7365 6c66 2e71         if self.q
-0001e670: 756f 7465 4368 6172 203d 3d20 7365 6c66  uoteChar == self
-0001e680: 2e65 6e64 5175 6f74 6543 6861 7220 616e  .endQuoteChar an
-0001e690: 6420 6973 696e 7374 616e 6365 2873 656c  d isinstance(sel
-0001e6a0: 662e 7175 6f74 6543 6861 722c 2073 7472  f.quoteChar, str
-0001e6b0: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
-0001e6c0: 2020 2020 7265 7475 726e 2066 2273 7472      return f"str
-0001e6d0: 696e 6720 656e 636c 6f73 6564 2069 6e20  ing enclosed in 
-0001e6e0: 7b73 656c 662e 7175 6f74 6543 6861 7221  {self.quoteChar!
-0001e6f0: 727d 220a 0a20 2020 2020 2020 2072 6574  r}"..        ret
-0001e700: 7572 6e20 6622 7175 6f74 6564 2073 7472  urn f"quoted str
-0001e710: 696e 672c 2073 7461 7274 696e 6720 7769  ing, starting wi
-0001e720: 7468 207b 7365 6c66 2e71 756f 7465 4368  th {self.quoteCh
-0001e730: 6172 7d20 656e 6469 6e67 2077 6974 6820  ar} ending with 
-0001e740: 7b73 656c 662e 656e 6451 756f 7465 4368  {self.endQuoteCh
-0001e750: 6172 7d22 0a0a 2020 2020 6465 6620 7061  ar}"..    def pa
-0001e760: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
-0001e770: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-0001e780: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
-0001e790: 2020 2020 2020 7265 7375 6c74 203d 2028        result = (
-0001e7a0: 0a20 2020 2020 2020 2020 2020 2069 6e73  .            ins
-0001e7b0: 7472 696e 675b 6c6f 635d 203d 3d20 7365  tring[loc] == se
-0001e7c0: 6c66 2e66 6972 7374 5175 6f74 6543 6861  lf.firstQuoteCha
-0001e7d0: 720a 2020 2020 2020 2020 2020 2020 616e  r.            an
-0001e7e0: 6420 7365 6c66 2e72 655f 6d61 7463 6828  d self.re_match(
-0001e7f0: 696e 7374 7269 6e67 2c20 6c6f 6329 0a20  instring, loc). 
-0001e800: 2020 2020 2020 2020 2020 206f 7220 4e6f             or No
-0001e810: 6e65 0a20 2020 2020 2020 2029 0a20 2020  ne.        ).   
-0001e820: 2020 2020 2069 6620 6e6f 7420 7265 7375       if not resu
-0001e830: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
-0001e840: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-0001e850: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
-0001e860: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
-0001e870: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
-0001e880: 6c6f 6320 3d20 7265 7375 6c74 2e65 6e64  loc = result.end
-0001e890: 2829 0a20 2020 2020 2020 2072 6574 203d  ().        ret =
-0001e8a0: 2072 6573 756c 742e 6772 6f75 7028 290a   result.group().
-0001e8b0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0001e8c0: 2e75 6e71 756f 7465 5265 7375 6c74 733a  .unquoteResults:
-0001e8d0: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
-0001e8e0: 7472 6970 206f 6666 2071 756f 7465 730a  trip off quotes.
-0001e8f0: 2020 2020 2020 2020 2020 2020 7265 7420              ret 
-0001e900: 3d20 7265 745b 7365 6c66 2e71 756f 7465  = ret[self.quote
-0001e910: 4368 6172 4c65 6e20 3a20 2d73 656c 662e  CharLen : -self.
-0001e920: 656e 6451 756f 7465 4368 6172 4c65 6e5d  endQuoteCharLen]
-0001e930: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
-0001e940: 2069 7369 6e73 7461 6e63 6528 7265 742c   isinstance(ret,
-0001e950: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
-0001e960: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-0001e970: 656c 662e 636f 6e76 6572 7457 6869 7465  elf.convertWhite
-0001e980: 7370 6163 6545 7363 6170 6573 3a0a 2020  spaceEscapes:.  
-0001e990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e9a0: 2020 7265 7420 3d20 2222 2e6a 6f69 6e28    ret = "".join(
-0001e9b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001e9c0: 2020 2020 2020 2020 2073 656c 662e 7773           self.ws
-0001e9d0: 5f6d 6170 5b6d 6174 6368 2e67 726f 7570  _map[match.group
-0001e9e0: 2831 295d 0a20 2020 2020 2020 2020 2020  (1)].           
-0001e9f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0001ea00: 6d61 7463 682e 6772 6f75 7028 3129 0a20  match.group(1). 
-0001ea10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ea20: 2020 2020 2020 2065 6c73 6520 6d61 7463         else matc
-0001ea30: 682e 6772 6f75 7028 3229 5b2d 315d 0a20  h.group(2)[-1]. 
-0001ea40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ea50: 2020 2020 2020 2069 6620 6d61 7463 682e         if match.
-0001ea60: 6772 6f75 7028 3229 0a20 2020 2020 2020  group(2).       
-0001ea70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ea80: 2065 6c73 6520 6d61 7463 682e 6772 6f75   else match.grou
-0001ea90: 7028 3329 0a20 2020 2020 2020 2020 2020  p(3).           
-0001eaa0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-0001eab0: 206d 6174 6368 2069 6e20 7365 6c66 2e75   match in self.u
-0001eac0: 6e71 756f 7465 5f73 6361 6e5f 7265 2e66  nquote_scan_re.f
-0001ead0: 696e 6469 7465 7228 7265 7429 0a20 2020  inditer(ret).   
-0001eae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eaf0: 2029 0a20 2020 2020 2020 2020 2020 2020   ).             
-0001eb00: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0001eb10: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0001eb20: 203d 2022 222e 6a6f 696e 280a 2020 2020   = "".join(.    
-0001eb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eb40: 2020 2020 6d61 7463 682e 6772 6f75 7028      match.group(
-0001eb50: 3129 5b2d 315d 2069 6620 6d61 7463 682e  1)[-1] if match.
-0001eb60: 6772 6f75 7028 3129 2065 6c73 6520 6d61  group(1) else ma
-0001eb70: 7463 682e 6772 6f75 7028 3229 0a20 2020  tch.group(2).   
-0001eb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eb90: 2020 2020 2066 6f72 206d 6174 6368 2069       for match i
-0001eba0: 6e20 7365 6c66 2e75 6e71 756f 7465 5f73  n self.unquote_s
-0001ebb0: 6361 6e5f 7265 2e66 696e 6469 7465 7228  can_re.finditer(
-0001ebc0: 7265 7429 0a20 2020 2020 2020 2020 2020  ret).           
-0001ebd0: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-0001ebe0: 2020 2020 2020 2020 2020 2020 2320 7265              # re
-0001ebf0: 706c 6163 6520 6573 6361 7065 6420 7175  place escaped qu
-0001ec00: 6f74 6573 0a20 2020 2020 2020 2020 2020  otes.           
-0001ec10: 2020 2020 2069 6620 7365 6c66 2e65 7363       if self.esc
-0001ec20: 5175 6f74 653a 0a20 2020 2020 2020 2020  Quote:.         
-0001ec30: 2020 2020 2020 2020 2020 2072 6574 203d             ret =
-0001ec40: 2072 6574 2e72 6570 6c61 6365 2873 656c   ret.replace(sel
-0001ec50: 662e 6573 6351 756f 7465 2c20 7365 6c66  f.escQuote, self
-0001ec60: 2e65 6e64 5175 6f74 6543 6861 7229 0a0a  .endQuoteChar)..
-0001ec70: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-0001ec80: 6f63 2c20 7265 740a 0a0a 636c 6173 7320  oc, ret...class 
-0001ec90: 4368 6172 734e 6f74 496e 2854 6f6b 656e  CharsNotIn(Token
-0001eca0: 293a 0a20 2020 2022 2222 546f 6b65 6e20  ):.    """Token 
-0001ecb0: 666f 7220 6d61 7463 6869 6e67 2077 6f72  for matching wor
-0001ecc0: 6473 2063 6f6d 706f 7365 6420 6f66 2063  ds composed of c
-0001ecd0: 6861 7261 6374 6572 7320 2a6e 6f74 2a20  haracters *not* 
-0001ece0: 696e 2061 2067 6976 656e 0a20 2020 2073  in a given.    s
-0001ecf0: 6574 2028 7769 6c6c 2069 6e63 6c75 6465  et (will include
-0001ed00: 2077 6869 7465 7370 6163 6520 696e 206d   whitespace in m
-0001ed10: 6174 6368 6564 2063 6861 7261 6374 6572  atched character
-0001ed20: 7320 6966 206e 6f74 206c 6973 7465 6420  s if not listed 
-0001ed30: 696e 0a20 2020 2074 6865 2070 726f 7669  in.    the provi
-0001ed40: 6465 6420 6578 636c 7573 696f 6e20 7365  ded exclusion se
-0001ed50: 7420 2d20 7365 6520 6578 616d 706c 6529  t - see example)
-0001ed60: 2e20 4465 6669 6e65 6420 7769 7468 2073  . Defined with s
-0001ed70: 7472 696e 670a 2020 2020 636f 6e74 6169  tring.    contai
-0001ed80: 6e69 6e67 2061 6c6c 2064 6973 616c 6c6f  ning all disallo
-0001ed90: 7765 6420 6368 6172 6163 7465 7273 2c20  wed characters, 
-0001eda0: 616e 6420 616e 206f 7074 696f 6e61 6c20  and an optional 
-0001edb0: 6d69 6e69 6d75 6d2c 0a20 2020 206d 6178  minimum,.    max
-0001edc0: 696d 756d 2c20 616e 642f 6f72 2065 7861  imum, and/or exa
-0001edd0: 6374 206c 656e 6774 682e 2020 5468 6520  ct length.  The 
-0001ede0: 6465 6661 756c 7420 7661 6c75 6520 666f  default value fo
-0001edf0: 7220 6060 6d69 6e60 6020 6973 0a20 2020  r ``min`` is.   
-0001ee00: 2031 2028 6120 6d69 6e69 6d75 6d20 7661   1 (a minimum va
-0001ee10: 6c75 6520 3c20 3120 6973 206e 6f74 2076  lue < 1 is not v
-0001ee20: 616c 6964 293b 2074 6865 2064 6566 6175  alid); the defau
-0001ee30: 6c74 2076 616c 7565 7320 666f 720a 2020  lt values for.  
-0001ee40: 2020 6060 6d61 7860 6020 616e 6420 6060    ``max`` and ``
-0001ee50: 6578 6163 7460 6020 6172 6520 302c 206d  exact`` are 0, m
-0001ee60: 6561 6e69 6e67 206e 6f20 6d61 7869 6d75  eaning no maximu
-0001ee70: 6d20 6f72 2065 7861 6374 0a20 2020 206c  m or exact.    l
-0001ee80: 656e 6774 6820 7265 7374 7269 6374 696f  ength restrictio
-0001ee90: 6e2e 0a0a 2020 2020 4578 616d 706c 653a  n...    Example:
-0001eea0: 3a0a 0a20 2020 2020 2020 2023 2064 6566  :..        # def
-0001eeb0: 696e 6520 6120 636f 6d6d 612d 7365 7061  ine a comma-sepa
-0001eec0: 7261 7465 642d 7661 6c75 6520 6173 2061  rated-value as a
-0001eed0: 6e79 7468 696e 6720 7468 6174 2069 7320  nything that is 
-0001eee0: 6e6f 7420 6120 272c 270a 2020 2020 2020  not a ','.      
-0001eef0: 2020 6373 765f 7661 6c75 6520 3d20 4368    csv_value = Ch
-0001ef00: 6172 734e 6f74 496e 2827 2c27 290a 2020  arsNotIn(',').  
-0001ef10: 2020 2020 2020 7072 696e 7428 4465 6c69        print(Deli
-0001ef20: 6d69 7465 644c 6973 7428 6373 765f 7661  mitedList(csv_va
-0001ef30: 6c75 6529 2e70 6172 7365 5f73 7472 696e  lue).parse_strin
-0001ef40: 6728 2264 6b6c 732c 6c73 646b 6a66 2c73  g("dkls,lsdkjf,s
-0001ef50: 3132 2033 342c 4021 232c 3231 3322 2929  12 34,@!#,213"))
-0001ef60: 0a0a 2020 2020 7072 696e 7473 3a3a 0a0a  ..    prints::..
-0001ef70: 2020 2020 2020 2020 5b27 646b 6c73 272c          ['dkls',
-0001ef80: 2027 6c73 646b 6a66 272c 2027 7331 3220   'lsdkjf', 's12 
-0001ef90: 3334 272c 2027 4021 2327 2c20 2732 3133  34', '@!#', '213
-0001efa0: 275d 0a20 2020 2022 2222 0a0a 2020 2020  '].    """..    
-0001efb0: 6465 6620 5f5f 696e 6974 5f5f 280a 2020  def __init__(.  
-0001efc0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-0001efd0: 2020 2020 6e6f 745f 6368 6172 733a 2073      not_chars: s
-0001efe0: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
-0001eff0: 206d 696e 3a20 696e 7420 3d20 312c 0a20   min: int = 1,. 
-0001f000: 2020 2020 2020 206d 6178 3a20 696e 7420         max: int 
-0001f010: 3d20 302c 0a20 2020 2020 2020 2065 7861  = 0,.        exa
-0001f020: 6374 3a20 696e 7420 3d20 302c 0a20 2020  ct: int = 0,.   
-0001f030: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
-0001f040: 6e6f 7443 6861 7273 3a20 7374 7220 3d20  notChars: str = 
-0001f050: 2222 2c0a 2020 2020 293a 0a20 2020 2020  "",.    ):.     
-0001f060: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-0001f070: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
-0001f080: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
-0001f090: 6520 3d20 4661 6c73 650a 2020 2020 2020  e = False.      
-0001f0a0: 2020 7365 6c66 2e6e 6f74 4368 6172 7320    self.notChars 
-0001f0b0: 3d20 6e6f 745f 6368 6172 7320 6f72 206e  = not_chars or n
-0001f0c0: 6f74 4368 6172 730a 2020 2020 2020 2020  otChars.        
-0001f0d0: 7365 6c66 2e6e 6f74 4368 6172 7353 6574  self.notCharsSet
-0001f0e0: 203d 2073 6574 2873 656c 662e 6e6f 7443   = set(self.notC
-0001f0f0: 6861 7273 290a 0a20 2020 2020 2020 2069  hars)..        i
-0001f100: 6620 6d69 6e20 3c20 313a 0a20 2020 2020  f min < 1:.     
-0001f110: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
-0001f120: 7565 4572 726f 7228 0a20 2020 2020 2020  ueError(.       
-0001f130: 2020 2020 2020 2020 2022 6361 6e6e 6f74           "cannot
-0001f140: 2073 7065 6369 6679 2061 206d 696e 696d   specify a minim
-0001f150: 756d 206c 656e 6774 6820 3c20 313b 2075  um length < 1; u
-0001f160: 7365 2022 0a20 2020 2020 2020 2020 2020  se ".           
-0001f170: 2020 2020 2022 4f70 7428 4368 6172 734e       "Opt(CharsN
-0001f180: 6f74 496e 2829 2920 6966 207a 6572 6f2d  otIn()) if zero-
-0001f190: 6c65 6e67 7468 2063 6861 7220 6772 6f75  length char grou
-0001f1a0: 7020 6973 2070 6572 6d69 7474 6564 220a  p is permitted".
-0001f1b0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-0001f1c0: 2020 2020 2020 2073 656c 662e 6d69 6e4c         self.minL
-0001f1d0: 656e 203d 206d 696e 0a0a 2020 2020 2020  en = min..      
-0001f1e0: 2020 6966 206d 6178 203e 2030 3a0a 2020    if max > 0:.  
-0001f1f0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-0001f200: 6178 4c65 6e20 3d20 6d61 780a 2020 2020  axLen = max.    
-0001f210: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001f220: 2020 2020 2020 7365 6c66 2e6d 6178 4c65        self.maxLe
-0001f230: 6e20 3d20 5f4d 4158 5f49 4e54 0a0a 2020  n = _MAX_INT..  
-0001f240: 2020 2020 2020 6966 2065 7861 6374 203e        if exact >
-0001f250: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-0001f260: 7365 6c66 2e6d 6178 4c65 6e20 3d20 6578  self.maxLen = ex
-0001f270: 6163 740a 2020 2020 2020 2020 2020 2020  act.            
-0001f280: 7365 6c66 2e6d 696e 4c65 6e20 3d20 6578  self.minLen = ex
-0001f290: 6163 740a 0a20 2020 2020 2020 2073 656c  act..        sel
-0001f2a0: 662e 6572 726d 7367 203d 2022 4578 7065  f.errmsg = "Expe
-0001f2b0: 6374 6564 2022 202b 2073 656c 662e 6e61  cted " + self.na
-0001f2c0: 6d65 0a20 2020 2020 2020 2073 656c 662e  me.        self.
-0001f2d0: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
-0001f2e0: 2073 656c 662e 6d69 6e4c 656e 203d 3d20   self.minLen == 
-0001f2f0: 300a 2020 2020 2020 2020 7365 6c66 2e6d  0.        self.m
-0001f300: 6179 496e 6465 7845 7272 6f72 203d 2046  ayIndexError = F
-0001f310: 616c 7365 0a0a 2020 2020 6465 6620 5f67  alse..    def _g
-0001f320: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
-0001f330: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
-0001f340: 0a20 2020 2020 2020 206e 6f74 5f63 6861  .        not_cha
-0001f350: 7273 5f73 7472 203d 205f 636f 6c6c 6170  rs_str = _collap
-0001f360: 7365 5f73 7472 696e 675f 746f 5f72 616e  se_string_to_ran
-0001f370: 6765 7328 7365 6c66 2e6e 6f74 4368 6172  ges(self.notChar
-0001f380: 7329 0a20 2020 2020 2020 2069 6620 6c65  s).        if le
-0001f390: 6e28 6e6f 745f 6368 6172 735f 7374 7229  n(not_chars_str)
-0001f3a0: 203e 2031 363a 0a20 2020 2020 2020 2020   > 16:.         
-0001f3b0: 2020 2072 6574 7572 6e20 6622 2157 3a28     return f"!W:(
-0001f3c0: 7b73 656c 662e 6e6f 7443 6861 7273 5b3a  {self.notChars[:
-0001f3d0: 2031 3620 2d20 335d 7d2e 2e2e 2922 0a20   16 - 3]}...)". 
-0001f3e0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001f3f0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0001f400: 6622 2157 3a28 7b73 656c 662e 6e6f 7443  f"!W:({self.notC
-0001f410: 6861 7273 7d29 220a 0a20 2020 2064 6566  hars})"..    def
-0001f420: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
-0001f430: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-0001f440: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
-0001f450: 0a20 2020 2020 2020 206e 6f74 6368 6172  .        notchar
-0001f460: 7320 3d20 7365 6c66 2e6e 6f74 4368 6172  s = self.notChar
-0001f470: 7353 6574 0a20 2020 2020 2020 2069 6620  sSet.        if 
-0001f480: 696e 7374 7269 6e67 5b6c 6f63 5d20 696e  instring[loc] in
-0001f490: 206e 6f74 6368 6172 733a 0a20 2020 2020   notchars:.     
-0001f4a0: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
-0001f4b0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
-0001f4c0: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
-0001f4d0: 6572 726d 7367 2c20 7365 6c66 290a 0a20  errmsg, self).. 
-0001f4e0: 2020 2020 2020 2073 7461 7274 203d 206c         start = l
-0001f4f0: 6f63 0a20 2020 2020 2020 206c 6f63 202b  oc.        loc +
-0001f500: 3d20 310a 2020 2020 2020 2020 6d61 786c  = 1.        maxl
-0001f510: 656e 203d 206d 696e 2873 7461 7274 202b  en = min(start +
-0001f520: 2073 656c 662e 6d61 784c 656e 2c20 6c65   self.maxLen, le
-0001f530: 6e28 696e 7374 7269 6e67 2929 0a20 2020  n(instring)).   
-0001f540: 2020 2020 2077 6869 6c65 206c 6f63 203c       while loc <
-0001f550: 206d 6178 6c65 6e20 616e 6420 696e 7374   maxlen and inst
-0001f560: 7269 6e67 5b6c 6f63 5d20 6e6f 7420 696e  ring[loc] not in
-0001f570: 206e 6f74 6368 6172 733a 0a20 2020 2020   notchars:.     
-0001f580: 2020 2020 2020 206c 6f63 202b 3d20 310a         loc += 1.
-0001f590: 0a20 2020 2020 2020 2069 6620 6c6f 6320  .        if loc 
-0001f5a0: 2d20 7374 6172 7420 3c20 7365 6c66 2e6d  - start < self.m
-0001f5b0: 696e 4c65 6e3a 0a20 2020 2020 2020 2020  inLen:.         
-0001f5c0: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
-0001f5d0: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
-0001f5e0: 2c20 6c6f 632c 2073 656c 662e 6572 726d  , loc, self.errm
-0001f5f0: 7367 2c20 7365 6c66 290a 0a20 2020 2020  sg, self)..     
-0001f600: 2020 2072 6574 7572 6e20 6c6f 632c 2069     return loc, i
-0001f610: 6e73 7472 696e 675b 7374 6172 743a 6c6f  nstring[start:lo
-0001f620: 635d 0a0a 0a63 6c61 7373 2057 6869 7465  c]...class White
-0001f630: 2854 6f6b 656e 293a 0a20 2020 2022 2222  (Token):.    """
-0001f640: 5370 6563 6961 6c20 6d61 7463 6869 6e67  Special matching
-0001f650: 2063 6c61 7373 2066 6f72 206d 6174 6368   class for match
-0001f660: 696e 6720 7768 6974 6573 7061 6365 2e20  ing whitespace. 
-0001f670: 204e 6f72 6d61 6c6c 792c 0a20 2020 2077   Normally,.    w
-0001f680: 6869 7465 7370 6163 6520 6973 2069 676e  hitespace is ign
-0001f690: 6f72 6564 2062 7920 7079 7061 7273 696e  ored by pyparsin
-0001f6a0: 6720 6772 616d 6d61 7273 2e20 2054 6869  g grammars.  Thi
-0001f6b0: 7320 636c 6173 7320 6973 2069 6e63 6c75  s class is inclu
-0001f6c0: 6465 640a 2020 2020 7768 656e 2073 6f6d  ded.    when som
-0001f6d0: 6520 7768 6974 6573 7061 6365 2073 7472  e whitespace str
-0001f6e0: 7563 7475 7265 7320 6172 6520 7369 676e  uctures are sign
-0001f6f0: 6966 6963 616e 742e 2020 4465 6669 6e65  ificant.  Define
-0001f700: 2077 6974 680a 2020 2020 6120 7374 7269   with.    a stri
-0001f710: 6e67 2063 6f6e 7461 696e 696e 6720 7468  ng containing th
-0001f720: 6520 7768 6974 6573 7061 6365 2063 6861  e whitespace cha
-0001f730: 7261 6374 6572 7320 746f 2062 6520 6d61  racters to be ma
-0001f740: 7463 6865 643b 2064 6566 6175 6c74 0a20  tched; default. 
-0001f750: 2020 2069 7320 6060 2220 5c5c 745c 5c72     is ``" \\t\\r
-0001f760: 5c5c 6e22 6060 2e20 2041 6c73 6f20 7461  \\n"``.  Also ta
-0001f770: 6b65 7320 6f70 7469 6f6e 616c 2060 606d  kes optional ``m
-0001f780: 696e 6060 2c0a 2020 2020 6060 6d61 7860  in``,.    ``max`
-0001f790: 602c 2061 6e64 2060 6065 7861 6374 6060  `, and ``exact``
-0001f7a0: 2061 7267 756d 656e 7473 2c20 6173 2064   arguments, as d
-0001f7b0: 6566 696e 6564 2066 6f72 2074 6865 0a20  efined for the. 
-0001f7c0: 2020 203a 636c 6173 733a 6057 6f72 6460     :class:`Word`
-0001f7d0: 2063 6c61 7373 2e0a 2020 2020 2222 220a   class..    """.
-0001f7e0: 0a20 2020 2077 6869 7465 5374 7273 203d  .    whiteStrs =
-0001f7f0: 207b 0a20 2020 2020 2020 2022 2022 3a20   {.        " ": 
-0001f800: 223c 5350 3e22 2c0a 2020 2020 2020 2020  "<SP>",.        
-0001f810: 225c 7422 3a20 223c 5441 423e 222c 0a20  "\t": "<TAB>",. 
-0001f820: 2020 2020 2020 2022 5c6e 223a 2022 3c4c         "\n": "<L
-0001f830: 463e 222c 0a20 2020 2020 2020 2022 5c72  F>",.        "\r
-0001f840: 223a 2022 3c43 523e 222c 0a20 2020 2020  ": "<CR>",.     
-0001f850: 2020 2022 5c66 223a 2022 3c46 463e 222c     "\f": "<FF>",
-0001f860: 0a20 2020 2020 2020 2022 5c75 3030 4130  .        "\u00A0
-0001f870: 223a 2022 3c4e 4253 503e 222c 0a20 2020  ": "<NBSP>",.   
-0001f880: 2020 2020 2022 5c75 3136 3830 223a 2022       "\u1680": "
-0001f890: 3c4f 4748 414d 5f53 5041 4345 5f4d 4152  <OGHAM_SPACE_MAR
-0001f8a0: 4b3e 222c 0a20 2020 2020 2020 2022 5c75  K>",.        "\u
-0001f8b0: 3138 3045 223a 2022 3c4d 4f4e 474f 4c49  180E": "<MONGOLI
-0001f8c0: 414e 5f56 4f57 454c 5f53 4550 4152 4154  AN_VOWEL_SEPARAT
-0001f8d0: 4f52 3e22 2c0a 2020 2020 2020 2020 225c  OR>",.        "\
-0001f8e0: 7532 3030 3022 3a20 223c 454e 5f51 5541  u2000": "<EN_QUA
-0001f8f0: 443e 222c 0a20 2020 2020 2020 2022 5c75  D>",.        "\u
-0001f900: 3230 3031 223a 2022 3c45 4d5f 5155 4144  2001": "<EM_QUAD
-0001f910: 3e22 2c0a 2020 2020 2020 2020 225c 7532  >",.        "\u2
-0001f920: 3030 3222 3a20 223c 454e 5f53 5041 4345  002": "<EN_SPACE
-0001f930: 3e22 2c0a 2020 2020 2020 2020 225c 7532  >",.        "\u2
-0001f940: 3030 3322 3a20 223c 454d 5f53 5041 4345  003": "<EM_SPACE
-0001f950: 3e22 2c0a 2020 2020 2020 2020 225c 7532  >",.        "\u2
-0001f960: 3030 3422 3a20 223c 5448 5245 452d 5045  004": "<THREE-PE
-0001f970: 522d 454d 5f53 5041 4345 3e22 2c0a 2020  R-EM_SPACE>",.  
-0001f980: 2020 2020 2020 225c 7532 3030 3522 3a20        "\u2005": 
-0001f990: 223c 464f 5552 2d50 4552 2d45 4d5f 5350  "<FOUR-PER-EM_SP
-0001f9a0: 4143 453e 222c 0a20 2020 2020 2020 2022  ACE>",.        "
-0001f9b0: 5c75 3230 3036 223a 2022 3c53 4958 2d50  \u2006": "<SIX-P
-0001f9c0: 4552 2d45 4d5f 5350 4143 453e 222c 0a20  ER-EM_SPACE>",. 
-0001f9d0: 2020 2020 2020 2022 5c75 3230 3037 223a         "\u2007":
-0001f9e0: 2022 3c46 4947 5552 455f 5350 4143 453e   "<FIGURE_SPACE>
-0001f9f0: 222c 0a20 2020 2020 2020 2022 5c75 3230  ",.        "\u20
-0001fa00: 3038 223a 2022 3c50 554e 4354 5541 5449  08": "<PUNCTUATI
-0001fa10: 4f4e 5f53 5041 4345 3e22 2c0a 2020 2020  ON_SPACE>",.    
-0001fa20: 2020 2020 225c 7532 3030 3922 3a20 223c      "\u2009": "<
-0001fa30: 5448 494e 5f53 5041 4345 3e22 2c0a 2020  THIN_SPACE>",.  
-0001fa40: 2020 2020 2020 225c 7532 3030 4122 3a20        "\u200A": 
-0001fa50: 223c 4841 4952 5f53 5041 4345 3e22 2c0a  "<HAIR_SPACE>",.
-0001fa60: 2020 2020 2020 2020 225c 7532 3030 4222          "\u200B"
-0001fa70: 3a20 223c 5a45 524f 5f57 4944 5448 5f53  : "<ZERO_WIDTH_S
-0001fa80: 5041 4345 3e22 2c0a 2020 2020 2020 2020  PACE>",.        
-0001fa90: 225c 7532 3032 4622 3a20 223c 4e4e 4253  "\u202F": "<NNBS
-0001faa0: 503e 222c 0a20 2020 2020 2020 2022 5c75  P>",.        "\u
-0001fab0: 3230 3546 223a 2022 3c4d 4d53 503e 222c  205F": "<MMSP>",
-0001fac0: 0a20 2020 2020 2020 2022 5c75 3330 3030  .        "\u3000
-0001fad0: 223a 2022 3c49 4445 4f47 5241 5048 4943  ": "<IDEOGRAPHIC
-0001fae0: 5f53 5041 4345 3e22 2c0a 2020 2020 7d0a  _SPACE>",.    }.
-0001faf0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-0001fb00: 5f28 7365 6c66 2c20 7773 3a20 7374 7220  _(self, ws: str 
-0001fb10: 3d20 2220 5c74 5c72 5c6e 222c 206d 696e  = " \t\r\n", min
-0001fb20: 3a20 696e 7420 3d20 312c 206d 6178 3a20  : int = 1, max: 
-0001fb30: 696e 7420 3d20 302c 2065 7861 6374 3a20  int = 0, exact: 
-0001fb40: 696e 7420 3d20 3029 3a0a 2020 2020 2020  int = 0):.      
-0001fb50: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-0001fb60: 5f5f 2829 0a20 2020 2020 2020 2073 656c  __().        sel
-0001fb70: 662e 6d61 7463 6857 6869 7465 203d 2077  f.matchWhite = w
-0001fb80: 730a 2020 2020 2020 2020 7365 6c66 2e73  s.        self.s
-0001fb90: 6574 5f77 6869 7465 7370 6163 655f 6368  et_whitespace_ch
-0001fba0: 6172 7328 0a20 2020 2020 2020 2020 2020  ars(.           
-0001fbb0: 2022 222e 6a6f 696e 2863 2066 6f72 2063   "".join(c for c
-0001fbc0: 2069 6e20 7365 6c66 2e77 6869 7465 5374   in self.whiteSt
-0001fbd0: 7273 2069 6620 6320 6e6f 7420 696e 2073  rs if c not in s
-0001fbe0: 656c 662e 6d61 7463 6857 6869 7465 292c  elf.matchWhite),
-0001fbf0: 0a20 2020 2020 2020 2020 2020 2063 6f70  .            cop
-0001fc00: 795f 6465 6661 756c 7473 3d54 7275 652c  y_defaults=True,
-0001fc10: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-0001fc20: 2020 2023 2073 656c 662e 6c65 6176 655f     # self.leave_
-0001fc30: 7768 6974 6573 7061 6365 2829 0a20 2020  whitespace().   
-0001fc40: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
-0001fc50: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
-0001fc60: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-0001fc70: 6d73 6720 3d20 2245 7870 6563 7465 6420  msg = "Expected 
-0001fc80: 2220 2b20 7365 6c66 2e6e 616d 650a 0a20  " + self.name.. 
-0001fc90: 2020 2020 2020 2073 656c 662e 6d69 6e4c         self.minL
-0001fca0: 656e 203d 206d 696e 0a0a 2020 2020 2020  en = min..      
-0001fcb0: 2020 6966 206d 6178 203e 2030 3a0a 2020    if max > 0:.  
-0001fcc0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-0001fcd0: 6178 4c65 6e20 3d20 6d61 780a 2020 2020  axLen = max.    
-0001fce0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001fcf0: 2020 2020 2020 7365 6c66 2e6d 6178 4c65        self.maxLe
-0001fd00: 6e20 3d20 5f4d 4158 5f49 4e54 0a0a 2020  n = _MAX_INT..  
-0001fd10: 2020 2020 2020 6966 2065 7861 6374 203e        if exact >
-0001fd20: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-0001fd30: 7365 6c66 2e6d 6178 4c65 6e20 3d20 6578  self.maxLen = ex
-0001fd40: 6163 740a 2020 2020 2020 2020 2020 2020  act.            
-0001fd50: 7365 6c66 2e6d 696e 4c65 6e20 3d20 6578  self.minLen = ex
-0001fd60: 6163 740a 0a20 2020 2064 6566 205f 6765  act..    def _ge
-0001fd70: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
-0001fd80: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
-0001fd90: 2020 2020 2020 2020 7265 7475 726e 2022          return "
-0001fda0: 222e 6a6f 696e 2857 6869 7465 2e77 6869  ".join(White.whi
-0001fdb0: 7465 5374 7273 5b63 5d20 666f 7220 6320  teStrs[c] for c 
-0001fdc0: 696e 2073 656c 662e 6d61 7463 6857 6869  in self.matchWhi
-0001fdd0: 7465 290a 0a20 2020 2064 6566 2070 6172  te)..    def par
-0001fde0: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
-0001fdf0: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-0001fe00: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
-0001fe10: 2020 2020 2069 6620 696e 7374 7269 6e67       if instring
-0001fe20: 5b6c 6f63 5d20 6e6f 7420 696e 2073 656c  [loc] not in sel
-0001fe30: 662e 6d61 7463 6857 6869 7465 3a0a 2020  f.matchWhite:.  
-0001fe40: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001fe50: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
-0001fe60: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
-0001fe70: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
-0001fe80: 0a20 2020 2020 2020 2073 7461 7274 203d  .        start =
-0001fe90: 206c 6f63 0a20 2020 2020 2020 206c 6f63   loc.        loc
-0001fea0: 202b 3d20 310a 2020 2020 2020 2020 6d61   += 1.        ma
-0001feb0: 786c 6f63 203d 2073 7461 7274 202b 2073  xloc = start + s
-0001fec0: 656c 662e 6d61 784c 656e 0a20 2020 2020  elf.maxLen.     
-0001fed0: 2020 206d 6178 6c6f 6320 3d20 6d69 6e28     maxloc = min(
-0001fee0: 6d61 786c 6f63 2c20 6c65 6e28 696e 7374  maxloc, len(inst
-0001fef0: 7269 6e67 2929 0a20 2020 2020 2020 2077  ring)).        w
-0001ff00: 6869 6c65 206c 6f63 203c 206d 6178 6c6f  hile loc < maxlo
-0001ff10: 6320 616e 6420 696e 7374 7269 6e67 5b6c  c and instring[l
-0001ff20: 6f63 5d20 696e 2073 656c 662e 6d61 7463  oc] in self.matc
-0001ff30: 6857 6869 7465 3a0a 2020 2020 2020 2020  hWhite:.        
-0001ff40: 2020 2020 6c6f 6320 2b3d 2031 0a0a 2020      loc += 1..  
-0001ff50: 2020 2020 2020 6966 206c 6f63 202d 2073        if loc - s
-0001ff60: 7461 7274 203c 2073 656c 662e 6d69 6e4c  tart < self.minL
-0001ff70: 656e 3a0a 2020 2020 2020 2020 2020 2020  en:.            
-0001ff80: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-0001ff90: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
-0001ffa0: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
-0001ffb0: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
-0001ffc0: 7265 7475 726e 206c 6f63 2c20 696e 7374  return loc, inst
-0001ffd0: 7269 6e67 5b73 7461 7274 3a6c 6f63 5d0a  ring[start:loc].
-0001ffe0: 0a0a 636c 6173 7320 506f 7369 7469 6f6e  ..class Position
-0001fff0: 546f 6b65 6e28 546f 6b65 6e29 3a0a 2020  Token(Token):.  
-00020000: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-00020010: 656c 6629 3a0a 2020 2020 2020 2020 7375  elf):.        su
-00020020: 7065 7228 292e 5f5f 696e 6974 5f5f 2829  per().__init__()
-00020030: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
-00020040: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
-00020050: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
-00020060: 2e6d 6179 496e 6465 7845 7272 6f72 203d  .mayIndexError =
-00020070: 2046 616c 7365 0a0a 0a63 6c61 7373 2047   False...class G
-00020080: 6f54 6f43 6f6c 756d 6e28 506f 7369 7469  oToColumn(Positi
-00020090: 6f6e 546f 6b65 6e29 3a0a 2020 2020 2222  onToken):.    ""
-000200a0: 2254 6f6b 656e 2074 6f20 6164 7661 6e63  "Token to advanc
-000200b0: 6520 746f 2061 2073 7065 6369 6669 6320  e to a specific 
-000200c0: 636f 6c75 6d6e 206f 6620 696e 7075 7420  column of input 
-000200d0: 7465 7874 3b20 7573 6566 756c 2066 6f72  text; useful for
-000200e0: 0a20 2020 2074 6162 756c 6172 2072 6570  .    tabular rep
-000200f0: 6f72 7420 7363 7261 7069 6e67 2e0a 2020  ort scraping..  
-00020100: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
-00020110: 5f69 6e69 745f 5f28 7365 6c66 2c20 636f  _init__(self, co
-00020120: 6c6e 6f3a 2069 6e74 293a 0a20 2020 2020  lno: int):.     
-00020130: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-00020140: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
-00020150: 6c66 2e63 6f6c 203d 2063 6f6c 6e6f 0a0a  lf.col = colno..
-00020160: 2020 2020 6465 6620 7072 6550 6172 7365      def preParse
-00020170: 2873 656c 662c 2069 6e73 7472 696e 673a  (self, instring:
-00020180: 2073 7472 2c20 6c6f 633a 2069 6e74 2920   str, loc: int) 
-00020190: 2d3e 2069 6e74 3a0a 2020 2020 2020 2020  -> int:.        
-000201a0: 6966 2063 6f6c 286c 6f63 2c20 696e 7374  if col(loc, inst
-000201b0: 7269 6e67 2920 213d 2073 656c 662e 636f  ring) != self.co
-000201c0: 6c3a 0a20 2020 2020 2020 2020 2020 2069  l:.            i
-000201d0: 6e73 7472 6c65 6e20 3d20 6c65 6e28 696e  nstrlen = len(in
-000201e0: 7374 7269 6e67 290a 2020 2020 2020 2020  string).        
-000201f0: 2020 2020 6966 2073 656c 662e 6967 6e6f      if self.igno
-00020200: 7265 4578 7072 733a 0a20 2020 2020 2020  reExprs:.       
-00020210: 2020 2020 2020 2020 206c 6f63 203d 2073           loc = s
-00020220: 656c 662e 5f73 6b69 7049 676e 6f72 6162  elf._skipIgnorab
-00020230: 6c65 7328 696e 7374 7269 6e67 2c20 6c6f  les(instring, lo
-00020240: 6329 0a20 2020 2020 2020 2020 2020 2077  c).            w
-00020250: 6869 6c65 2028 0a20 2020 2020 2020 2020  hile (.         
-00020260: 2020 2020 2020 206c 6f63 203c 2069 6e73         loc < ins
-00020270: 7472 6c65 6e0a 2020 2020 2020 2020 2020  trlen.          
-00020280: 2020 2020 2020 616e 6420 696e 7374 7269        and instri
-00020290: 6e67 5b6c 6f63 5d2e 6973 7370 6163 6528  ng[loc].isspace(
-000202a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000202b0: 2020 616e 6420 636f 6c28 6c6f 632c 2069    and col(loc, i
-000202c0: 6e73 7472 696e 6729 2021 3d20 7365 6c66  nstring) != self
-000202d0: 2e63 6f6c 0a20 2020 2020 2020 2020 2020  .col.           
-000202e0: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-000202f0: 2020 2020 6c6f 6320 2b3d 2031 0a20 2020      loc += 1.   
-00020300: 2020 2020 2072 6574 7572 6e20 6c6f 630a       return loc.
-00020310: 0a20 2020 2064 6566 2070 6172 7365 496d  .    def parseIm
-00020320: 706c 2873 656c 662c 2069 6e73 7472 696e  pl(self, instrin
-00020330: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
-00020340: 733d 5472 7565 293a 0a20 2020 2020 2020  s=True):.       
-00020350: 2074 6869 7363 6f6c 203d 2063 6f6c 286c   thiscol = col(l
-00020360: 6f63 2c20 696e 7374 7269 6e67 290a 2020  oc, instring).  
-00020370: 2020 2020 2020 6966 2074 6869 7363 6f6c        if thiscol
-00020380: 203e 2073 656c 662e 636f 6c3a 0a20 2020   > self.col:.   
-00020390: 2020 2020 2020 2020 2072 6169 7365 2050           raise P
-000203a0: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
-000203b0: 7374 7269 6e67 2c20 6c6f 632c 2022 5465  string, loc, "Te
-000203c0: 7874 206e 6f74 2069 6e20 6578 7065 6374  xt not in expect
-000203d0: 6564 2063 6f6c 756d 6e22 2c20 7365 6c66  ed column", self
-000203e0: 290a 2020 2020 2020 2020 6e65 776c 6f63  ).        newloc
-000203f0: 203d 206c 6f63 202b 2073 656c 662e 636f   = loc + self.co
-00020400: 6c20 2d20 7468 6973 636f 6c0a 2020 2020  l - thiscol.    
-00020410: 2020 2020 7265 7420 3d20 696e 7374 7269      ret = instri
-00020420: 6e67 5b6c 6f63 3a6e 6577 6c6f 635d 0a20  ng[loc:newloc]. 
-00020430: 2020 2020 2020 2072 6574 7572 6e20 6e65         return ne
-00020440: 776c 6f63 2c20 7265 740a 0a0a 636c 6173  wloc, ret...clas
-00020450: 7320 4c69 6e65 5374 6172 7428 506f 7369  s LineStart(Posi
-00020460: 7469 6f6e 546f 6b65 6e29 3a0a 2020 2020  tionToken):.    
-00020470: 7222 2222 4d61 7463 6865 7320 6966 2063  r"""Matches if c
-00020480: 7572 7265 6e74 2070 6f73 6974 696f 6e20  urrent position 
-00020490: 6973 2061 7420 7468 6520 6265 6769 6e6e  is at the beginn
-000204a0: 696e 6720 6f66 2061 206c 696e 6520 7769  ing of a line wi
-000204b0: 7468 696e 0a20 2020 2074 6865 2070 6172  thin.    the par
-000204c0: 7365 2073 7472 696e 670a 0a20 2020 2045  se string..    E
-000204d0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-000204e0: 2020 7465 7374 203d 2027 2727 5c0a 2020    test = '''\.  
-000204f0: 2020 2020 2020 4141 4120 7468 6973 206c        AAA this l
-00020500: 696e 650a 2020 2020 2020 2020 4141 4120  ine.        AAA 
-00020510: 616e 6420 7468 6973 206c 696e 650a 2020  and this line.  
-00020520: 2020 2020 2020 2020 4141 4120 6275 7420          AAA but 
-00020530: 6e6f 7420 7468 6973 206f 6e65 0a20 2020  not this one.   
-00020540: 2020 2020 2042 2041 4141 2061 6e64 2064       B AAA and d
-00020550: 6566 696e 6974 656c 7920 6e6f 7420 7468  efinitely not th
-00020560: 6973 206f 6e65 0a20 2020 2020 2020 2027  is one.        '
-00020570: 2727 0a0a 2020 2020 2020 2020 666f 7220  ''..        for 
-00020580: 7420 696e 2028 4c69 6e65 5374 6172 7428  t in (LineStart(
-00020590: 2920 2b20 2741 4141 2720 2b20 7265 7374  ) + 'AAA' + rest
-000205a0: 5f6f 665f 6c69 6e65 292e 7365 6172 6368  _of_line).search
-000205b0: 5f73 7472 696e 6728 7465 7374 293a 0a20  _string(test):. 
-000205c0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-000205d0: 2874 290a 0a20 2020 2070 7269 6e74 733a  (t)..    prints:
-000205e0: 3a0a 0a20 2020 2020 2020 205b 2741 4141  :..        ['AAA
-000205f0: 272c 2027 2074 6869 7320 6c69 6e65 275d  ', ' this line']
-00020600: 0a20 2020 2020 2020 205b 2741 4141 272c  .        ['AAA',
-00020610: 2027 2061 6e64 2074 6869 7320 6c69 6e65   ' and this line
-00020620: 275d 0a0a 2020 2020 2222 220a 0a20 2020  ']..    """..   
-00020630: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
-00020640: 6c66 293a 0a20 2020 2020 2020 2073 7570  lf):.        sup
-00020650: 6572 2829 2e5f 5f69 6e69 745f 5f28 290a  er().__init__().
-00020660: 2020 2020 2020 2020 7365 6c66 2e6c 6561          self.lea
-00020670: 7665 5f77 6869 7465 7370 6163 6528 290a  ve_whitespace().
-00020680: 2020 2020 2020 2020 7365 6c66 2e6f 7269          self.ori
-00020690: 675f 7768 6974 6543 6861 7273 203d 2073  g_whiteChars = s
-000206a0: 6574 2829 207c 2073 656c 662e 7768 6974  et() | self.whit
-000206b0: 6543 6861 7273 0a20 2020 2020 2020 2073  eChars.        s
-000206c0: 656c 662e 7768 6974 6543 6861 7273 2e64  elf.whiteChars.d
-000206d0: 6973 6361 7264 2822 5c6e 2229 0a20 2020  iscard("\n").   
-000206e0: 2020 2020 2073 656c 662e 736b 6970 7065       self.skippe
-000206f0: 7220 3d20 456d 7074 7928 292e 7365 745f  r = Empty().set_
-00020700: 7768 6974 6573 7061 6365 5f63 6861 7273  whitespace_chars
-00020710: 2873 656c 662e 7768 6974 6543 6861 7273  (self.whiteChars
-00020720: 290a 2020 2020 2020 2020 7365 6c66 2e65  ).        self.e
-00020730: 7272 6d73 6720 3d20 2245 7870 6563 7465  rrmsg = "Expecte
-00020740: 6420 7374 6172 7420 6f66 206c 696e 6522  d start of line"
-00020750: 0a0a 2020 2020 6465 6620 7072 6550 6172  ..    def prePar
-00020760: 7365 2873 656c 662c 2069 6e73 7472 696e  se(self, instrin
-00020770: 673a 2073 7472 2c20 6c6f 633a 2069 6e74  g: str, loc: int
-00020780: 2920 2d3e 2069 6e74 3a0a 2020 2020 2020  ) -> int:.      
-00020790: 2020 6966 206c 6f63 203d 3d20 303a 0a20    if loc == 0:. 
-000207a0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000207b0: 6e20 6c6f 630a 2020 2020 2020 2020 656c  n loc.        el
-000207c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-000207d0: 7265 7420 3d20 7365 6c66 2e73 6b69 7070  ret = self.skipp
-000207e0: 6572 2e70 7265 5061 7273 6528 696e 7374  er.preParse(inst
-000207f0: 7269 6e67 2c20 6c6f 6329 0a20 2020 2020  ring, loc).     
-00020800: 2020 2020 2020 2069 6620 225c 6e22 2069         if "\n" i
-00020810: 6e20 7365 6c66 2e6f 7269 675f 7768 6974  n self.orig_whit
-00020820: 6543 6861 7273 3a0a 2020 2020 2020 2020  eChars:.        
-00020830: 2020 2020 2020 2020 7768 696c 6520 696e          while in
-00020840: 7374 7269 6e67 5b72 6574 203a 2072 6574  string[ret : ret
-00020850: 202b 2031 5d20 3d3d 2022 5c6e 223a 0a20   + 1] == "\n":. 
-00020860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020870: 2020 2072 6574 203d 2073 656c 662e 736b     ret = self.sk
-00020880: 6970 7065 722e 7072 6550 6172 7365 2869  ipper.preParse(i
-00020890: 6e73 7472 696e 672c 2072 6574 202b 2031  nstring, ret + 1
-000208a0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-000208b0: 7475 726e 2072 6574 0a0a 2020 2020 6465  turn ret..    de
-000208c0: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
-000208d0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
-000208e0: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
-000208f0: 3a0a 2020 2020 2020 2020 6966 2063 6f6c  :.        if col
-00020900: 286c 6f63 2c20 696e 7374 7269 6e67 2920  (loc, instring) 
-00020910: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
-00020920: 2020 7265 7475 726e 206c 6f63 2c20 5b5d    return loc, []
-00020930: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
-00020940: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
-00020950: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
-00020960: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
-00020970: 0a0a 636c 6173 7320 4c69 6e65 456e 6428  ..class LineEnd(
-00020980: 506f 7369 7469 6f6e 546f 6b65 6e29 3a0a  PositionToken):.
-00020990: 2020 2020 2222 224d 6174 6368 6573 2069      """Matches i
-000209a0: 6620 6375 7272 656e 7420 706f 7369 7469  f current positi
-000209b0: 6f6e 2069 7320 6174 2074 6865 2065 6e64  on is at the end
-000209c0: 206f 6620 6120 6c69 6e65 2077 6974 6869   of a line withi
-000209d0: 6e20 7468 650a 2020 2020 7061 7273 6520  n the.    parse 
-000209e0: 7374 7269 6e67 0a20 2020 2022 2222 0a0a  string.    """..
-000209f0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00020a00: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00020a10: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-00020a20: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-00020a30: 7768 6974 6543 6861 7273 2e64 6973 6361  whiteChars.disca
-00020a40: 7264 2822 5c6e 2229 0a20 2020 2020 2020  rd("\n").       
-00020a50: 2073 656c 662e 7365 745f 7768 6974 6573   self.set_whites
-00020a60: 7061 6365 5f63 6861 7273 2873 656c 662e  pace_chars(self.
-00020a70: 7768 6974 6543 6861 7273 2c20 636f 7079  whiteChars, copy
-00020a80: 5f64 6566 6175 6c74 733d 4661 6c73 6529  _defaults=False)
-00020a90: 0a20 2020 2020 2020 2073 656c 662e 6572  .        self.er
-00020aa0: 726d 7367 203d 2022 4578 7065 6374 6564  rmsg = "Expected
-00020ab0: 2065 6e64 206f 6620 6c69 6e65 220a 0a20   end of line".. 
-00020ac0: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-00020ad0: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-00020ae0: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-00020af0: 5472 7565 293a 0a20 2020 2020 2020 2069  True):.        i
-00020b00: 6620 6c6f 6320 3c20 6c65 6e28 696e 7374  f loc < len(inst
-00020b10: 7269 6e67 293a 0a20 2020 2020 2020 2020  ring):.         
-00020b20: 2020 2069 6620 696e 7374 7269 6e67 5b6c     if instring[l
-00020b30: 6f63 5d20 3d3d 2022 5c6e 223a 0a20 2020  oc] == "\n":.   
-00020b40: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00020b50: 7572 6e20 6c6f 6320 2b20 312c 2022 5c6e  urn loc + 1, "\n
-00020b60: 220a 2020 2020 2020 2020 2020 2020 656c  ".            el
-00020b70: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00020b80: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
-00020b90: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
-00020ba0: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
-00020bb0: 6d73 672c 2073 656c 6629 0a20 2020 2020  msg, self).     
-00020bc0: 2020 2065 6c69 6620 6c6f 6320 3d3d 206c     elif loc == l
-00020bd0: 656e 2869 6e73 7472 696e 6729 3a0a 2020  en(instring):.  
-00020be0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00020bf0: 206c 6f63 202b 2031 2c20 5b5d 0a20 2020   loc + 1, [].   
-00020c00: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00020c10: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
-00020c20: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
-00020c30: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
-00020c40: 6572 726d 7367 2c20 7365 6c66 290a 0a0a  errmsg, self)...
-00020c50: 636c 6173 7320 5374 7269 6e67 5374 6172  class StringStar
-00020c60: 7428 506f 7369 7469 6f6e 546f 6b65 6e29  t(PositionToken)
-00020c70: 3a0a 2020 2020 2222 224d 6174 6368 6573  :.    """Matches
-00020c80: 2069 6620 6375 7272 656e 7420 706f 7369   if current posi
-00020c90: 7469 6f6e 2069 7320 6174 2074 6865 2062  tion is at the b
-00020ca0: 6567 696e 6e69 6e67 206f 6620 7468 6520  eginning of the 
-00020cb0: 7061 7273 650a 2020 2020 7374 7269 6e67  parse.    string
-00020cc0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-00020cd0: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
-00020ce0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-00020cf0: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
-00020d00: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
-00020d10: 203d 2022 4578 7065 6374 6564 2073 7461   = "Expected sta
-00020d20: 7274 206f 6620 7465 7874 220a 0a20 2020  rt of text"..   
-00020d30: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
-00020d40: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-00020d50: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-00020d60: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
-00020d70: 6c6f 6320 213d 2030 3a0a 2020 2020 2020  loc != 0:.      
-00020d80: 2020 2020 2020 2320 7365 6520 6966 2065        # see if e
-00020d90: 6e74 6972 6520 7374 7269 6e67 2075 7020  ntire string up 
-00020da0: 746f 2068 6572 6520 6973 206a 7573 7420  to here is just 
-00020db0: 7768 6974 6573 7061 6365 2061 6e64 2069  whitespace and i
-00020dc0: 676e 6f72 6561 626c 6573 0a20 2020 2020  gnoreables.     
-00020dd0: 2020 2020 2020 2069 6620 6c6f 6320 213d         if loc !=
-00020de0: 2073 656c 662e 7072 6550 6172 7365 2869   self.preParse(i
-00020df0: 6e73 7472 696e 672c 2030 293a 0a20 2020  nstring, 0):.   
-00020e00: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00020e10: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
-00020e20: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
-00020e30: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
-00020e40: 6c66 290a 2020 2020 2020 2020 7265 7475  lf).        retu
-00020e50: 726e 206c 6f63 2c20 5b5d 0a0a 0a63 6c61  rn loc, []...cla
-00020e60: 7373 2053 7472 696e 6745 6e64 2850 6f73  ss StringEnd(Pos
-00020e70: 6974 696f 6e54 6f6b 656e 293a 0a20 2020  itionToken):.   
-00020e80: 2022 2222 0a20 2020 204d 6174 6368 6573   """.    Matches
-00020e90: 2069 6620 6375 7272 656e 7420 706f 7369   if current posi
-00020ea0: 7469 6f6e 2069 7320 6174 2074 6865 2065  tion is at the e
-00020eb0: 6e64 206f 6620 7468 6520 7061 7273 6520  nd of the parse 
-00020ec0: 7374 7269 6e67 0a20 2020 2022 2222 0a0a  string.    """..
-00020ed0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00020ee0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00020ef0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-00020f00: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-00020f10: 6572 726d 7367 203d 2022 4578 7065 6374  errmsg = "Expect
-00020f20: 6564 2065 6e64 206f 6620 7465 7874 220a  ed end of text".
-00020f30: 0a20 2020 2064 6566 2070 6172 7365 496d  .    def parseIm
-00020f40: 706c 2873 656c 662c 2069 6e73 7472 696e  pl(self, instrin
-00020f50: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
-00020f60: 733d 5472 7565 293a 0a20 2020 2020 2020  s=True):.       
-00020f70: 2069 6620 6c6f 6320 3c20 6c65 6e28 696e   if loc < len(in
-00020f80: 7374 7269 6e67 293a 0a20 2020 2020 2020  string):.       
-00020f90: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
-00020fa0: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
-00020fb0: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
-00020fc0: 726d 7367 2c20 7365 6c66 290a 2020 2020  rmsg, self).    
-00020fd0: 2020 2020 656c 6966 206c 6f63 203d 3d20      elif loc == 
-00020fe0: 6c65 6e28 696e 7374 7269 6e67 293a 0a20  len(instring):. 
-00020ff0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00021000: 6e20 6c6f 6320 2b20 312c 205b 5d0a 2020  n loc + 1, [].  
-00021010: 2020 2020 2020 656c 6966 206c 6f63 203e        elif loc >
-00021020: 206c 656e 2869 6e73 7472 696e 6729 3a0a   len(instring):.
-00021030: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00021040: 726e 206c 6f63 2c20 5b5d 0a20 2020 2020  rn loc, [].     
-00021050: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00021060: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
-00021070: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
-00021080: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
-00021090: 726d 7367 2c20 7365 6c66 290a 0a0a 636c  rmsg, self)...cl
-000210a0: 6173 7320 576f 7264 5374 6172 7428 506f  ass WordStart(Po
-000210b0: 7369 7469 6f6e 546f 6b65 6e29 3a0a 2020  sitionToken):.  
-000210c0: 2020 2222 224d 6174 6368 6573 2069 6620    """Matches if 
-000210d0: 7468 6520 6375 7272 656e 7420 706f 7369  the current posi
-000210e0: 7469 6f6e 2069 7320 6174 2074 6865 2062  tion is at the b
-000210f0: 6567 696e 6e69 6e67 206f 6620 610a 2020  eginning of a.  
-00021100: 2020 3a63 6c61 7373 3a60 576f 7264 602c    :class:`Word`,
-00021110: 2061 6e64 2069 7320 6e6f 7420 7072 6563   and is not prec
-00021120: 6564 6564 2062 7920 616e 7920 6368 6172  eded by any char
-00021130: 6163 7465 7220 696e 2061 2067 6976 656e  acter in a given
-00021140: 0a20 2020 2073 6574 206f 6620 6060 776f  .    set of ``wo
-00021150: 7264 5f63 6861 7273 6060 2028 6465 6661  rd_chars`` (defa
-00021160: 756c 743d 2060 6070 7269 6e74 6162 6c65  ult= ``printable
-00021170: 7360 6029 2e20 546f 2065 6d75 6c61 7465  s``). To emulate
-00021180: 2074 6865 0a20 2020 2060 605c 6260 6020   the.    ``\b`` 
-00021190: 6265 6861 7669 6f72 206f 6620 7265 6775  behavior of regu
-000211a0: 6c61 7220 6578 7072 6573 7369 6f6e 732c  lar expressions,
-000211b0: 2075 7365 0a20 2020 2060 6057 6f72 6453   use.    ``WordS
-000211c0: 7461 7274 2861 6c70 6861 6e75 6d73 2960  tart(alphanums)`
-000211d0: 602e 2060 6057 6f72 6453 7461 7274 6060  `. ``WordStart``
-000211e0: 2077 696c 6c20 616c 736f 206d 6174 6368   will also match
-000211f0: 2061 740a 2020 2020 7468 6520 6265 6769   at.    the begi
-00021200: 6e6e 696e 6720 6f66 2074 6865 2073 7472  nning of the str
-00021210: 696e 6720 6265 696e 6720 7061 7273 6564  ing being parsed
-00021220: 2c20 6f72 2061 7420 7468 6520 6265 6769  , or at the begi
-00021230: 6e6e 696e 6720 6f66 0a20 2020 2061 206c  nning of.    a l
-00021240: 696e 652e 0a20 2020 2022 2222 0a0a 2020  ine..    """..  
-00021250: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-00021260: 656c 662c 2077 6f72 645f 6368 6172 733a  elf, word_chars:
-00021270: 2073 7472 203d 2070 7269 6e74 6162 6c65   str = printable
-00021280: 732c 202a 2c20 776f 7264 4368 6172 733a  s, *, wordChars:
-00021290: 2073 7472 203d 2070 7269 6e74 6162 6c65   str = printable
-000212a0: 7329 3a0a 2020 2020 2020 2020 776f 7264  s):.        word
-000212b0: 4368 6172 7320 3d20 776f 7264 5f63 6861  Chars = word_cha
-000212c0: 7273 2069 6620 776f 7264 4368 6172 7320  rs if wordChars 
-000212d0: 3d3d 2070 7269 6e74 6162 6c65 7320 656c  == printables el
-000212e0: 7365 2077 6f72 6443 6861 7273 0a20 2020  se wordChars.   
-000212f0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-00021300: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
-00021310: 7365 6c66 2e77 6f72 6443 6861 7273 203d  self.wordChars =
-00021320: 2073 6574 2877 6f72 6443 6861 7273 290a   set(wordChars).
-00021330: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-00021340: 6d73 6720 3d20 224e 6f74 2061 7420 7468  msg = "Not at th
-00021350: 6520 7374 6172 7420 6f66 2061 2077 6f72  e start of a wor
-00021360: 6422 0a0a 2020 2020 6465 6620 7061 7273  d"..    def pars
-00021370: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
-00021380: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-00021390: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
-000213a0: 2020 2020 6966 206c 6f63 2021 3d20 303a      if loc != 0:
-000213b0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000213c0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-000213d0: 2020 696e 7374 7269 6e67 5b6c 6f63 202d    instring[loc -
-000213e0: 2031 5d20 696e 2073 656c 662e 776f 7264   1] in self.word
-000213f0: 4368 6172 730a 2020 2020 2020 2020 2020  Chars.          
-00021400: 2020 2020 2020 6f72 2069 6e73 7472 696e        or instrin
-00021410: 675b 6c6f 635d 206e 6f74 2069 6e20 7365  g[loc] not in se
-00021420: 6c66 2e77 6f72 6443 6861 7273 0a20 2020  lf.wordChars.   
-00021430: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
-00021440: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00021450: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-00021460: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-00021470: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
-00021480: 6629 0a20 2020 2020 2020 2072 6574 7572  f).        retur
-00021490: 6e20 6c6f 632c 205b 5d0a 0a0a 636c 6173  n loc, []...clas
-000214a0: 7320 576f 7264 456e 6428 506f 7369 7469  s WordEnd(Positi
-000214b0: 6f6e 546f 6b65 6e29 3a0a 2020 2020 2222  onToken):.    ""
-000214c0: 224d 6174 6368 6573 2069 6620 7468 6520  "Matches if the 
-000214d0: 6375 7272 656e 7420 706f 7369 7469 6f6e  current position
-000214e0: 2069 7320 6174 2074 6865 2065 6e64 206f   is at the end o
-000214f0: 6620 6120 3a63 6c61 7373 3a60 576f 7264  f a :class:`Word
-00021500: 602c 0a20 2020 2061 6e64 2069 7320 6e6f  `,.    and is no
-00021510: 7420 666f 6c6c 6f77 6564 2062 7920 616e  t followed by an
-00021520: 7920 6368 6172 6163 7465 7220 696e 2061  y character in a
-00021530: 2067 6976 656e 2073 6574 206f 6620 6060   given set of ``
-00021540: 776f 7264 5f63 6861 7273 6060 0a20 2020  word_chars``.   
-00021550: 2028 6465 6661 756c 743d 2060 6070 7269   (default= ``pri
-00021560: 6e74 6162 6c65 7360 6029 2e20 546f 2065  ntables``). To e
-00021570: 6d75 6c61 7465 2074 6865 2060 605c 6260  mulate the ``\b`
-00021580: 6020 6265 6861 7669 6f72 206f 660a 2020  ` behavior of.  
-00021590: 2020 7265 6775 6c61 7220 6578 7072 6573    regular expres
-000215a0: 7369 6f6e 732c 2075 7365 2060 6057 6f72  sions, use ``Wor
-000215b0: 6445 6e64 2861 6c70 6861 6e75 6d73 2960  dEnd(alphanums)`
-000215c0: 602e 2060 6057 6f72 6445 6e64 6060 0a20  `. ``WordEnd``. 
-000215d0: 2020 2077 696c 6c20 616c 736f 206d 6174     will also mat
-000215e0: 6368 2061 7420 7468 6520 656e 6420 6f66  ch at the end of
-000215f0: 2074 6865 2073 7472 696e 6720 6265 696e   the string bein
-00021600: 6720 7061 7273 6564 2c20 6f72 2061 7420  g parsed, or at 
-00021610: 7468 6520 656e 640a 2020 2020 6f66 2061  the end.    of a
-00021620: 206c 696e 652e 0a20 2020 2022 2222 0a0a   line..    """..
-00021630: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00021640: 2873 656c 662c 2077 6f72 645f 6368 6172  (self, word_char
-00021650: 733a 2073 7472 203d 2070 7269 6e74 6162  s: str = printab
-00021660: 6c65 732c 202a 2c20 776f 7264 4368 6172  les, *, wordChar
-00021670: 733a 2073 7472 203d 2070 7269 6e74 6162  s: str = printab
-00021680: 6c65 7329 3a0a 2020 2020 2020 2020 776f  les):.        wo
-00021690: 7264 4368 6172 7320 3d20 776f 7264 5f63  rdChars = word_c
-000216a0: 6861 7273 2069 6620 776f 7264 4368 6172  hars if wordChar
-000216b0: 7320 3d3d 2070 7269 6e74 6162 6c65 7320  s == printables 
-000216c0: 656c 7365 2077 6f72 6443 6861 7273 0a20  else wordChars. 
-000216d0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-000216e0: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
-000216f0: 2020 7365 6c66 2e77 6f72 6443 6861 7273    self.wordChars
-00021700: 203d 2073 6574 2877 6f72 6443 6861 7273   = set(wordChars
-00021710: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-00021720: 6b69 7057 6869 7465 7370 6163 6520 3d20  kipWhitespace = 
-00021730: 4661 6c73 650a 2020 2020 2020 2020 7365  False.        se
-00021740: 6c66 2e65 7272 6d73 6720 3d20 224e 6f74  lf.errmsg = "Not
-00021750: 2061 7420 7468 6520 656e 6420 6f66 2061   at the end of a
-00021760: 2077 6f72 6422 0a0a 2020 2020 6465 6620   word"..    def 
-00021770: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
-00021780: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-00021790: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
-000217a0: 2020 2020 2020 2020 696e 7374 726c 656e          instrlen
-000217b0: 203d 206c 656e 2869 6e73 7472 696e 6729   = len(instring)
-000217c0: 0a20 2020 2020 2020 2069 6620 696e 7374  .        if inst
-000217d0: 726c 656e 203e 2030 2061 6e64 206c 6f63  rlen > 0 and loc
-000217e0: 203c 2069 6e73 7472 6c65 6e3a 0a20 2020   < instrlen:.   
-000217f0: 2020 2020 2020 2020 2069 6620 280a 2020           if (.  
-00021800: 2020 2020 2020 2020 2020 2020 2020 696e                in
-00021810: 7374 7269 6e67 5b6c 6f63 5d20 696e 2073  string[loc] in s
-00021820: 656c 662e 776f 7264 4368 6172 730a 2020  elf.wordChars.  
-00021830: 2020 2020 2020 2020 2020 2020 2020 6f72                or
-00021840: 2069 6e73 7472 696e 675b 6c6f 6320 2d20   instring[loc - 
-00021850: 315d 206e 6f74 2069 6e20 7365 6c66 2e77  1] not in self.w
-00021860: 6f72 6443 6861 7273 0a20 2020 2020 2020  ordChars.       
-00021870: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
-00021880: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
-00021890: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
-000218a0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
-000218b0: 2e65 7272 6d73 672c 2073 656c 6629 0a20  .errmsg, self). 
-000218c0: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
-000218d0: 632c 205b 5d0a 0a0a 636c 6173 7320 5061  c, []...class Pa
-000218e0: 7273 6545 7870 7265 7373 696f 6e28 5061  rseExpression(Pa
-000218f0: 7273 6572 456c 656d 656e 7429 3a0a 2020  rserElement):.  
-00021900: 2020 2222 2241 6273 7472 6163 7420 7375    """Abstract su
-00021910: 6263 6c61 7373 206f 6620 5061 7273 6572  bclass of Parser
-00021920: 456c 656d 656e 742c 2066 6f72 2063 6f6d  Element, for com
-00021930: 6269 6e69 6e67 2061 6e64 0a20 2020 2070  bining and.    p
-00021940: 6f73 742d 7072 6f63 6573 7369 6e67 2070  ost-processing p
-00021950: 6172 7365 6420 746f 6b65 6e73 2e0a 2020  arsed tokens..  
-00021960: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
-00021970: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
-00021980: 7072 733a 2074 7970 696e 672e 4974 6572  prs: typing.Iter
-00021990: 6162 6c65 5b50 6172 7365 7245 6c65 6d65  able[ParserEleme
-000219a0: 6e74 5d2c 2073 6176 656c 6973 743a 2062  nt], savelist: b
-000219b0: 6f6f 6c20 3d20 4661 6c73 6529 3a0a 2020  ool = False):.  
-000219c0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-000219d0: 696e 6974 5f5f 2873 6176 656c 6973 7429  init__(savelist)
-000219e0: 0a20 2020 2020 2020 2073 656c 662e 6578  .        self.ex
-000219f0: 7072 733a 204c 6973 745b 5061 7273 6572  prs: List[Parser
-00021a00: 456c 656d 656e 745d 0a20 2020 2020 2020  Element].       
-00021a10: 2069 6620 6973 696e 7374 616e 6365 2865   if isinstance(e
-00021a20: 7870 7273 2c20 5f67 656e 6572 6174 6f72  xprs, _generator
-00021a30: 5479 7065 293a 0a20 2020 2020 2020 2020  Type):.         
-00021a40: 2020 2065 7870 7273 203d 206c 6973 7428     exprs = list(
-00021a50: 6578 7072 7329 0a0a 2020 2020 2020 2020  exprs)..        
-00021a60: 6966 2069 7369 6e73 7461 6e63 6528 6578  if isinstance(ex
-00021a70: 7072 732c 2073 7472 5f74 7970 6529 3a0a  prs, str_type):.
-00021a80: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00021a90: 2e65 7870 7273 203d 205b 7365 6c66 2e5f  .exprs = [self._
-00021aa0: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
-00021ab0: 7373 2865 7870 7273 295d 0a20 2020 2020  ss(exprs)].     
-00021ac0: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
-00021ad0: 6365 2865 7870 7273 2c20 5061 7273 6572  ce(exprs, Parser
-00021ae0: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
-00021af0: 2020 2020 2020 7365 6c66 2e65 7870 7273        self.exprs
-00021b00: 203d 205b 6578 7072 735d 0a20 2020 2020   = [exprs].     
-00021b10: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
-00021b20: 6365 2865 7870 7273 2c20 4974 6572 6162  ce(exprs, Iterab
-00021b30: 6c65 293a 0a20 2020 2020 2020 2020 2020  le):.           
-00021b40: 2065 7870 7273 203d 206c 6973 7428 6578   exprs = list(ex
-00021b50: 7072 7329 0a20 2020 2020 2020 2020 2020  prs).           
-00021b60: 2023 2069 6620 7365 7175 656e 6365 206f   # if sequence o
-00021b70: 6620 7374 7269 6e67 7320 7072 6f76 6964  f strings provid
-00021b80: 6564 2c20 7772 6170 2077 6974 6820 4c69  ed, wrap with Li
-00021b90: 7465 7261 6c0a 2020 2020 2020 2020 2020  teral.          
-00021ba0: 2020 6966 2061 6e79 2869 7369 6e73 7461    if any(isinsta
-00021bb0: 6e63 6528 6578 7072 2c20 7374 725f 7479  nce(expr, str_ty
-00021bc0: 7065 2920 666f 7220 6578 7072 2069 6e20  pe) for expr in 
-00021bd0: 6578 7072 7329 3a0a 2020 2020 2020 2020  exprs):.        
-00021be0: 2020 2020 2020 2020 6578 7072 7320 3d20          exprs = 
-00021bf0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00021c00: 2020 2020 2020 7365 6c66 2e5f 6c69 7465        self._lite
-00021c10: 7261 6c53 7472 696e 6743 6c61 7373 2865  ralStringClass(e
-00021c20: 2920 6966 2069 7369 6e73 7461 6e63 6528  ) if isinstance(
-00021c30: 652c 2073 7472 5f74 7970 6529 2065 6c73  e, str_type) els
-00021c40: 6520 650a 2020 2020 2020 2020 2020 2020  e e.            
-00021c50: 2020 2020 2020 2020 666f 7220 6520 696e          for e in
-00021c60: 2065 7870 7273 0a20 2020 2020 2020 2020   exprs.         
-00021c70: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00021c80: 2020 2020 2073 656c 662e 6578 7072 7320       self.exprs 
-00021c90: 3d20 6c69 7374 2865 7870 7273 290a 2020  = list(exprs).  
-00021ca0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00021cb0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00021cc0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00021cd0: 662e 6578 7072 7320 3d20 6c69 7374 2865  f.exprs = list(e
-00021ce0: 7870 7273 290a 2020 2020 2020 2020 2020  xprs).          
-00021cf0: 2020 6578 6365 7074 2054 7970 6545 7272    except TypeErr
-00021d00: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
-00021d10: 2020 2020 7365 6c66 2e65 7870 7273 203d      self.exprs =
-00021d20: 205b 6578 7072 735d 0a20 2020 2020 2020   [exprs].       
-00021d30: 2073 656c 662e 6361 6c6c 5072 6570 6172   self.callPrepar
-00021d40: 7365 203d 2046 616c 7365 0a0a 2020 2020  se = False..    
-00021d50: 6465 6620 7265 6375 7273 6528 7365 6c66  def recurse(self
-00021d60: 2920 2d3e 204c 6973 745b 5061 7273 6572  ) -> List[Parser
-00021d70: 456c 656d 656e 745d 3a0a 2020 2020 2020  Element]:.      
-00021d80: 2020 7265 7475 726e 2073 656c 662e 6578    return self.ex
-00021d90: 7072 735b 3a5d 0a0a 2020 2020 6465 6620  prs[:]..    def 
-00021da0: 6170 7065 6e64 2873 656c 662c 206f 7468  append(self, oth
-00021db0: 6572 2920 2d3e 2050 6172 7365 7245 6c65  er) -> ParserEle
-00021dc0: 6d65 6e74 3a0a 2020 2020 2020 2020 7365  ment:.        se
-00021dd0: 6c66 2e65 7870 7273 2e61 7070 656e 6428  lf.exprs.append(
-00021de0: 6f74 6865 7229 0a20 2020 2020 2020 2073  other).        s
-00021df0: 656c 662e 5f64 6566 6175 6c74 4e61 6d65  elf._defaultName
-00021e00: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-00021e10: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00021e20: 2064 6566 206c 6561 7665 5f77 6869 7465   def leave_white
-00021e30: 7370 6163 6528 7365 6c66 2c20 7265 6375  space(self, recu
-00021e40: 7273 6976 653a 2062 6f6f 6c20 3d20 5472  rsive: bool = Tr
-00021e50: 7565 2920 2d3e 2050 6172 7365 7245 6c65  ue) -> ParserEle
-00021e60: 6d65 6e74 3a0a 2020 2020 2020 2020 2222  ment:.        ""
-00021e70: 220a 2020 2020 2020 2020 4578 7465 6e64  ".        Extend
-00021e80: 7320 6060 6c65 6176 655f 7768 6974 6573  s ``leave_whites
-00021e90: 7061 6365 6060 2064 6566 696e 6564 2069  pace`` defined i
-00021ea0: 6e20 6261 7365 2063 6c61 7373 2c20 616e  n base class, an
-00021eb0: 6420 616c 736f 2069 6e76 6f6b 6573 2060  d also invokes `
-00021ec0: 606c 6561 7665 5f77 6869 7465 7370 6163  `leave_whitespac
-00021ed0: 6560 6020 6f6e 0a20 2020 2020 2020 2020  e`` on.         
-00021ee0: 2020 616c 6c20 636f 6e74 6169 6e65 6420    all contained 
-00021ef0: 6578 7072 6573 7369 6f6e 732e 0a20 2020  expressions..   
-00021f00: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00021f10: 2073 7570 6572 2829 2e6c 6561 7665 5f77   super().leave_w
-00021f20: 6869 7465 7370 6163 6528 7265 6375 7273  hitespace(recurs
-00021f30: 6976 6529 0a0a 2020 2020 2020 2020 6966  ive)..        if
-00021f40: 2072 6563 7572 7369 7665 3a0a 2020 2020   recursive:.    
-00021f50: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
-00021f60: 7273 203d 205b 652e 636f 7079 2829 2066  rs = [e.copy() f
-00021f70: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-00021f80: 7273 5d0a 2020 2020 2020 2020 2020 2020  rs].            
-00021f90: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00021fa0: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
-00021fb0: 2020 2020 2065 2e6c 6561 7665 5f77 6869       e.leave_whi
-00021fc0: 7465 7370 6163 6528 7265 6375 7273 6976  tespace(recursiv
-00021fd0: 6529 0a20 2020 2020 2020 2072 6574 7572  e).        retur
-00021fe0: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
-00021ff0: 6967 6e6f 7265 5f77 6869 7465 7370 6163  ignore_whitespac
-00022000: 6528 7365 6c66 2c20 7265 6375 7273 6976  e(self, recursiv
-00022010: 653a 2062 6f6f 6c20 3d20 5472 7565 2920  e: bool = True) 
-00022020: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
-00022030: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00022040: 2020 2020 2020 4578 7465 6e64 7320 6060        Extends ``
-00022050: 6967 6e6f 7265 5f77 6869 7465 7370 6163  ignore_whitespac
-00022060: 6560 6020 6465 6669 6e65 6420 696e 2062  e`` defined in b
-00022070: 6173 6520 636c 6173 732c 2061 6e64 2061  ase class, and a
-00022080: 6c73 6f20 696e 766f 6b65 7320 6060 6c65  lso invokes ``le
-00022090: 6176 655f 7768 6974 6573 7061 6365 6060  ave_whitespace``
-000220a0: 206f 6e0a 2020 2020 2020 2020 2020 2061   on.           a
-000220b0: 6c6c 2063 6f6e 7461 696e 6564 2065 7870  ll contained exp
-000220c0: 7265 7373 696f 6e73 2e0a 2020 2020 2020  ressions..      
-000220d0: 2020 2222 220a 2020 2020 2020 2020 7375    """.        su
-000220e0: 7065 7228 292e 6967 6e6f 7265 5f77 6869  per().ignore_whi
-000220f0: 7465 7370 6163 6528 7265 6375 7273 6976  tespace(recursiv
-00022100: 6529 0a20 2020 2020 2020 2069 6620 7265  e).        if re
-00022110: 6375 7273 6976 653a 0a20 2020 2020 2020  cursive:.       
-00022120: 2020 2020 2073 656c 662e 6578 7072 7320       self.exprs 
-00022130: 3d20 5b65 2e63 6f70 7928 2920 666f 7220  = [e.copy() for 
-00022140: 6520 696e 2073 656c 662e 6578 7072 735d  e in self.exprs]
-00022150: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00022160: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
-00022170: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00022180: 2020 652e 6967 6e6f 7265 5f77 6869 7465    e.ignore_white
-00022190: 7370 6163 6528 7265 6375 7273 6976 6529  space(recursive)
-000221a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000221b0: 7365 6c66 0a0a 2020 2020 6465 6620 6967  self..    def ig
-000221c0: 6e6f 7265 2873 656c 662c 206f 7468 6572  nore(self, other
-000221d0: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
-000221e0: 6e74 3a0a 2020 2020 2020 2020 6966 2069  nt:.        if i
-000221f0: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
-00022200: 2053 7570 7072 6573 7329 3a0a 2020 2020   Suppress):.    
-00022210: 2020 2020 2020 2020 6966 206f 7468 6572          if other
-00022220: 206e 6f74 2069 6e20 7365 6c66 2e69 676e   not in self.ign
-00022230: 6f72 6545 7870 7273 3a0a 2020 2020 2020  oreExprs:.      
-00022240: 2020 2020 2020 2020 2020 7375 7065 7228            super(
-00022250: 292e 6967 6e6f 7265 286f 7468 6572 290a  ).ignore(other).
-00022260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022270: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00022280: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
-00022290: 2020 2020 2020 2020 2065 2e69 676e 6f72           e.ignor
-000222a0: 6528 7365 6c66 2e69 676e 6f72 6545 7870  e(self.ignoreExp
-000222b0: 7273 5b2d 315d 290a 2020 2020 2020 2020  rs[-1]).        
-000222c0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-000222d0: 2020 7375 7065 7228 292e 6967 6e6f 7265    super().ignore
-000222e0: 286f 7468 6572 290a 2020 2020 2020 2020  (other).        
-000222f0: 2020 2020 666f 7220 6520 696e 2073 656c      for e in sel
-00022300: 662e 6578 7072 733a 0a20 2020 2020 2020  f.exprs:.       
-00022310: 2020 2020 2020 2020 2065 2e69 676e 6f72           e.ignor
-00022320: 6528 7365 6c66 2e69 676e 6f72 6545 7870  e(self.ignoreExp
-00022330: 7273 5b2d 315d 290a 2020 2020 2020 2020  rs[-1]).        
-00022340: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00022350: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
-00022360: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
-00022370: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
-00022380: 7265 7475 726e 2066 227b 7365 6c66 2e5f  return f"{self._
-00022390: 5f63 6c61 7373 5f5f 2e5f 5f6e 616d 655f  _class__.__name_
-000223a0: 5f7d 3a28 7b73 7472 2873 656c 662e 6578  _}:({str(self.ex
-000223b0: 7072 7329 7d29 220a 0a20 2020 2064 6566  prs)})"..    def
-000223c0: 2073 7472 6561 6d6c 696e 6528 7365 6c66   streamline(self
-000223d0: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
-000223e0: 6e74 3a0a 2020 2020 2020 2020 6966 2073  nt:.        if s
-000223f0: 656c 662e 7374 7265 616d 6c69 6e65 643a  elf.streamlined:
-00022400: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00022410: 7572 6e20 7365 6c66 0a0a 2020 2020 2020  urn self..      
-00022420: 2020 7375 7065 7228 292e 7374 7265 616d    super().stream
-00022430: 6c69 6e65 2829 0a0a 2020 2020 2020 2020  line()..        
-00022440: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00022450: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
-00022460: 2065 2e73 7472 6561 6d6c 696e 6528 290a   e.streamline().
-00022470: 0a20 2020 2020 2020 2023 2063 6f6c 6c61  .        # colla
-00022480: 7073 6520 6e65 7374 6564 203a 636c 6173  pse nested :clas
-00022490: 733a 6041 6e64 6027 7320 6f66 2074 6865  s:`And`'s of the
-000224a0: 2066 6f72 6d20 6060 416e 6428 416e 6428   form ``And(And(
-000224b0: 416e 6428 612c 2062 292c 2063 292c 2064  And(a, b), c), d
-000224c0: 2960 6020 746f 2060 6041 6e64 2861 2c20  )`` to ``And(a, 
-000224d0: 622c 2063 2c20 6429 6060 0a20 2020 2020  b, c, d)``.     
-000224e0: 2020 2023 2062 7574 206f 6e6c 7920 6966     # but only if
-000224f0: 2074 6865 7265 2061 7265 206e 6f20 7061   there are no pa
-00022500: 7273 6520 6163 7469 6f6e 7320 6f72 2072  rse actions or r
-00022510: 6573 756c 7473 4e61 6d65 7320 6f6e 2074  esultsNames on t
-00022520: 6865 206e 6573 7465 6420 416e 6427 730a  he nested And's.
-00022530: 2020 2020 2020 2020 2320 286c 696b 6577          # (likew
-00022540: 6973 6520 666f 7220 3a63 6c61 7373 3a60  ise for :class:`
-00022550: 4f72 6027 7320 616e 6420 3a63 6c61 7373  Or`'s and :class
-00022560: 3a60 4d61 7463 6846 6972 7374 6027 7329  :`MatchFirst`'s)
-00022570: 0a20 2020 2020 2020 2069 6620 6c65 6e28  .        if len(
-00022580: 7365 6c66 2e65 7870 7273 2920 3d3d 2032  self.exprs) == 2
-00022590: 3a0a 2020 2020 2020 2020 2020 2020 6f74  :.            ot
-000225a0: 6865 7220 3d20 7365 6c66 2e65 7870 7273  her = self.exprs
-000225b0: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
-000225c0: 6966 2028 0a20 2020 2020 2020 2020 2020  if (.           
-000225d0: 2020 2020 2069 7369 6e73 7461 6e63 6528       isinstance(
-000225e0: 6f74 6865 722c 2073 656c 662e 5f5f 636c  other, self.__cl
-000225f0: 6173 735f 5f29 0a20 2020 2020 2020 2020  ass__).         
-00022600: 2020 2020 2020 2061 6e64 206e 6f74 206f         and not o
-00022610: 7468 6572 2e70 6172 7365 4163 7469 6f6e  ther.parseAction
-00022620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022630: 2061 6e64 206f 7468 6572 2e72 6573 756c   and other.resul
-00022640: 7473 4e61 6d65 2069 7320 4e6f 6e65 0a20  tsName is None. 
-00022650: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00022660: 6e64 206e 6f74 206f 7468 6572 2e64 6562  nd not other.deb
-00022670: 7567 0a20 2020 2020 2020 2020 2020 2029  ug.            )
-00022680: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00022690: 2020 7365 6c66 2e65 7870 7273 203d 206f    self.exprs = o
-000226a0: 7468 6572 2e65 7870 7273 5b3a 5d20 2b20  ther.exprs[:] + 
-000226b0: 5b73 656c 662e 6578 7072 735b 315d 5d0a  [self.exprs[1]].
-000226c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000226d0: 7365 6c66 2e5f 6465 6661 756c 744e 616d  self._defaultNam
-000226e0: 6520 3d20 4e6f 6e65 0a20 2020 2020 2020  e = None.       
-000226f0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-00022700: 7952 6574 7572 6e45 6d70 7479 207c 3d20  yReturnEmpty |= 
-00022710: 6f74 6865 722e 6d61 7952 6574 7572 6e45  other.mayReturnE
-00022720: 6d70 7479 0a20 2020 2020 2020 2020 2020  mpty.           
-00022730: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
-00022740: 6578 4572 726f 7220 7c3d 206f 7468 6572  exError |= other
-00022750: 2e6d 6179 496e 6465 7845 7272 6f72 0a0a  .mayIndexError..
-00022760: 2020 2020 2020 2020 2020 2020 6f74 6865              othe
-00022770: 7220 3d20 7365 6c66 2e65 7870 7273 5b2d  r = self.exprs[-
-00022780: 315d 0a20 2020 2020 2020 2020 2020 2069  1].            i
-00022790: 6620 280a 2020 2020 2020 2020 2020 2020  f (.            
-000227a0: 2020 2020 6973 696e 7374 616e 6365 286f      isinstance(o
-000227b0: 7468 6572 2c20 7365 6c66 2e5f 5f63 6c61  ther, self.__cla
-000227c0: 7373 5f5f 290a 2020 2020 2020 2020 2020  ss__).          
-000227d0: 2020 2020 2020 616e 6420 6e6f 7420 6f74        and not ot
-000227e0: 6865 722e 7061 7273 6541 6374 696f 6e0a  her.parseAction.
-000227f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022800: 616e 6420 6f74 6865 722e 7265 7375 6c74  and other.result
-00022810: 734e 616d 6520 6973 204e 6f6e 650a 2020  sName is None.  
-00022820: 2020 2020 2020 2020 2020 2020 2020 616e                an
-00022830: 6420 6e6f 7420 6f74 6865 722e 6465 6275  d not other.debu
-00022840: 670a 2020 2020 2020 2020 2020 2020 293a  g.            ):
-00022850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022860: 2073 656c 662e 6578 7072 7320 3d20 7365   self.exprs = se
-00022870: 6c66 2e65 7870 7273 5b3a 2d31 5d20 2b20  lf.exprs[:-1] + 
-00022880: 6f74 6865 722e 6578 7072 735b 3a5d 0a20  other.exprs[:]. 
-00022890: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000228a0: 656c 662e 5f64 6566 6175 6c74 4e61 6d65  elf._defaultName
-000228b0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-000228c0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-000228d0: 5265 7475 726e 456d 7074 7920 7c3d 206f  ReturnEmpty |= o
-000228e0: 7468 6572 2e6d 6179 5265 7475 726e 456d  ther.mayReturnEm
-000228f0: 7074 790a 2020 2020 2020 2020 2020 2020  pty.            
-00022900: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
-00022910: 7845 7272 6f72 207c 3d20 6f74 6865 722e  xError |= other.
-00022920: 6d61 7949 6e64 6578 4572 726f 720a 0a20  mayIndexError.. 
-00022930: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
-00022940: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
-00022950: 202b 2073 7472 2873 656c 6629 0a0a 2020   + str(self)..  
-00022960: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00022970: 660a 0a20 2020 2064 6566 2076 616c 6964  f..    def valid
-00022980: 6174 6528 7365 6c66 2c20 7661 6c69 6461  ate(self, valida
-00022990: 7465 5472 6163 653d 4e6f 6e65 2920 2d3e  teTrace=None) ->
-000229a0: 204e 6f6e 653a 0a20 2020 2020 2020 2077   None:.        w
-000229b0: 6172 6e69 6e67 732e 7761 726e 280a 2020  arnings.warn(.  
-000229c0: 2020 2020 2020 2020 2020 2250 6172 7365            "Parse
-000229d0: 7245 6c65 6d65 6e74 2e76 616c 6964 6174  rElement.validat
-000229e0: 6528 2920 6973 2064 6570 7265 6361 7465  e() is deprecate
-000229f0: 642c 2061 6e64 2073 686f 756c 6420 6e6f  d, and should no
-00022a00: 7420 6265 2075 7365 6420 746f 2063 6865  t be used to che
-00022a10: 636b 2066 6f72 206c 6566 7420 7265 6375  ck for left recu
-00022a20: 7273 696f 6e22 2c0a 2020 2020 2020 2020  rsion",.        
-00022a30: 2020 2020 4465 7072 6563 6174 696f 6e57      DeprecationW
-00022a40: 6172 6e69 6e67 2c0a 2020 2020 2020 2020  arning,.        
-00022a50: 2020 2020 7374 6163 6b6c 6576 656c 3d32      stacklevel=2
-00022a60: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00022a70: 2020 2020 746d 7020 3d20 2876 616c 6964      tmp = (valid
-00022a80: 6174 6554 7261 6365 2069 6620 7661 6c69  ateTrace if vali
-00022a90: 6461 7465 5472 6163 6520 6973 206e 6f74  dateTrace is not
-00022aa0: 204e 6f6e 6520 656c 7365 205b 5d29 5b3a   None else [])[:
-00022ab0: 5d20 2b20 5b73 656c 665d 0a20 2020 2020  ] + [self].     
-00022ac0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
-00022ad0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
-00022ae0: 2020 2020 652e 7661 6c69 6461 7465 2874      e.validate(t
-00022af0: 6d70 290a 2020 2020 2020 2020 7365 6c66  mp).        self
-00022b00: 2e5f 6368 6563 6b52 6563 7572 7369 6f6e  ._checkRecursion
-00022b10: 285b 5d29 0a0a 2020 2020 6465 6620 636f  ([])..    def co
-00022b20: 7079 2873 656c 6629 202d 3e20 5061 7273  py(self) -> Pars
-00022b30: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
-00022b40: 2020 2072 6574 203d 2073 7570 6572 2829     ret = super()
-00022b50: 2e63 6f70 7928 290a 2020 2020 2020 2020  .copy().        
-00022b60: 7265 7420 3d20 7479 7069 6e67 2e63 6173  ret = typing.cas
-00022b70: 7428 5061 7273 6545 7870 7265 7373 696f  t(ParseExpressio
-00022b80: 6e2c 2072 6574 290a 2020 2020 2020 2020  n, ret).        
-00022b90: 7265 742e 6578 7072 7320 3d20 5b65 2e63  ret.exprs = [e.c
-00022ba0: 6f70 7928 2920 666f 7220 6520 696e 2073  opy() for e in s
-00022bb0: 656c 662e 6578 7072 735d 0a20 2020 2020  elf.exprs].     
-00022bc0: 2020 2072 6574 7572 6e20 7265 740a 0a20     return ret.. 
-00022bd0: 2020 2064 6566 205f 7365 7452 6573 756c     def _setResul
-00022be0: 7473 4e61 6d65 2873 656c 662c 206e 616d  tsName(self, nam
-00022bf0: 652c 206c 6973 7441 6c6c 4d61 7463 6865  e, listAllMatche
-00022c00: 733d 4661 6c73 6529 3a0a 2020 2020 2020  s=False):.      
-00022c10: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
-00022c20: 2020 205f 5f64 6961 675f 5f2e 7761 726e     __diag__.warn
-00022c30: 5f75 6e67 726f 7570 6564 5f6e 616d 6564  _ungrouped_named
-00022c40: 5f74 6f6b 656e 735f 696e 5f63 6f6c 6c65  _tokens_in_colle
-00022c50: 6374 696f 6e0a 2020 2020 2020 2020 2020  ction.          
-00022c60: 2020 616e 6420 4469 6167 6e6f 7374 6963    and Diagnostic
-00022c70: 732e 7761 726e 5f75 6e67 726f 7570 6564  s.warn_ungrouped
-00022c80: 5f6e 616d 6564 5f74 6f6b 656e 735f 696e  _named_tokens_in
-00022c90: 5f63 6f6c 6c65 6374 696f 6e0a 2020 2020  _collection.    
-00022ca0: 2020 2020 2020 2020 6e6f 7420 696e 2073          not in s
-00022cb0: 656c 662e 7375 7070 7265 7373 5f77 6172  elf.suppress_war
-00022cc0: 6e69 6e67 735f 0a20 2020 2020 2020 2029  nings_.        )
-00022cd0: 3a0a 2020 2020 2020 2020 2020 2020 666f  :.            fo
-00022ce0: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
-00022cf0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00022d00: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
-00022d10: 2020 2020 2020 2020 2020 2020 6973 696e              isin
-00022d20: 7374 616e 6365 2865 2c20 5061 7273 6572  stance(e, Parser
-00022d30: 456c 656d 656e 7429 0a20 2020 2020 2020  Element).       
-00022d40: 2020 2020 2020 2020 2020 2020 2061 6e64               and
-00022d50: 2065 2e72 6573 756c 7473 4e61 6d65 0a20   e.resultsName. 
-00022d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022d70: 2020 2061 6e64 2044 6961 676e 6f73 7469     and Diagnosti
-00022d80: 6373 2e77 6172 6e5f 756e 6772 6f75 7065  cs.warn_ungroupe
-00022d90: 645f 6e61 6d65 645f 746f 6b65 6e73 5f69  d_named_tokens_i
-00022da0: 6e5f 636f 6c6c 6563 7469 6f6e 0a20 2020  n_collection.   
-00022db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022dc0: 206e 6f74 2069 6e20 652e 7375 7070 7265   not in e.suppre
-00022dd0: 7373 5f77 6172 6e69 6e67 735f 0a20 2020  ss_warnings_.   
-00022de0: 2020 2020 2020 2020 2020 2020 2029 3a0a               ):.
-00022df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e00: 2020 2020 7761 726e 696e 6773 2e77 6172      warnings.war
-00022e10: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
-00022e20: 2020 2020 2020 2020 2020 2022 7b7d 3a20             "{}: 
-00022e30: 7365 7474 696e 6720 7265 7375 6c74 7320  setting results 
-00022e40: 6e61 6d65 207b 2172 7d20 6f6e 207b 7d20  name {!r} on {} 
-00022e50: 6578 7072 6573 7369 6f6e 2022 0a20 2020  expression ".   
-00022e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e70: 2020 2020 2022 636f 6c6c 6964 6573 2077       "collides w
-00022e80: 6974 6820 7b21 727d 206f 6e20 636f 6e74  ith {!r} on cont
-00022e90: 6169 6e65 6420 6578 7072 6573 7369 6f6e  ained expression
-00022ea0: 222e 666f 726d 6174 280a 2020 2020 2020  ".format(.      
-00022eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022ec0: 2020 2020 2020 2277 6172 6e5f 756e 6772        "warn_ungr
-00022ed0: 6f75 7065 645f 6e61 6d65 645f 746f 6b65  ouped_named_toke
-00022ee0: 6e73 5f69 6e5f 636f 6c6c 6563 7469 6f6e  ns_in_collection
-00022ef0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-00022f00: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00022f10: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-00022f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f30: 2074 7970 6528 7365 6c66 292e 5f5f 6e61   type(self).__na
-00022f40: 6d65 5f5f 2c0a 2020 2020 2020 2020 2020  me__,.          
-00022f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f60: 2020 652e 7265 7375 6c74 734e 616d 652c    e.resultsName,
-00022f70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022f80: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
-00022f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022fa0: 2020 2020 7374 6163 6b6c 6576 656c 3d33      stacklevel=3
-00022fb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00022fc0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
-00022fd0: 2072 6574 7572 6e20 7375 7065 7228 292e   return super().
-00022fe0: 5f73 6574 5265 7375 6c74 734e 616d 6528  _setResultsName(
-00022ff0: 6e61 6d65 2c20 6c69 7374 416c 6c4d 6174  name, listAllMat
-00023000: 6368 6573 290a 0a20 2020 2023 2043 6f6d  ches)..    # Com
-00023010: 7061 7469 6269 6c69 7479 2073 796e 6f6e  patibility synon
-00023020: 796d 730a 2020 2020 2320 666d 743a 206f  yms.    # fmt: o
-00023030: 6666 0a20 2020 2040 7265 706c 6163 6564  ff.    @replaced
-00023040: 5f62 795f 7065 7038 286c 6561 7665 5f77  _by_pep8(leave_w
-00023050: 6869 7465 7370 6163 6529 0a20 2020 2064  hitespace).    d
-00023060: 6566 206c 6561 7665 5768 6974 6573 7061  ef leaveWhitespa
-00023070: 6365 2873 656c 6629 3a20 2e2e 2e0a 0a20  ce(self): ..... 
-00023080: 2020 2040 7265 706c 6163 6564 5f62 795f     @replaced_by_
-00023090: 7065 7038 2869 676e 6f72 655f 7768 6974  pep8(ignore_whit
-000230a0: 6573 7061 6365 290a 2020 2020 6465 6620  espace).    def 
-000230b0: 6967 6e6f 7265 5768 6974 6573 7061 6365  ignoreWhitespace
-000230c0: 2873 656c 6629 3a20 2e2e 2e0a 2020 2020  (self): ....    
-000230d0: 2320 666d 743a 206f 6e0a 0a0a 636c 6173  # fmt: on...clas
-000230e0: 7320 416e 6428 5061 7273 6545 7870 7265  s And(ParseExpre
-000230f0: 7373 696f 6e29 3a0a 2020 2020 2222 220a  ssion):.    """.
-00023100: 2020 2020 5265 7175 6972 6573 2061 6c6c      Requires all
-00023110: 2067 6976 656e 203a 636c 6173 733a 6050   given :class:`P
-00023120: 6172 7365 4578 7072 6573 7369 6f6e 6020  arseExpression` 
-00023130: 7320 746f 2062 6520 666f 756e 6420 696e  s to be found in
-00023140: 2074 6865 2067 6976 656e 206f 7264 6572   the given order
-00023150: 2e0a 2020 2020 4578 7072 6573 7369 6f6e  ..    Expression
-00023160: 7320 6d61 7920 6265 2073 6570 6172 6174  s may be separat
-00023170: 6564 2062 7920 7768 6974 6573 7061 6365  ed by whitespace
-00023180: 2e0a 2020 2020 4d61 7920 6265 2063 6f6e  ..    May be con
-00023190: 7374 7275 6374 6564 2075 7369 6e67 2074  structed using t
-000231a0: 6865 2060 6027 2b27 6060 206f 7065 7261  he ``'+'`` opera
-000231b0: 746f 722e 0a20 2020 204d 6179 2061 6c73  tor..    May als
-000231c0: 6f20 6265 2063 6f6e 7374 7275 6374 6564  o be constructed
-000231d0: 2075 7369 6e67 2074 6865 2060 6027 2d27   using the ``'-'
-000231e0: 6060 206f 7065 7261 746f 722c 2077 6869  `` operator, whi
-000231f0: 6368 2077 696c 6c0a 2020 2020 7375 7070  ch will.    supp
-00023200: 7265 7373 2062 6163 6b74 7261 636b 696e  ress backtrackin
-00023210: 672e 0a0a 2020 2020 4578 616d 706c 653a  g...    Example:
-00023220: 3a0a 0a20 2020 2020 2020 2069 6e74 6567  :..        integ
-00023230: 6572 203d 2057 6f72 6428 6e75 6d73 290a  er = Word(nums).
-00023240: 2020 2020 2020 2020 6e61 6d65 5f65 7870          name_exp
-00023250: 7220 3d20 576f 7264 2861 6c70 6861 7329  r = Word(alphas)
-00023260: 5b31 2c20 2e2e 2e5d 0a0a 2020 2020 2020  [1, ...]..      
-00023270: 2020 6578 7072 203d 2041 6e64 285b 696e    expr = And([in
-00023280: 7465 6765 7228 2269 6422 292c 206e 616d  teger("id"), nam
-00023290: 655f 6578 7072 2822 6e61 6d65 2229 2c20  e_expr("name"), 
-000232a0: 696e 7465 6765 7228 2261 6765 2229 5d29  integer("age")])
-000232b0: 0a20 2020 2020 2020 2023 206d 6f72 6520  .        # more 
-000232c0: 6561 7369 6c79 2077 7269 7474 656e 2061  easily written a
-000232d0: 733a 0a20 2020 2020 2020 2065 7870 7220  s:.        expr 
-000232e0: 3d20 696e 7465 6765 7228 2269 6422 2920  = integer("id") 
-000232f0: 2b20 6e61 6d65 5f65 7870 7228 226e 616d  + name_expr("nam
-00023300: 6522 2920 2b20 696e 7465 6765 7228 2261  e") + integer("a
-00023310: 6765 2229 0a20 2020 2022 2222 0a0a 2020  ge").    """..  
-00023320: 2020 636c 6173 7320 5f45 7272 6f72 5374    class _ErrorSt
-00023330: 6f70 2845 6d70 7479 293a 0a20 2020 2020  op(Empty):.     
-00023340: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-00023350: 7365 6c66 2c20 2a61 7267 732c 202a 2a6b  self, *args, **k
-00023360: 7761 7267 7329 3a0a 2020 2020 2020 2020  wargs):.        
-00023370: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-00023380: 6974 5f5f 282a 6172 6773 2c20 2a2a 6b77  it__(*args, **kw
-00023390: 6172 6773 290a 2020 2020 2020 2020 2020  args).          
-000233a0: 2020 7365 6c66 2e6c 6561 7665 5f77 6869    self.leave_whi
-000233b0: 7465 7370 6163 6528 290a 0a20 2020 2020  tespace()..     
-000233c0: 2020 2064 6566 205f 6765 6e65 7261 7465     def _generate
-000233d0: 4465 6661 756c 744e 616d 6528 7365 6c66  DefaultName(self
-000233e0: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
-000233f0: 2020 2020 2020 7265 7475 726e 2022 2d22        return "-"
-00023400: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
-00023410: 5f5f 280a 2020 2020 2020 2020 7365 6c66  __(.        self
-00023420: 2c20 6578 7072 735f 6172 673a 2074 7970  , exprs_arg: typ
-00023430: 696e 672e 4974 6572 6162 6c65 5b50 6172  ing.Iterable[Par
-00023440: 7365 7245 6c65 6d65 6e74 5d2c 2073 6176  serElement], sav
-00023450: 656c 6973 743a 2062 6f6f 6c20 3d20 5472  elist: bool = Tr
-00023460: 7565 0a20 2020 2029 3a0a 2020 2020 2020  ue.    ):.      
-00023470: 2020 6578 7072 733a 204c 6973 745b 5061    exprs: List[Pa
-00023480: 7273 6572 456c 656d 656e 745d 203d 206c  rserElement] = l
-00023490: 6973 7428 6578 7072 735f 6172 6729 0a20  ist(exprs_arg). 
-000234a0: 2020 2020 2020 2069 6620 6578 7072 7320         if exprs 
-000234b0: 616e 6420 456c 6c69 7073 6973 2069 6e20  and Ellipsis in 
-000234c0: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
-000234d0: 2020 2074 6d70 203d 205b 5d0a 2020 2020     tmp = [].    
-000234e0: 2020 2020 2020 2020 666f 7220 692c 2065          for i, e
-000234f0: 7870 7220 696e 2065 6e75 6d65 7261 7465  xpr in enumerate
-00023500: 2865 7870 7273 293a 0a20 2020 2020 2020  (exprs):.       
-00023510: 2020 2020 2020 2020 2069 6620 6578 7072           if expr
-00023520: 2069 7320 456c 6c69 7073 6973 3a0a 2020   is Ellipsis:.  
-00023530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023540: 2020 6966 2069 203c 206c 656e 2865 7870    if i < len(exp
-00023550: 7273 2920 2d20 313a 0a20 2020 2020 2020  rs) - 1:.       
-00023560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023570: 2073 6b69 7074 6f5f 6172 673a 2050 6172   skipto_arg: Par
-00023580: 7365 7245 6c65 6d65 6e74 203d 2074 7970  serElement = typ
-00023590: 696e 672e 6361 7374 280a 2020 2020 2020  ing.cast(.      
-000235a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000235b0: 2020 2020 2020 5061 7273 6545 7870 7265        ParseExpre
-000235c0: 7373 696f 6e2c 2028 456d 7074 7928 2920  ssion, (Empty() 
-000235d0: 2b20 6578 7072 735b 6920 2b20 315d 290a  + exprs[i + 1]).
-000235e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000235f0: 2020 2020 2020 2020 292e 6578 7072 735b          ).exprs[
-00023600: 2d31 5d0a 2020 2020 2020 2020 2020 2020  -1].            
-00023610: 2020 2020 2020 2020 2020 2020 746d 702e              tmp.
-00023620: 6170 7065 6e64 2853 6b69 7054 6f28 736b  append(SkipTo(sk
-00023630: 6970 746f 5f61 7267 2928 225f 736b 6970  ipto_arg)("_skip
-00023640: 7065 642a 2229 290a 2020 2020 2020 2020  ped*")).        
-00023650: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00023660: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00023670: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00023680: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
-00023690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000236a0: 2020 2020 2020 2022 6361 6e6e 6f74 2063         "cannot c
-000236b0: 6f6e 7374 7275 6374 2041 6e64 2077 6974  onstruct And wit
-000236c0: 6820 7365 7175 656e 6365 2065 6e64 696e  h sequence endin
-000236d0: 6720 696e 202e 2e2e 220a 2020 2020 2020  g in ...".      
-000236e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000236f0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-00023700: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00023710: 2020 2020 2020 2020 2020 2020 2020 746d                tm
-00023720: 702e 6170 7065 6e64 2865 7870 7229 0a20  p.append(expr). 
-00023730: 2020 2020 2020 2020 2020 2065 7870 7273             exprs
-00023740: 5b3a 5d20 3d20 746d 700a 2020 2020 2020  [:] = tmp.      
-00023750: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-00023760: 5f5f 2865 7870 7273 2c20 7361 7665 6c69  __(exprs, saveli
-00023770: 7374 290a 2020 2020 2020 2020 6966 2073  st).        if s
-00023780: 656c 662e 6578 7072 733a 0a20 2020 2020  elf.exprs:.     
-00023790: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
-000237a0: 6574 7572 6e45 6d70 7479 203d 2061 6c6c  eturnEmpty = all
-000237b0: 2865 2e6d 6179 5265 7475 726e 456d 7074  (e.mayReturnEmpt
-000237c0: 7920 666f 7220 6520 696e 2073 656c 662e  y for e in self.
-000237d0: 6578 7072 7329 0a20 2020 2020 2020 2020  exprs).         
-000237e0: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
-000237f0: 616e 6365 2873 656c 662e 6578 7072 735b  ance(self.exprs[
-00023800: 305d 2c20 5768 6974 6529 3a0a 2020 2020  0], White):.    
-00023810: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00023820: 2e73 6574 5f77 6869 7465 7370 6163 655f  .set_whitespace_
-00023830: 6368 6172 7328 0a20 2020 2020 2020 2020  chars(.         
-00023840: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00023850: 6578 7072 735b 305d 2e77 6869 7465 4368  exprs[0].whiteCh
-00023860: 6172 732c 0a20 2020 2020 2020 2020 2020  ars,.           
-00023870: 2020 2020 2020 2020 2063 6f70 795f 6465           copy_de
-00023880: 6661 756c 7473 3d73 656c 662e 6578 7072  faults=self.expr
-00023890: 735b 305d 2e63 6f70 7944 6566 6175 6c74  s[0].copyDefault
-000238a0: 5768 6974 6543 6861 7273 2c0a 2020 2020  WhiteChars,.    
-000238b0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-000238c0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000238d0: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
-000238e0: 6520 3d20 7365 6c66 2e65 7870 7273 5b30  e = self.exprs[0
-000238f0: 5d2e 736b 6970 5768 6974 6573 7061 6365  ].skipWhitespace
-00023900: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-00023910: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00023920: 2020 2073 656c 662e 736b 6970 5768 6974     self.skipWhit
-00023930: 6573 7061 6365 203d 2046 616c 7365 0a20  espace = False. 
-00023940: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00023950: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-00023960: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
-00023970: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
-00023980: 2e63 616c 6c50 7265 7061 7273 6520 3d20  .callPreparse = 
-00023990: 5472 7565 0a0a 2020 2020 6465 6620 7374  True..    def st
-000239a0: 7265 616d 6c69 6e65 2873 656c 6629 202d  reamline(self) -
-000239b0: 3e20 5061 7273 6572 456c 656d 656e 743a  > ParserElement:
-000239c0: 0a20 2020 2020 2020 2023 2063 6f6c 6c61  .        # colla
-000239d0: 7073 6520 616e 7920 5f50 656e 6469 6e67  pse any _Pending
-000239e0: 536b 6970 2773 0a20 2020 2020 2020 2069  Skip's.        i
-000239f0: 6620 7365 6c66 2e65 7870 7273 3a0a 2020  f self.exprs:.  
-00023a00: 2020 2020 2020 2020 2020 6966 2061 6e79            if any
-00023a10: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00023a20: 2020 6973 696e 7374 616e 6365 2865 2c20    isinstance(e, 
-00023a30: 5061 7273 6545 7870 7265 7373 696f 6e29  ParseExpression)
-00023a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023a50: 2061 6e64 2065 2e65 7870 7273 0a20 2020   and e.exprs.   
-00023a60: 2020 2020 2020 2020 2020 2020 2061 6e64               and
-00023a70: 2069 7369 6e73 7461 6e63 6528 652e 6578   isinstance(e.ex
-00023a80: 7072 735b 2d31 5d2c 205f 5065 6e64 696e  prs[-1], _Pendin
-00023a90: 6753 6b69 7029 0a20 2020 2020 2020 2020  gSkip).         
-00023aa0: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
-00023ab0: 7365 6c66 2e65 7870 7273 5b3a 2d31 5d0a  self.exprs[:-1].
-00023ac0: 2020 2020 2020 2020 2020 2020 293a 0a20              ):. 
-00023ad0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00023ae0: 656c 6574 6564 5f65 7870 725f 6d61 726b  eleted_expr_mark
-00023af0: 6572 203d 204e 6f4d 6174 6368 2829 0a20  er = NoMatch(). 
-00023b00: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00023b10: 6f72 2069 2c20 6520 696e 2065 6e75 6d65  or i, e in enume
-00023b20: 7261 7465 2873 656c 662e 6578 7072 735b  rate(self.exprs[
-00023b30: 3a2d 315d 293a 0a20 2020 2020 2020 2020  :-1]):.         
-00023b40: 2020 2020 2020 2020 2020 2069 6620 6520             if e 
-00023b50: 6973 2064 656c 6574 6564 5f65 7870 725f  is deleted_expr_
-00023b60: 6d61 726b 6572 3a0a 2020 2020 2020 2020  marker:.        
-00023b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023b80: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
-00023b90: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00023ba0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00023bb0: 2020 2020 2020 2020 2020 6973 696e 7374            isinst
-00023bc0: 616e 6365 2865 2c20 5061 7273 6545 7870  ance(e, ParseExp
-00023bd0: 7265 7373 696f 6e29 0a20 2020 2020 2020  ression).       
-00023be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023bf0: 2061 6e64 2065 2e65 7870 7273 0a20 2020   and e.exprs.   
-00023c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023c10: 2020 2020 2061 6e64 2069 7369 6e73 7461       and isinsta
-00023c20: 6e63 6528 652e 6578 7072 735b 2d31 5d2c  nce(e.exprs[-1],
-00023c30: 205f 5065 6e64 696e 6753 6b69 7029 0a20   _PendingSkip). 
-00023c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023c50: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
-00023c60: 2020 2020 2020 2020 2020 2020 2020 652e                e.
-00023c70: 6578 7072 735b 2d31 5d20 3d20 652e 6578  exprs[-1] = e.ex
-00023c80: 7072 735b 2d31 5d20 2b20 7365 6c66 2e65  prs[-1] + self.e
-00023c90: 7870 7273 5b69 202b 2031 5d0a 2020 2020  xprs[i + 1].    
-00023ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023cb0: 2020 2020 7365 6c66 2e65 7870 7273 5b69      self.exprs[i
-00023cc0: 202b 2031 5d20 3d20 6465 6c65 7465 645f   + 1] = deleted_
-00023cd0: 6578 7072 5f6d 6172 6b65 720a 2020 2020  expr_marker.    
-00023ce0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00023cf0: 2e65 7870 7273 203d 205b 6520 666f 7220  .exprs = [e for 
-00023d00: 6520 696e 2073 656c 662e 6578 7072 7320  e in self.exprs 
-00023d10: 6966 2065 2069 7320 6e6f 7420 6465 6c65  if e is not dele
-00023d20: 7465 645f 6578 7072 5f6d 6172 6b65 725d  ted_expr_marker]
-00023d30: 0a0a 2020 2020 2020 2020 7375 7065 7228  ..        super(
-00023d40: 292e 7374 7265 616d 6c69 6e65 2829 0a0a  ).streamline()..
-00023d50: 2020 2020 2020 2020 2320 6c69 6e6b 2061          # link a
-00023d60: 6e79 2049 6e64 656e 7465 6442 6c6f 636b  ny IndentedBlock
-00023d70: 7320 746f 2074 6865 2070 7269 6f72 2065  s to the prior e
-00023d80: 7870 7265 7373 696f 6e0a 2020 2020 2020  xpression.      
-00023d90: 2020 7072 6576 3a20 5061 7273 6572 456c    prev: ParserEl
-00023da0: 656d 656e 740a 2020 2020 2020 2020 6375  ement.        cu
-00023db0: 723a 2050 6172 7365 7245 6c65 6d65 6e74  r: ParserElement
-00023dc0: 0a20 2020 2020 2020 2066 6f72 2070 7265  .        for pre
-00023dd0: 762c 2063 7572 2069 6e20 7a69 7028 7365  v, cur in zip(se
-00023de0: 6c66 2e65 7870 7273 2c20 7365 6c66 2e65  lf.exprs, self.e
-00023df0: 7870 7273 5b31 3a5d 293a 0a20 2020 2020  xprs[1:]):.     
-00023e00: 2020 2020 2020 2023 2074 7261 7665 7273         # travers
-00023e10: 6520 6375 7220 6f72 2061 6e79 2066 6972  e cur or any fir
-00023e20: 7374 2065 6d62 6564 6465 6420 6578 7072  st embedded expr
-00023e30: 206f 6620 6375 7220 6c6f 6f6b 696e 6720   of cur looking 
-00023e40: 666f 7220 616e 2049 6e64 656e 7465 6442  for an IndentedB
-00023e50: 6c6f 636b 0a20 2020 2020 2020 2020 2020  lock.           
-00023e60: 2023 2028 6275 7420 7761 7463 6820 6f75   # (but watch ou
-00023e70: 7420 666f 7220 7265 6375 7273 6976 6520  t for recursive 
-00023e80: 6772 616d 6d61 7229 0a20 2020 2020 2020  grammar).       
-00023e90: 2020 2020 2073 6565 6e20 3d20 7365 7428       seen = set(
-00023ea0: 290a 2020 2020 2020 2020 2020 2020 7768  ).            wh
-00023eb0: 696c 6520 5472 7565 3a0a 2020 2020 2020  ile True:.      
-00023ec0: 2020 2020 2020 2020 2020 6966 2069 6428            if id(
-00023ed0: 6375 7229 2069 6e20 7365 656e 3a0a 2020  cur) in seen:.  
-00023ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023ef0: 2020 6272 6561 6b0a 2020 2020 2020 2020    break.        
-00023f00: 2020 2020 2020 2020 7365 656e 2e61 6464          seen.add
-00023f10: 2869 6428 6375 7229 290a 2020 2020 2020  (id(cur)).      
-00023f20: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
-00023f30: 6e73 7461 6e63 6528 6375 722c 2049 6e64  nstance(cur, Ind
-00023f40: 656e 7465 6442 6c6f 636b 293a 0a20 2020  entedBlock):.   
-00023f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f60: 2070 7265 762e 6164 645f 7061 7273 655f   prev.add_parse_
-00023f70: 6163 7469 6f6e 280a 2020 2020 2020 2020  action(.        
-00023f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f90: 6c61 6d62 6461 2073 2c20 6c2c 2074 2c20  lambda s, l, t, 
-00023fa0: 6375 725f 3d63 7572 3a20 7365 7461 7474  cur_=cur: setatt
-00023fb0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
-00023fc0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00023fd0: 7572 5f2c 2022 7061 7265 6e74 5f61 6e63  ur_, "parent_anc
-00023fe0: 686f 7222 2c20 636f 6c28 6c2c 2073 290a  hor", col(l, s).
-00023ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024000: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00024010: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-00024020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024030: 2020 2020 6272 6561 6b0a 2020 2020 2020      break.      
-00024040: 2020 2020 2020 2020 2020 7375 6273 203d            subs =
-00024050: 2063 7572 2e72 6563 7572 7365 2829 0a20   cur.recurse(). 
-00024060: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00024070: 6578 745f 6669 7273 7420 3d20 6e65 7874  ext_first = next
-00024080: 2869 7465 7228 7375 6273 292c 204e 6f6e  (iter(subs), Non
-00024090: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-000240a0: 2020 2069 6620 6e65 7874 5f66 6972 7374     if next_first
-000240b0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-000240c0: 2020 2020 2020 2020 2020 2020 2020 6272                br
-000240d0: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
-000240e0: 2020 2020 6375 7220 3d20 7479 7069 6e67      cur = typing
-000240f0: 2e63 6173 7428 5061 7273 6572 456c 656d  .cast(ParserElem
-00024100: 656e 742c 206e 6578 745f 6669 7273 7429  ent, next_first)
-00024110: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
-00024120: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-00024130: 616c 6c28 652e 6d61 7952 6574 7572 6e45  all(e.mayReturnE
-00024140: 6d70 7479 2066 6f72 2065 2069 6e20 7365  mpty for e in se
-00024150: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
-00024160: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
-00024170: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-00024180: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-00024190: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-000241a0: 5472 7565 293a 0a20 2020 2020 2020 2023  True):.        #
-000241b0: 2070 6173 7320 4661 6c73 6520 6173 2063   pass False as c
-000241c0: 616c 6c50 7265 5061 7273 6520 6172 6720  allPreParse arg 
-000241d0: 746f 205f 7061 7273 6520 666f 7220 6669  to _parse for fi
-000241e0: 7273 7420 656c 656d 656e 742c 2073 696e  rst element, sin
-000241f0: 6365 2077 6520 616c 7265 6164 790a 2020  ce we already.  
-00024200: 2020 2020 2020 2320 7072 652d 7061 7273        # pre-pars
-00024210: 6564 2074 6865 2073 7472 696e 6720 6173  ed the string as
-00024220: 2070 6172 7420 6f66 206f 7572 2041 6e64   part of our And
-00024230: 2070 7265 2d70 6172 7369 6e67 0a20 2020   pre-parsing.   
-00024240: 2020 2020 206c 6f63 2c20 7265 7375 6c74       loc, result
-00024250: 6c69 7374 203d 2073 656c 662e 6578 7072  list = self.expr
-00024260: 735b 305d 2e5f 7061 7273 6528 0a20 2020  s[0]._parse(.   
-00024270: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
-00024280: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
-00024290: 732c 2063 616c 6c50 7265 5061 7273 653d  s, callPreParse=
-000242a0: 4661 6c73 650a 2020 2020 2020 2020 290a  False.        ).
-000242b0: 2020 2020 2020 2020 6572 726f 7253 746f          errorSto
-000242c0: 7020 3d20 4661 6c73 650a 2020 2020 2020  p = False.      
-000242d0: 2020 666f 7220 6520 696e 2073 656c 662e    for e in self.
-000242e0: 6578 7072 735b 313a 5d3a 0a20 2020 2020  exprs[1:]:.     
-000242f0: 2020 2020 2020 2023 2069 6620 6973 696e         # if isin
-00024300: 7374 616e 6365 2865 2c20 416e 642e 5f45  stance(e, And._E
-00024310: 7272 6f72 5374 6f70 293a 0a20 2020 2020  rrorStop):.     
-00024320: 2020 2020 2020 2069 6620 7479 7065 2865         if type(e
-00024330: 2920 6973 2041 6e64 2e5f 4572 726f 7253  ) is And._ErrorS
-00024340: 746f 703a 0a20 2020 2020 2020 2020 2020  top:.           
-00024350: 2020 2020 2065 7272 6f72 5374 6f70 203d       errorStop =
-00024360: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
-00024370: 2020 2020 2020 636f 6e74 696e 7565 0a20        continue. 
-00024380: 2020 2020 2020 2020 2020 2069 6620 6572             if er
-00024390: 726f 7253 746f 703a 0a20 2020 2020 2020  rorStop:.       
-000243a0: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
-000243b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000243c0: 2020 6c6f 632c 2065 7870 7274 6f6b 656e    loc, exprtoken
-000243d0: 7320 3d20 652e 5f70 6172 7365 2869 6e73  s = e._parse(ins
-000243e0: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-000243f0: 7469 6f6e 7329 0a20 2020 2020 2020 2020  tions).         
-00024400: 2020 2020 2020 2065 7863 6570 7420 5061         except Pa
-00024410: 7273 6553 796e 7461 7845 7863 6570 7469  rseSyntaxExcepti
-00024420: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
-00024430: 2020 2020 2020 2020 7261 6973 650a 2020          raise.  
-00024440: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00024450: 6365 7074 2050 6172 7365 4261 7365 4578  cept ParseBaseEx
-00024460: 6365 7074 696f 6e20 6173 2070 653a 0a20  ception as pe:. 
-00024470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024480: 2020 2070 652e 5f5f 7472 6163 6562 6163     pe.__tracebac
-00024490: 6b5f 5f20 3d20 4e6f 6e65 0a20 2020 2020  k__ = None.     
-000244a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-000244b0: 6169 7365 2050 6172 7365 5379 6e74 6178  aise ParseSyntax
-000244c0: 4578 6365 7074 696f 6e2e 5f66 726f 6d5f  Exception._from_
-000244d0: 6578 6365 7074 696f 6e28 7065 290a 2020  exception(pe).  
-000244e0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-000244f0: 6365 7074 2049 6e64 6578 4572 726f 723a  cept IndexError:
-00024500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024510: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
-00024520: 5379 6e74 6178 4578 6365 7074 696f 6e28  SyntaxException(
-00024530: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024540: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
-00024550: 672c 206c 656e 2869 6e73 7472 696e 6729  g, len(instring)
-00024560: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
-00024570: 656c 660a 2020 2020 2020 2020 2020 2020  elf.            
-00024580: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00024590: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-000245a0: 2020 2020 2020 2020 2020 2020 6c6f 632c              loc,
-000245b0: 2065 7870 7274 6f6b 656e 7320 3d20 652e   exprtokens = e.
-000245c0: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
-000245d0: 206c 6f63 2c20 646f 4163 7469 6f6e 7329   loc, doActions)
-000245e0: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
-000245f0: 756c 746c 6973 7420 2b3d 2065 7870 7274  ultlist += exprt
-00024600: 6f6b 656e 730a 2020 2020 2020 2020 7265  okens.        re
-00024610: 7475 726e 206c 6f63 2c20 7265 7375 6c74  turn loc, result
-00024620: 6c69 7374 0a0a 2020 2020 6465 6620 5f5f  list..    def __
-00024630: 6961 6464 5f5f 2873 656c 662c 206f 7468  iadd__(self, oth
-00024640: 6572 293a 0a20 2020 2020 2020 2069 6620  er):.        if 
-00024650: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-00024660: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
-00024670: 2020 2020 2020 2020 206f 7468 6572 203d           other =
-00024680: 2073 656c 662e 5f6c 6974 6572 616c 5374   self._literalSt
-00024690: 7269 6e67 436c 6173 7328 6f74 6865 7229  ringClass(other)
-000246a0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-000246b0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-000246c0: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
-000246d0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-000246e0: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
-000246f0: 7465 640a 2020 2020 2020 2020 7265 7475  ted.        retu
-00024700: 726e 2073 656c 662e 6170 7065 6e64 286f  rn self.append(o
-00024710: 7468 6572 2920 2023 2041 6e64 285b 7365  ther)  # And([se
-00024720: 6c66 2c20 6f74 6865 725d 290a 0a20 2020  lf, other])..   
-00024730: 2064 6566 205f 6368 6563 6b52 6563 7572   def _checkRecur
-00024740: 7369 6f6e 2873 656c 662c 2070 6172 7365  sion(self, parse
-00024750: 456c 656d 656e 744c 6973 7429 3a0a 2020  ElementList):.  
-00024760: 2020 2020 2020 7375 6252 6563 4368 6563        subRecChec
-00024770: 6b4c 6973 7420 3d20 7061 7273 6545 6c65  kList = parseEle
-00024780: 6d65 6e74 4c69 7374 5b3a 5d20 2b20 5b73  mentList[:] + [s
-00024790: 656c 665d 0a20 2020 2020 2020 2066 6f72  elf].        for
-000247a0: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
-000247b0: 3a0a 2020 2020 2020 2020 2020 2020 652e  :.            e.
-000247c0: 5f63 6865 636b 5265 6375 7273 696f 6e28  _checkRecursion(
-000247d0: 7375 6252 6563 4368 6563 6b4c 6973 7429  subRecCheckList)
-000247e0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000247f0: 6e6f 7420 652e 6d61 7952 6574 7572 6e45  not e.mayReturnE
-00024800: 6d70 7479 3a0a 2020 2020 2020 2020 2020  mpty:.          
-00024810: 2020 2020 2020 6272 6561 6b0a 0a20 2020        break..   
-00024820: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
-00024830: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
-00024840: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
-00024850: 696e 6e65 7220 3d20 2220 222e 6a6f 696e  inner = " ".join
-00024860: 2873 7472 2865 2920 666f 7220 6520 696e  (str(e) for e in
-00024870: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
-00024880: 2020 2020 2023 2073 7472 6970 206f 6666       # strip off
-00024890: 2072 6564 756e 6461 6e74 2069 6e6e 6572   redundant inner
-000248a0: 207b 7d27 730a 2020 2020 2020 2020 7768   {}'s.        wh
-000248b0: 696c 6520 6c65 6e28 696e 6e65 7229 203e  ile len(inner) >
-000248c0: 2031 2061 6e64 2069 6e6e 6572 5b30 203a   1 and inner[0 :
-000248d0: 3a20 6c65 6e28 696e 6e65 7229 202d 2031  : len(inner) - 1
-000248e0: 5d20 3d3d 2022 7b7d 223a 0a20 2020 2020  ] == "{}":.     
-000248f0: 2020 2020 2020 2069 6e6e 6572 203d 2069         inner = i
-00024900: 6e6e 6572 5b31 3a2d 315d 0a20 2020 2020  nner[1:-1].     
-00024910: 2020 2072 6574 7572 6e20 227b 2220 2b20     return "{" + 
-00024920: 696e 6e65 7220 2b20 227d 220a 0a0a 636c  inner + "}"...cl
-00024930: 6173 7320 4f72 2850 6172 7365 4578 7072  ass Or(ParseExpr
-00024940: 6573 7369 6f6e 293a 0a20 2020 2022 2222  ession):.    """
-00024950: 5265 7175 6972 6573 2074 6861 7420 6174  Requires that at
-00024960: 206c 6561 7374 206f 6e65 203a 636c 6173   least one :clas
-00024970: 733a 6050 6172 7365 4578 7072 6573 7369  s:`ParseExpressi
-00024980: 6f6e 6020 6973 2066 6f75 6e64 2e20 4966  on` is found. If
-00024990: 0a20 2020 2074 776f 2065 7870 7265 7373  .    two express
-000249a0: 696f 6e73 206d 6174 6368 2c20 7468 6520  ions match, the 
-000249b0: 6578 7072 6573 7369 6f6e 2074 6861 7420  expression that 
-000249c0: 6d61 7463 6865 7320 7468 6520 6c6f 6e67  matches the long
-000249d0: 6573 740a 2020 2020 7374 7269 6e67 2077  est.    string w
-000249e0: 696c 6c20 6265 2075 7365 642e 204d 6179  ill be used. May
-000249f0: 2062 6520 636f 6e73 7472 7563 7465 6420   be constructed 
-00024a00: 7573 696e 6720 7468 6520 6060 275e 2760  using the ``'^'`
-00024a10: 600a 2020 2020 6f70 6572 6174 6f72 2e0a  `.    operator..
-00024a20: 0a20 2020 2045 7861 6d70 6c65 3a3a 0a0a  .    Example::..
-00024a30: 2020 2020 2020 2020 2320 636f 6e73 7472          # constr
-00024a40: 7563 7420 4f72 2075 7369 6e67 2027 5e27  uct Or using '^'
-00024a50: 206f 7065 7261 746f 720a 0a20 2020 2020   operator..     
-00024a60: 2020 206e 756d 6265 7220 3d20 576f 7264     number = Word
-00024a70: 286e 756d 7329 205e 2043 6f6d 6269 6e65  (nums) ^ Combine
-00024a80: 2857 6f72 6428 6e75 6d73 2920 2b20 272e  (Word(nums) + '.
-00024a90: 2720 2b20 576f 7264 286e 756d 7329 290a  ' + Word(nums)).
-00024aa0: 2020 2020 2020 2020 7072 696e 7428 6e75          print(nu
-00024ab0: 6d62 6572 2e73 6561 7263 685f 7374 7269  mber.search_stri
-00024ac0: 6e67 2822 3132 3320 332e 3134 3136 2037  ng("123 3.1416 7
-00024ad0: 3839 2229 290a 0a20 2020 2070 7269 6e74  89"))..    print
-00024ae0: 733a 3a0a 0a20 2020 2020 2020 205b 5b27  s::..        [['
-00024af0: 3132 3327 5d2c 205b 2733 2e31 3431 3627  123'], ['3.1416'
-00024b00: 5d2c 205b 2737 3839 275d 5d0a 2020 2020  ], ['789']].    
-00024b10: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-00024b20: 6e69 745f 5f28 7365 6c66 2c20 6578 7072  nit__(self, expr
-00024b30: 733a 2074 7970 696e 672e 4974 6572 6162  s: typing.Iterab
-00024b40: 6c65 5b50 6172 7365 7245 6c65 6d65 6e74  le[ParserElement
-00024b50: 5d2c 2073 6176 656c 6973 743a 2062 6f6f  ], savelist: boo
-00024b60: 6c20 3d20 4661 6c73 6529 3a0a 2020 2020  l = False):.    
-00024b70: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-00024b80: 6974 5f5f 2865 7870 7273 2c20 7361 7665  it__(exprs, save
-00024b90: 6c69 7374 290a 2020 2020 2020 2020 6966  list).        if
-00024ba0: 2073 656c 662e 6578 7072 733a 0a20 2020   self.exprs:.   
-00024bb0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-00024bc0: 7952 6574 7572 6e45 6d70 7479 203d 2061  yReturnEmpty = a
-00024bd0: 6e79 2865 2e6d 6179 5265 7475 726e 456d  ny(e.mayReturnEm
-00024be0: 7074 7920 666f 7220 6520 696e 2073 656c  pty for e in sel
-00024bf0: 662e 6578 7072 7329 0a20 2020 2020 2020  f.exprs).       
-00024c00: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
-00024c10: 6974 6573 7061 6365 203d 2061 6c6c 2865  itespace = all(e
-00024c20: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
-00024c30: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00024c40: 7072 7329 0a20 2020 2020 2020 2065 6c73  prs).        els
-00024c50: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-00024c60: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
-00024c70: 7479 203d 2054 7275 650a 0a20 2020 2064  ty = True..    d
-00024c80: 6566 2073 7472 6561 6d6c 696e 6528 7365  ef streamline(se
-00024c90: 6c66 2920 2d3e 2050 6172 7365 7245 6c65  lf) -> ParserEle
-00024ca0: 6d65 6e74 3a0a 2020 2020 2020 2020 7375  ment:.        su
-00024cb0: 7065 7228 292e 7374 7265 616d 6c69 6e65  per().streamline
-00024cc0: 2829 0a20 2020 2020 2020 2069 6620 7365  ().        if se
-00024cd0: 6c66 2e65 7870 7273 3a0a 2020 2020 2020  lf.exprs:.      
-00024ce0: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
-00024cf0: 7475 726e 456d 7074 7920 3d20 616e 7928  turnEmpty = any(
-00024d00: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
-00024d10: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-00024d20: 7870 7273 290a 2020 2020 2020 2020 2020  xprs).          
-00024d30: 2020 7365 6c66 2e73 6176 6541 734c 6973    self.saveAsLis
-00024d40: 7420 3d20 616e 7928 652e 7361 7665 4173  t = any(e.saveAs
-00024d50: 4c69 7374 2066 6f72 2065 2069 6e20 7365  List for e in se
-00024d60: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
-00024d70: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
-00024d80: 6869 7465 7370 6163 6520 3d20 616c 6c28  hitespace = all(
-00024d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024da0: 2065 2e73 6b69 7057 6869 7465 7370 6163   e.skipWhitespac
-00024db0: 6520 616e 6420 6e6f 7420 6973 696e 7374  e and not isinst
-00024dc0: 616e 6365 2865 2c20 5768 6974 6529 2066  ance(e, White) f
-00024dd0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-00024de0: 7273 0a20 2020 2020 2020 2020 2020 2029  rs.            )
-00024df0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00024e00: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00024e10: 7361 7665 4173 4c69 7374 203d 2046 616c  saveAsList = Fal
-00024e20: 7365 0a20 2020 2020 2020 2072 6574 7572  se.        retur
-00024e30: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
-00024e40: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
-00024e50: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-00024e60: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
-00024e70: 2020 2020 2020 2020 6d61 7845 7863 4c6f          maxExcLo
-00024e80: 6320 3d20 2d31 0a20 2020 2020 2020 206d  c = -1.        m
-00024e90: 6178 4578 6365 7074 696f 6e20 3d20 4e6f  axException = No
-00024ea0: 6e65 0a20 2020 2020 2020 206d 6174 6368  ne.        match
-00024eb0: 6573 203d 205b 5d0a 2020 2020 2020 2020  es = [].        
-00024ec0: 6661 7461 6c73 203d 205b 5d0a 2020 2020  fatals = [].    
-00024ed0: 2020 2020 6966 2061 6c6c 2865 2e63 616c      if all(e.cal
-00024ee0: 6c50 7265 7061 7273 6520 666f 7220 6520  lPreparse for e 
-00024ef0: 696e 2073 656c 662e 6578 7072 7329 3a0a  in self.exprs):.
-00024f00: 2020 2020 2020 2020 2020 2020 6c6f 6320              loc 
-00024f10: 3d20 7365 6c66 2e70 7265 5061 7273 6528  = self.preParse(
-00024f20: 696e 7374 7269 6e67 2c20 6c6f 6329 0a20  instring, loc). 
-00024f30: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
-00024f40: 7365 6c66 2e65 7870 7273 3a0a 2020 2020  self.exprs:.    
-00024f50: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00024f60: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
-00024f70: 3220 3d20 652e 7472 795f 7061 7273 6528  2 = e.try_parse(
-00024f80: 696e 7374 7269 6e67 2c20 6c6f 632c 2072  instring, loc, r
-00024f90: 6169 7365 5f66 6174 616c 3d54 7275 6529  aise_fatal=True)
-00024fa0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-00024fb0: 6570 7420 5061 7273 6546 6174 616c 4578  ept ParseFatalEx
-00024fc0: 6365 7074 696f 6e20 6173 2070 6665 3a0a  ception as pfe:.
-00024fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024fe0: 7066 652e 5f5f 7472 6163 6562 6163 6b5f  pfe.__traceback_
-00024ff0: 5f20 3d20 4e6f 6e65 0a20 2020 2020 2020  _ = None.       
-00025000: 2020 2020 2020 2020 2070 6665 2e70 6172           pfe.par
-00025010: 7365 725f 656c 656d 656e 7420 3d20 650a  ser_element = e.
-00025020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025030: 6661 7461 6c73 2e61 7070 656e 6428 7066  fatals.append(pf
-00025040: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00025050: 2020 206d 6178 4578 6365 7074 696f 6e20     maxException 
-00025060: 3d20 4e6f 6e65 0a20 2020 2020 2020 2020  = None.         
-00025070: 2020 2020 2020 206d 6178 4578 634c 6f63         maxExcLoc
-00025080: 203d 202d 310a 2020 2020 2020 2020 2020   = -1.          
-00025090: 2020 6578 6365 7074 2050 6172 7365 4578    except ParseEx
-000250a0: 6365 7074 696f 6e20 6173 2065 7272 3a0a  ception as err:.
-000250b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000250c0: 6966 206e 6f74 2066 6174 616c 733a 0a20  if not fatals:. 
-000250d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000250e0: 2020 2065 7272 2e5f 5f74 7261 6365 6261     err.__traceba
-000250f0: 636b 5f5f 203d 204e 6f6e 650a 2020 2020  ck__ = None.    
-00025100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025110: 6966 2065 7272 2e6c 6f63 203e 206d 6178  if err.loc > max
-00025120: 4578 634c 6f63 3a0a 2020 2020 2020 2020  ExcLoc:.        
-00025130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025140: 6d61 7845 7863 6570 7469 6f6e 203d 2065  maxException = e
-00025150: 7272 0a20 2020 2020 2020 2020 2020 2020  rr.             
-00025160: 2020 2020 2020 2020 2020 206d 6178 4578             maxEx
-00025170: 634c 6f63 203d 2065 7272 2e6c 6f63 0a20  cLoc = err.loc. 
-00025180: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-00025190: 7420 496e 6465 7845 7272 6f72 3a0a 2020  t IndexError:.  
-000251a0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-000251b0: 206c 656e 2869 6e73 7472 696e 6729 203e   len(instring) >
-000251c0: 206d 6178 4578 634c 6f63 3a0a 2020 2020   maxExcLoc:.    
-000251d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000251e0: 6d61 7845 7863 6570 7469 6f6e 203d 2050  maxException = P
-000251f0: 6172 7365 4578 6365 7074 696f 6e28 0a20  arseException(. 
-00025200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025210: 2020 2020 2020 2069 6e73 7472 696e 672c         instring,
-00025220: 206c 656e 2869 6e73 7472 696e 6729 2c20   len(instring), 
-00025230: 652e 6572 726d 7367 2c20 7365 6c66 0a20  e.errmsg, self. 
-00025240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025250: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00025260: 2020 2020 2020 2020 206d 6178 4578 634c           maxExcL
-00025270: 6f63 203d 206c 656e 2869 6e73 7472 696e  oc = len(instrin
-00025280: 6729 0a20 2020 2020 2020 2020 2020 2065  g).            e
-00025290: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-000252a0: 2020 2020 2023 2073 6176 6520 6d61 7463       # save matc
-000252b0: 6820 616d 6f6e 6720 616c 6c20 6d61 7463  h among all matc
-000252c0: 6865 732c 2074 6f20 7265 7472 7920 6c6f  hes, to retry lo
-000252d0: 6e67 6573 7420 746f 2073 686f 7274 6573  ngest to shortes
-000252e0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
-000252f0: 2020 6d61 7463 6865 732e 6170 7065 6e64    matches.append
-00025300: 2828 6c6f 6332 2c20 6529 290a 0a20 2020  ((loc2, e))..   
-00025310: 2020 2020 2069 6620 6d61 7463 6865 733a       if matches:
-00025320: 0a20 2020 2020 2020 2020 2020 2023 2072  .            # r
-00025330: 652d 6576 616c 7561 7465 2061 6c6c 206d  e-evaluate all m
-00025340: 6174 6368 6573 2069 6e20 6465 7363 656e  atches in descen
-00025350: 6469 6e67 206f 7264 6572 206f 6620 6c65  ding order of le
-00025360: 6e67 7468 206f 6620 6d61 7463 682c 2069  ngth of match, i
-00025370: 6e20 6361 7365 2061 7474 6163 6865 6420  n case attached 
-00025380: 6163 7469 6f6e 730a 2020 2020 2020 2020  actions.        
-00025390: 2020 2020 2320 6d69 6768 7420 6368 616e      # might chan
-000253a0: 6765 2077 6865 7468 6572 206f 7220 686f  ge whether or ho
-000253b0: 7720 6d75 6368 2074 6865 7920 6d61 7463  w much they matc
-000253c0: 6820 6f66 2074 6865 2069 6e70 7574 2e0a  h of the input..
-000253d0: 2020 2020 2020 2020 2020 2020 6d61 7463              matc
-000253e0: 6865 732e 736f 7274 286b 6579 3d69 7465  hes.sort(key=ite
-000253f0: 6d67 6574 7465 7228 3029 2c20 7265 7665  mgetter(0), reve
-00025400: 7273 653d 5472 7565 290a 0a20 2020 2020  rse=True)..     
-00025410: 2020 2020 2020 2069 6620 6e6f 7420 646f         if not do
-00025420: 4163 7469 6f6e 733a 0a20 2020 2020 2020  Actions:.       
-00025430: 2020 2020 2020 2020 2023 206e 6f20 6675           # no fu
-00025440: 7274 6865 7220 636f 6e64 6974 696f 6e73  rther conditions
-00025450: 206f 7220 7061 7273 6520 6163 7469 6f6e   or parse action
-00025460: 7320 746f 2063 6861 6e67 6520 7468 6520  s to change the 
-00025470: 7365 6c65 6374 696f 6e20 6f66 0a20 2020  selection of.   
-00025480: 2020 2020 2020 2020 2020 2020 2023 2061               # a
-00025490: 6c74 6572 6e61 7469 7665 2c20 736f 2074  lternative, so t
-000254a0: 6865 2066 6972 7374 206d 6174 6368 2077  he first match w
-000254b0: 696c 6c20 6265 2074 6865 2062 6573 7420  ill be the best 
-000254c0: 6d61 7463 680a 2020 2020 2020 2020 2020  match.          
-000254d0: 2020 2020 2020 6265 7374 5f65 7870 7220        best_expr 
-000254e0: 3d20 6d61 7463 6865 735b 305d 5b31 5d0a  = matches[0][1].
-000254f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025500: 7265 7475 726e 2062 6573 745f 6578 7072  return best_expr
-00025510: 2e5f 7061 7273 6528 696e 7374 7269 6e67  ._parse(instring
-00025520: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-00025530: 290a 0a20 2020 2020 2020 2020 2020 206c  )..            l
-00025540: 6f6e 6765 7374 203d 202d 312c 204e 6f6e  ongest = -1, Non
-00025550: 650a 2020 2020 2020 2020 2020 2020 666f  e.            fo
-00025560: 7220 6c6f 6331 2c20 6578 7072 3120 696e  r loc1, expr1 in
-00025570: 206d 6174 6368 6573 3a0a 2020 2020 2020   matches:.      
-00025580: 2020 2020 2020 2020 2020 6966 206c 6f63            if loc
-00025590: 3120 3c3d 206c 6f6e 6765 7374 5b30 5d3a  1 <= longest[0]:
-000255a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000255b0: 2020 2020 2023 2061 6c72 6561 6479 2068       # already h
-000255c0: 6176 6520 6120 6c6f 6e67 6572 206d 6174  ave a longer mat
-000255d0: 6368 2074 6861 6e20 7468 6973 206f 6e65  ch than this one
-000255e0: 2077 696c 6c20 6465 6c69 7665 722c 2077   will deliver, w
-000255f0: 6520 6172 6520 646f 6e65 0a20 2020 2020  e are done.     
-00025600: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00025610: 6574 7572 6e20 6c6f 6e67 6573 740a 0a20  eturn longest.. 
-00025620: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00025630: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00025640: 2020 2020 2020 2020 6c6f 6332 2c20 746f          loc2, to
-00025650: 6b73 203d 2065 7870 7231 2e5f 7061 7273  ks = expr1._pars
-00025660: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
-00025670: 2064 6f41 6374 696f 6e73 290a 2020 2020   doActions).    
-00025680: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00025690: 7074 2050 6172 7365 4578 6365 7074 696f  pt ParseExceptio
-000256a0: 6e20 6173 2065 7272 3a0a 2020 2020 2020  n as err:.      
-000256b0: 2020 2020 2020 2020 2020 2020 2020 6572                er
-000256c0: 722e 5f5f 7472 6163 6562 6163 6b5f 5f20  r.__traceback__ 
-000256d0: 3d20 4e6f 6e65 0a20 2020 2020 2020 2020  = None.         
-000256e0: 2020 2020 2020 2020 2020 2069 6620 6572             if er
-000256f0: 722e 6c6f 6320 3e20 6d61 7845 7863 4c6f  r.loc > maxExcLo
-00025700: 633a 0a20 2020 2020 2020 2020 2020 2020  c:.             
-00025710: 2020 2020 2020 2020 2020 206d 6178 4578             maxEx
-00025720: 6365 7074 696f 6e20 3d20 6572 720a 2020  ception = err.  
-00025730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025740: 2020 2020 2020 6d61 7845 7863 4c6f 6320        maxExcLoc 
-00025750: 3d20 6572 722e 6c6f 630a 2020 2020 2020  = err.loc.      
-00025760: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00025770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025780: 2020 2020 6966 206c 6f63 3220 3e3d 206c      if loc2 >= l
-00025790: 6f63 313a 0a20 2020 2020 2020 2020 2020  oc1:.           
-000257a0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-000257b0: 7572 6e20 6c6f 6332 2c20 746f 6b73 0a20  urn loc2, toks. 
-000257c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000257d0: 2020 2023 2064 6964 6e27 7420 6d61 7463     # didn't matc
-000257e0: 6820 6173 206d 7563 6820 6173 2062 6566  h as much as bef
-000257f0: 6f72 650a 2020 2020 2020 2020 2020 2020  ore.            
-00025800: 2020 2020 2020 2020 656c 6966 206c 6f63          elif loc
-00025810: 3220 3e20 6c6f 6e67 6573 745b 305d 3a0a  2 > longest[0]:.
-00025820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025830: 2020 2020 2020 2020 6c6f 6e67 6573 7420          longest 
-00025840: 3d20 6c6f 6332 2c20 746f 6b73 0a0a 2020  = loc2, toks..  
-00025850: 2020 2020 2020 2020 2020 6966 206c 6f6e            if lon
-00025860: 6765 7374 2021 3d20 282d 312c 204e 6f6e  gest != (-1, Non
-00025870: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-00025880: 2020 2020 7265 7475 726e 206c 6f6e 6765      return longe
-00025890: 7374 0a0a 2020 2020 2020 2020 6966 2066  st..        if f
-000258a0: 6174 616c 733a 0a20 2020 2020 2020 2020  atals:.         
-000258b0: 2020 2069 6620 6c65 6e28 6661 7461 6c73     if len(fatals
-000258c0: 2920 3e20 313a 0a20 2020 2020 2020 2020  ) > 1:.         
-000258d0: 2020 2020 2020 2066 6174 616c 732e 736f         fatals.so
-000258e0: 7274 286b 6579 3d6c 616d 6264 6120 653a  rt(key=lambda e:
-000258f0: 202d 652e 6c6f 6329 0a20 2020 2020 2020   -e.loc).       
-00025900: 2020 2020 2020 2020 2069 6620 6661 7461           if fata
-00025910: 6c73 5b30 5d2e 6c6f 6320 3d3d 2066 6174  ls[0].loc == fat
-00025920: 616c 735b 315d 2e6c 6f63 3a0a 2020 2020  als[1].loc:.    
-00025930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025940: 6661 7461 6c73 2e73 6f72 7428 6b65 793d  fatals.sort(key=
-00025950: 6c61 6d62 6461 2065 3a20 282d 652e 6c6f  lambda e: (-e.lo
-00025960: 632c 202d 6c65 6e28 7374 7228 652e 7061  c, -len(str(e.pa
-00025970: 7273 6572 5f65 6c65 6d65 6e74 2929 2929  rser_element))))
-00025980: 0a20 2020 2020 2020 2020 2020 206d 6178  .            max
-00025990: 5f66 6174 616c 203d 2066 6174 616c 735b  _fatal = fatals[
-000259a0: 305d 0a20 2020 2020 2020 2020 2020 2072  0].            r
-000259b0: 6169 7365 206d 6178 5f66 6174 616c 0a0a  aise max_fatal..
-000259c0: 2020 2020 2020 2020 6966 206d 6178 4578          if maxEx
-000259d0: 6365 7074 696f 6e20 6973 206e 6f74 204e  ception is not N
-000259e0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-000259f0: 2023 2069 6e66 6572 2066 726f 6d20 7468   # infer from th
-00025a00: 6973 2063 6865 636b 2074 6861 7420 616c  is check that al
-00025a10: 6c20 616c 7465 726e 6174 6976 6573 2066  l alternatives f
-00025a20: 6169 6c65 6420 6174 2074 6865 2063 7572  ailed at the cur
-00025a30: 7265 6e74 2070 6f73 6974 696f 6e0a 2020  rent position.  
-00025a40: 2020 2020 2020 2020 2020 2320 736f 2065            # so e
-00025a50: 6d69 7420 7468 6973 2063 6f6c 6c65 6374  mit this collect
-00025a60: 6976 6520 6572 726f 7220 6d65 7373 6167  ive error messag
-00025a70: 6520 696e 7374 6561 6420 6f66 2061 6e79  e instead of any
-00025a80: 2073 696e 676c 6520 6572 726f 7220 6d65   single error me
-00025a90: 7373 6167 650a 2020 2020 2020 2020 2020  ssage.          
-00025aa0: 2020 6966 206d 6178 4578 634c 6f63 203d    if maxExcLoc =
-00025ab0: 3d20 6c6f 633a 0a20 2020 2020 2020 2020  = loc:.         
-00025ac0: 2020 2020 2020 206d 6178 4578 6365 7074         maxExcept
-00025ad0: 696f 6e2e 6d73 6720 3d20 7365 6c66 2e65  ion.msg = self.e
-00025ae0: 7272 6d73 670a 2020 2020 2020 2020 2020  rrmsg.          
-00025af0: 2020 7261 6973 6520 6d61 7845 7863 6570    raise maxExcep
-00025b00: 7469 6f6e 0a20 2020 2020 2020 2065 6c73  tion.        els
-00025b10: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00025b20: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
-00025b30: 696f 6e28 0a20 2020 2020 2020 2020 2020  ion(.           
-00025b40: 2020 2020 2069 6e73 7472 696e 672c 206c       instring, l
-00025b50: 6f63 2c20 226e 6f20 6465 6669 6e65 6420  oc, "no defined 
-00025b60: 616c 7465 726e 6174 6976 6573 2074 6f20  alternatives to 
-00025b70: 6d61 7463 6822 2c20 7365 6c66 0a20 2020  match", self.   
-00025b80: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-00025b90: 6465 6620 5f5f 6978 6f72 5f5f 2873 656c  def __ixor__(sel
-00025ba0: 662c 206f 7468 6572 293a 0a20 2020 2020  f, other):.     
-00025bb0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00025bc0: 286f 7468 6572 2c20 7374 725f 7479 7065  (other, str_type
-00025bd0: 293a 0a20 2020 2020 2020 2020 2020 206f  ):.            o
-00025be0: 7468 6572 203d 2073 656c 662e 5f6c 6974  ther = self._lit
-00025bf0: 6572 616c 5374 7269 6e67 436c 6173 7328  eralStringClass(
-00025c00: 6f74 6865 7229 0a20 2020 2020 2020 2069  other).        i
-00025c10: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
-00025c20: 286f 7468 6572 2c20 5061 7273 6572 456c  (other, ParserEl
-00025c30: 656d 656e 7429 3a0a 2020 2020 2020 2020  ement):.        
-00025c40: 2020 2020 7265 7475 726e 204e 6f74 496d      return NotIm
-00025c50: 706c 656d 656e 7465 640a 2020 2020 2020  plemented.      
-00025c60: 2020 7265 7475 726e 2073 656c 662e 6170    return self.ap
-00025c70: 7065 6e64 286f 7468 6572 2920 2023 204f  pend(other)  # O
-00025c80: 7228 5b73 656c 662c 206f 7468 6572 5d29  r([self, other])
-00025c90: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
-00025ca0: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
-00025cb0: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00025cc0: 2020 2020 2072 6574 7572 6e20 227b 2220       return "{" 
-00025cd0: 2b20 2220 5e20 222e 6a6f 696e 2873 7472  + " ^ ".join(str
-00025ce0: 2865 2920 666f 7220 6520 696e 2073 656c  (e) for e in sel
-00025cf0: 662e 6578 7072 7329 202b 2022 7d22 0a0a  f.exprs) + "}"..
-00025d00: 2020 2020 6465 6620 5f73 6574 5265 7375      def _setResu
-00025d10: 6c74 734e 616d 6528 7365 6c66 2c20 6e61  ltsName(self, na
-00025d20: 6d65 2c20 6c69 7374 416c 6c4d 6174 6368  me, listAllMatch
-00025d30: 6573 3d46 616c 7365 293a 0a20 2020 2020  es=False):.     
-00025d40: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
-00025d50: 2020 2020 5f5f 6469 6167 5f5f 2e77 6172      __diag__.war
-00025d60: 6e5f 6d75 6c74 6970 6c65 5f74 6f6b 656e  n_multiple_token
-00025d70: 735f 696e 5f6e 616d 6564 5f61 6c74 6572  s_in_named_alter
-00025d80: 6e61 7469 6f6e 0a20 2020 2020 2020 2020  nation.         
-00025d90: 2020 2061 6e64 2044 6961 676e 6f73 7469     and Diagnosti
-00025da0: 6373 2e77 6172 6e5f 6d75 6c74 6970 6c65  cs.warn_multiple
-00025db0: 5f74 6f6b 656e 735f 696e 5f6e 616d 6564  _tokens_in_named
-00025dc0: 5f61 6c74 6572 6e61 7469 6f6e 0a20 2020  _alternation.   
-00025dd0: 2020 2020 2020 2020 206e 6f74 2069 6e20           not in 
-00025de0: 7365 6c66 2e73 7570 7072 6573 735f 7761  self.suppress_wa
-00025df0: 726e 696e 6773 5f0a 2020 2020 2020 2020  rnings_.        
-00025e00: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-00025e10: 6620 616e 7928 0a20 2020 2020 2020 2020  f any(.         
-00025e20: 2020 2020 2020 2069 7369 6e73 7461 6e63         isinstanc
-00025e30: 6528 652c 2041 6e64 290a 2020 2020 2020  e(e, And).      
-00025e40: 2020 2020 2020 2020 2020 616e 6420 4469            and Di
-00025e50: 6167 6e6f 7374 6963 732e 7761 726e 5f6d  agnostics.warn_m
-00025e60: 756c 7469 706c 655f 746f 6b65 6e73 5f69  ultiple_tokens_i
-00025e70: 6e5f 6e61 6d65 645f 616c 7465 726e 6174  n_named_alternat
-00025e80: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-00025e90: 2020 2020 6e6f 7420 696e 2065 2e73 7570      not in e.sup
-00025ea0: 7072 6573 735f 7761 726e 696e 6773 5f0a  press_warnings_.
-00025eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025ec0: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00025ed0: 7072 730a 2020 2020 2020 2020 2020 2020  prs.            
-00025ee0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00025ef0: 2020 2077 6172 6e69 6e67 732e 7761 726e     warnings.warn
-00025f00: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00025f10: 2020 2020 2020 227b 7d3a 2073 6574 7469        "{}: setti
-00025f20: 6e67 2072 6573 756c 7473 206e 616d 6520  ng results name 
-00025f30: 7b21 727d 206f 6e20 7b7d 2065 7870 7265  {!r} on {} expre
-00025f40: 7373 696f 6e20 220a 2020 2020 2020 2020  ssion ".        
-00025f50: 2020 2020 2020 2020 2020 2020 2277 696c              "wil
-00025f60: 6c20 7265 7475 726e 2061 206c 6973 7420  l return a list 
-00025f70: 6f66 2061 6c6c 2070 6172 7365 6420 746f  of all parsed to
-00025f80: 6b65 6e73 2069 6e20 616e 2041 6e64 2061  kens in an And a
-00025f90: 6c74 6572 6e61 7469 7665 2c20 220a 2020  lternative, ".  
-00025fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025fb0: 2020 2269 6e20 7072 696f 7220 7665 7273    "in prior vers
-00025fc0: 696f 6e73 206f 6e6c 7920 7468 6520 6669  ions only the fi
-00025fd0: 7273 7420 746f 6b65 6e20 7761 7320 7265  rst token was re
-00025fe0: 7475 726e 6564 3b20 656e 636c 6f73 6520  turned; enclose 
-00025ff0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00026000: 2020 2020 2020 2263 6f6e 7461 696e 6564        "contained
-00026010: 2061 7267 756d 656e 7420 696e 2047 726f   argument in Gro
-00026020: 7570 222e 666f 726d 6174 280a 2020 2020  up".format(.    
-00026030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026040: 2020 2020 2277 6172 6e5f 6d75 6c74 6970      "warn_multip
-00026050: 6c65 5f74 6f6b 656e 735f 696e 5f6e 616d  le_tokens_in_nam
-00026060: 6564 5f61 6c74 6572 6e61 7469 6f6e 222c  ed_alternation",
-00026070: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026080: 2020 2020 2020 2020 206e 616d 652c 0a20           name,. 
-00026090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000260a0: 2020 2020 2020 2074 7970 6528 7365 6c66         type(self
-000260b0: 292e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  ).__name__,.    
-000260c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000260d0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-000260e0: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
-000260f0: 6c3d 332c 0a20 2020 2020 2020 2020 2020  l=3,.           
-00026100: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-00026110: 7265 7475 726e 2073 7570 6572 2829 2e5f  return super()._
-00026120: 7365 7452 6573 756c 7473 4e61 6d65 286e  setResultsName(n
-00026130: 616d 652c 206c 6973 7441 6c6c 4d61 7463  ame, listAllMatc
-00026140: 6865 7329 0a0a 0a63 6c61 7373 204d 6174  hes)...class Mat
-00026150: 6368 4669 7273 7428 5061 7273 6545 7870  chFirst(ParseExp
-00026160: 7265 7373 696f 6e29 3a0a 2020 2020 2222  ression):.    ""
-00026170: 2252 6571 7569 7265 7320 7468 6174 2061  "Requires that a
-00026180: 7420 6c65 6173 7420 6f6e 6520 3a63 6c61  t least one :cla
-00026190: 7373 3a60 5061 7273 6545 7870 7265 7373  ss:`ParseExpress
-000261a0: 696f 6e60 2069 7320 666f 756e 642e 2049  ion` is found. I
-000261b0: 660a 2020 2020 6d6f 7265 2074 6861 6e20  f.    more than 
-000261c0: 6f6e 6520 6578 7072 6573 7369 6f6e 206d  one expression m
-000261d0: 6174 6368 6573 2c20 7468 6520 6669 7273  atches, the firs
-000261e0: 7420 6f6e 6520 6c69 7374 6564 2069 7320  t one listed is 
-000261f0: 7468 6520 6f6e 6520 7468 6174 2077 696c  the one that wil
-00026200: 6c0a 2020 2020 6d61 7463 682e 204d 6179  l.    match. May
-00026210: 2062 6520 636f 6e73 7472 7563 7465 6420   be constructed 
-00026220: 7573 696e 6720 7468 6520 6060 277c 2760  using the ``'|'`
-00026230: 6020 6f70 6572 6174 6f72 2e0a 0a20 2020  ` operator...   
-00026240: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
-00026250: 2020 2020 2320 636f 6e73 7472 7563 7420      # construct 
-00026260: 4d61 7463 6846 6972 7374 2075 7369 6e67  MatchFirst using
-00026270: 2027 7c27 206f 7065 7261 746f 720a 0a20   '|' operator.. 
-00026280: 2020 2020 2020 2023 2077 6174 6368 2074         # watch t
-00026290: 6865 206f 7264 6572 206f 6620 6578 7072  he order of expr
-000262a0: 6573 7369 6f6e 7320 746f 206d 6174 6368  essions to match
-000262b0: 0a20 2020 2020 2020 206e 756d 6265 7220  .        number 
-000262c0: 3d20 576f 7264 286e 756d 7329 207c 2043  = Word(nums) | C
-000262d0: 6f6d 6269 6e65 2857 6f72 6428 6e75 6d73  ombine(Word(nums
-000262e0: 2920 2b20 272e 2720 2b20 576f 7264 286e  ) + '.' + Word(n
-000262f0: 756d 7329 290a 2020 2020 2020 2020 7072  ums)).        pr
-00026300: 696e 7428 6e75 6d62 6572 2e73 6561 7263  int(number.searc
-00026310: 685f 7374 7269 6e67 2822 3132 3320 332e  h_string("123 3.
-00026320: 3134 3136 2037 3839 2229 2920 2320 2046  1416 789")) #  F
-00026330: 6169 6c21 202d 3e20 5b5b 2731 3233 275d  ail! -> [['123']
-00026340: 2c20 5b27 3327 5d2c 205b 2731 3431 3627  , ['3'], ['1416'
-00026350: 5d2c 205b 2737 3839 275d 5d0a 0a20 2020  ], ['789']]..   
-00026360: 2020 2020 2023 2070 7574 206d 6f72 6520       # put more 
-00026370: 7365 6c65 6374 6976 6520 6578 7072 6573  selective expres
-00026380: 7369 6f6e 2066 6972 7374 0a20 2020 2020  sion first.     
-00026390: 2020 206e 756d 6265 7220 3d20 436f 6d62     number = Comb
-000263a0: 696e 6528 576f 7264 286e 756d 7329 202b  ine(Word(nums) +
-000263b0: 2027 2e27 202b 2057 6f72 6428 6e75 6d73   '.' + Word(nums
-000263c0: 2929 207c 2057 6f72 6428 6e75 6d73 290a  )) | Word(nums).
-000263d0: 2020 2020 2020 2020 7072 696e 7428 6e75          print(nu
-000263e0: 6d62 6572 2e73 6561 7263 685f 7374 7269  mber.search_stri
-000263f0: 6e67 2822 3132 3320 332e 3134 3136 2037  ng("123 3.1416 7
-00026400: 3839 2229 2920 2320 2042 6574 7465 7220  89")) #  Better 
-00026410: 2d3e 205b 5b27 3132 3327 5d2c 205b 2733  -> [['123'], ['3
-00026420: 2e31 3431 3627 5d2c 205b 2737 3839 275d  .1416'], ['789']
-00026430: 5d0a 2020 2020 2222 220a 0a20 2020 2064  ].    """..    d
-00026440: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
-00026450: 2c20 6578 7072 733a 2074 7970 696e 672e  , exprs: typing.
-00026460: 4974 6572 6162 6c65 5b50 6172 7365 7245  Iterable[ParserE
-00026470: 6c65 6d65 6e74 5d2c 2073 6176 656c 6973  lement], savelis
-00026480: 743a 2062 6f6f 6c20 3d20 4661 6c73 6529  t: bool = False)
-00026490: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-000264a0: 292e 5f5f 696e 6974 5f5f 2865 7870 7273  ).__init__(exprs
-000264b0: 2c20 7361 7665 6c69 7374 290a 2020 2020  , savelist).    
-000264c0: 2020 2020 6966 2073 656c 662e 6578 7072      if self.expr
-000264d0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-000264e0: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
-000264f0: 7479 203d 2061 6e79 2865 2e6d 6179 5265  ty = any(e.mayRe
-00026500: 7475 726e 456d 7074 7920 666f 7220 6520  turnEmpty for e 
-00026510: 696e 2073 656c 662e 6578 7072 7329 0a20  in self.exprs). 
-00026520: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00026530: 736b 6970 5768 6974 6573 7061 6365 203d  skipWhitespace =
-00026540: 2061 6c6c 2865 2e73 6b69 7057 6869 7465   all(e.skipWhite
-00026550: 7370 6163 6520 666f 7220 6520 696e 2073  space for e in s
-00026560: 656c 662e 6578 7072 7329 0a20 2020 2020  elf.exprs).     
-00026570: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00026580: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
-00026590: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
-000265a0: 0a20 2020 2064 6566 2073 7472 6561 6d6c  .    def streaml
-000265b0: 696e 6528 7365 6c66 2920 2d3e 2050 6172  ine(self) -> Par
-000265c0: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
-000265d0: 2020 2020 6966 2073 656c 662e 7374 7265      if self.stre
-000265e0: 616d 6c69 6e65 643a 0a20 2020 2020 2020  amlined:.       
-000265f0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00026600: 0a0a 2020 2020 2020 2020 7375 7065 7228  ..        super(
-00026610: 292e 7374 7265 616d 6c69 6e65 2829 0a20  ).streamline(). 
-00026620: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
-00026630: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
-00026640: 2020 7365 6c66 2e73 6176 6541 734c 6973    self.saveAsLis
-00026650: 7420 3d20 616e 7928 652e 7361 7665 4173  t = any(e.saveAs
-00026660: 4c69 7374 2066 6f72 2065 2069 6e20 7365  List for e in se
-00026670: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
-00026680: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
-00026690: 7475 726e 456d 7074 7920 3d20 616e 7928  turnEmpty = any(
-000266a0: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
-000266b0: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-000266c0: 7870 7273 290a 2020 2020 2020 2020 2020  xprs).          
-000266d0: 2020 7365 6c66 2e73 6b69 7057 6869 7465    self.skipWhite
-000266e0: 7370 6163 6520 3d20 616c 6c28 0a20 2020  space = all(.   
-000266f0: 2020 2020 2020 2020 2020 2020 2065 2e73               e.s
-00026700: 6b69 7057 6869 7465 7370 6163 6520 616e  kipWhitespace an
-00026710: 6420 6e6f 7420 6973 696e 7374 616e 6365  d not isinstance
-00026720: 2865 2c20 5768 6974 6529 2066 6f72 2065  (e, White) for e
-00026730: 2069 6e20 7365 6c66 2e65 7870 7273 0a20   in self.exprs. 
-00026740: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-00026750: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00026760: 2020 2020 2020 2073 656c 662e 7361 7665         self.save
-00026770: 4173 4c69 7374 203d 2046 616c 7365 0a20  AsList = False. 
-00026780: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00026790: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
-000267a0: 2054 7275 650a 2020 2020 2020 2020 7265   True.        re
-000267b0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-000267c0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
-000267d0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
-000267e0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
-000267f0: 293a 0a20 2020 2020 2020 206d 6178 4578  ):.        maxEx
-00026800: 634c 6f63 203d 202d 310a 2020 2020 2020  cLoc = -1.      
-00026810: 2020 6d61 7845 7863 6570 7469 6f6e 203d    maxException =
-00026820: 204e 6f6e 650a 0a20 2020 2020 2020 2066   None..        f
-00026830: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-00026840: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-00026850: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00026860: 2020 2020 2072 6574 7572 6e20 652e 5f70       return e._p
-00026870: 6172 7365 280a 2020 2020 2020 2020 2020  arse(.          
-00026880: 2020 2020 2020 2020 2020 696e 7374 7269            instri
-00026890: 6e67 2c0a 2020 2020 2020 2020 2020 2020  ng,.            
-000268a0: 2020 2020 2020 2020 6c6f 632c 0a20 2020          loc,.   
-000268b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000268c0: 2064 6f41 6374 696f 6e73 2c0a 2020 2020   doActions,.    
-000268d0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-000268e0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-000268f0: 2050 6172 7365 4661 7461 6c45 7863 6570   ParseFatalExcep
-00026900: 7469 6f6e 2061 7320 7066 653a 0a20 2020  tion as pfe:.   
-00026910: 2020 2020 2020 2020 2020 2020 2070 6665               pfe
-00026920: 2e5f 5f74 7261 6365 6261 636b 5f5f 203d  .__traceback__ =
-00026930: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
-00026940: 2020 2020 2020 7066 652e 7061 7273 6572        pfe.parser
-00026950: 5f65 6c65 6d65 6e74 203d 2065 0a20 2020  _element = e.   
-00026960: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00026970: 7365 0a20 2020 2020 2020 2020 2020 2065  se.            e
-00026980: 7863 6570 7420 5061 7273 6545 7863 6570  xcept ParseExcep
-00026990: 7469 6f6e 2061 7320 6572 723a 0a20 2020  tion as err:.   
-000269a0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000269b0: 6572 722e 6c6f 6320 3e20 6d61 7845 7863  err.loc > maxExc
-000269c0: 4c6f 633a 0a20 2020 2020 2020 2020 2020  Loc:.           
-000269d0: 2020 2020 2020 2020 206d 6178 4578 6365           maxExce
-000269e0: 7074 696f 6e20 3d20 6572 720a 2020 2020  ption = err.    
-000269f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026a00: 6d61 7845 7863 4c6f 6320 3d20 6572 722e  maxExcLoc = err.
-00026a10: 6c6f 630a 2020 2020 2020 2020 2020 2020  loc.            
-00026a20: 6578 6365 7074 2049 6e64 6578 4572 726f  except IndexErro
-00026a30: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00026a40: 2020 2069 6620 6c65 6e28 696e 7374 7269     if len(instri
-00026a50: 6e67 2920 3e20 6d61 7845 7863 4c6f 633a  ng) > maxExcLoc:
-00026a60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026a70: 2020 2020 206d 6178 4578 6365 7074 696f       maxExceptio
-00026a80: 6e20 3d20 5061 7273 6545 7863 6570 7469  n = ParseExcepti
-00026a90: 6f6e 280a 2020 2020 2020 2020 2020 2020  on(.            
-00026aa0: 2020 2020 2020 2020 2020 2020 696e 7374              inst
-00026ab0: 7269 6e67 2c20 6c65 6e28 696e 7374 7269  ring, len(instri
-00026ac0: 6e67 292c 2065 2e65 7272 6d73 672c 2073  ng), e.errmsg, s
-00026ad0: 656c 660a 2020 2020 2020 2020 2020 2020  elf.            
-00026ae0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00026af0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-00026b00: 7845 7863 4c6f 6320 3d20 6c65 6e28 696e  xExcLoc = len(in
-00026b10: 7374 7269 6e67 290a 0a20 2020 2020 2020  string)..       
-00026b20: 2069 6620 6d61 7845 7863 6570 7469 6f6e   if maxException
-00026b30: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-00026b40: 2020 2020 2020 2020 2020 2320 696e 6665            # infe
-00026b50: 7220 6672 6f6d 2074 6869 7320 6368 6563  r from this chec
-00026b60: 6b20 7468 6174 2061 6c6c 2061 6c74 6572  k that all alter
-00026b70: 6e61 7469 7665 7320 6661 696c 6564 2061  natives failed a
-00026b80: 7420 7468 6520 6375 7272 656e 7420 706f  t the current po
-00026b90: 7369 7469 6f6e 0a20 2020 2020 2020 2020  sition.         
-00026ba0: 2020 2023 2073 6f20 656d 6974 2074 6869     # so emit thi
-00026bb0: 7320 636f 6c6c 6563 7469 7665 2065 7272  s collective err
-00026bc0: 6f72 206d 6573 7361 6765 2069 6e73 7465  or message inste
-00026bd0: 6164 206f 6620 616e 7920 696e 6469 7669  ad of any indivi
-00026be0: 6475 616c 2065 7272 6f72 206d 6573 7361  dual error messa
-00026bf0: 6765 0a20 2020 2020 2020 2020 2020 2069  ge.            i
-00026c00: 6620 6d61 7845 7863 4c6f 6320 3d3d 206c  f maxExcLoc == l
-00026c10: 6f63 3a0a 2020 2020 2020 2020 2020 2020  oc:.            
-00026c20: 2020 2020 6d61 7845 7863 6570 7469 6f6e      maxException
-00026c30: 2e6d 7367 203d 2073 656c 662e 6572 726d  .msg = self.errm
-00026c40: 7367 0a20 2020 2020 2020 2020 2020 2072  sg.            r
-00026c50: 6169 7365 206d 6178 4578 6365 7074 696f  aise maxExceptio
-00026c60: 6e0a 2020 2020 2020 2020 656c 7365 3a0a  n.        else:.
-00026c70: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00026c80: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-00026c90: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00026ca0: 2020 696e 7374 7269 6e67 2c20 6c6f 632c    instring, loc,
-00026cb0: 2022 6e6f 2064 6566 696e 6564 2061 6c74   "no defined alt
-00026cc0: 6572 6e61 7469 7665 7320 746f 206d 6174  ernatives to mat
-00026cd0: 6368 222c 2073 656c 660a 2020 2020 2020  ch", self.      
-00026ce0: 2020 2020 2020 290a 0a20 2020 2064 6566        )..    def
-00026cf0: 205f 5f69 6f72 5f5f 2873 656c 662c 206f   __ior__(self, o
-00026d00: 7468 6572 293a 0a20 2020 2020 2020 2069  ther):.        i
-00026d10: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
-00026d20: 6572 2c20 7374 725f 7479 7065 293a 0a20  er, str_type):. 
-00026d30: 2020 2020 2020 2020 2020 206f 7468 6572             other
-00026d40: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
-00026d50: 5374 7269 6e67 436c 6173 7328 6f74 6865  StringClass(othe
-00026d60: 7229 0a20 2020 2020 2020 2069 6620 6e6f  r).        if no
-00026d70: 7420 6973 696e 7374 616e 6365 286f 7468  t isinstance(oth
-00026d80: 6572 2c20 5061 7273 6572 456c 656d 656e  er, ParserElemen
-00026d90: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-00026da0: 7265 7475 726e 204e 6f74 496d 706c 656d  return NotImplem
-00026db0: 656e 7465 640a 2020 2020 2020 2020 7265  ented.        re
-00026dc0: 7475 726e 2073 656c 662e 6170 7065 6e64  turn self.append
-00026dd0: 286f 7468 6572 2920 2023 204d 6174 6368  (other)  # Match
-00026de0: 4669 7273 7428 5b73 656c 662c 206f 7468  First([self, oth
-00026df0: 6572 5d29 0a0a 2020 2020 6465 6620 5f67  er])..    def _g
-00026e00: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
-00026e10: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
-00026e20: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00026e30: 227b 2220 2b20 2220 7c20 222e 6a6f 696e  "{" + " | ".join
-00026e40: 2873 7472 2865 2920 666f 7220 6520 696e  (str(e) for e in
-00026e50: 2073 656c 662e 6578 7072 7329 202b 2022   self.exprs) + "
-00026e60: 7d22 0a0a 2020 2020 6465 6620 5f73 6574  }"..    def _set
-00026e70: 5265 7375 6c74 734e 616d 6528 7365 6c66  ResultsName(self
-00026e80: 2c20 6e61 6d65 2c20 6c69 7374 416c 6c4d  , name, listAllM
-00026e90: 6174 6368 6573 3d46 616c 7365 293a 0a20  atches=False):. 
-00026ea0: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
-00026eb0: 2020 2020 2020 2020 5f5f 6469 6167 5f5f          __diag__
-00026ec0: 2e77 6172 6e5f 6d75 6c74 6970 6c65 5f74  .warn_multiple_t
-00026ed0: 6f6b 656e 735f 696e 5f6e 616d 6564 5f61  okens_in_named_a
-00026ee0: 6c74 6572 6e61 7469 6f6e 0a20 2020 2020  lternation.     
-00026ef0: 2020 2020 2020 2061 6e64 2044 6961 676e         and Diagn
-00026f00: 6f73 7469 6373 2e77 6172 6e5f 6d75 6c74  ostics.warn_mult
-00026f10: 6970 6c65 5f74 6f6b 656e 735f 696e 5f6e  iple_tokens_in_n
-00026f20: 616d 6564 5f61 6c74 6572 6e61 7469 6f6e  amed_alternation
-00026f30: 0a20 2020 2020 2020 2020 2020 206e 6f74  .            not
-00026f40: 2069 6e20 7365 6c66 2e73 7570 7072 6573   in self.suppres
-00026f50: 735f 7761 726e 696e 6773 5f0a 2020 2020  s_warnings_.    
-00026f60: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
-00026f70: 2020 2069 6620 616e 7928 0a20 2020 2020     if any(.     
-00026f80: 2020 2020 2020 2020 2020 2069 7369 6e73             isins
-00026f90: 7461 6e63 6528 652c 2041 6e64 290a 2020  tance(e, And).  
-00026fa0: 2020 2020 2020 2020 2020 2020 2020 616e                an
-00026fb0: 6420 4469 6167 6e6f 7374 6963 732e 7761  d Diagnostics.wa
-00026fc0: 726e 5f6d 756c 7469 706c 655f 746f 6b65  rn_multiple_toke
-00026fd0: 6e73 5f69 6e5f 6e61 6d65 645f 616c 7465  ns_in_named_alte
-00026fe0: 726e 6174 696f 6e0a 2020 2020 2020 2020  rnation.        
-00026ff0: 2020 2020 2020 2020 6e6f 7420 696e 2065          not in e
-00027000: 2e73 7570 7072 6573 735f 7761 726e 696e  .suppress_warnin
-00027010: 6773 5f0a 2020 2020 2020 2020 2020 2020  gs_.            
-00027020: 2020 2020 666f 7220 6520 696e 2073 656c      for e in sel
-00027030: 662e 6578 7072 730a 2020 2020 2020 2020  f.exprs.        
-00027040: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
-00027050: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
-00027060: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
-00027070: 2020 2020 2020 2020 2020 227b 7d3a 2073            "{}: s
-00027080: 6574 7469 6e67 2072 6573 756c 7473 206e  etting results n
-00027090: 616d 6520 7b21 727d 206f 6e20 7b7d 2065  ame {!r} on {} e
-000270a0: 7870 7265 7373 696f 6e20 220a 2020 2020  xpression ".    
-000270b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000270c0: 2277 696c 6c20 7265 7475 726e 2061 206c  "will return a l
-000270d0: 6973 7420 6f66 2061 6c6c 2070 6172 7365  ist of all parse
-000270e0: 6420 746f 6b65 6e73 2069 6e20 616e 2041  d tokens in an A
-000270f0: 6e64 2061 6c74 6572 6e61 7469 7665 2c20  nd alternative, 
-00027100: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00027110: 2020 2020 2020 2269 6e20 7072 696f 7220        "in prior 
-00027120: 7665 7273 696f 6e73 206f 6e6c 7920 7468  versions only th
-00027130: 6520 6669 7273 7420 746f 6b65 6e20 7761  e first token wa
-00027140: 7320 7265 7475 726e 6564 3b20 656e 636c  s returned; encl
-00027150: 6f73 6520 220a 2020 2020 2020 2020 2020  ose ".          
-00027160: 2020 2020 2020 2020 2020 2263 6f6e 7461            "conta
-00027170: 696e 6564 2061 7267 756d 656e 7420 696e  ined argument in
-00027180: 2047 726f 7570 222e 666f 726d 6174 280a   Group".format(.
-00027190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000271a0: 2020 2020 2020 2020 2277 6172 6e5f 6d75          "warn_mu
-000271b0: 6c74 6970 6c65 5f74 6f6b 656e 735f 696e  ltiple_tokens_in
-000271c0: 5f6e 616d 6564 5f61 6c74 6572 6e61 7469  _named_alternati
-000271d0: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
-000271e0: 2020 2020 2020 2020 2020 2020 206e 616d               nam
-000271f0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00027200: 2020 2020 2020 2020 2020 2074 7970 6528             type(
-00027210: 7365 6c66 292e 5f5f 6e61 6d65 5f5f 2c0a  self).__name__,.
-00027220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027230: 2020 2020 292c 0a20 2020 2020 2020 2020      ),.         
-00027240: 2020 2020 2020 2020 2020 2073 7461 636b             stack
-00027250: 6c65 7665 6c3d 332c 0a20 2020 2020 2020  level=3,.       
-00027260: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-00027270: 2020 2020 7265 7475 726e 2073 7570 6572      return super
-00027280: 2829 2e5f 7365 7452 6573 756c 7473 4e61  ()._setResultsNa
-00027290: 6d65 286e 616d 652c 206c 6973 7441 6c6c  me(name, listAll
-000272a0: 4d61 7463 6865 7329 0a0a 0a63 6c61 7373  Matches)...class
-000272b0: 2045 6163 6828 5061 7273 6545 7870 7265   Each(ParseExpre
-000272c0: 7373 696f 6e29 3a0a 2020 2020 2222 2252  ssion):.    """R
-000272d0: 6571 7569 7265 7320 616c 6c20 6769 7665  equires all give
-000272e0: 6e20 3a63 6c61 7373 3a60 5061 7273 6545  n :class:`ParseE
-000272f0: 7870 7265 7373 696f 6e60 2073 2074 6f20  xpression` s to 
-00027300: 6265 2066 6f75 6e64 2c20 6275 7420 696e  be found, but in
-00027310: 0a20 2020 2061 6e79 206f 7264 6572 2e20  .    any order. 
-00027320: 4578 7072 6573 7369 6f6e 7320 6d61 7920  Expressions may 
-00027330: 6265 2073 6570 6172 6174 6564 2062 7920  be separated by 
-00027340: 7768 6974 6573 7061 6365 2e0a 0a20 2020  whitespace...   
-00027350: 204d 6179 2062 6520 636f 6e73 7472 7563   May be construc
-00027360: 7465 6420 7573 696e 6720 7468 6520 6060  ted using the ``
-00027370: 2726 2760 6020 6f70 6572 6174 6f72 2e0a  '&'`` operator..
-00027380: 0a20 2020 2045 7861 6d70 6c65 3a3a 0a0a  .    Example::..
-00027390: 2020 2020 2020 2020 636f 6c6f 7220 3d20          color = 
-000273a0: 6f6e 655f 6f66 2822 5245 4420 4f52 414e  one_of("RED ORAN
-000273b0: 4745 2059 454c 4c4f 5720 4752 4545 4e20  GE YELLOW GREEN 
-000273c0: 424c 5545 2050 5552 504c 4520 424c 4143  BLUE PURPLE BLAC
-000273d0: 4b20 5748 4954 4520 4252 4f57 4e22 290a  K WHITE BROWN").
-000273e0: 2020 2020 2020 2020 7368 6170 655f 7479          shape_ty
-000273f0: 7065 203d 206f 6e65 5f6f 6628 2253 5155  pe = one_of("SQU
-00027400: 4152 4520 4349 5243 4c45 2054 5249 414e  ARE CIRCLE TRIAN
-00027410: 474c 4520 5354 4152 2048 4558 4147 4f4e  GLE STAR HEXAGON
-00027420: 204f 4354 4147 4f4e 2229 0a20 2020 2020   OCTAGON").     
-00027430: 2020 2069 6e74 6567 6572 203d 2057 6f72     integer = Wor
-00027440: 6428 6e75 6d73 290a 2020 2020 2020 2020  d(nums).        
-00027450: 7368 6170 655f 6174 7472 203d 2022 7368  shape_attr = "sh
-00027460: 6170 653a 2220 2b20 7368 6170 655f 7479  ape:" + shape_ty
-00027470: 7065 2822 7368 6170 6522 290a 2020 2020  pe("shape").    
-00027480: 2020 2020 706f 736e 5f61 7474 7220 3d20      posn_attr = 
-00027490: 2270 6f73 6e3a 2220 2b20 4772 6f75 7028  "posn:" + Group(
-000274a0: 696e 7465 6765 7228 2278 2229 202b 2027  integer("x") + '
-000274b0: 2c27 202b 2069 6e74 6567 6572 2822 7922  ,' + integer("y"
-000274c0: 2929 2822 706f 736e 2229 0a20 2020 2020  ))("posn").     
-000274d0: 2020 2063 6f6c 6f72 5f61 7474 7220 3d20     color_attr = 
-000274e0: 2263 6f6c 6f72 3a22 202b 2063 6f6c 6f72  "color:" + color
-000274f0: 2822 636f 6c6f 7222 290a 2020 2020 2020  ("color").      
-00027500: 2020 7369 7a65 5f61 7474 7220 3d20 2273    size_attr = "s
-00027510: 697a 653a 2220 2b20 696e 7465 6765 7228  ize:" + integer(
-00027520: 2273 697a 6522 290a 0a20 2020 2020 2020  "size")..       
-00027530: 2023 2075 7365 2045 6163 6820 2875 7369   # use Each (usi
-00027540: 6e67 206f 7065 7261 746f 7220 2726 2729  ng operator '&')
-00027550: 2074 6f20 6163 6365 7074 2061 7474 7269   to accept attri
-00027560: 6275 7465 7320 696e 2061 6e79 206f 7264  butes in any ord
-00027570: 6572 0a20 2020 2020 2020 2023 2028 7368  er.        # (sh
-00027580: 6170 6520 616e 6420 706f 736e 2061 7265  ape and posn are
-00027590: 2072 6571 7569 7265 642c 2063 6f6c 6f72   required, color
-000275a0: 2061 6e64 2073 697a 6520 6172 6520 6f70   and size are op
-000275b0: 7469 6f6e 616c 290a 2020 2020 2020 2020  tional).        
-000275c0: 7368 6170 655f 7370 6563 203d 2073 6861  shape_spec = sha
-000275d0: 7065 5f61 7474 7220 2620 706f 736e 5f61  pe_attr & posn_a
-000275e0: 7474 7220 2620 4f70 7428 636f 6c6f 725f  ttr & Opt(color_
-000275f0: 6174 7472 2920 2620 4f70 7428 7369 7a65  attr) & Opt(size
-00027600: 5f61 7474 7229 0a0a 2020 2020 2020 2020  _attr)..        
-00027610: 7368 6170 655f 7370 6563 2e72 756e 5f74  shape_spec.run_t
-00027620: 6573 7473 2827 2727 0a20 2020 2020 2020  ests('''.       
-00027630: 2020 2020 2073 6861 7065 3a20 5351 5541       shape: SQUA
-00027640: 5245 2063 6f6c 6f72 3a20 424c 4143 4b20  RE color: BLACK 
-00027650: 706f 736e 3a20 3130 302c 2031 3230 0a20  posn: 100, 120. 
-00027660: 2020 2020 2020 2020 2020 2073 6861 7065             shape
-00027670: 3a20 4349 5243 4c45 2073 697a 653a 2035  : CIRCLE size: 5
-00027680: 3020 636f 6c6f 723a 2042 4c55 4520 706f  0 color: BLUE po
-00027690: 736e 3a20 3530 2c38 300a 2020 2020 2020  sn: 50,80.      
-000276a0: 2020 2020 2020 636f 6c6f 723a 4752 4545        color:GREE
-000276b0: 4e20 7369 7a65 3a32 3020 7368 6170 653a  N size:20 shape:
-000276c0: 5452 4941 4e47 4c45 2070 6f73 6e3a 3230  TRIANGLE posn:20
-000276d0: 2c34 300a 2020 2020 2020 2020 2020 2020  ,40.            
-000276e0: 2727 270a 2020 2020 2020 2020 2020 2020  '''.            
-000276f0: 290a 0a20 2020 2070 7269 6e74 733a 3a0a  )..    prints::.
-00027700: 0a20 2020 2020 2020 2073 6861 7065 3a20  .        shape: 
-00027710: 5351 5541 5245 2063 6f6c 6f72 3a20 424c  SQUARE color: BL
-00027720: 4143 4b20 706f 736e 3a20 3130 302c 2031  ACK posn: 100, 1
-00027730: 3230 0a20 2020 2020 2020 205b 2773 6861  20.        ['sha
-00027740: 7065 3a27 2c20 2753 5155 4152 4527 2c20  pe:', 'SQUARE', 
-00027750: 2763 6f6c 6f72 3a27 2c20 2742 4c41 434b  'color:', 'BLACK
-00027760: 272c 2027 706f 736e 3a27 2c20 5b27 3130  ', 'posn:', ['10
-00027770: 3027 2c20 272c 272c 2027 3132 3027 5d5d  0', ',', '120']]
-00027780: 0a20 2020 2020 2020 202d 2063 6f6c 6f72  .        - color
-00027790: 3a20 424c 4143 4b0a 2020 2020 2020 2020  : BLACK.        
-000277a0: 2d20 706f 736e 3a20 5b27 3130 3027 2c20  - posn: ['100', 
-000277b0: 272c 272c 2027 3132 3027 5d0a 2020 2020  ',', '120'].    
-000277c0: 2020 2020 2020 2d20 783a 2031 3030 0a20        - x: 100. 
-000277d0: 2020 2020 2020 2020 202d 2079 3a20 3132           - y: 12
-000277e0: 300a 2020 2020 2020 2020 2d20 7368 6170  0.        - shap
-000277f0: 653a 2053 5155 4152 450a 0a0a 2020 2020  e: SQUARE...    
-00027800: 2020 2020 7368 6170 653a 2043 4952 434c      shape: CIRCL
-00027810: 4520 7369 7a65 3a20 3530 2063 6f6c 6f72  E size: 50 color
-00027820: 3a20 424c 5545 2070 6f73 6e3a 2035 302c  : BLUE posn: 50,
-00027830: 3830 0a20 2020 2020 2020 205b 2773 6861  80.        ['sha
-00027840: 7065 3a27 2c20 2743 4952 434c 4527 2c20  pe:', 'CIRCLE', 
-00027850: 2773 697a 653a 272c 2027 3530 272c 2027  'size:', '50', '
-00027860: 636f 6c6f 723a 272c 2027 424c 5545 272c  color:', 'BLUE',
-00027870: 2027 706f 736e 3a27 2c20 5b27 3530 272c   'posn:', ['50',
-00027880: 2027 2c27 2c20 2738 3027 5d5d 0a20 2020   ',', '80']].   
-00027890: 2020 2020 202d 2063 6f6c 6f72 3a20 424c       - color: BL
-000278a0: 5545 0a20 2020 2020 2020 202d 2070 6f73  UE.        - pos
-000278b0: 6e3a 205b 2735 3027 2c20 272c 272c 2027  n: ['50', ',', '
-000278c0: 3830 275d 0a20 2020 2020 2020 2020 202d  80'].          -
-000278d0: 2078 3a20 3530 0a20 2020 2020 2020 2020   x: 50.         
-000278e0: 202d 2079 3a20 3830 0a20 2020 2020 2020   - y: 80.       
-000278f0: 202d 2073 6861 7065 3a20 4349 5243 4c45   - shape: CIRCLE
-00027900: 0a20 2020 2020 2020 202d 2073 697a 653a  .        - size:
-00027910: 2035 300a 0a0a 2020 2020 2020 2020 636f   50...        co
-00027920: 6c6f 723a 2047 5245 454e 2073 697a 653a  lor: GREEN size:
-00027930: 2032 3020 7368 6170 653a 2054 5249 414e   20 shape: TRIAN
-00027940: 474c 4520 706f 736e 3a20 3230 2c34 300a  GLE posn: 20,40.
-00027950: 2020 2020 2020 2020 5b27 636f 6c6f 723a          ['color:
-00027960: 272c 2027 4752 4545 4e27 2c20 2773 697a  ', 'GREEN', 'siz
-00027970: 653a 272c 2027 3230 272c 2027 7368 6170  e:', '20', 'shap
-00027980: 653a 272c 2027 5452 4941 4e47 4c45 272c  e:', 'TRIANGLE',
-00027990: 2027 706f 736e 3a27 2c20 5b27 3230 272c   'posn:', ['20',
-000279a0: 2027 2c27 2c20 2734 3027 5d5d 0a20 2020   ',', '40']].   
-000279b0: 2020 2020 202d 2063 6f6c 6f72 3a20 4752       - color: GR
-000279c0: 4545 4e0a 2020 2020 2020 2020 2d20 706f  EEN.        - po
-000279d0: 736e 3a20 5b27 3230 272c 2027 2c27 2c20  sn: ['20', ',', 
-000279e0: 2734 3027 5d0a 2020 2020 2020 2020 2020  '40'].          
-000279f0: 2d20 783a 2032 300a 2020 2020 2020 2020  - x: 20.        
-00027a00: 2020 2d20 793a 2034 300a 2020 2020 2020    - y: 40.      
-00027a10: 2020 2d20 7368 6170 653a 2054 5249 414e    - shape: TRIAN
-00027a20: 474c 450a 2020 2020 2020 2020 2d20 7369  GLE.        - si
-00027a30: 7a65 3a20 3230 0a20 2020 2022 2222 0a0a  ze: 20.    """..
-00027a40: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00027a50: 2873 656c 662c 2065 7870 7273 3a20 7479  (self, exprs: ty
-00027a60: 7069 6e67 2e49 7465 7261 626c 655b 5061  ping.Iterable[Pa
-00027a70: 7273 6572 456c 656d 656e 745d 2c20 7361  rserElement], sa
-00027a80: 7665 6c69 7374 3a20 626f 6f6c 203d 2054  velist: bool = T
-00027a90: 7275 6529 3a0a 2020 2020 2020 2020 7375  rue):.        su
-00027aa0: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
-00027ab0: 7870 7273 2c20 7361 7665 6c69 7374 290a  xprs, savelist).
-00027ac0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00027ad0: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
-00027ae0: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
-00027af0: 6e45 6d70 7479 203d 2061 6c6c 2865 2e6d  nEmpty = all(e.m
-00027b00: 6179 5265 7475 726e 456d 7074 7920 666f  ayReturnEmpty fo
-00027b10: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
-00027b20: 7329 0a20 2020 2020 2020 2065 6c73 653a  s).        else:
-00027b30: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00027b40: 662e 6d61 7952 6574 7572 6e45 6d70 7479  f.mayReturnEmpty
-00027b50: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-00027b60: 7365 6c66 2e73 6b69 7057 6869 7465 7370  self.skipWhitesp
-00027b70: 6163 6520 3d20 5472 7565 0a20 2020 2020  ace = True.     
-00027b80: 2020 2073 656c 662e 696e 6974 4578 7072     self.initExpr
-00027b90: 4772 6f75 7073 203d 2054 7275 650a 2020  Groups = True.  
-00027ba0: 2020 2020 2020 7365 6c66 2e73 6176 6541        self.saveA
-00027bb0: 734c 6973 7420 3d20 5472 7565 0a0a 2020  sList = True..  
-00027bc0: 2020 6465 6620 5f5f 6961 6e64 5f5f 2873    def __iand__(s
-00027bd0: 656c 662c 206f 7468 6572 293a 0a20 2020  elf, other):.   
-00027be0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-00027bf0: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
-00027c00: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-00027c10: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
-00027c20: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
-00027c30: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
-00027c40: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-00027c50: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
-00027c60: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
-00027c70: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
-00027c80: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
-00027c90: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-00027ca0: 6170 7065 6e64 286f 7468 6572 2920 2023  append(other)  #
-00027cb0: 2045 6163 6828 5b73 656c 662c 206f 7468   Each([self, oth
-00027cc0: 6572 5d29 0a0a 2020 2020 6465 6620 7374  er])..    def st
-00027cd0: 7265 616d 6c69 6e65 2873 656c 6629 202d  reamline(self) -
-00027ce0: 3e20 5061 7273 6572 456c 656d 656e 743a  > ParserElement:
-00027cf0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
-00027d00: 2e73 7472 6561 6d6c 696e 6528 290a 2020  .streamline().  
-00027d10: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
-00027d20: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
-00027d30: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
-00027d40: 6d70 7479 203d 2061 6c6c 2865 2e6d 6179  mpty = all(e.may
-00027d50: 5265 7475 726e 456d 7074 7920 666f 7220  ReturnEmpty for 
-00027d60: 6520 696e 2073 656c 662e 6578 7072 7329  e in self.exprs)
-00027d70: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00027d80: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00027d90: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
-00027da0: 2054 7275 650a 2020 2020 2020 2020 7265   True.        re
-00027db0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-00027dc0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
-00027dd0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
-00027de0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
-00027df0: 293a 0a20 2020 2020 2020 2069 6620 7365  ):.        if se
-00027e00: 6c66 2e69 6e69 7445 7870 7247 726f 7570  lf.initExprGroup
-00027e10: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00027e20: 656c 662e 6f70 7431 6d61 7020 3d20 6469  elf.opt1map = di
-00027e30: 6374 280a 2020 2020 2020 2020 2020 2020  ct(.            
-00027e40: 2020 2020 2869 6428 652e 6578 7072 292c      (id(e.expr),
-00027e50: 2065 2920 666f 7220 6520 696e 2073 656c   e) for e in sel
-00027e60: 662e 6578 7072 7320 6966 2069 7369 6e73  f.exprs if isins
-00027e70: 7461 6e63 6528 652c 204f 7074 290a 2020  tance(e, Opt).  
-00027e80: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-00027e90: 2020 2020 2020 2020 6f70 7431 203d 205b          opt1 = [
-00027ea0: 652e 6578 7072 2066 6f72 2065 2069 6e20  e.expr for e in 
-00027eb0: 7365 6c66 2e65 7870 7273 2069 6620 6973  self.exprs if is
-00027ec0: 696e 7374 616e 6365 2865 2c20 4f70 7429  instance(e, Opt)
-00027ed0: 5d0a 2020 2020 2020 2020 2020 2020 6f70  ].            op
-00027ee0: 7432 203d 205b 0a20 2020 2020 2020 2020  t2 = [.         
-00027ef0: 2020 2020 2020 2065 0a20 2020 2020 2020         e.       
-00027f00: 2020 2020 2020 2020 2066 6f72 2065 2069           for e i
-00027f10: 6e20 7365 6c66 2e65 7870 7273 0a20 2020  n self.exprs.   
-00027f20: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00027f30: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
-00027f40: 2061 6e64 206e 6f74 2069 7369 6e73 7461   and not isinsta
-00027f50: 6e63 6528 652c 2028 4f70 742c 2052 6567  nce(e, (Opt, Reg
-00027f60: 6578 2c20 5a65 726f 4f72 4d6f 7265 2929  ex, ZeroOrMore))
-00027f70: 0a20 2020 2020 2020 2020 2020 205d 0a20  .            ]. 
-00027f80: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00027f90: 6f70 7469 6f6e 616c 7320 3d20 6f70 7431  optionals = opt1
-00027fa0: 202b 206f 7074 320a 2020 2020 2020 2020   + opt2.        
-00027fb0: 2020 2020 7365 6c66 2e6d 756c 7469 6f70      self.multiop
-00027fc0: 7469 6f6e 616c 7320 3d20 5b0a 2020 2020  tionals = [.    
-00027fd0: 2020 2020 2020 2020 2020 2020 652e 6578              e.ex
-00027fe0: 7072 2e73 6574 5f72 6573 756c 7473 5f6e  pr.set_results_n
-00027ff0: 616d 6528 652e 7265 7375 6c74 734e 616d  ame(e.resultsNam
-00028000: 652c 206c 6973 745f 616c 6c5f 6d61 7463  e, list_all_matc
-00028010: 6865 733d 5472 7565 290a 2020 2020 2020  hes=True).      
-00028020: 2020 2020 2020 2020 2020 666f 7220 6520            for e 
-00028030: 696e 2073 656c 662e 6578 7072 730a 2020  in self.exprs.  
-00028040: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00028050: 2069 7369 6e73 7461 6e63 6528 652c 205f   isinstance(e, _
-00028060: 4d75 6c74 6970 6c65 4d61 7463 6829 0a20  MultipleMatch). 
-00028070: 2020 2020 2020 2020 2020 205d 0a20 2020             ].   
-00028080: 2020 2020 2020 2020 2073 656c 662e 6d75           self.mu
-00028090: 6c74 6972 6571 7569 7265 6420 3d20 5b0a  ltirequired = [.
-000280a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000280b0: 652e 6578 7072 2e73 6574 5f72 6573 756c  e.expr.set_resul
-000280c0: 7473 5f6e 616d 6528 652e 7265 7375 6c74  ts_name(e.result
-000280d0: 734e 616d 652c 206c 6973 745f 616c 6c5f  sName, list_all_
-000280e0: 6d61 7463 6865 733d 5472 7565 290a 2020  matches=True).  
-000280f0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00028100: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
-00028110: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00028120: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00028130: 652c 204f 6e65 4f72 4d6f 7265 290a 2020  e, OneOrMore).  
-00028140: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
-00028150: 2020 2020 2020 2020 7365 6c66 2e72 6571          self.req
-00028160: 7569 7265 6420 3d20 5b0a 2020 2020 2020  uired = [.      
-00028170: 2020 2020 2020 2020 2020 6520 666f 7220            e for 
-00028180: 6520 696e 2073 656c 662e 6578 7072 7320  e in self.exprs 
-00028190: 6966 206e 6f74 2069 7369 6e73 7461 6e63  if not isinstanc
-000281a0: 6528 652c 2028 4f70 742c 205a 6572 6f4f  e(e, (Opt, ZeroO
-000281b0: 724d 6f72 652c 204f 6e65 4f72 4d6f 7265  rMore, OneOrMore
-000281c0: 2929 0a20 2020 2020 2020 2020 2020 205d  )).            ]
-000281d0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-000281e0: 662e 7265 7175 6972 6564 202b 3d20 7365  f.required += se
-000281f0: 6c66 2e6d 756c 7469 7265 7175 6972 6564  lf.multirequired
-00028200: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00028210: 662e 696e 6974 4578 7072 4772 6f75 7073  f.initExprGroups
-00028220: 203d 2046 616c 7365 0a0a 2020 2020 2020   = False..      
-00028230: 2020 746d 704c 6f63 203d 206c 6f63 0a20    tmpLoc = loc. 
-00028240: 2020 2020 2020 2074 6d70 5265 7164 203d         tmpReqd =
-00028250: 2073 656c 662e 7265 7175 6972 6564 5b3a   self.required[:
-00028260: 5d0a 2020 2020 2020 2020 746d 704f 7074  ].        tmpOpt
-00028270: 203d 2073 656c 662e 6f70 7469 6f6e 616c   = self.optional
-00028280: 735b 3a5d 0a20 2020 2020 2020 206d 756c  s[:].        mul
-00028290: 7469 7320 3d20 7365 6c66 2e6d 756c 7469  tis = self.multi
-000282a0: 6f70 7469 6f6e 616c 735b 3a5d 0a20 2020  optionals[:].   
-000282b0: 2020 2020 206d 6174 6368 4f72 6465 7220       matchOrder 
-000282c0: 3d20 5b5d 0a0a 2020 2020 2020 2020 6b65  = []..        ke
-000282d0: 6570 4d61 7463 6869 6e67 203d 2054 7275  epMatching = Tru
-000282e0: 650a 2020 2020 2020 2020 6661 696c 6564  e.        failed
-000282f0: 203d 205b 5d0a 2020 2020 2020 2020 6661   = [].        fa
-00028300: 7461 6c73 203d 205b 5d0a 2020 2020 2020  tals = [].      
-00028310: 2020 7768 696c 6520 6b65 6570 4d61 7463    while keepMatc
-00028320: 6869 6e67 3a0a 2020 2020 2020 2020 2020  hing:.          
-00028330: 2020 746d 7045 7870 7273 203d 2074 6d70    tmpExprs = tmp
-00028340: 5265 7164 202b 2074 6d70 4f70 7420 2b20  Reqd + tmpOpt + 
-00028350: 6d75 6c74 6973 0a20 2020 2020 2020 2020  multis.         
-00028360: 2020 2066 6169 6c65 642e 636c 6561 7228     failed.clear(
-00028370: 290a 2020 2020 2020 2020 2020 2020 6661  ).            fa
-00028380: 7461 6c73 2e63 6c65 6172 2829 0a20 2020  tals.clear().   
-00028390: 2020 2020 2020 2020 2066 6f72 2065 2069           for e i
-000283a0: 6e20 746d 7045 7870 7273 3a0a 2020 2020  n tmpExprs:.    
-000283b0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-000283c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000283d0: 2020 2020 2074 6d70 4c6f 6320 3d20 652e       tmpLoc = e.
-000283e0: 7472 795f 7061 7273 6528 696e 7374 7269  try_parse(instri
-000283f0: 6e67 2c20 746d 704c 6f63 2c20 7261 6973  ng, tmpLoc, rais
-00028400: 655f 6661 7461 6c3d 5472 7565 290a 2020  e_fatal=True).  
-00028410: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00028420: 6365 7074 2050 6172 7365 4661 7461 6c45  cept ParseFatalE
-00028430: 7863 6570 7469 6f6e 2061 7320 7066 653a  xception as pfe:
-00028440: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028450: 2020 2020 2070 6665 2e5f 5f74 7261 6365       pfe.__trace
-00028460: 6261 636b 5f5f 203d 204e 6f6e 650a 2020  back__ = None.  
-00028470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028480: 2020 7066 652e 7061 7273 6572 5f65 6c65    pfe.parser_ele
-00028490: 6d65 6e74 203d 2065 0a20 2020 2020 2020  ment = e.       
-000284a0: 2020 2020 2020 2020 2020 2020 2066 6174               fat
-000284b0: 616c 732e 6170 7065 6e64 2870 6665 290a  als.append(pfe).
-000284c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000284d0: 2020 2020 6661 696c 6564 2e61 7070 656e      failed.appen
-000284e0: 6428 6529 0a20 2020 2020 2020 2020 2020  d(e).           
-000284f0: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
-00028500: 6545 7863 6570 7469 6f6e 3a0a 2020 2020  eException:.    
-00028510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028520: 6661 696c 6564 2e61 7070 656e 6428 6529  failed.append(e)
-00028530: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028540: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00028550: 2020 2020 2020 2020 2020 206d 6174 6368             match
-00028560: 4f72 6465 722e 6170 7065 6e64 2873 656c  Order.append(sel
-00028570: 662e 6f70 7431 6d61 702e 6765 7428 6964  f.opt1map.get(id
-00028580: 2865 292c 2065 2929 0a20 2020 2020 2020  (e), e)).       
-00028590: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000285a0: 6520 696e 2074 6d70 5265 7164 3a0a 2020  e in tmpReqd:.  
-000285b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000285c0: 2020 2020 2020 746d 7052 6571 642e 7265        tmpReqd.re
-000285d0: 6d6f 7665 2865 290a 2020 2020 2020 2020  move(e).        
-000285e0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-000285f0: 2065 2069 6e20 746d 704f 7074 3a0a 2020   e in tmpOpt:.  
-00028600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028610: 2020 2020 2020 746d 704f 7074 2e72 656d        tmpOpt.rem
-00028620: 6f76 6528 6529 0a20 2020 2020 2020 2020  ove(e).         
-00028630: 2020 2069 6620 6c65 6e28 6661 696c 6564     if len(failed
-00028640: 2920 3d3d 206c 656e 2874 6d70 4578 7072  ) == len(tmpExpr
-00028650: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-00028660: 2020 2020 6b65 6570 4d61 7463 6869 6e67      keepMatching
-00028670: 203d 2046 616c 7365 0a0a 2020 2020 2020   = False..      
-00028680: 2020 2320 6c6f 6f6b 2066 6f72 2061 6e79    # look for any
-00028690: 2050 6172 7365 4661 7461 6c45 7863 6570   ParseFatalExcep
-000286a0: 7469 6f6e 730a 2020 2020 2020 2020 6966  tions.        if
-000286b0: 2066 6174 616c 733a 0a20 2020 2020 2020   fatals:.       
-000286c0: 2020 2020 2069 6620 6c65 6e28 6661 7461       if len(fata
-000286d0: 6c73 2920 3e20 313a 0a20 2020 2020 2020  ls) > 1:.       
-000286e0: 2020 2020 2020 2020 2066 6174 616c 732e           fatals.
-000286f0: 736f 7274 286b 6579 3d6c 616d 6264 6120  sort(key=lambda 
-00028700: 653a 202d 652e 6c6f 6329 0a20 2020 2020  e: -e.loc).     
-00028710: 2020 2020 2020 2020 2020 2069 6620 6661             if fa
-00028720: 7461 6c73 5b30 5d2e 6c6f 6320 3d3d 2066  tals[0].loc == f
-00028730: 6174 616c 735b 315d 2e6c 6f63 3a0a 2020  atals[1].loc:.  
-00028740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028750: 2020 6661 7461 6c73 2e73 6f72 7428 6b65    fatals.sort(ke
-00028760: 793d 6c61 6d62 6461 2065 3a20 282d 652e  y=lambda e: (-e.
-00028770: 6c6f 632c 202d 6c65 6e28 7374 7228 652e  loc, -len(str(e.
-00028780: 7061 7273 6572 5f65 6c65 6d65 6e74 2929  parser_element))
-00028790: 2929 0a20 2020 2020 2020 2020 2020 206d  )).            m
-000287a0: 6178 5f66 6174 616c 203d 2066 6174 616c  ax_fatal = fatal
-000287b0: 735b 305d 0a20 2020 2020 2020 2020 2020  s[0].           
-000287c0: 2072 6169 7365 206d 6178 5f66 6174 616c   raise max_fatal
-000287d0: 0a0a 2020 2020 2020 2020 6966 2074 6d70  ..        if tmp
-000287e0: 5265 7164 3a0a 2020 2020 2020 2020 2020  Reqd:.          
-000287f0: 2020 6d69 7373 696e 6720 3d20 222c 2022    missing = ", "
-00028800: 2e6a 6f69 6e28 5b73 7472 2865 2920 666f  .join([str(e) fo
-00028810: 7220 6520 696e 2074 6d70 5265 7164 5d29  r e in tmpReqd])
-00028820: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00028830: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
-00028840: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
-00028850: 2020 2069 6e73 7472 696e 672c 0a20 2020     instring,.   
-00028860: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
-00028870: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00028880: 2020 6622 4d69 7373 696e 6720 6f6e 6520    f"Missing one 
-00028890: 6f72 206d 6f72 6520 7265 7175 6972 6564  or more required
-000288a0: 2065 6c65 6d65 6e74 7320 287b 6d69 7373   elements ({miss
-000288b0: 696e 677d 2922 2c0a 2020 2020 2020 2020  ing})",.        
-000288c0: 2020 2020 290a 0a20 2020 2020 2020 2023      )..        #
-000288d0: 2061 6464 2061 6e79 2075 6e6d 6174 6368   add any unmatch
-000288e0: 6564 204f 7074 732c 2069 6e20 6361 7365  ed Opts, in case
-000288f0: 2074 6865 7920 6861 7665 2064 6566 6175   they have defau
-00028900: 6c74 2076 616c 7565 7320 6465 6669 6e65  lt values define
-00028910: 640a 2020 2020 2020 2020 6d61 7463 684f  d.        matchO
-00028920: 7264 6572 202b 3d20 5b65 2066 6f72 2065  rder += [e for e
-00028930: 2069 6e20 7365 6c66 2e65 7870 7273 2069   in self.exprs i
-00028940: 6620 6973 696e 7374 616e 6365 2865 2c20  f isinstance(e, 
-00028950: 4f70 7429 2061 6e64 2065 2e65 7870 7220  Opt) and e.expr 
-00028960: 696e 2074 6d70 4f70 745d 0a0a 2020 2020  in tmpOpt]..    
-00028970: 2020 2020 746f 7461 6c5f 7265 7375 6c74      total_result
-00028980: 7320 3d20 5061 7273 6552 6573 756c 7473  s = ParseResults
-00028990: 285b 5d29 0a20 2020 2020 2020 2066 6f72  ([]).        for
-000289a0: 2065 2069 6e20 6d61 7463 684f 7264 6572   e in matchOrder
-000289b0: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
-000289c0: 632c 2072 6573 756c 7473 203d 2065 2e5f  c, results = e._
-000289d0: 7061 7273 6528 696e 7374 7269 6e67 2c20  parse(instring, 
-000289e0: 6c6f 632c 2064 6f41 6374 696f 6e73 290a  loc, doActions).
-000289f0: 2020 2020 2020 2020 2020 2020 746f 7461              tota
-00028a00: 6c5f 7265 7375 6c74 7320 2b3d 2072 6573  l_results += res
-00028a10: 756c 7473 0a0a 2020 2020 2020 2020 7265  ults..        re
-00028a20: 7475 726e 206c 6f63 2c20 746f 7461 6c5f  turn loc, total_
-00028a30: 7265 7375 6c74 730a 0a20 2020 2064 6566  results..    def
-00028a40: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
-00028a50: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
-00028a60: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
-00028a70: 726e 2022 7b22 202b 2022 2026 2022 2e6a  rn "{" + " & ".j
-00028a80: 6f69 6e28 7374 7228 6529 2066 6f72 2065  oin(str(e) for e
-00028a90: 2069 6e20 7365 6c66 2e65 7870 7273 2920   in self.exprs) 
-00028aa0: 2b20 227d 220a 0a0a 636c 6173 7320 5061  + "}"...class Pa
-00028ab0: 7273 6545 6c65 6d65 6e74 456e 6861 6e63  rseElementEnhanc
-00028ac0: 6528 5061 7273 6572 456c 656d 656e 7429  e(ParserElement)
-00028ad0: 3a0a 2020 2020 2222 2241 6273 7472 6163  :.    """Abstrac
-00028ae0: 7420 7375 6263 6c61 7373 206f 6620 3a63  t subclass of :c
-00028af0: 6c61 7373 3a60 5061 7273 6572 456c 656d  lass:`ParserElem
-00028b00: 656e 7460 2c20 666f 7220 636f 6d62 696e  ent`, for combin
-00028b10: 696e 6720 616e 640a 2020 2020 706f 7374  ing and.    post
-00028b20: 2d70 726f 6365 7373 696e 6720 7061 7273  -processing pars
-00028b30: 6564 2074 6f6b 656e 732e 0a20 2020 2022  ed tokens..    "
-00028b40: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
-00028b50: 6974 5f5f 2873 656c 662c 2065 7870 723a  it__(self, expr:
-00028b60: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
-00028b70: 6d65 6e74 2c20 7374 725d 2c20 7361 7665  ment, str], save
-00028b80: 6c69 7374 3a20 626f 6f6c 203d 2046 616c  list: bool = Fal
-00028b90: 7365 293a 0a20 2020 2020 2020 2073 7570  se):.        sup
-00028ba0: 6572 2829 2e5f 5f69 6e69 745f 5f28 7361  er().__init__(sa
-00028bb0: 7665 6c69 7374 290a 2020 2020 2020 2020  velist).        
-00028bc0: 6966 2069 7369 6e73 7461 6e63 6528 6578  if isinstance(ex
-00028bd0: 7072 2c20 7374 725f 7479 7065 293a 0a20  pr, str_type):. 
-00028be0: 2020 2020 2020 2020 2020 2065 7870 725f             expr_
-00028bf0: 7374 7220 3d20 7479 7069 6e67 2e63 6173  str = typing.cas
-00028c00: 7428 7374 722c 2065 7870 7229 0a20 2020  t(str, expr).   
-00028c10: 2020 2020 2020 2020 2069 6620 6973 7375           if issu
-00028c20: 6263 6c61 7373 2873 656c 662e 5f6c 6974  bclass(self._lit
-00028c30: 6572 616c 5374 7269 6e67 436c 6173 732c  eralStringClass,
-00028c40: 2054 6f6b 656e 293a 0a20 2020 2020 2020   Token):.       
-00028c50: 2020 2020 2020 2020 2065 7870 7220 3d20           expr = 
-00028c60: 7365 6c66 2e5f 6c69 7465 7261 6c53 7472  self._literalStr
-00028c70: 696e 6743 6c61 7373 2865 7870 725f 7374  ingClass(expr_st
-00028c80: 7229 2020 2320 7479 7065 3a20 6967 6e6f  r)  # type: igno
-00028c90: 7265 5b63 616c 6c2d 6172 675d 0a20 2020  re[call-arg].   
-00028ca0: 2020 2020 2020 2020 2065 6c69 6620 6973           elif is
-00028cb0: 7375 6263 6c61 7373 2874 7970 6528 7365  subclass(type(se
-00028cc0: 6c66 292c 2073 656c 662e 5f6c 6974 6572  lf), self._liter
-00028cd0: 616c 5374 7269 6e67 436c 6173 7329 3a0a  alStringClass):.
-00028ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028cf0: 6578 7072 203d 204c 6974 6572 616c 2865  expr = Literal(e
-00028d00: 7870 725f 7374 7229 0a20 2020 2020 2020  xpr_str).       
-00028d10: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00028d20: 2020 2020 2020 2020 2020 2065 7870 7220             expr 
-00028d30: 3d20 7365 6c66 2e5f 6c69 7465 7261 6c53  = self._literalS
-00028d40: 7472 696e 6743 6c61 7373 284c 6974 6572  tringClass(Liter
-00028d50: 616c 2865 7870 725f 7374 7229 2920 2023  al(expr_str))  #
-00028d60: 2074 7970 653a 2069 676e 6f72 655b 6173   type: ignore[as
-00028d70: 7369 676e 6d65 6e74 2c20 6361 6c6c 2d61  signment, call-a
-00028d80: 7267 5d0a 2020 2020 2020 2020 6578 7072  rg].        expr
-00028d90: 203d 2074 7970 696e 672e 6361 7374 2850   = typing.cast(P
-00028da0: 6172 7365 7245 6c65 6d65 6e74 2c20 6578  arserElement, ex
-00028db0: 7072 290a 2020 2020 2020 2020 7365 6c66  pr).        self
-00028dc0: 2e65 7870 7220 3d20 6578 7072 0a20 2020  .expr = expr.   
-00028dd0: 2020 2020 2069 6620 6578 7072 2069 7320       if expr is 
-00028de0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00028df0: 2020 2020 2020 7365 6c66 2e6d 6179 496e        self.mayIn
-00028e00: 6465 7845 7272 6f72 203d 2065 7870 722e  dexError = expr.
-00028e10: 6d61 7949 6e64 6578 4572 726f 720a 2020  mayIndexError.  
-00028e20: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-00028e30: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-00028e40: 6578 7072 2e6d 6179 5265 7475 726e 456d  expr.mayReturnEm
-00028e50: 7074 790a 2020 2020 2020 2020 2020 2020  pty.            
-00028e60: 7365 6c66 2e73 6574 5f77 6869 7465 7370  self.set_whitesp
-00028e70: 6163 655f 6368 6172 7328 0a20 2020 2020  ace_chars(.     
-00028e80: 2020 2020 2020 2020 2020 2065 7870 722e             expr.
-00028e90: 7768 6974 6543 6861 7273 2c20 636f 7079  whiteChars, copy
-00028ea0: 5f64 6566 6175 6c74 733d 6578 7072 2e63  _defaults=expr.c
-00028eb0: 6f70 7944 6566 6175 6c74 5768 6974 6543  opyDefaultWhiteC
-00028ec0: 6861 7273 0a20 2020 2020 2020 2020 2020  hars.           
-00028ed0: 2029 0a20 2020 2020 2020 2020 2020 2073   ).            s
-00028ee0: 656c 662e 736b 6970 5768 6974 6573 7061  elf.skipWhitespa
-00028ef0: 6365 203d 2065 7870 722e 736b 6970 5768  ce = expr.skipWh
-00028f00: 6974 6573 7061 6365 0a20 2020 2020 2020  itespace.       
-00028f10: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
-00028f20: 4c69 7374 203d 2065 7870 722e 7361 7665  List = expr.save
-00028f30: 4173 4c69 7374 0a20 2020 2020 2020 2020  AsList.         
-00028f40: 2020 2073 656c 662e 6361 6c6c 5072 6570     self.callPrep
-00028f50: 6172 7365 203d 2065 7870 722e 6361 6c6c  arse = expr.call
-00028f60: 5072 6570 6172 7365 0a20 2020 2020 2020  Preparse.       
-00028f70: 2020 2020 2073 656c 662e 6967 6e6f 7265       self.ignore
-00028f80: 4578 7072 732e 6578 7465 6e64 2865 7870  Exprs.extend(exp
-00028f90: 722e 6967 6e6f 7265 4578 7072 7329 0a0a  r.ignoreExprs)..
-00028fa0: 2020 2020 6465 6620 7265 6375 7273 6528      def recurse(
-00028fb0: 7365 6c66 2920 2d3e 204c 6973 745b 5061  self) -> List[Pa
-00028fc0: 7273 6572 456c 656d 656e 745d 3a0a 2020  rserElement]:.  
-00028fd0: 2020 2020 2020 7265 7475 726e 205b 7365        return [se
-00028fe0: 6c66 2e65 7870 725d 2069 6620 7365 6c66  lf.expr] if self
-00028ff0: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
-00029000: 6520 656c 7365 205b 5d0a 0a20 2020 2064  e else []..    d
-00029010: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
-00029020: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
-00029030: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
-00029040: 293a 0a20 2020 2020 2020 2069 6620 7365  ):.        if se
-00029050: 6c66 2e65 7870 7220 6973 206e 6f74 204e  lf.expr is not N
-00029060: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-00029070: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-00029080: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00029090: 662e 6578 7072 2e5f 7061 7273 6528 696e  f.expr._parse(in
-000290a0: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-000290b0: 6374 696f 6e73 2c20 6361 6c6c 5072 6550  ctions, callPreP
-000290c0: 6172 7365 3d46 616c 7365 290a 2020 2020  arse=False).    
-000290d0: 2020 2020 2020 2020 6578 6365 7074 2050          except P
-000290e0: 6172 7365 4261 7365 4578 6365 7074 696f  arseBaseExceptio
-000290f0: 6e20 6173 2070 6265 3a0a 2020 2020 2020  n as pbe:.      
-00029100: 2020 2020 2020 2020 2020 7062 652e 6d73            pbe.ms
-00029110: 6720 3d20 7365 6c66 2e65 7272 6d73 670a  g = self.errmsg.
-00029120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029130: 7261 6973 650a 2020 2020 2020 2020 656c  raise.        el
-00029140: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00029150: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-00029160: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
-00029170: 6f63 2c20 224e 6f20 6578 7072 6573 7369  oc, "No expressi
-00029180: 6f6e 2064 6566 696e 6564 222c 2073 656c  on defined", sel
-00029190: 6629 0a0a 2020 2020 6465 6620 6c65 6176  f)..    def leav
-000291a0: 655f 7768 6974 6573 7061 6365 2873 656c  e_whitespace(sel
-000291b0: 662c 2072 6563 7572 7369 7665 3a20 626f  f, recursive: bo
-000291c0: 6f6c 203d 2054 7275 6529 202d 3e20 5061  ol = True) -> Pa
-000291d0: 7273 6572 456c 656d 656e 743a 0a20 2020  rserElement:.   
-000291e0: 2020 2020 2073 7570 6572 2829 2e6c 6561       super().lea
-000291f0: 7665 5f77 6869 7465 7370 6163 6528 7265  ve_whitespace(re
-00029200: 6375 7273 6976 6529 0a0a 2020 2020 2020  cursive)..      
-00029210: 2020 6966 2072 6563 7572 7369 7665 3a0a    if recursive:.
-00029220: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00029230: 656c 662e 6578 7072 2069 7320 6e6f 7420  elf.expr is not 
-00029240: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00029250: 2020 2020 2020 7365 6c66 2e65 7870 7220        self.expr 
-00029260: 3d20 7365 6c66 2e65 7870 722e 636f 7079  = self.expr.copy
-00029270: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-00029280: 2020 2073 656c 662e 6578 7072 2e6c 6561     self.expr.lea
-00029290: 7665 5f77 6869 7465 7370 6163 6528 7265  ve_whitespace(re
-000292a0: 6375 7273 6976 6529 0a20 2020 2020 2020  cursive).       
-000292b0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-000292c0: 2020 6465 6620 6967 6e6f 7265 5f77 6869    def ignore_whi
-000292d0: 7465 7370 6163 6528 7365 6c66 2c20 7265  tespace(self, re
-000292e0: 6375 7273 6976 653a 2062 6f6f 6c20 3d20  cursive: bool = 
-000292f0: 5472 7565 2920 2d3e 2050 6172 7365 7245  True) -> ParserE
-00029300: 6c65 6d65 6e74 3a0a 2020 2020 2020 2020  lement:.        
-00029310: 7375 7065 7228 292e 6967 6e6f 7265 5f77  super().ignore_w
-00029320: 6869 7465 7370 6163 6528 7265 6375 7273  hitespace(recurs
-00029330: 6976 6529 0a0a 2020 2020 2020 2020 6966  ive)..        if
-00029340: 2072 6563 7572 7369 7665 3a0a 2020 2020   recursive:.    
-00029350: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00029360: 6578 7072 2069 7320 6e6f 7420 4e6f 6e65  expr is not None
-00029370: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00029380: 2020 7365 6c66 2e65 7870 7220 3d20 7365    self.expr = se
-00029390: 6c66 2e65 7870 722e 636f 7079 2829 0a20  lf.expr.copy(). 
-000293a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000293b0: 656c 662e 6578 7072 2e69 676e 6f72 655f  elf.expr.ignore_
-000293c0: 7768 6974 6573 7061 6365 2872 6563 7572  whitespace(recur
-000293d0: 7369 7665 290a 2020 2020 2020 2020 7265  sive).        re
-000293e0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-000293f0: 6566 2069 676e 6f72 6528 7365 6c66 2c20  ef ignore(self, 
-00029400: 6f74 6865 7229 202d 3e20 5061 7273 6572  other) -> Parser
-00029410: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
-00029420: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
-00029430: 7468 6572 2c20 5375 7070 7265 7373 293a  ther, Suppress):
-00029440: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00029450: 6f74 6865 7220 6e6f 7420 696e 2073 656c  other not in sel
-00029460: 662e 6967 6e6f 7265 4578 7072 733a 0a20  f.ignoreExprs:. 
-00029470: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00029480: 7570 6572 2829 2e69 676e 6f72 6528 6f74  uper().ignore(ot
-00029490: 6865 7229 0a20 2020 2020 2020 2020 2020  her).           
-000294a0: 2020 2020 2069 6620 7365 6c66 2e65 7870       if self.exp
-000294b0: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
-000294c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000294d0: 2020 2073 656c 662e 6578 7072 2e69 676e     self.expr.ign
-000294e0: 6f72 6528 7365 6c66 2e69 676e 6f72 6545  ore(self.ignoreE
-000294f0: 7870 7273 5b2d 315d 290a 2020 2020 2020  xprs[-1]).      
-00029500: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00029510: 2020 2020 7375 7065 7228 292e 6967 6e6f      super().igno
-00029520: 7265 286f 7468 6572 290a 2020 2020 2020  re(other).      
-00029530: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
-00029540: 7072 2069 7320 6e6f 7420 4e6f 6e65 3a0a  pr is not None:.
-00029550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029560: 7365 6c66 2e65 7870 722e 6967 6e6f 7265  self.expr.ignore
-00029570: 2873 656c 662e 6967 6e6f 7265 4578 7072  (self.ignoreExpr
-00029580: 735b 2d31 5d29 0a20 2020 2020 2020 2072  s[-1]).        r
-00029590: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-000295a0: 6465 6620 7374 7265 616d 6c69 6e65 2873  def streamline(s
-000295b0: 656c 6629 202d 3e20 5061 7273 6572 456c  elf) -> ParserEl
-000295c0: 656d 656e 743a 0a20 2020 2020 2020 2073  ement:.        s
-000295d0: 7570 6572 2829 2e73 7472 6561 6d6c 696e  uper().streamlin
-000295e0: 6528 290a 2020 2020 2020 2020 6966 2073  e().        if s
-000295f0: 656c 662e 6578 7072 2069 7320 6e6f 7420  elf.expr is not 
-00029600: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00029610: 2020 7365 6c66 2e65 7870 722e 7374 7265    self.expr.stre
-00029620: 616d 6c69 6e65 2829 0a20 2020 2020 2020  amline().       
-00029630: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00029640: 2020 6465 6620 5f63 6865 636b 5265 6375    def _checkRecu
-00029650: 7273 696f 6e28 7365 6c66 2c20 7061 7273  rsion(self, pars
-00029660: 6545 6c65 6d65 6e74 4c69 7374 293a 0a20  eElementList):. 
-00029670: 2020 2020 2020 2069 6620 7365 6c66 2069         if self i
-00029680: 6e20 7061 7273 6545 6c65 6d65 6e74 4c69  n parseElementLi
-00029690: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
-000296a0: 7261 6973 6520 5265 6375 7273 6976 6547  raise RecursiveG
-000296b0: 7261 6d6d 6172 4578 6365 7074 696f 6e28  rammarException(
-000296c0: 7061 7273 6545 6c65 6d65 6e74 4c69 7374  parseElementList
-000296d0: 202b 205b 7365 6c66 5d29 0a20 2020 2020   + [self]).     
-000296e0: 2020 2073 7562 5265 6343 6865 636b 4c69     subRecCheckLi
-000296f0: 7374 203d 2070 6172 7365 456c 656d 656e  st = parseElemen
-00029700: 744c 6973 745b 3a5d 202b 205b 7365 6c66  tList[:] + [self
-00029710: 5d0a 2020 2020 2020 2020 6966 2073 656c  ].        if sel
-00029720: 662e 6578 7072 2069 7320 6e6f 7420 4e6f  f.expr is not No
-00029730: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00029740: 7365 6c66 2e65 7870 722e 5f63 6865 636b  self.expr._check
-00029750: 5265 6375 7273 696f 6e28 7375 6252 6563  Recursion(subRec
-00029760: 4368 6563 6b4c 6973 7429 0a0a 2020 2020  CheckList)..    
-00029770: 6465 6620 7661 6c69 6461 7465 2873 656c  def validate(sel
-00029780: 662c 2076 616c 6964 6174 6554 7261 6365  f, validateTrace
-00029790: 3d4e 6f6e 6529 202d 3e20 4e6f 6e65 3a0a  =None) -> None:.
-000297a0: 2020 2020 2020 2020 7761 726e 696e 6773          warnings
-000297b0: 2e77 6172 6e28 0a20 2020 2020 2020 2020  .warn(.         
-000297c0: 2020 2022 5061 7273 6572 456c 656d 656e     "ParserElemen
-000297d0: 742e 7661 6c69 6461 7465 2829 2069 7320  t.validate() is 
-000297e0: 6465 7072 6563 6174 6564 2c20 616e 6420  deprecated, and 
-000297f0: 7368 6f75 6c64 206e 6f74 2062 6520 7573  should not be us
-00029800: 6564 2074 6f20 6368 6563 6b20 666f 7220  ed to check for 
-00029810: 6c65 6674 2072 6563 7572 7369 6f6e 222c  left recursion",
-00029820: 0a20 2020 2020 2020 2020 2020 2044 6570  .            Dep
-00029830: 7265 6361 7469 6f6e 5761 726e 696e 672c  recationWarning,
-00029840: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
-00029850: 636b 6c65 7665 6c3d 322c 0a20 2020 2020  cklevel=2,.     
-00029860: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
-00029870: 7661 6c69 6461 7465 5472 6163 6520 6973  validateTrace is
-00029880: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00029890: 2020 2076 616c 6964 6174 6554 7261 6365     validateTrace
-000298a0: 203d 205b 5d0a 2020 2020 2020 2020 746d   = [].        tm
-000298b0: 7020 3d20 7661 6c69 6461 7465 5472 6163  p = validateTrac
-000298c0: 655b 3a5d 202b 205b 7365 6c66 5d0a 2020  e[:] + [self].  
-000298d0: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
-000298e0: 7072 2069 7320 6e6f 7420 4e6f 6e65 3a0a  pr is not None:.
-000298f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00029900: 2e65 7870 722e 7661 6c69 6461 7465 2874  .expr.validate(t
-00029910: 6d70 290a 2020 2020 2020 2020 7365 6c66  mp).        self
-00029920: 2e5f 6368 6563 6b52 6563 7572 7369 6f6e  ._checkRecursion
-00029930: 285b 5d29 0a0a 2020 2020 6465 6620 5f67  ([])..    def _g
-00029940: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
-00029950: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
-00029960: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00029970: 6622 7b73 656c 662e 5f5f 636c 6173 735f  f"{self.__class_
-00029980: 5f2e 5f5f 6e61 6d65 5f5f 7d3a 287b 7374  _.__name__}:({st
-00029990: 7228 7365 6c66 2e65 7870 7229 7d29 220a  r(self.expr)})".
-000299a0: 0a20 2020 2023 2043 6f6d 7061 7469 6269  .    # Compatibi
-000299b0: 6c69 7479 2073 796e 6f6e 796d 730a 2020  lity synonyms.  
-000299c0: 2020 2320 666d 743a 206f 6666 0a20 2020    # fmt: off.   
-000299d0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
-000299e0: 7038 286c 6561 7665 5f77 6869 7465 7370  p8(leave_whitesp
-000299f0: 6163 6529 0a20 2020 2064 6566 206c 6561  ace).    def lea
-00029a00: 7665 5768 6974 6573 7061 6365 2873 656c  veWhitespace(sel
-00029a10: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7265  f): .....    @re
-00029a20: 706c 6163 6564 5f62 795f 7065 7038 2869  placed_by_pep8(i
-00029a30: 676e 6f72 655f 7768 6974 6573 7061 6365  gnore_whitespace
-00029a40: 290a 2020 2020 6465 6620 6967 6e6f 7265  ).    def ignore
-00029a50: 5768 6974 6573 7061 6365 2873 656c 6629  Whitespace(self)
-00029a60: 3a20 2e2e 2e0a 2020 2020 2320 666d 743a  : ....    # fmt:
-00029a70: 206f 6e0a 0a0a 636c 6173 7320 496e 6465   on...class Inde
-00029a80: 6e74 6564 426c 6f63 6b28 5061 7273 6545  ntedBlock(ParseE
-00029a90: 6c65 6d65 6e74 456e 6861 6e63 6529 3a0a  lementEnhance):.
-00029aa0: 2020 2020 2222 220a 2020 2020 4578 7072      """.    Expr
-00029ab0: 6573 7369 6f6e 2074 6f20 6d61 7463 6820  ession to match 
-00029ac0: 6f6e 6520 6f72 206d 6f72 6520 6578 7072  one or more expr
-00029ad0: 6573 7369 6f6e 7320 6174 2061 2067 6976  essions at a giv
-00029ae0: 656e 2069 6e64 656e 7461 7469 6f6e 206c  en indentation l
-00029af0: 6576 656c 2e0a 2020 2020 5573 6566 756c  evel..    Useful
-00029b00: 2066 6f72 2070 6172 7369 6e67 2074 6578   for parsing tex
-00029b10: 7420 7768 6572 6520 7374 7275 6374 7572  t where structur
-00029b20: 6520 6973 2069 6d70 6c69 6564 2062 7920  e is implied by 
-00029b30: 696e 6465 6e74 6174 696f 6e20 286c 696b  indentation (lik
-00029b40: 6520 5079 7468 6f6e 2073 6f75 7263 6520  e Python source 
-00029b50: 636f 6465 292e 0a20 2020 2022 2222 0a0a  code)..    """..
-00029b60: 2020 2020 636c 6173 7320 5f49 6e64 656e      class _Inden
-00029b70: 7428 456d 7074 7929 3a0a 2020 2020 2020  t(Empty):.      
-00029b80: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-00029b90: 656c 662c 2072 6566 5f63 6f6c 3a20 696e  elf, ref_col: in
-00029ba0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-00029bb0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-00029bc0: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
-00029bd0: 656c 662e 6572 726d 7367 203d 2066 2265  elf.errmsg = f"e
-00029be0: 7870 6563 7465 6420 696e 6465 6e74 2061  xpected indent a
-00029bf0: 7420 636f 6c75 6d6e 207b 7265 665f 636f  t column {ref_co
-00029c00: 6c7d 220a 2020 2020 2020 2020 2020 2020  l}".            
-00029c10: 7365 6c66 2e61 6464 5f63 6f6e 6469 7469  self.add_conditi
-00029c20: 6f6e 286c 616d 6264 6120 732c 206c 2c20  on(lambda s, l, 
-00029c30: 743a 2063 6f6c 286c 2c20 7329 203d 3d20  t: col(l, s) == 
-00029c40: 7265 665f 636f 6c29 0a0a 2020 2020 636c  ref_col)..    cl
-00029c50: 6173 7320 5f49 6e64 656e 7447 7265 6174  ass _IndentGreat
-00029c60: 6572 2845 6d70 7479 293a 0a20 2020 2020  er(Empty):.     
-00029c70: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-00029c80: 7365 6c66 2c20 7265 665f 636f 6c3a 2069  self, ref_col: i
-00029c90: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
-00029ca0: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-00029cb0: 5f28 290a 2020 2020 2020 2020 2020 2020  _().            
-00029cc0: 7365 6c66 2e65 7272 6d73 6720 3d20 6622  self.errmsg = f"
-00029cd0: 6578 7065 6374 6564 2069 6e64 656e 7420  expected indent 
-00029ce0: 6174 2063 6f6c 756d 6e20 6772 6561 7465  at column greate
-00029cf0: 7220 7468 616e 207b 7265 665f 636f 6c7d  r than {ref_col}
-00029d00: 220a 2020 2020 2020 2020 2020 2020 7365  ".            se
-00029d10: 6c66 2e61 6464 5f63 6f6e 6469 7469 6f6e  lf.add_condition
-00029d20: 286c 616d 6264 6120 732c 206c 2c20 743a  (lambda s, l, t:
-00029d30: 2063 6f6c 286c 2c20 7329 203e 2072 6566   col(l, s) > ref
-00029d40: 5f63 6f6c 290a 0a20 2020 2064 6566 205f  _col)..    def _
-00029d50: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
-00029d60: 2073 656c 662c 2065 7870 723a 2050 6172   self, expr: Par
-00029d70: 7365 7245 6c65 6d65 6e74 2c20 2a2c 2072  serElement, *, r
-00029d80: 6563 7572 7369 7665 3a20 626f 6f6c 203d  ecursive: bool =
-00029d90: 2046 616c 7365 2c20 6772 6f75 7065 643a   False, grouped:
-00029da0: 2062 6f6f 6c20 3d20 5472 7565 0a20 2020   bool = True.   
-00029db0: 2029 3a0a 2020 2020 2020 2020 7375 7065   ):.        supe
-00029dc0: 7228 292e 5f5f 696e 6974 5f5f 2865 7870  r().__init__(exp
-00029dd0: 722c 2073 6176 656c 6973 743d 5472 7565  r, savelist=True
-00029de0: 290a 2020 2020 2020 2020 2320 6966 2072  ).        # if r
-00029df0: 6563 7572 7369 7665 3a0a 2020 2020 2020  ecursive:.      
-00029e00: 2020 2320 2020 2020 7261 6973 6520 4e6f    #     raise No
-00029e10: 7449 6d70 6c65 6d65 6e74 6564 4572 726f  tImplementedErro
-00029e20: 7228 2249 6e64 656e 7465 6442 6c6f 636b  r("IndentedBlock
-00029e30: 2077 6974 6820 7265 6375 7273 6976 6520   with recursive 
-00029e40: 6973 206e 6f74 2069 6d70 6c65 6d65 6e74  is not implement
-00029e50: 6564 2229 0a20 2020 2020 2020 2073 656c  ed").        sel
-00029e60: 662e 5f72 6563 7572 7369 7665 203d 2072  f._recursive = r
-00029e70: 6563 7572 7369 7665 0a20 2020 2020 2020  ecursive.       
-00029e80: 2073 656c 662e 5f67 726f 7570 6564 203d   self._grouped =
-00029e90: 2067 726f 7570 6564 0a20 2020 2020 2020   grouped.       
-00029ea0: 2073 656c 662e 7061 7265 6e74 5f61 6e63   self.parent_anc
-00029eb0: 686f 7220 3d20 310a 0a20 2020 2064 6566  hor = 1..    def
-00029ec0: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
-00029ed0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-00029ee0: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
-00029ef0: 0a20 2020 2020 2020 2023 2061 6476 616e  .        # advan
-00029f00: 6365 2070 6172 7365 2070 6f73 6974 696f  ce parse positio
-00029f10: 6e20 746f 206e 6f6e 2d77 6869 7465 7370  n to non-whitesp
-00029f20: 6163 6520 6279 2075 7369 6e67 2061 6e20  ace by using an 
-00029f30: 456d 7074 7928 290a 2020 2020 2020 2020  Empty().        
-00029f40: 2320 7468 6973 2073 686f 756c 6420 6265  # this should be
-00029f50: 2074 6865 2063 6f6c 756d 6e20 746f 2062   the column to b
-00029f60: 6520 7573 6564 2066 6f72 2061 6c6c 2073  e used for all s
-00029f70: 7562 7365 7175 656e 7420 696e 6465 6e74  ubsequent indent
-00029f80: 6564 206c 696e 6573 0a20 2020 2020 2020  ed lines.       
-00029f90: 2061 6e63 686f 725f 6c6f 6320 3d20 456d   anchor_loc = Em
-00029fa0: 7074 7928 292e 7072 6550 6172 7365 2869  pty().preParse(i
-00029fb0: 6e73 7472 696e 672c 206c 6f63 290a 0a20  nstring, loc).. 
-00029fc0: 2020 2020 2020 2023 2073 6565 2069 6620         # see if 
-00029fd0: 7365 6c66 2e65 7870 7220 6d61 7463 6865  self.expr matche
-00029fe0: 7320 6174 2074 6865 2063 7572 7265 6e74  s at the current
-00029ff0: 206c 6f63 6174 696f 6e20 2d20 6966 206e   location - if n
-0002a000: 6f74 2069 7420 7769 6c6c 2072 6169 7365  ot it will raise
-0002a010: 2061 6e20 6578 6365 7074 696f 6e0a 2020   an exception.  
-0002a020: 2020 2020 2020 2320 616e 6420 6e6f 2066        # and no f
-0002a030: 7572 7468 6572 2077 6f72 6b20 6973 206e  urther work is n
-0002a040: 6563 6573 7361 7279 0a20 2020 2020 2020  ecessary.       
-0002a050: 2073 656c 662e 6578 7072 2e74 7279 5f70   self.expr.try_p
-0002a060: 6172 7365 2869 6e73 7472 696e 672c 2061  arse(instring, a
-0002a070: 6e63 686f 725f 6c6f 632c 2064 6f5f 6163  nchor_loc, do_ac
-0002a080: 7469 6f6e 733d 646f 4163 7469 6f6e 7329  tions=doActions)
-0002a090: 0a0a 2020 2020 2020 2020 696e 6465 6e74  ..        indent
-0002a0a0: 5f63 6f6c 203d 2063 6f6c 2861 6e63 686f  _col = col(ancho
-0002a0b0: 725f 6c6f 632c 2069 6e73 7472 696e 6729  r_loc, instring)
-0002a0c0: 0a20 2020 2020 2020 2070 6565 725f 6465  .        peer_de
-0002a0d0: 7465 6374 5f65 7870 7220 3d20 7365 6c66  tect_expr = self
-0002a0e0: 2e5f 496e 6465 6e74 2869 6e64 656e 745f  ._Indent(indent_
-0002a0f0: 636f 6c29 0a0a 2020 2020 2020 2020 696e  col)..        in
-0002a100: 6e65 725f 6578 7072 203d 2045 6d70 7479  ner_expr = Empty
-0002a110: 2829 202b 2070 6565 725f 6465 7465 6374  () + peer_detect
-0002a120: 5f65 7870 7220 2b20 7365 6c66 2e65 7870  _expr + self.exp
-0002a130: 720a 2020 2020 2020 2020 6966 2073 656c  r.        if sel
-0002a140: 662e 5f72 6563 7572 7369 7665 3a0a 2020  f._recursive:.  
-0002a150: 2020 2020 2020 2020 2020 7375 625f 696e            sub_in
-0002a160: 6465 6e74 203d 2073 656c 662e 5f49 6e64  dent = self._Ind
-0002a170: 656e 7447 7265 6174 6572 2869 6e64 656e  entGreater(inden
-0002a180: 745f 636f 6c29 0a20 2020 2020 2020 2020  t_col).         
-0002a190: 2020 206e 6573 7465 645f 626c 6f63 6b20     nested_block 
-0002a1a0: 3d20 496e 6465 6e74 6564 426c 6f63 6b28  = IndentedBlock(
-0002a1b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002a1c0: 2073 656c 662e 6578 7072 2c20 7265 6375   self.expr, recu
-0002a1d0: 7273 6976 653d 7365 6c66 2e5f 7265 6375  rsive=self._recu
-0002a1e0: 7273 6976 652c 2067 726f 7570 6564 3d73  rsive, grouped=s
-0002a1f0: 656c 662e 5f67 726f 7570 6564 0a20 2020  elf._grouped.   
-0002a200: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0002a210: 2020 2020 2020 206e 6573 7465 645f 626c         nested_bl
-0002a220: 6f63 6b2e 7365 745f 6465 6275 6728 7365  ock.set_debug(se
-0002a230: 6c66 2e64 6562 7567 290a 2020 2020 2020  lf.debug).      
-0002a240: 2020 2020 2020 6e65 7374 6564 5f62 6c6f        nested_blo
-0002a250: 636b 2e70 6172 656e 745f 616e 6368 6f72  ck.parent_anchor
-0002a260: 203d 2069 6e64 656e 745f 636f 6c0a 2020   = indent_col.  
-0002a270: 2020 2020 2020 2020 2020 696e 6e65 725f            inner_
-0002a280: 6578 7072 202b 3d20 4f70 7428 7375 625f  expr += Opt(sub_
-0002a290: 696e 6465 6e74 202b 206e 6573 7465 645f  indent + nested_
-0002a2a0: 626c 6f63 6b29 0a0a 2020 2020 2020 2020  block)..        
-0002a2b0: 696e 6e65 725f 6578 7072 2e73 6574 5f6e  inner_expr.set_n
-0002a2c0: 616d 6528 6622 696e 6e65 7220 7b68 6578  ame(f"inner {hex
-0002a2d0: 2869 6428 696e 6e65 725f 6578 7072 2929  (id(inner_expr))
-0002a2e0: 5b2d 343a 5d2e 7570 7065 7228 297d 407b  [-4:].upper()}@{
-0002a2f0: 696e 6465 6e74 5f63 6f6c 7d22 290a 2020  indent_col}").  
-0002a300: 2020 2020 2020 626c 6f63 6b20 3d20 4f6e        block = On
-0002a310: 654f 724d 6f72 6528 696e 6e65 725f 6578  eOrMore(inner_ex
-0002a320: 7072 290a 0a20 2020 2020 2020 2074 7261  pr)..        tra
-0002a330: 696c 696e 675f 756e 6465 6e74 203d 2073  iling_undent = s
-0002a340: 656c 662e 5f49 6e64 656e 7428 7365 6c66  elf._Indent(self
-0002a350: 2e70 6172 656e 745f 616e 6368 6f72 2920  .parent_anchor) 
-0002a360: 7c20 5374 7269 6e67 456e 6428 290a 0a20  | StringEnd().. 
-0002a370: 2020 2020 2020 2069 6620 7365 6c66 2e5f         if self._
-0002a380: 6772 6f75 7065 643a 0a20 2020 2020 2020  grouped:.       
-0002a390: 2020 2020 2077 7261 7070 6572 203d 2047       wrapper = G
-0002a3a0: 726f 7570 0a20 2020 2020 2020 2065 6c73  roup.        els
-0002a3b0: 653a 0a20 2020 2020 2020 2020 2020 2077  e:.            w
-0002a3c0: 7261 7070 6572 203d 206c 616d 6264 6120  rapper = lambda 
-0002a3d0: 6578 7072 3a20 6578 7072 0a20 2020 2020  expr: expr.     
-0002a3e0: 2020 2072 6574 7572 6e20 2877 7261 7070     return (wrapp
-0002a3f0: 6572 2862 6c6f 636b 2920 2b20 4f70 7469  er(block) + Opti
-0002a400: 6f6e 616c 2874 7261 696c 696e 675f 756e  onal(trailing_un
-0002a410: 6465 6e74 2929 2e70 6172 7365 496d 706c  dent)).parseImpl
-0002a420: 280a 2020 2020 2020 2020 2020 2020 696e  (.            in
-0002a430: 7374 7269 6e67 2c20 616e 6368 6f72 5f6c  string, anchor_l
-0002a440: 6f63 2c20 646f 4163 7469 6f6e 730a 2020  oc, doActions.  
-0002a450: 2020 2020 2020 290a 0a0a 636c 6173 7320        )...class 
-0002a460: 4174 5374 7269 6e67 5374 6172 7428 5061  AtStringStart(Pa
-0002a470: 7273 6545 6c65 6d65 6e74 456e 6861 6e63  rseElementEnhanc
-0002a480: 6529 3a0a 2020 2020 2222 224d 6174 6368  e):.    """Match
-0002a490: 6573 2069 6620 6578 7072 6573 7369 6f6e  es if expression
-0002a4a0: 206d 6174 6368 6573 2061 7420 7468 6520   matches at the 
-0002a4b0: 6265 6769 6e6e 696e 6720 6f66 2074 6865  beginning of the
-0002a4c0: 2070 6172 7365 0a20 2020 2073 7472 696e   parse.    strin
-0002a4d0: 673a 3a0a 0a20 2020 2020 2020 2041 7453  g::..        AtS
-0002a4e0: 7472 696e 6753 7461 7274 2857 6f72 6428  tringStart(Word(
-0002a4f0: 6e75 6d73 2929 2e70 6172 7365 5f73 7472  nums)).parse_str
-0002a500: 696e 6728 2231 3233 2229 0a20 2020 2020  ing("123").     
-0002a510: 2020 2023 2070 7269 6e74 7320 5b22 3132     # prints ["12
-0002a520: 3322 5d0a 0a20 2020 2020 2020 2041 7453  3"]..        AtS
-0002a530: 7472 696e 6753 7461 7274 2857 6f72 6428  tringStart(Word(
-0002a540: 6e75 6d73 2929 2e70 6172 7365 5f73 7472  nums)).parse_str
-0002a550: 696e 6728 2220 2020 2031 3233 2229 0a20  ing("    123"). 
-0002a560: 2020 2020 2020 2023 2072 6169 7365 7320         # raises 
-0002a570: 5061 7273 6545 7863 6570 7469 6f6e 0a20  ParseException. 
-0002a580: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
-0002a590: 5f5f 696e 6974 5f5f 2873 656c 662c 2065  __init__(self, e
-0002a5a0: 7870 723a 2055 6e69 6f6e 5b50 6172 7365  xpr: Union[Parse
-0002a5b0: 7245 6c65 6d65 6e74 2c20 7374 725d 293a  rElement, str]):
-0002a5c0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
-0002a5d0: 2e5f 5f69 6e69 745f 5f28 6578 7072 290a  .__init__(expr).
-0002a5e0: 2020 2020 2020 2020 7365 6c66 2e63 616c          self.cal
-0002a5f0: 6c50 7265 7061 7273 6520 3d20 4661 6c73  lPreparse = Fals
-0002a600: 650a 0a20 2020 2064 6566 2070 6172 7365  e..    def parse
-0002a610: 496d 706c 2873 656c 662c 2069 6e73 7472  Impl(self, instr
-0002a620: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
-0002a630: 6f6e 733d 5472 7565 293a 0a20 2020 2020  ons=True):.     
-0002a640: 2020 2069 6620 6c6f 6320 213d 2030 3a0a     if loc != 0:.
-0002a650: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0002a660: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-0002a670: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-0002a680: 226e 6f74 2066 6f75 6e64 2061 7420 7374  "not found at st
-0002a690: 7269 6e67 2073 7461 7274 2229 0a20 2020  ring start").   
-0002a6a0: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
-0002a6b0: 7228 292e 7061 7273 6549 6d70 6c28 696e  r().parseImpl(in
-0002a6c0: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-0002a6d0: 6374 696f 6e73 290a 0a0a 636c 6173 7320  ctions)...class 
-0002a6e0: 4174 4c69 6e65 5374 6172 7428 5061 7273  AtLineStart(Pars
-0002a6f0: 6545 6c65 6d65 6e74 456e 6861 6e63 6529  eElementEnhance)
-0002a700: 3a0a 2020 2020 7222 2222 4d61 7463 6865  :.    r"""Matche
-0002a710: 7320 6966 2061 6e20 6578 7072 6573 7369  s if an expressi
-0002a720: 6f6e 206d 6174 6368 6573 2061 7420 7468  on matches at th
-0002a730: 6520 6265 6769 6e6e 696e 6720 6f66 2061  e beginning of a
-0002a740: 206c 696e 6520 7769 7468 696e 0a20 2020   line within.   
-0002a750: 2074 6865 2070 6172 7365 2073 7472 696e   the parse strin
-0002a760: 670a 0a20 2020 2045 7861 6d70 6c65 3a3a  g..    Example::
-0002a770: 0a0a 2020 2020 2020 2020 7465 7374 203d  ..        test =
-0002a780: 2027 2727 5c0a 2020 2020 2020 2020 4141   '''\.        AA
-0002a790: 4120 7468 6973 206c 696e 650a 2020 2020  A this line.    
-0002a7a0: 2020 2020 4141 4120 616e 6420 7468 6973      AAA and this
-0002a7b0: 206c 696e 650a 2020 2020 2020 2020 2020   line.          
-0002a7c0: 4141 4120 6275 7420 6e6f 7420 7468 6973  AAA but not this
-0002a7d0: 206f 6e65 0a20 2020 2020 2020 2042 2041   one.        B A
-0002a7e0: 4141 2061 6e64 2064 6566 696e 6974 656c  AA and definitel
-0002a7f0: 7920 6e6f 7420 7468 6973 206f 6e65 0a20  y not this one. 
-0002a800: 2020 2020 2020 2027 2727 0a0a 2020 2020         '''..    
-0002a810: 2020 2020 666f 7220 7420 696e 2028 4174      for t in (At
-0002a820: 4c69 6e65 5374 6172 7428 2741 4141 2729  LineStart('AAA')
-0002a830: 202b 2072 6573 745f 6f66 5f6c 696e 6529   + rest_of_line)
-0002a840: 2e73 6561 7263 685f 7374 7269 6e67 2874  .search_string(t
-0002a850: 6573 7429 3a0a 2020 2020 2020 2020 2020  est):.          
-0002a860: 2020 7072 696e 7428 7429 0a0a 2020 2020    print(t)..    
-0002a870: 7072 696e 7473 3a3a 0a0a 2020 2020 2020  prints::..      
-0002a880: 2020 5b27 4141 4127 2c20 2720 7468 6973    ['AAA', ' this
-0002a890: 206c 696e 6527 5d0a 2020 2020 2020 2020   line'].        
-0002a8a0: 5b27 4141 4127 2c20 2720 616e 6420 7468  ['AAA', ' and th
-0002a8b0: 6973 206c 696e 6527 5d0a 0a20 2020 2022  is line']..    "
-0002a8c0: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
-0002a8d0: 6974 5f5f 2873 656c 662c 2065 7870 723a  it__(self, expr:
-0002a8e0: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
-0002a8f0: 6d65 6e74 2c20 7374 725d 293a 0a20 2020  ment, str]):.   
-0002a900: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-0002a910: 6e69 745f 5f28 6578 7072 290a 2020 2020  nit__(expr).    
-0002a920: 2020 2020 7365 6c66 2e63 616c 6c50 7265      self.callPre
-0002a930: 7061 7273 6520 3d20 4661 6c73 650a 0a20  parse = False.. 
-0002a940: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-0002a950: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-0002a960: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-0002a970: 5472 7565 293a 0a20 2020 2020 2020 2069  True):.        i
-0002a980: 6620 636f 6c28 6c6f 632c 2069 6e73 7472  f col(loc, instr
-0002a990: 696e 6729 2021 3d20 313a 0a20 2020 2020  ing) != 1:.     
-0002a9a0: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
-0002a9b0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
-0002a9c0: 7269 6e67 2c20 6c6f 632c 2022 6e6f 7420  ring, loc, "not 
-0002a9d0: 666f 756e 6420 6174 206c 696e 6520 7374  found at line st
-0002a9e0: 6172 7422 290a 2020 2020 2020 2020 7265  art").        re
-0002a9f0: 7475 726e 2073 7570 6572 2829 2e70 6172  turn super().par
-0002aa00: 7365 496d 706c 2869 6e73 7472 696e 672c  seImpl(instring,
-0002aa10: 206c 6f63 2c20 646f 4163 7469 6f6e 7329   loc, doActions)
-0002aa20: 0a0a 0a63 6c61 7373 2046 6f6c 6c6f 7765  ...class Followe
-0002aa30: 6442 7928 5061 7273 6545 6c65 6d65 6e74  dBy(ParseElement
-0002aa40: 456e 6861 6e63 6529 3a0a 2020 2020 2222  Enhance):.    ""
-0002aa50: 224c 6f6f 6b61 6865 6164 206d 6174 6368  "Lookahead match
-0002aa60: 696e 6720 6f66 2074 6865 2067 6976 656e  ing of the given
-0002aa70: 2070 6172 7365 2065 7870 7265 7373 696f   parse expressio
-0002aa80: 6e2e 0a20 2020 2060 6046 6f6c 6c6f 7765  n..    ``Followe
-0002aa90: 6442 7960 6020 646f 6573 202a 6e6f 742a  dBy`` does *not*
-0002aaa0: 2061 6476 616e 6365 2074 6865 2070 6172   advance the par
-0002aab0: 7369 6e67 2070 6f73 6974 696f 6e20 7769  sing position wi
-0002aac0: 7468 696e 0a20 2020 2074 6865 2069 6e70  thin.    the inp
-0002aad0: 7574 2073 7472 696e 672c 2069 7420 6f6e  ut string, it on
-0002aae0: 6c79 2076 6572 6966 6965 7320 7468 6174  ly verifies that
-0002aaf0: 2074 6865 2073 7065 6369 6669 6564 2070   the specified p
-0002ab00: 6172 7365 0a20 2020 2065 7870 7265 7373  arse.    express
-0002ab10: 696f 6e20 6d61 7463 6865 7320 6174 2074  ion matches at t
-0002ab20: 6865 2063 7572 7265 6e74 2070 6f73 6974  he current posit
-0002ab30: 696f 6e2e 2020 6060 466f 6c6c 6f77 6564  ion.  ``Followed
-0002ab40: 4279 6060 0a20 2020 2061 6c77 6179 7320  By``.    always 
-0002ab50: 7265 7475 726e 7320 6120 6e75 6c6c 2074  returns a null t
-0002ab60: 6f6b 656e 206c 6973 742e 2049 6620 616e  oken list. If an
-0002ab70: 7920 7265 7375 6c74 7320 6e61 6d65 7320  y results names 
-0002ab80: 6172 6520 6465 6669 6e65 640a 2020 2020  are defined.    
-0002ab90: 696e 2074 6865 206c 6f6f 6b61 6865 6164  in the lookahead
-0002aba0: 2065 7870 7265 7373 696f 6e2c 2074 686f   expression, tho
-0002abb0: 7365 202a 7769 6c6c 2a20 6265 2072 6574  se *will* be ret
-0002abc0: 7572 6e65 6420 666f 7220 6163 6365 7373  urned for access
-0002abd0: 2062 790a 2020 2020 6e61 6d65 2e0a 0a20   by.    name... 
-0002abe0: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
-0002abf0: 2020 2020 2020 2320 7573 6520 466f 6c6c        # use Foll
-0002ac00: 6f77 6564 4279 2074 6f20 6d61 7463 6820  owedBy to match 
-0002ac10: 6120 6c61 6265 6c20 6f6e 6c79 2069 6620  a label only if 
-0002ac20: 6974 2069 7320 666f 6c6c 6f77 6564 2062  it is followed b
-0002ac30: 7920 6120 273a 270a 2020 2020 2020 2020  y a ':'.        
-0002ac40: 6461 7461 5f77 6f72 6420 3d20 576f 7264  data_word = Word
-0002ac50: 2861 6c70 6861 7329 0a20 2020 2020 2020  (alphas).       
-0002ac60: 206c 6162 656c 203d 2064 6174 615f 776f   label = data_wo
-0002ac70: 7264 202b 2046 6f6c 6c6f 7765 6442 7928  rd + FollowedBy(
-0002ac80: 273a 2729 0a20 2020 2020 2020 2061 7474  ':').        att
-0002ac90: 725f 6578 7072 203d 2047 726f 7570 286c  r_expr = Group(l
-0002aca0: 6162 656c 202b 2053 7570 7072 6573 7328  abel + Suppress(
-0002acb0: 273a 2729 202b 204f 6e65 4f72 4d6f 7265  ':') + OneOrMore
-0002acc0: 2864 6174 615f 776f 7264 2c20 7374 6f70  (data_word, stop
-0002acd0: 5f6f 6e3d 6c61 6265 6c29 2e73 6574 5f70  _on=label).set_p
-0002ace0: 6172 7365 5f61 6374 696f 6e28 2720 272e  arse_action(' '.
-0002acf0: 6a6f 696e 2929 0a0a 2020 2020 2020 2020  join))..        
-0002ad00: 6174 7472 5f65 7870 725b 312c 202e 2e2e  attr_expr[1, ...
-0002ad10: 5d2e 7061 7273 655f 7374 7269 6e67 2822  ].parse_string("
-0002ad20: 7368 6170 653a 2053 5155 4152 4520 636f  shape: SQUARE co
-0002ad30: 6c6f 723a 2042 4c41 434b 2070 6f73 6e3a  lor: BLACK posn:
-0002ad40: 2075 7070 6572 206c 6566 7422 292e 7070   upper left").pp
-0002ad50: 7269 6e74 2829 0a0a 2020 2020 7072 696e  rint()..    prin
-0002ad60: 7473 3a3a 0a0a 2020 2020 2020 2020 5b5b  ts::..        [[
-0002ad70: 2773 6861 7065 272c 2027 5351 5541 5245  'shape', 'SQUARE
-0002ad80: 275d 2c20 5b27 636f 6c6f 7227 2c20 2742  '], ['color', 'B
-0002ad90: 4c41 434b 275d 2c20 5b27 706f 736e 272c  LACK'], ['posn',
-0002ada0: 2027 7570 7065 7220 6c65 6674 275d 5d0a   'upper left']].
-0002adb0: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
-0002adc0: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
-0002add0: 6578 7072 3a20 556e 696f 6e5b 5061 7273  expr: Union[Pars
-0002ade0: 6572 456c 656d 656e 742c 2073 7472 5d29  erElement, str])
-0002adf0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-0002ae00: 292e 5f5f 696e 6974 5f5f 2865 7870 7229  ).__init__(expr)
-0002ae10: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
-0002ae20: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
-0002ae30: 7275 650a 0a20 2020 2064 6566 2070 6172  rue..    def par
-0002ae40: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
-0002ae50: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-0002ae60: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
-0002ae70: 2020 2020 2023 2062 7920 7573 696e 6720       # by using 
-0002ae80: 7365 6c66 2e5f 6578 7072 2e70 6172 7365  self._expr.parse
-0002ae90: 2061 6e64 2064 656c 6574 696e 6720 7468   and deleting th
-0002aea0: 6520 636f 6e74 656e 7473 206f 6620 7468  e contents of th
-0002aeb0: 6520 7265 7475 726e 6564 2050 6172 7365  e returned Parse
-0002aec0: 5265 7375 6c74 7320 6c69 7374 0a20 2020  Results list.   
-0002aed0: 2020 2020 2023 2077 6520 6b65 6570 2061       # we keep a
-0002aee0: 6e79 206e 616d 6564 2072 6573 756c 7473  ny named results
-0002aef0: 2074 6861 7420 7765 7265 2064 6566 696e   that were defin
-0002af00: 6564 2069 6e20 7468 6520 466f 6c6c 6f77  ed in the Follow
-0002af10: 6564 4279 2065 7870 7265 7373 696f 6e0a  edBy expression.
-0002af20: 2020 2020 2020 2020 5f2c 2072 6574 203d          _, ret =
-0002af30: 2073 656c 662e 6578 7072 2e5f 7061 7273   self.expr._pars
-0002af40: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
-0002af50: 2064 6f41 6374 696f 6e73 3d64 6f41 6374   doActions=doAct
-0002af60: 696f 6e73 290a 2020 2020 2020 2020 6465  ions).        de
-0002af70: 6c20 7265 745b 3a5d 0a0a 2020 2020 2020  l ret[:]..      
-0002af80: 2020 7265 7475 726e 206c 6f63 2c20 7265    return loc, re
-0002af90: 740a 0a0a 636c 6173 7320 5072 6563 6564  t...class Preced
-0002afa0: 6564 4279 2850 6172 7365 456c 656d 656e  edBy(ParseElemen
-0002afb0: 7445 6e68 616e 6365 293a 0a20 2020 2022  tEnhance):.    "
-0002afc0: 2222 4c6f 6f6b 6265 6869 6e64 206d 6174  ""Lookbehind mat
-0002afd0: 6368 696e 6720 6f66 2074 6865 2067 6976  ching of the giv
-0002afe0: 656e 2070 6172 7365 2065 7870 7265 7373  en parse express
-0002aff0: 696f 6e2e 0a20 2020 2060 6050 7265 6365  ion..    ``Prece
-0002b000: 6465 6442 7960 6020 646f 6573 206e 6f74  dedBy`` does not
-0002b010: 2061 6476 616e 6365 2074 6865 2070 6172   advance the par
-0002b020: 7369 6e67 2070 6f73 6974 696f 6e20 7769  sing position wi
-0002b030: 7468 696e 2074 6865 0a20 2020 2069 6e70  thin the.    inp
-0002b040: 7574 2073 7472 696e 672c 2069 7420 6f6e  ut string, it on
-0002b050: 6c79 2076 6572 6966 6965 7320 7468 6174  ly verifies that
-0002b060: 2074 6865 2073 7065 6369 6669 6564 2070   the specified p
-0002b070: 6172 7365 2065 7870 7265 7373 696f 6e0a  arse expression.
-0002b080: 2020 2020 6d61 7463 6865 7320 7072 696f      matches prio
-0002b090: 7220 746f 2074 6865 2063 7572 7265 6e74  r to the current
-0002b0a0: 2070 6f73 6974 696f 6e2e 2020 6060 5072   position.  ``Pr
-0002b0b0: 6563 6564 6564 4279 6060 2061 6c77 6179  ecededBy`` alway
-0002b0c0: 730a 2020 2020 7265 7475 726e 7320 6120  s.    returns a 
-0002b0d0: 6e75 6c6c 2074 6f6b 656e 206c 6973 742c  null token list,
-0002b0e0: 2062 7574 2069 6620 6120 7265 7375 6c74   but if a result
-0002b0f0: 7320 6e61 6d65 2069 7320 6465 6669 6e65  s name is define
-0002b100: 6420 6f6e 2074 6865 0a20 2020 2067 6976  d on the.    giv
-0002b110: 656e 2065 7870 7265 7373 696f 6e2c 2069  en expression, i
-0002b120: 7420 6973 2072 6574 7572 6e65 642e 0a0a  t is returned...
-0002b130: 2020 2020 5061 7261 6d65 7465 7273 3a0a      Parameters:.
-0002b140: 0a20 2020 202d 2060 6065 7870 7260 6020  .    - ``expr`` 
-0002b150: 2d20 6578 7072 6573 7369 6f6e 2074 6861  - expression tha
-0002b160: 7420 6d75 7374 206d 6174 6368 2070 7269  t must match pri
-0002b170: 6f72 2074 6f20 7468 6520 6375 7272 656e  or to the curren
-0002b180: 7420 7061 7273 650a 2020 2020 2020 6c6f  t parse.      lo
-0002b190: 6361 7469 6f6e 0a20 2020 202d 2060 6072  cation.    - ``r
-0002b1a0: 6574 7265 6174 6060 202d 2028 6465 6661  etreat`` - (defa
-0002b1b0: 756c 743d 2060 604e 6f6e 6560 6029 202d  ult= ``None``) -
-0002b1c0: 2028 696e 7429 206d 6178 696d 756d 206e   (int) maximum n
-0002b1d0: 756d 6265 7220 6f66 2063 6861 7261 6374  umber of charact
-0002b1e0: 6572 730a 2020 2020 2020 746f 206c 6f6f  ers.      to loo
-0002b1f0: 6b62 6568 696e 6420 7072 696f 7220 746f  kbehind prior to
-0002b200: 2074 6865 2063 7572 7265 6e74 2070 6172   the current par
-0002b210: 7365 206c 6f63 6174 696f 6e0a 0a20 2020  se location..   
-0002b220: 2049 6620 7468 6520 6c6f 6f6b 6265 6869   If the lookbehi
-0002b230: 6e64 2065 7870 7265 7373 696f 6e20 6973  nd expression is
-0002b240: 2061 2073 7472 696e 672c 203a 636c 6173   a string, :clas
-0002b250: 733a 604c 6974 6572 616c 602c 0a20 2020  s:`Literal`,.   
-0002b260: 203a 636c 6173 733a 604b 6579 776f 7264   :class:`Keyword
-0002b270: 602c 206f 7220 6120 3a63 6c61 7373 3a60  `, or a :class:`
-0002b280: 576f 7264 6020 6f72 203a 636c 6173 733a  Word` or :class:
-0002b290: 6043 6861 7273 4e6f 7449 6e60 0a20 2020  `CharsNotIn`.   
-0002b2a0: 2077 6974 6820 6120 7370 6563 6966 6965   with a specifie
-0002b2b0: 6420 6578 6163 7420 6f72 206d 6178 696d  d exact or maxim
-0002b2c0: 756d 206c 656e 6774 682c 2074 6865 6e20  um length, then 
-0002b2d0: 7468 6520 7265 7472 6561 740a 2020 2020  the retreat.    
-0002b2e0: 7061 7261 6d65 7465 7220 6973 206e 6f74  parameter is not
-0002b2f0: 2072 6571 7569 7265 642e 204f 7468 6572   required. Other
-0002b300: 7769 7365 2c20 7265 7472 6561 7420 6d75  wise, retreat mu
-0002b310: 7374 2062 6520 7370 6563 6966 6965 6420  st be specified 
-0002b320: 746f 0a20 2020 2067 6976 6520 6120 6d61  to.    give a ma
-0002b330: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
-0002b340: 6368 6172 6163 7465 7273 2074 6f20 6c6f  characters to lo
-0002b350: 6f6b 2062 6163 6b20 6672 6f6d 0a20 2020  ok back from.   
-0002b360: 2074 6865 2063 7572 7265 6e74 2070 6172   the current par
-0002b370: 7365 2070 6f73 6974 696f 6e20 666f 7220  se position for 
-0002b380: 6120 6c6f 6f6b 6265 6869 6e64 206d 6174  a lookbehind mat
-0002b390: 6368 2e0a 0a20 2020 2045 7861 6d70 6c65  ch...    Example
-0002b3a0: 3a3a 0a0a 2020 2020 2020 2020 2320 5642  ::..        # VB
-0002b3b0: 2d73 7479 6c65 2076 6172 6961 626c 6520  -style variable 
-0002b3c0: 6e61 6d65 7320 7769 7468 2074 7970 6520  names with type 
-0002b3d0: 7072 6566 6978 6573 0a20 2020 2020 2020  prefixes.       
-0002b3e0: 2069 6e74 5f76 6172 203d 2050 7265 6365   int_var = Prece
-0002b3f0: 6465 6442 7928 2223 2229 202b 2070 7970  dedBy("#") + pyp
-0002b400: 6172 7369 6e67 5f63 6f6d 6d6f 6e2e 6964  arsing_common.id
-0002b410: 656e 7469 6669 6572 0a20 2020 2020 2020  entifier.       
-0002b420: 2073 7472 5f76 6172 203d 2050 7265 6365   str_var = Prece
-0002b430: 6465 6442 7928 2224 2229 202b 2070 7970  dedBy("$") + pyp
-0002b440: 6172 7369 6e67 5f63 6f6d 6d6f 6e2e 6964  arsing_common.id
-0002b450: 656e 7469 6669 6572 0a0a 2020 2020 2222  entifier..    ""
-0002b460: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-0002b470: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
-0002b480: 662c 2065 7870 723a 2055 6e69 6f6e 5b50  f, expr: Union[P
-0002b490: 6172 7365 7245 6c65 6d65 6e74 2c20 7374  arserElement, st
-0002b4a0: 725d 2c20 7265 7472 6561 743a 2074 7970  r], retreat: typ
-0002b4b0: 696e 672e 4f70 7469 6f6e 616c 5b69 6e74  ing.Optional[int
-0002b4c0: 5d20 3d20 4e6f 6e65 0a20 2020 2029 3a0a  ] = None.    ):.
-0002b4d0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-0002b4e0: 5f5f 696e 6974 5f5f 2865 7870 7229 0a20  __init__(expr). 
-0002b4f0: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
-0002b500: 203d 2073 656c 662e 6578 7072 2829 2e6c   = self.expr().l
-0002b510: 6561 7665 5f77 6869 7465 7370 6163 6528  eave_whitespace(
-0002b520: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-0002b530: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-0002b540: 5472 7565 0a20 2020 2020 2020 2073 656c  True.        sel
-0002b550: 662e 6d61 7949 6e64 6578 4572 726f 7220  f.mayIndexError 
-0002b560: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-0002b570: 7365 6c66 2e65 7861 6374 203d 2046 616c  self.exact = Fal
-0002b580: 7365 0a20 2020 2020 2020 2069 6620 6973  se.        if is
-0002b590: 696e 7374 616e 6365 2865 7870 722c 2073  instance(expr, s
-0002b5a0: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
-0002b5b0: 2020 2020 2020 6578 7072 203d 2074 7970        expr = typ
-0002b5c0: 696e 672e 6361 7374 2873 7472 2c20 6578  ing.cast(str, ex
-0002b5d0: 7072 290a 2020 2020 2020 2020 2020 2020  pr).            
-0002b5e0: 7265 7472 6561 7420 3d20 6c65 6e28 6578  retreat = len(ex
-0002b5f0: 7072 290a 2020 2020 2020 2020 2020 2020  pr).            
-0002b600: 7365 6c66 2e65 7861 6374 203d 2054 7275  self.exact = Tru
-0002b610: 650a 2020 2020 2020 2020 656c 6966 2069  e.        elif i
-0002b620: 7369 6e73 7461 6e63 6528 6578 7072 2c20  sinstance(expr, 
-0002b630: 284c 6974 6572 616c 2c20 4b65 7977 6f72  (Literal, Keywor
-0002b640: 6429 293a 0a20 2020 2020 2020 2020 2020  d)):.           
-0002b650: 2072 6574 7265 6174 203d 2065 7870 722e   retreat = expr.
-0002b660: 6d61 7463 684c 656e 0a20 2020 2020 2020  matchLen.       
-0002b670: 2020 2020 2073 656c 662e 6578 6163 7420       self.exact 
-0002b680: 3d20 5472 7565 0a20 2020 2020 2020 2065  = True.        e
-0002b690: 6c69 6620 6973 696e 7374 616e 6365 2865  lif isinstance(e
-0002b6a0: 7870 722c 2028 576f 7264 2c20 4368 6172  xpr, (Word, Char
-0002b6b0: 734e 6f74 496e 2929 2061 6e64 2065 7870  sNotIn)) and exp
-0002b6c0: 722e 6d61 784c 656e 2021 3d20 5f4d 4158  r.maxLen != _MAX
-0002b6d0: 5f49 4e54 3a0a 2020 2020 2020 2020 2020  _INT:.          
-0002b6e0: 2020 7265 7472 6561 7420 3d20 6578 7072    retreat = expr
-0002b6f0: 2e6d 6178 4c65 6e0a 2020 2020 2020 2020  .maxLen.        
-0002b700: 2020 2020 7365 6c66 2e65 7861 6374 203d      self.exact =
-0002b710: 2054 7275 650a 2020 2020 2020 2020 656c   True.        el
-0002b720: 6966 2069 7369 6e73 7461 6e63 6528 6578  if isinstance(ex
-0002b730: 7072 2c20 506f 7369 7469 6f6e 546f 6b65  pr, PositionToke
-0002b740: 6e29 3a0a 2020 2020 2020 2020 2020 2020  n):.            
-0002b750: 7265 7472 6561 7420 3d20 300a 2020 2020  retreat = 0.    
-0002b760: 2020 2020 2020 2020 7365 6c66 2e65 7861          self.exa
-0002b770: 6374 203d 2054 7275 650a 2020 2020 2020  ct = True.      
-0002b780: 2020 7365 6c66 2e72 6574 7265 6174 203d    self.retreat =
-0002b790: 2072 6574 7265 6174 0a20 2020 2020 2020   retreat.       
-0002b7a0: 2073 656c 662e 6572 726d 7367 203d 2022   self.errmsg = "
-0002b7b0: 6e6f 7420 7072 6563 6564 6564 2062 7920  not preceded by 
-0002b7c0: 2220 2b20 7374 7228 6578 7072 290a 2020  " + str(expr).  
-0002b7d0: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
-0002b7e0: 6869 7465 7370 6163 6520 3d20 4661 6c73  hitespace = Fals
-0002b7f0: 650a 2020 2020 2020 2020 7365 6c66 2e70  e.        self.p
-0002b800: 6172 7365 4163 7469 6f6e 2e61 7070 656e  arseAction.appen
-0002b810: 6428 6c61 6d62 6461 2073 2c20 6c2c 2074  d(lambda s, l, t
-0002b820: 3a20 742e 5f5f 6465 6c69 7465 6d5f 5f28  : t.__delitem__(
-0002b830: 736c 6963 6528 4e6f 6e65 2c20 4e6f 6e65  slice(None, None
-0002b840: 2929 290a 0a20 2020 2064 6566 2070 6172  )))..    def par
-0002b850: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
-0002b860: 7472 696e 672c 206c 6f63 3d30 2c20 646f  tring, loc=0, do
-0002b870: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-0002b880: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
-0002b890: 7861 6374 3a0a 2020 2020 2020 2020 2020  xact:.          
-0002b8a0: 2020 6966 206c 6f63 203c 2073 656c 662e    if loc < self.
-0002b8b0: 7265 7472 6561 743a 0a20 2020 2020 2020  retreat:.       
-0002b8c0: 2020 2020 2020 2020 2072 6169 7365 2050           raise P
-0002b8d0: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
-0002b8e0: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
-0002b8f0: 662e 6572 726d 7367 290a 2020 2020 2020  f.errmsg).      
-0002b900: 2020 2020 2020 7374 6172 7420 3d20 6c6f        start = lo
-0002b910: 6320 2d20 7365 6c66 2e72 6574 7265 6174  c - self.retreat
-0002b920: 0a20 2020 2020 2020 2020 2020 205f 2c20  .            _, 
-0002b930: 7265 7420 3d20 7365 6c66 2e65 7870 722e  ret = self.expr.
-0002b940: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
-0002b950: 2073 7461 7274 290a 2020 2020 2020 2020   start).        
-0002b960: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0002b970: 2020 2320 7265 7472 6561 7420 7370 6563    # retreat spec
-0002b980: 6966 6965 6420 6120 6d61 7869 6d75 6d20  ified a maximum 
-0002b990: 6c6f 6f6b 6265 6869 6e64 2077 696e 646f  lookbehind windo
-0002b9a0: 772c 2069 7465 7261 7465 0a20 2020 2020  w, iterate.     
-0002b9b0: 2020 2020 2020 2074 6573 745f 6578 7072         test_expr
-0002b9c0: 203d 2073 656c 662e 6578 7072 202b 2053   = self.expr + S
-0002b9d0: 7472 696e 6745 6e64 2829 0a20 2020 2020  tringEnd().     
-0002b9e0: 2020 2020 2020 2069 6e73 7472 696e 675f         instring_
-0002b9f0: 736c 6963 6520 3d20 696e 7374 7269 6e67  slice = instring
-0002ba00: 5b6d 6178 2830 2c20 6c6f 6320 2d20 7365  [max(0, loc - se
-0002ba10: 6c66 2e72 6574 7265 6174 2920 3a20 6c6f  lf.retreat) : lo
-0002ba20: 635d 0a20 2020 2020 2020 2020 2020 206c  c].            l
-0002ba30: 6173 745f 6578 7072 203d 2050 6172 7365  ast_expr = Parse
-0002ba40: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
-0002ba50: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
-0002ba60: 726d 7367 290a 2020 2020 2020 2020 2020  rmsg).          
-0002ba70: 2020 666f 7220 6f66 6673 6574 2069 6e20    for offset in 
-0002ba80: 7261 6e67 6528 312c 206d 696e 286c 6f63  range(1, min(loc
-0002ba90: 2c20 7365 6c66 2e72 6574 7265 6174 202b  , self.retreat +
-0002baa0: 2031 2920 2b20 3129 3a0a 2020 2020 2020   1) + 1):.      
-0002bab0: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
-0002bac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bad0: 2020 2023 2070 7269 6e74 2827 7472 7969     # print('tryi
-0002bae0: 6e67 272c 206f 6666 7365 742c 2069 6e73  ng', offset, ins
-0002baf0: 7472 696e 675f 736c 6963 652c 2072 6570  tring_slice, rep
-0002bb00: 7228 696e 7374 7269 6e67 5f73 6c69 6365  r(instring_slice
-0002bb10: 5b6c 6f63 202d 206f 6666 7365 743a 5d29  [loc - offset:])
-0002bb20: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002bb30: 2020 2020 2020 5f2c 2072 6574 203d 2074        _, ret = t
-0002bb40: 6573 745f 6578 7072 2e5f 7061 7273 6528  est_expr._parse(
-0002bb50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002bb60: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
-0002bb70: 675f 736c 6963 652c 206c 656e 2869 6e73  g_slice, len(ins
-0002bb80: 7472 696e 675f 736c 6963 6529 202d 206f  tring_slice) - o
-0002bb90: 6666 7365 740a 2020 2020 2020 2020 2020  ffset.          
-0002bba0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-0002bbb0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-0002bbc0: 7074 2050 6172 7365 4261 7365 4578 6365  pt ParseBaseExce
-0002bbd0: 7074 696f 6e20 6173 2070 6265 3a0a 2020  ption as pbe:.  
-0002bbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bbf0: 2020 6c61 7374 5f65 7870 7220 3d20 7062    last_expr = pb
-0002bc00: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-0002bc10: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0002bc20: 2020 2020 2020 2020 2020 2020 6272 6561              brea
-0002bc30: 6b0a 2020 2020 2020 2020 2020 2020 656c  k.            el
-0002bc40: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0002bc50: 2020 2020 7261 6973 6520 6c61 7374 5f65      raise last_e
-0002bc60: 7870 720a 2020 2020 2020 2020 7265 7475  xpr.        retu
-0002bc70: 726e 206c 6f63 2c20 7265 740a 0a0a 636c  rn loc, ret...cl
-0002bc80: 6173 7320 4c6f 6361 7465 6428 5061 7273  ass Located(Pars
-0002bc90: 6545 6c65 6d65 6e74 456e 6861 6e63 6529  eElementEnhance)
-0002bca0: 3a0a 2020 2020 2222 220a 2020 2020 4465  :.    """.    De
-0002bcb0: 636f 7261 7465 7320 6120 7265 7475 726e  corates a return
-0002bcc0: 6564 2074 6f6b 656e 2077 6974 6820 6974  ed token with it
-0002bcd0: 7320 7374 6172 7469 6e67 2061 6e64 2065  s starting and e
-0002bce0: 6e64 696e 670a 2020 2020 6c6f 6361 7469  nding.    locati
-0002bcf0: 6f6e 7320 696e 2074 6865 2069 6e70 7574  ons in the input
-0002bd00: 2073 7472 696e 672e 0a0a 2020 2020 5468   string...    Th
-0002bd10: 6973 2068 656c 7065 7220 6164 6473 2074  is helper adds t
-0002bd20: 6865 2066 6f6c 6c6f 7769 6e67 2072 6573  he following res
-0002bd30: 756c 7473 206e 616d 6573 3a0a 0a20 2020  ults names:..   
-0002bd40: 202d 2060 606c 6f63 6e5f 7374 6172 7460   - ``locn_start`
-0002bd50: 6020 2d20 6c6f 6361 7469 6f6e 2077 6865  ` - location whe
-0002bd60: 7265 206d 6174 6368 6564 2065 7870 7265  re matched expre
-0002bd70: 7373 696f 6e20 6265 6769 6e73 0a20 2020  ssion begins.   
-0002bd80: 202d 2060 606c 6f63 6e5f 656e 6460 6020   - ``locn_end`` 
-0002bd90: 2d20 6c6f 6361 7469 6f6e 2077 6865 7265  - location where
-0002bda0: 206d 6174 6368 6564 2065 7870 7265 7373   matched express
-0002bdb0: 696f 6e20 656e 6473 0a20 2020 202d 2060  ion ends.    - `
-0002bdc0: 6076 616c 7565 6060 202d 2074 6865 2061  `value`` - the a
-0002bdd0: 6374 7561 6c20 7061 7273 6564 2072 6573  ctual parsed res
-0002bde0: 756c 7473 0a0a 2020 2020 4265 2063 6172  ults..    Be car
-0002bdf0: 6566 756c 2069 6620 7468 6520 696e 7075  eful if the inpu
-0002be00: 7420 7465 7874 2063 6f6e 7461 696e 7320  t text contains 
-0002be10: 6060 3c54 4142 3e60 6020 6368 6172 6163  ``<TAB>`` charac
-0002be20: 7465 7273 2c20 796f 750a 2020 2020 6d61  ters, you.    ma
-0002be30: 7920 7761 6e74 2074 6f20 6361 6c6c 203a  y want to call :
-0002be40: 636c 6173 733a 6050 6172 7365 7245 6c65  class:`ParserEle
-0002be50: 6d65 6e74 2e70 6172 7365 5f77 6974 685f  ment.parse_with_
-0002be60: 7461 6273 600a 0a20 2020 2045 7861 6d70  tabs`..    Examp
-0002be70: 6c65 3a3a 0a0a 2020 2020 2020 2020 7764  le::..        wd
-0002be80: 203d 2057 6f72 6428 616c 7068 6173 290a   = Word(alphas).
-0002be90: 2020 2020 2020 2020 666f 7220 6d61 7463          for matc
-0002bea0: 6820 696e 204c 6f63 6174 6564 2877 6429  h in Located(wd)
-0002beb0: 2e73 6561 7263 685f 7374 7269 6e67 2822  .search_string("
-0002bec0: 6c6a 7364 6631 3233 6c6b 7364 6a6a 6631  ljsdf123lksdjjf1
-0002bed0: 3233 6c6b 6b6a 6a31 3232 3222 293a 0a20  23lkkjj1222"):. 
-0002bee0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-0002bef0: 286d 6174 6368 290a 0a20 2020 2070 7269  (match)..    pri
-0002bf00: 6e74 733a 3a0a 0a20 2020 2020 2020 205b  nts::..        [
-0002bf10: 302c 205b 276c 6a73 6466 275d 2c20 355d  0, ['ljsdf'], 5]
-0002bf20: 0a20 2020 2020 2020 205b 382c 205b 276c  .        [8, ['l
-0002bf30: 6b73 646a 6a66 275d 2c20 3135 5d0a 2020  ksdjjf'], 15].  
-0002bf40: 2020 2020 2020 5b31 382c 205b 276c 6b6b        [18, ['lkk
-0002bf50: 6a6a 275d 2c20 3233 5d0a 0a20 2020 2022  jj'], 23]..    "
-0002bf60: 2222 0a0a 2020 2020 6465 6620 7061 7273  ""..    def pars
-0002bf70: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
-0002bf80: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-0002bf90: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
-0002bfa0: 2020 2020 7374 6172 7420 3d20 6c6f 630a      start = loc.
-0002bfb0: 2020 2020 2020 2020 6c6f 632c 2074 6f6b          loc, tok
-0002bfc0: 656e 7320 3d20 7365 6c66 2e65 7870 722e  ens = self.expr.
-0002bfd0: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
-0002bfe0: 2073 7461 7274 2c20 646f 4163 7469 6f6e   start, doAction
-0002bff0: 732c 2063 616c 6c50 7265 5061 7273 653d  s, callPreParse=
-0002c000: 4661 6c73 6529 0a20 2020 2020 2020 2072  False).        r
-0002c010: 6574 5f74 6f6b 656e 7320 3d20 5061 7273  et_tokens = Pars
-0002c020: 6552 6573 756c 7473 285b 7374 6172 742c  eResults([start,
-0002c030: 2074 6f6b 656e 732c 206c 6f63 5d29 0a20   tokens, loc]). 
-0002c040: 2020 2020 2020 2072 6574 5f74 6f6b 656e         ret_token
-0002c050: 735b 226c 6f63 6e5f 7374 6172 7422 5d20  s["locn_start"] 
-0002c060: 3d20 7374 6172 740a 2020 2020 2020 2020  = start.        
-0002c070: 7265 745f 746f 6b65 6e73 5b22 7661 6c75  ret_tokens["valu
-0002c080: 6522 5d20 3d20 746f 6b65 6e73 0a20 2020  e"] = tokens.   
-0002c090: 2020 2020 2072 6574 5f74 6f6b 656e 735b       ret_tokens[
-0002c0a0: 226c 6f63 6e5f 656e 6422 5d20 3d20 6c6f  "locn_end"] = lo
-0002c0b0: 630a 2020 2020 2020 2020 6966 2073 656c  c.        if sel
-0002c0c0: 662e 7265 7375 6c74 734e 616d 653a 0a20  f.resultsName:. 
-0002c0d0: 2020 2020 2020 2020 2020 2023 206d 7573             # mus
-0002c0e0: 7420 7265 7475 726e 2061 7320 6120 6c69  t return as a li
-0002c0f0: 7374 2c20 736f 2074 6861 7420 7468 6520  st, so that the 
-0002c100: 6e61 6d65 2077 696c 6c20 6265 2061 7474  name will be att
-0002c110: 6163 6865 6420 746f 2074 6865 2063 6f6d  ached to the com
-0002c120: 706c 6574 6520 6772 6f75 700a 2020 2020  plete group.    
-0002c130: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-0002c140: 6f63 2c20 5b72 6574 5f74 6f6b 656e 735d  oc, [ret_tokens]
-0002c150: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0002c160: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0002c170: 6e20 6c6f 632c 2072 6574 5f74 6f6b 656e  n loc, ret_token
-0002c180: 730a 0a0a 636c 6173 7320 4e6f 7441 6e79  s...class NotAny
-0002c190: 2850 6172 7365 456c 656d 656e 7445 6e68  (ParseElementEnh
-0002c1a0: 616e 6365 293a 0a20 2020 2022 2222 0a20  ance):.    """. 
-0002c1b0: 2020 204c 6f6f 6b61 6865 6164 2074 6f20     Lookahead to 
-0002c1c0: 6469 7361 6c6c 6f77 206d 6174 6368 696e  disallow matchin
-0002c1d0: 6720 7769 7468 2074 6865 2067 6976 656e  g with the given
-0002c1e0: 2070 6172 7365 2065 7870 7265 7373 696f   parse expressio
-0002c1f0: 6e2e 0a20 2020 2060 604e 6f74 416e 7960  n..    ``NotAny`
-0002c200: 6020 646f 6573 202a 6e6f 742a 2061 6476  ` does *not* adv
-0002c210: 616e 6365 2074 6865 2070 6172 7369 6e67  ance the parsing
-0002c220: 2070 6f73 6974 696f 6e20 7769 7468 696e   position within
-0002c230: 2074 6865 0a20 2020 2069 6e70 7574 2073   the.    input s
-0002c240: 7472 696e 672c 2069 7420 6f6e 6c79 2076  tring, it only v
-0002c250: 6572 6966 6965 7320 7468 6174 2074 6865  erifies that the
-0002c260: 2073 7065 6369 6669 6564 2070 6172 7365   specified parse
-0002c270: 2065 7870 7265 7373 696f 6e0a 2020 2020   expression.    
-0002c280: 646f 6573 202a 6e6f 742a 206d 6174 6368  does *not* match
-0002c290: 2061 7420 7468 6520 6375 7272 656e 7420   at the current 
-0002c2a0: 706f 7369 7469 6f6e 2e20 2041 6c73 6f2c  position.  Also,
-0002c2b0: 2060 604e 6f74 416e 7960 6020 646f 6573   ``NotAny`` does
-0002c2c0: 0a20 2020 202a 6e6f 742a 2073 6b69 7020  .    *not* skip 
-0002c2d0: 6f76 6572 206c 6561 6469 6e67 2077 6869  over leading whi
-0002c2e0: 7465 7370 6163 652e 2060 604e 6f74 416e  tespace. ``NotAn
-0002c2f0: 7960 6020 616c 7761 7973 2072 6574 7572  y`` always retur
-0002c300: 6e73 0a20 2020 2061 206e 756c 6c20 746f  ns.    a null to
-0002c310: 6b65 6e20 6c69 7374 2e20 204d 6179 2062  ken list.  May b
-0002c320: 6520 636f 6e73 7472 7563 7465 6420 7573  e constructed us
-0002c330: 696e 6720 7468 6520 6060 277e 2760 6020  ing the ``'~'`` 
-0002c340: 6f70 6572 6174 6f72 2e0a 0a20 2020 2045  operator...    E
-0002c350: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-0002c360: 2020 414e 442c 204f 522c 204e 4f54 203d    AND, OR, NOT =
-0002c370: 206d 6170 2843 6173 656c 6573 734b 6579   map(CaselessKey
-0002c380: 776f 7264 2c20 2241 4e44 204f 5220 4e4f  word, "AND OR NO
-0002c390: 5422 2e73 706c 6974 2829 290a 0a20 2020  T".split())..   
-0002c3a0: 2020 2020 2023 2074 616b 6520 6361 7265       # take care
-0002c3b0: 206e 6f74 2074 6f20 6d69 7374 616b 6520   not to mistake 
-0002c3c0: 6b65 7977 6f72 6473 2066 6f72 2069 6465  keywords for ide
-0002c3d0: 6e74 6966 6965 7273 0a20 2020 2020 2020  ntifiers.       
-0002c3e0: 2069 6465 6e74 203d 207e 2841 4e44 207c   ident = ~(AND |
-0002c3f0: 204f 5220 7c20 4e4f 5429 202b 2057 6f72   OR | NOT) + Wor
-0002c400: 6428 616c 7068 6173 290a 2020 2020 2020  d(alphas).      
-0002c410: 2020 626f 6f6c 6561 6e5f 7465 726d 203d    boolean_term =
-0002c420: 204f 7074 284e 4f54 2920 2b20 6964 656e   Opt(NOT) + iden
-0002c430: 740a 0a20 2020 2020 2020 2023 2076 6572  t..        # ver
-0002c440: 7920 6372 7564 6520 626f 6f6c 6561 6e20  y crude boolean 
-0002c450: 6578 7072 6573 7369 6f6e 202d 2074 6f20  expression - to 
-0002c460: 7375 7070 6f72 7420 7061 7265 6e74 6865  support parenthe
-0002c470: 7369 7320 6772 6f75 7073 2061 6e64 0a20  sis groups and. 
-0002c480: 2020 2020 2020 2023 206f 7065 7261 7469         # operati
-0002c490: 6f6e 2068 6965 7261 7263 6879 2c20 7573  on hierarchy, us
-0002c4a0: 6520 696e 6669 785f 6e6f 7461 7469 6f6e  e infix_notation
-0002c4b0: 0a20 2020 2020 2020 2062 6f6f 6c65 616e  .        boolean
-0002c4c0: 5f65 7870 7220 3d20 626f 6f6c 6561 6e5f  _expr = boolean_
-0002c4d0: 7465 726d 202b 2028 2841 4e44 207c 204f  term + ((AND | O
-0002c4e0: 5229 202b 2062 6f6f 6c65 616e 5f74 6572  R) + boolean_ter
-0002c4f0: 6d29 5b2e 2e2e 5d0a 0a20 2020 2020 2020  m)[...]..       
-0002c500: 2023 2069 6e74 6567 6572 7320 7468 6174   # integers that
-0002c510: 2061 7265 2066 6f6c 6c6f 7765 6420 6279   are followed by
-0002c520: 2022 2e22 2061 7265 2061 6374 7561 6c6c   "." are actuall
-0002c530: 7920 666c 6f61 7473 0a20 2020 2020 2020  y floats.       
-0002c540: 2069 6e74 6567 6572 203d 2057 6f72 6428   integer = Word(
-0002c550: 6e75 6d73 2920 2b20 7e43 6861 7228 222e  nums) + ~Char(".
-0002c560: 2229 0a20 2020 2022 2222 0a0a 2020 2020  ").    """..    
-0002c570: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
-0002c580: 662c 2065 7870 723a 2055 6e69 6f6e 5b50  f, expr: Union[P
-0002c590: 6172 7365 7245 6c65 6d65 6e74 2c20 7374  arserElement, st
-0002c5a0: 725d 293a 0a20 2020 2020 2020 2073 7570  r]):.        sup
-0002c5b0: 6572 2829 2e5f 5f69 6e69 745f 5f28 6578  er().__init__(ex
-0002c5c0: 7072 290a 2020 2020 2020 2020 2320 646f  pr).        # do
-0002c5d0: 204e 4f54 2075 7365 2073 656c 662e 6c65   NOT use self.le
-0002c5e0: 6176 655f 7768 6974 6573 7061 6365 2829  ave_whitespace()
-0002c5f0: 2c20 646f 6e27 7420 7761 6e74 2074 6f20  , don't want to 
-0002c600: 7072 6f70 6167 6174 6520 746f 2065 7870  propagate to exp
-0002c610: 7273 0a20 2020 2020 2020 2023 2073 656c  rs.        # sel
-0002c620: 662e 6c65 6176 655f 7768 6974 6573 7061  f.leave_whitespa
-0002c630: 6365 2829 0a20 2020 2020 2020 2073 656c  ce().        sel
-0002c640: 662e 736b 6970 5768 6974 6573 7061 6365  f.skipWhitespace
-0002c650: 203d 2046 616c 7365 0a0a 2020 2020 2020   = False..      
-0002c660: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
-0002c670: 456d 7074 7920 3d20 5472 7565 0a20 2020  Empty = True.   
-0002c680: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
-0002c690: 203d 2022 466f 756e 6420 756e 7761 6e74   = "Found unwant
-0002c6a0: 6564 2074 6f6b 656e 2c20 2220 2b20 7374  ed token, " + st
-0002c6b0: 7228 7365 6c66 2e65 7870 7229 0a0a 2020  r(self.expr)..  
-0002c6c0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-0002c6d0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-0002c6e0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-0002c6f0: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
-0002c700: 2073 656c 662e 6578 7072 2e63 616e 5f70   self.expr.can_p
-0002c710: 6172 7365 5f6e 6578 7428 696e 7374 7269  arse_next(instri
-0002c720: 6e67 2c20 6c6f 632c 2064 6f5f 6163 7469  ng, loc, do_acti
-0002c730: 6f6e 733d 646f 4163 7469 6f6e 7329 3a0a  ons=doActions):.
-0002c740: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0002c750: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-0002c760: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-0002c770: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
-0002c780: 6629 0a20 2020 2020 2020 2072 6574 7572  f).        retur
-0002c790: 6e20 6c6f 632c 205b 5d0a 0a20 2020 2064  n loc, []..    d
-0002c7a0: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
-0002c7b0: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
-0002c7c0: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
-0002c7d0: 7475 726e 2022 7e7b 2220 2b20 7374 7228  turn "~{" + str(
-0002c7e0: 7365 6c66 2e65 7870 7229 202b 2022 7d22  self.expr) + "}"
-0002c7f0: 0a0a 0a63 6c61 7373 205f 4d75 6c74 6970  ...class _Multip
-0002c800: 6c65 4d61 7463 6828 5061 7273 6545 6c65  leMatch(ParseEle
-0002c810: 6d65 6e74 456e 6861 6e63 6529 3a0a 2020  mentEnhance):.  
-0002c820: 2020 6465 6620 5f5f 696e 6974 5f5f 280a    def __init__(.
-0002c830: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-0002c840: 2020 2020 2020 6578 7072 3a20 556e 696f        expr: Unio
-0002c850: 6e5b 7374 722c 2050 6172 7365 7245 6c65  n[str, ParserEle
-0002c860: 6d65 6e74 5d2c 0a20 2020 2020 2020 2073  ment],.        s
-0002c870: 746f 705f 6f6e 3a20 7479 7069 6e67 2e4f  top_on: typing.O
-0002c880: 7074 696f 6e61 6c5b 556e 696f 6e5b 5061  ptional[Union[Pa
-0002c890: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
-0002c8a0: 5d5d 203d 204e 6f6e 652c 0a20 2020 2020  ]] = None,.     
-0002c8b0: 2020 202a 2c0a 2020 2020 2020 2020 7374     *,.        st
-0002c8c0: 6f70 4f6e 3a20 7479 7069 6e67 2e4f 7074  opOn: typing.Opt
-0002c8d0: 696f 6e61 6c5b 556e 696f 6e5b 5061 7273  ional[Union[Pars
-0002c8e0: 6572 456c 656d 656e 742c 2073 7472 5d5d  erElement, str]]
-0002c8f0: 203d 204e 6f6e 652c 0a20 2020 2029 3a0a   = None,.    ):.
-0002c900: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-0002c910: 5f5f 696e 6974 5f5f 2865 7870 7229 0a20  __init__(expr). 
-0002c920: 2020 2020 2020 2073 746f 704f 6e20 3d20         stopOn = 
-0002c930: 7374 6f70 4f6e 206f 7220 7374 6f70 5f6f  stopOn or stop_o
-0002c940: 6e0a 2020 2020 2020 2020 7365 6c66 2e73  n.        self.s
-0002c950: 6176 6541 734c 6973 7420 3d20 5472 7565  aveAsList = True
-0002c960: 0a20 2020 2020 2020 2065 6e64 6572 203d  .        ender =
-0002c970: 2073 746f 704f 6e0a 2020 2020 2020 2020   stopOn.        
-0002c980: 6966 2069 7369 6e73 7461 6e63 6528 656e  if isinstance(en
-0002c990: 6465 722c 2073 7472 5f74 7970 6529 3a0a  der, str_type):.
-0002c9a0: 2020 2020 2020 2020 2020 2020 656e 6465              ende
-0002c9b0: 7220 3d20 7365 6c66 2e5f 6c69 7465 7261  r = self._litera
-0002c9c0: 6c53 7472 696e 6743 6c61 7373 2865 6e64  lStringClass(end
-0002c9d0: 6572 290a 2020 2020 2020 2020 7365 6c66  er).        self
-0002c9e0: 2e73 746f 704f 6e28 656e 6465 7229 0a0a  .stopOn(ender)..
-0002c9f0: 2020 2020 6465 6620 7374 6f70 4f6e 2873      def stopOn(s
-0002ca00: 656c 662c 2065 6e64 6572 2920 2d3e 2050  elf, ender) -> P
-0002ca10: 6172 7365 7245 6c65 6d65 6e74 3a0a 2020  arserElement:.  
-0002ca20: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-0002ca30: 6e63 6528 656e 6465 722c 2073 7472 5f74  nce(ender, str_t
-0002ca40: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
-0002ca50: 2020 656e 6465 7220 3d20 7365 6c66 2e5f    ender = self._
-0002ca60: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
-0002ca70: 7373 2865 6e64 6572 290a 2020 2020 2020  ss(ender).      
-0002ca80: 2020 7365 6c66 2e6e 6f74 5f65 6e64 6572    self.not_ender
-0002ca90: 203d 207e 656e 6465 7220 6966 2065 6e64   = ~ender if end
-0002caa0: 6572 2069 7320 6e6f 7420 4e6f 6e65 2065  er is not None e
-0002cab0: 6c73 6520 4e6f 6e65 0a20 2020 2020 2020  lse None.       
-0002cac0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-0002cad0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-0002cae0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-0002caf0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-0002cb00: 7275 6529 3a0a 2020 2020 2020 2020 7365  rue):.        se
-0002cb10: 6c66 5f65 7870 725f 7061 7273 6520 3d20  lf_expr_parse = 
-0002cb20: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
-0002cb30: 0a20 2020 2020 2020 2073 656c 665f 736b  .        self_sk
-0002cb40: 6970 5f69 676e 6f72 6162 6c65 7320 3d20  ip_ignorables = 
-0002cb50: 7365 6c66 2e5f 736b 6970 4967 6e6f 7261  self._skipIgnora
-0002cb60: 626c 6573 0a20 2020 2020 2020 2063 6865  bles.        che
-0002cb70: 636b 5f65 6e64 6572 203d 2073 656c 662e  ck_ender = self.
-0002cb80: 6e6f 745f 656e 6465 7220 6973 206e 6f74  not_ender is not
-0002cb90: 204e 6f6e 650a 2020 2020 2020 2020 6966   None.        if
-0002cba0: 2063 6865 636b 5f65 6e64 6572 3a0a 2020   check_ender:.  
-0002cbb0: 2020 2020 2020 2020 2020 7472 795f 6e6f            try_no
-0002cbc0: 745f 656e 6465 7220 3d20 7365 6c66 2e6e  t_ender = self.n
-0002cbd0: 6f74 5f65 6e64 6572 2e74 7279 5f70 6172  ot_ender.try_par
-0002cbe0: 7365 0a0a 2020 2020 2020 2020 2320 6d75  se..        # mu
-0002cbf0: 7374 2062 6520 6174 206c 6561 7374 206f  st be at least o
-0002cc00: 6e65 2028 6275 7420 6669 7273 7420 7365  ne (but first se
-0002cc10: 6520 6966 2077 6520 6172 6520 7468 6520  e if we are the 
-0002cc20: 7374 6f70 4f6e 2073 656e 7469 6e65 6c3b  stopOn sentinel;
-0002cc30: 0a20 2020 2020 2020 2023 2069 6620 736f  .        # if so
-0002cc40: 2c20 6661 696c 290a 2020 2020 2020 2020  , fail).        
-0002cc50: 6966 2063 6865 636b 5f65 6e64 6572 3a0a  if check_ender:.
-0002cc60: 2020 2020 2020 2020 2020 2020 7472 795f              try_
-0002cc70: 6e6f 745f 656e 6465 7228 696e 7374 7269  not_ender(instri
-0002cc80: 6e67 2c20 6c6f 6329 0a20 2020 2020 2020  ng, loc).       
-0002cc90: 206c 6f63 2c20 746f 6b65 6e73 203d 2073   loc, tokens = s
-0002cca0: 656c 665f 6578 7072 5f70 6172 7365 2869  elf_expr_parse(i
-0002ccb0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-0002ccc0: 4163 7469 6f6e 7329 0a20 2020 2020 2020  Actions).       
-0002ccd0: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-0002cce0: 2020 6861 7349 676e 6f72 6545 7870 7273    hasIgnoreExprs
-0002ccf0: 203d 206e 6f74 206e 6f74 2073 656c 662e   = not not self.
-0002cd00: 6967 6e6f 7265 4578 7072 730a 2020 2020  ignoreExprs.    
-0002cd10: 2020 2020 2020 2020 7768 696c 6520 313a          while 1:
-0002cd20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002cd30: 2069 6620 6368 6563 6b5f 656e 6465 723a   if check_ender:
-0002cd40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002cd50: 2020 2020 2074 7279 5f6e 6f74 5f65 6e64       try_not_end
-0002cd60: 6572 2869 6e73 7472 696e 672c 206c 6f63  er(instring, loc
-0002cd70: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002cd80: 2020 6966 2068 6173 4967 6e6f 7265 4578    if hasIgnoreEx
-0002cd90: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
-0002cda0: 2020 2020 2020 2020 2070 7265 6c6f 6320           preloc 
-0002cdb0: 3d20 7365 6c66 5f73 6b69 705f 6967 6e6f  = self_skip_igno
-0002cdc0: 7261 626c 6573 2869 6e73 7472 696e 672c  rables(instring,
-0002cdd0: 206c 6f63 290a 2020 2020 2020 2020 2020   loc).          
-0002cde0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0002cdf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ce00: 7072 656c 6f63 203d 206c 6f63 0a20 2020  preloc = loc.   
-0002ce10: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
-0002ce20: 2c20 746d 7074 6f6b 656e 7320 3d20 7365  , tmptokens = se
-0002ce30: 6c66 5f65 7870 725f 7061 7273 6528 696e  lf_expr_parse(in
-0002ce40: 7374 7269 6e67 2c20 7072 656c 6f63 2c20  string, preloc, 
-0002ce50: 646f 4163 7469 6f6e 7329 0a20 2020 2020  doActions).     
-0002ce60: 2020 2020 2020 2020 2020 2074 6f6b 656e             token
-0002ce70: 7320 2b3d 2074 6d70 746f 6b65 6e73 0a20  s += tmptokens. 
-0002ce80: 2020 2020 2020 2065 7863 6570 7420 2850         except (P
-0002ce90: 6172 7365 4578 6365 7074 696f 6e2c 2049  arseException, I
-0002cea0: 6e64 6578 4572 726f 7229 3a0a 2020 2020  ndexError):.    
-0002ceb0: 2020 2020 2020 2020 7061 7373 0a0a 2020          pass..  
-0002cec0: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
-0002ced0: 2c20 746f 6b65 6e73 0a0a 2020 2020 6465  , tokens..    de
-0002cee0: 6620 5f73 6574 5265 7375 6c74 734e 616d  f _setResultsNam
-0002cef0: 6528 7365 6c66 2c20 6e61 6d65 2c20 6c69  e(self, name, li
-0002cf00: 7374 416c 6c4d 6174 6368 6573 3d46 616c  stAllMatches=Fal
-0002cf10: 7365 293a 0a20 2020 2020 2020 2069 6620  se):.        if 
-0002cf20: 280a 2020 2020 2020 2020 2020 2020 5f5f  (.            __
-0002cf30: 6469 6167 5f5f 2e77 6172 6e5f 756e 6772  diag__.warn_ungr
-0002cf40: 6f75 7065 645f 6e61 6d65 645f 746f 6b65  ouped_named_toke
-0002cf50: 6e73 5f69 6e5f 636f 6c6c 6563 7469 6f6e  ns_in_collection
-0002cf60: 0a20 2020 2020 2020 2020 2020 2061 6e64  .            and
-0002cf70: 2044 6961 676e 6f73 7469 6373 2e77 6172   Diagnostics.war
-0002cf80: 6e5f 756e 6772 6f75 7065 645f 6e61 6d65  n_ungrouped_name
-0002cf90: 645f 746f 6b65 6e73 5f69 6e5f 636f 6c6c  d_tokens_in_coll
-0002cfa0: 6563 7469 6f6e 0a20 2020 2020 2020 2020  ection.         
-0002cfb0: 2020 206e 6f74 2069 6e20 7365 6c66 2e73     not in self.s
-0002cfc0: 7570 7072 6573 735f 7761 726e 696e 6773  uppress_warnings
-0002cfd0: 5f0a 2020 2020 2020 2020 293a 0a20 2020  _.        ):.   
-0002cfe0: 2020 2020 2020 2020 2066 6f72 2065 2069           for e i
-0002cff0: 6e20 5b73 656c 662e 6578 7072 5d20 2b20  n [self.expr] + 
-0002d000: 7365 6c66 2e65 7870 722e 7265 6375 7273  self.expr.recurs
-0002d010: 6528 293a 0a20 2020 2020 2020 2020 2020  e():.           
-0002d020: 2020 2020 2069 6620 280a 2020 2020 2020       if (.      
-0002d030: 2020 2020 2020 2020 2020 2020 2020 6973                is
-0002d040: 696e 7374 616e 6365 2865 2c20 5061 7273  instance(e, Pars
-0002d050: 6572 456c 656d 656e 7429 0a20 2020 2020  erElement).     
-0002d060: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0002d070: 6e64 2065 2e72 6573 756c 7473 4e61 6d65  nd e.resultsName
-0002d080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d090: 2020 2020 2061 6e64 2044 6961 676e 6f73       and Diagnos
-0002d0a0: 7469 6373 2e77 6172 6e5f 756e 6772 6f75  tics.warn_ungrou
-0002d0b0: 7065 645f 6e61 6d65 645f 746f 6b65 6e73  ped_named_tokens
-0002d0c0: 5f69 6e5f 636f 6c6c 6563 7469 6f6e 0a20  _in_collection. 
-0002d0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d0e0: 2020 206e 6f74 2069 6e20 652e 7375 7070     not in e.supp
-0002d0f0: 7265 7373 5f77 6172 6e69 6e67 735f 0a20  ress_warnings_. 
-0002d100: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-0002d110: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002d120: 2020 2020 2020 7761 726e 696e 6773 2e77        warnings.w
-0002d130: 6172 6e28 0a20 2020 2020 2020 2020 2020  arn(.           
-0002d140: 2020 2020 2020 2020 2020 2020 2022 7b7d               "{}
-0002d150: 3a20 7365 7474 696e 6720 7265 7375 6c74  : setting result
-0002d160: 7320 6e61 6d65 207b 2172 7d20 6f6e 207b  s name {!r} on {
-0002d170: 7d20 6578 7072 6573 7369 6f6e 2022 0a20  } expression ". 
-0002d180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d190: 2020 2020 2020 2022 636f 6c6c 6964 6573         "collides
-0002d1a0: 2077 6974 6820 7b21 727d 206f 6e20 636f   with {!r} on co
-0002d1b0: 6e74 6169 6e65 6420 6578 7072 6573 7369  ntained expressi
-0002d1c0: 6f6e 222e 666f 726d 6174 280a 2020 2020  on".format(.    
-0002d1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d1e0: 2020 2020 2020 2020 2277 6172 6e5f 756e          "warn_un
-0002d1f0: 6772 6f75 7065 645f 6e61 6d65 645f 746f  grouped_named_to
-0002d200: 6b65 6e73 5f69 6e5f 636f 6c6c 6563 7469  kens_in_collecti
-0002d210: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
+0001ace0: 2020 2020 2020 2020 2020 7265 7065 6174            repeat
+0001acf0: 203d 2066 227b 7b7b 6d69 6e20 2d20 3120   = f"{{{min - 1 
+0001ad00: 6966 206d 696e 203e 2030 2065 6c73 6520  if min > 0 else 
+0001ad10: 2727 7d2c 7b6d 6178 202d 2031 2069 6620  ''},{max - 1 if 
+0001ad20: 6d61 7820 3e20 3020 656c 7365 2027 277d  max > 0 else ''}
+0001ad30: 7d7d 220a 2020 2020 2020 2020 2020 2020  }}".            
+0001ad40: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0001ad50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001ad60: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001ad70: 7065 6174 203d 2066 227b 7b7b 6d69 6e20  peat = f"{{{min 
+0001ad80: 2d20 3120 6966 206d 696e 203e 2030 2065  - 1 if min > 0 e
+0001ad90: 6c73 6520 2727 7d7d 7d22 0a0a 2020 2020  lse ''}}}"..    
+0001ada0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001adb0: 2e72 6553 7472 696e 6720 3d20 6622 7b72  .reString = f"{r
+0001adc0: 655f 6c65 6164 696e 675f 6672 6167 6d65  e_leading_fragme
+0001add0: 6e74 7d7b 7265 5f62 6f64 795f 6672 6167  nt}{re_body_frag
+0001ade0: 6d65 6e74 7d7b 7265 7065 6174 7d22 0a0a  ment}{repeat}"..
+0001adf0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0001ae00: 656c 662e 6173 4b65 7977 6f72 643a 0a20  elf.asKeyword:. 
+0001ae10: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001ae20: 656c 662e 7265 5374 7269 6e67 203d 2072  elf.reString = r
+0001ae30: 6622 5c62 7b73 656c 662e 7265 5374 7269  f"\b{self.reStri
+0001ae40: 6e67 7d5c 6222 0a0a 2020 2020 2020 2020  ng}\b"..        
+0001ae50: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+0001ae60: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+0001ae70: 203d 2072 652e 636f 6d70 696c 6528 7365   = re.compile(se
+0001ae80: 6c66 2e72 6553 7472 696e 6729 0a20 2020  lf.reString).   
+0001ae90: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+0001aea0: 7265 2e65 7272 6f72 3a0a 2020 2020 2020  re.error:.      
+0001aeb0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+0001aec0: 6520 3d20 4e6f 6e65 2020 2320 7479 7065  e = None  # type
+0001aed0: 3a20 6967 6e6f 7265 5b61 7373 6967 6e6d  : ignore[assignm
+0001aee0: 656e 745d 0a20 2020 2020 2020 2020 2020  ent].           
+0001aef0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001af00: 2020 2020 2020 2073 656c 662e 7265 5f6d         self.re_m
+0001af10: 6174 6368 203d 2073 656c 662e 7265 2e6d  atch = self.re.m
+0001af20: 6174 6368 0a20 2020 2020 2020 2020 2020  atch.           
+0001af30: 2020 2020 2073 656c 662e 7061 7273 6549       self.parseI
+0001af40: 6d70 6c20 3d20 7365 6c66 2e70 6172 7365  mpl = self.parse
+0001af50: 496d 706c 5f72 6567 6578 2020 2320 7479  Impl_regex  # ty
+0001af60: 7065 3a20 6967 6e6f 7265 5b61 7373 6967  pe: ignore[assig
+0001af70: 6e6d 656e 745d 0a0a 2020 2020 6465 6620  nment]..    def 
+0001af80: 5f67 656e 6572 6174 6544 6566 6175 6c74  _generateDefault
+0001af90: 4e61 6d65 2873 656c 6629 202d 3e20 7374  Name(self) -> st
+0001afa0: 723a 0a20 2020 2020 2020 2064 6566 2063  r:.        def c
+0001afb0: 6861 7273 4173 5374 7228 7329 3a0a 2020  harsAsStr(s):.  
+0001afc0: 2020 2020 2020 2020 2020 6d61 785f 7265            max_re
+0001afd0: 7072 5f6c 656e 203d 2031 360a 2020 2020  pr_len = 16.    
+0001afe0: 2020 2020 2020 2020 7320 3d20 5f63 6f6c          s = _col
+0001aff0: 6c61 7073 655f 7374 7269 6e67 5f74 6f5f  lapse_string_to_
+0001b000: 7261 6e67 6573 2873 2c20 7265 5f65 7363  ranges(s, re_esc
+0001b010: 6170 653d 4661 6c73 6529 0a20 2020 2020  ape=False).     
+0001b020: 2020 2020 2020 2069 6620 6c65 6e28 7329         if len(s)
+0001b030: 203e 206d 6178 5f72 6570 725f 6c65 6e3a   > max_repr_len:
+0001b040: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b050: 2072 6574 7572 6e20 735b 3a20 6d61 785f   return s[: max_
+0001b060: 7265 7072 5f6c 656e 202d 2033 5d20 2b20  repr_len - 3] + 
+0001b070: 222e 2e2e 220a 2020 2020 2020 2020 2020  "...".          
+0001b080: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001b090: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0001b0a0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
+0001b0b0: 662e 696e 6974 4368 6172 7320 213d 2073  f.initChars != s
+0001b0c0: 656c 662e 626f 6479 4368 6172 733a 0a20  elf.bodyChars:. 
+0001b0d0: 2020 2020 2020 2020 2020 2062 6173 6520             base 
+0001b0e0: 3d20 6622 573a 287b 6368 6172 7341 7353  = f"W:({charsAsS
+0001b0f0: 7472 2873 656c 662e 696e 6974 4368 6172  tr(self.initChar
+0001b100: 7329 7d2c 207b 6368 6172 7341 7353 7472  s)}, {charsAsStr
+0001b110: 2873 656c 662e 626f 6479 4368 6172 7329  (self.bodyChars)
+0001b120: 7d29 220a 2020 2020 2020 2020 656c 7365  })".        else
+0001b130: 3a0a 2020 2020 2020 2020 2020 2020 6261  :.            ba
+0001b140: 7365 203d 2066 2257 3a28 7b63 6861 7273  se = f"W:({chars
+0001b150: 4173 5374 7228 7365 6c66 2e69 6e69 7443  AsStr(self.initC
+0001b160: 6861 7273 297d 2922 0a0a 2020 2020 2020  hars)})"..      
+0001b170: 2020 2320 6164 6420 6c65 6e67 7468 2073    # add length s
+0001b180: 7065 6369 6669 6361 7469 6f6e 0a20 2020  pecification.   
+0001b190: 2020 2020 2069 6620 7365 6c66 2e6d 696e       if self.min
+0001b1a0: 4c65 6e20 3e20 3120 6f72 2073 656c 662e  Len > 1 or self.
+0001b1b0: 6d61 784c 656e 2021 3d20 5f4d 4158 5f49  maxLen != _MAX_I
+0001b1c0: 4e54 3a0a 2020 2020 2020 2020 2020 2020  NT:.            
+0001b1d0: 6966 2073 656c 662e 6d69 6e4c 656e 203d  if self.minLen =
+0001b1e0: 3d20 7365 6c66 2e6d 6178 4c65 6e3a 0a20  = self.maxLen:. 
+0001b1f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001b200: 6620 7365 6c66 2e6d 696e 4c65 6e20 3d3d  f self.minLen ==
+0001b210: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
+0001b220: 2020 2020 2020 2020 7265 7475 726e 2062          return b
+0001b230: 6173 655b 323a 5d0a 2020 2020 2020 2020  ase[2:].        
+0001b240: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0001b250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b260: 2020 7265 7475 726e 2062 6173 6520 2b20    return base + 
+0001b270: 6622 7b7b 7b73 656c 662e 6d69 6e4c 656e  f"{{{self.minLen
+0001b280: 7d7d 7d22 0a20 2020 2020 2020 2020 2020  }}}".           
+0001b290: 2065 6c69 6620 7365 6c66 2e6d 6178 4c65   elif self.maxLe
+0001b2a0: 6e20 3d3d 205f 4d41 585f 494e 543a 0a20  n == _MAX_INT:. 
+0001b2b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001b2c0: 6574 7572 6e20 6261 7365 202b 2066 227b  eturn base + f"{
+0001b2d0: 7b7b 7365 6c66 2e6d 696e 4c65 6e7d 2c2e  {{self.minLen},.
+0001b2e0: 2e2e 7d7d 220a 2020 2020 2020 2020 2020  ..}}".          
+0001b2f0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001b300: 2020 2020 2020 2020 7265 7475 726e 2062          return b
+0001b310: 6173 6520 2b20 6622 7b7b 7b73 656c 662e  ase + f"{{{self.
+0001b320: 6d69 6e4c 656e 7d2c 7b73 656c 662e 6d61  minLen},{self.ma
+0001b330: 784c 656e 7d7d 7d22 0a20 2020 2020 2020  xLen}}}".       
+0001b340: 2072 6574 7572 6e20 6261 7365 0a0a 2020   return base..  
+0001b350: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+0001b360: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+0001b370: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+0001b380: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+0001b390: 2069 6e73 7472 696e 675b 6c6f 635d 206e   instring[loc] n
+0001b3a0: 6f74 2069 6e20 7365 6c66 2e69 6e69 7443  ot in self.initC
+0001b3b0: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
+0001b3c0: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
+0001b3d0: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
+0001b3e0: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
+0001b3f0: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
+0001b400: 2020 7374 6172 7420 3d20 6c6f 630a 2020    start = loc.  
+0001b410: 2020 2020 2020 6c6f 6320 2b3d 2031 0a20        loc += 1. 
+0001b420: 2020 2020 2020 2069 6e73 7472 6c65 6e20         instrlen 
+0001b430: 3d20 6c65 6e28 696e 7374 7269 6e67 290a  = len(instring).
+0001b440: 2020 2020 2020 2020 626f 6479 6368 6172          bodychar
+0001b450: 7320 3d20 7365 6c66 2e62 6f64 7943 6861  s = self.bodyCha
+0001b460: 7273 0a20 2020 2020 2020 206d 6178 6c6f  rs.        maxlo
+0001b470: 6320 3d20 7374 6172 7420 2b20 7365 6c66  c = start + self
+0001b480: 2e6d 6178 4c65 6e0a 2020 2020 2020 2020  .maxLen.        
+0001b490: 6d61 786c 6f63 203d 206d 696e 286d 6178  maxloc = min(max
+0001b4a0: 6c6f 632c 2069 6e73 7472 6c65 6e29 0a20  loc, instrlen). 
+0001b4b0: 2020 2020 2020 2077 6869 6c65 206c 6f63         while loc
+0001b4c0: 203c 206d 6178 6c6f 6320 616e 6420 696e   < maxloc and in
+0001b4d0: 7374 7269 6e67 5b6c 6f63 5d20 696e 2062  string[loc] in b
+0001b4e0: 6f64 7963 6861 7273 3a0a 2020 2020 2020  odychars:.      
+0001b4f0: 2020 2020 2020 6c6f 6320 2b3d 2031 0a0a        loc += 1..
+0001b500: 2020 2020 2020 2020 7468 726f 7745 7863          throwExc
+0001b510: 6570 7469 6f6e 203d 2046 616c 7365 0a20  eption = False. 
+0001b520: 2020 2020 2020 2069 6620 6c6f 6320 2d20         if loc - 
+0001b530: 7374 6172 7420 3c20 7365 6c66 2e6d 696e  start < self.min
+0001b540: 4c65 6e3a 0a20 2020 2020 2020 2020 2020  Len:.           
+0001b550: 2074 6872 6f77 4578 6365 7074 696f 6e20   throwException 
+0001b560: 3d20 5472 7565 0a20 2020 2020 2020 2065  = True.        e
+0001b570: 6c69 6620 7365 6c66 2e6d 6178 5370 6563  lif self.maxSpec
+0001b580: 6966 6965 6420 616e 6420 6c6f 6320 3c20  ified and loc < 
+0001b590: 696e 7374 726c 656e 2061 6e64 2069 6e73  instrlen and ins
+0001b5a0: 7472 696e 675b 6c6f 635d 2069 6e20 626f  tring[loc] in bo
+0001b5b0: 6479 6368 6172 733a 0a20 2020 2020 2020  dychars:.       
+0001b5c0: 2020 2020 2074 6872 6f77 4578 6365 7074       throwExcept
+0001b5d0: 696f 6e20 3d20 5472 7565 0a20 2020 2020  ion = True.     
+0001b5e0: 2020 2065 6c69 6620 7365 6c66 2e61 734b     elif self.asK
+0001b5f0: 6579 776f 7264 3a0a 2020 2020 2020 2020  eyword:.        
+0001b600: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
+0001b610: 2020 2020 2020 2020 2073 7461 7274 203e           start >
+0001b620: 2030 0a20 2020 2020 2020 2020 2020 2020   0.             
+0001b630: 2020 2061 6e64 2069 6e73 7472 696e 675b     and instring[
+0001b640: 7374 6172 7420 2d20 315d 2069 6e20 626f  start - 1] in bo
+0001b650: 6479 6368 6172 730a 2020 2020 2020 2020  dychars.        
+0001b660: 2020 2020 2020 2020 6f72 206c 6f63 203c          or loc <
+0001b670: 2069 6e73 7472 6c65 6e0a 2020 2020 2020   instrlen.      
+0001b680: 2020 2020 2020 2020 2020 616e 6420 696e            and in
+0001b690: 7374 7269 6e67 5b6c 6f63 5d20 696e 2062  string[loc] in b
+0001b6a0: 6f64 7963 6861 7273 0a20 2020 2020 2020  odychars.       
+0001b6b0: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
+0001b6c0: 2020 2020 2020 2020 7468 726f 7745 7863          throwExc
+0001b6d0: 6570 7469 6f6e 203d 2054 7275 650a 0a20  eption = True.. 
+0001b6e0: 2020 2020 2020 2069 6620 7468 726f 7745         if throwE
+0001b6f0: 7863 6570 7469 6f6e 3a0a 2020 2020 2020  xception:.      
+0001b700: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+0001b710: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+0001b720: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+0001b730: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
+0001b740: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
+0001b750: 2c20 696e 7374 7269 6e67 5b73 7461 7274  , instring[start
+0001b760: 3a6c 6f63 5d0a 0a20 2020 2064 6566 2070  :loc]..    def p
+0001b770: 6172 7365 496d 706c 5f72 6567 6578 2873  arseImpl_regex(s
+0001b780: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+0001b790: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+0001b7a0: 7565 293a 0a20 2020 2020 2020 2072 6573  ue):.        res
+0001b7b0: 756c 7420 3d20 7365 6c66 2e72 655f 6d61  ult = self.re_ma
+0001b7c0: 7463 6828 696e 7374 7269 6e67 2c20 6c6f  tch(instring, lo
+0001b7d0: 6329 0a20 2020 2020 2020 2069 6620 6e6f  c).        if no
+0001b7e0: 7420 7265 7375 6c74 3a0a 2020 2020 2020  t result:.      
+0001b7f0: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+0001b800: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+0001b810: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+0001b820: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
+0001b830: 2020 2020 2020 6c6f 6320 3d20 7265 7375        loc = resu
+0001b840: 6c74 2e65 6e64 2829 0a20 2020 2020 2020  lt.end().       
+0001b850: 2072 6574 7572 6e20 6c6f 632c 2072 6573   return loc, res
+0001b860: 756c 742e 6772 6f75 7028 290a 0a0a 636c  ult.group()...cl
+0001b870: 6173 7320 4368 6172 2857 6f72 6429 3a0a  ass Char(Word):.
+0001b880: 2020 2020 2222 2241 2073 686f 7274 2d63      """A short-c
+0001b890: 7574 2063 6c61 7373 2066 6f72 2064 6566  ut class for def
+0001b8a0: 696e 696e 6720 3a63 6c61 7373 3a60 576f  ining :class:`Wo
+0001b8b0: 7264 6020 6060 2863 6861 7261 6374 6572  rd` ``(character
+0001b8c0: 732c 2065 7861 6374 3d31 2960 602c 0a20  s, exact=1)``,. 
+0001b8d0: 2020 2077 6865 6e20 6465 6669 6e69 6e67     when defining
+0001b8e0: 2061 206d 6174 6368 206f 6620 616e 7920   a match of any 
+0001b8f0: 7369 6e67 6c65 2063 6861 7261 6374 6572  single character
+0001b900: 2069 6e20 6120 7374 7269 6e67 206f 660a   in a string of.
+0001b910: 2020 2020 6368 6172 6163 7465 7273 2e0a      characters..
+0001b920: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+0001b930: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
+0001b940: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0001b950: 2063 6861 7273 6574 3a20 7374 722c 0a20   charset: str,. 
+0001b960: 2020 2020 2020 2061 735f 6b65 7977 6f72         as_keywor
+0001b970: 643a 2062 6f6f 6c20 3d20 4661 6c73 652c  d: bool = False,
+0001b980: 0a20 2020 2020 2020 2065 7863 6c75 6465  .        exclude
+0001b990: 5f63 6861 7273 3a20 7479 7069 6e67 2e4f  _chars: typing.O
+0001b9a0: 7074 696f 6e61 6c5b 7374 725d 203d 204e  ptional[str] = N
+0001b9b0: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
+0001b9c0: 2020 2020 2020 2020 6173 4b65 7977 6f72          asKeywor
+0001b9d0: 643a 2062 6f6f 6c20 3d20 4661 6c73 652c  d: bool = False,
+0001b9e0: 0a20 2020 2020 2020 2065 7863 6c75 6465  .        exclude
+0001b9f0: 4368 6172 733a 2074 7970 696e 672e 4f70  Chars: typing.Op
+0001ba00: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+0001ba10: 6e65 2c0a 2020 2020 293a 0a20 2020 2020  ne,.    ):.     
+0001ba20: 2020 2061 734b 6579 776f 7264 203d 2061     asKeyword = a
+0001ba30: 734b 6579 776f 7264 206f 7220 6173 5f6b  sKeyword or as_k
+0001ba40: 6579 776f 7264 0a20 2020 2020 2020 2065  eyword.        e
+0001ba50: 7863 6c75 6465 4368 6172 7320 3d20 6578  xcludeChars = ex
+0001ba60: 636c 7564 6543 6861 7273 206f 7220 6578  cludeChars or ex
+0001ba70: 636c 7564 655f 6368 6172 730a 2020 2020  clude_chars.    
+0001ba80: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+0001ba90: 6974 5f5f 280a 2020 2020 2020 2020 2020  it__(.          
+0001baa0: 2020 6368 6172 7365 742c 2065 7861 6374    charset, exact
+0001bab0: 3d31 2c20 6173 5f6b 6579 776f 7264 3d61  =1, as_keyword=a
+0001bac0: 734b 6579 776f 7264 2c20 6578 636c 7564  sKeyword, exclud
+0001bad0: 655f 6368 6172 733d 6578 636c 7564 6543  e_chars=excludeC
+0001bae0: 6861 7273 0a20 2020 2020 2020 2029 0a0a  hars.        )..
+0001baf0: 0a63 6c61 7373 2052 6567 6578 2854 6f6b  .class Regex(Tok
+0001bb00: 656e 293a 0a20 2020 2072 2222 2254 6f6b  en):.    r"""Tok
+0001bb10: 656e 2066 6f72 206d 6174 6368 696e 6720  en for matching 
+0001bb20: 7374 7269 6e67 7320 7468 6174 206d 6174  strings that mat
+0001bb30: 6368 2061 2067 6976 656e 2072 6567 756c  ch a given regul
+0001bb40: 6172 0a20 2020 2065 7870 7265 7373 696f  ar.    expressio
+0001bb50: 6e2e 2044 6566 696e 6564 2077 6974 6820  n. Defined with 
+0001bb60: 7374 7269 6e67 2073 7065 6369 6679 696e  string specifyin
+0001bb70: 6720 7468 6520 7265 6775 6c61 7220 6578  g the regular ex
+0001bb80: 7072 6573 7369 6f6e 2069 6e0a 2020 2020  pression in.    
+0001bb90: 6120 666f 726d 2072 6563 6f67 6e69 7a65  a form recognize
+0001bba0: 6420 6279 2074 6865 2073 7464 6c69 6220  d by the stdlib 
+0001bbb0: 5079 7468 6f6e 2020 6072 6520 6d6f 6475  Python  `re modu
+0001bbc0: 6c65 203c 6874 7470 733a 2f2f 646f 6373  le <https://docs
+0001bbd0: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
+0001bbe0: 6272 6172 792f 7265 2e68 746d 6c3e 605f  brary/re.html>`_
+0001bbf0: 2e0a 2020 2020 4966 2074 6865 2067 6976  ..    If the giv
+0001bc00: 656e 2072 6567 6578 2063 6f6e 7461 696e  en regex contain
+0001bc10: 7320 6e61 6d65 6420 6772 6f75 7073 2028  s named groups (
+0001bc20: 6465 6669 6e65 6420 7573 696e 6720 6060  defined using ``
+0001bc30: 283f 503c 6e61 6d65 3e2e 2e2e 2960 6029  (?P<name>...)``)
+0001bc40: 2c0a 2020 2020 7468 6573 6520 7769 6c6c  ,.    these will
+0001bc50: 2062 6520 7072 6573 6572 7665 6420 6173   be preserved as
+0001bc60: 206e 616d 6564 203a 636c 6173 733a 6050   named :class:`P
+0001bc70: 6172 7365 5265 7375 6c74 7360 2e0a 0a20  arseResults`... 
+0001bc80: 2020 2049 6620 696e 7374 6561 6420 6f66     If instead of
+0001bc90: 2074 6865 2050 7974 686f 6e20 7374 646c   the Python stdl
+0001bca0: 6962 2060 6072 6560 6020 6d6f 6475 6c65  ib ``re`` module
+0001bcb0: 2079 6f75 2077 6973 6820 746f 2075 7365   you wish to use
+0001bcc0: 2061 2064 6966 6665 7265 6e74 2052 4520   a different RE 
+0001bcd0: 6d6f 6475 6c65 0a20 2020 2028 7375 6368  module.    (such
+0001bce0: 2061 7320 7468 6520 6060 7265 6765 7860   as the ``regex`
+0001bcf0: 6020 6d6f 6475 6c65 292c 2079 6f75 2063  ` module), you c
+0001bd00: 616e 2064 6f20 736f 2062 7920 6275 696c  an do so by buil
+0001bd10: 6469 6e67 2079 6f75 7220 6060 5265 6765  ding your ``Rege
+0001bd20: 7860 6020 6f62 6a65 6374 2077 6974 680a  x`` object with.
+0001bd30: 2020 2020 6120 636f 6d70 696c 6564 2052      a compiled R
+0001bd40: 4520 7468 6174 2077 6173 2063 6f6d 7069  E that was compi
+0001bd50: 6c65 6420 7573 696e 6720 6060 7265 6765  led using ``rege
+0001bd60: 7860 602e 0a0a 2020 2020 4578 616d 706c  x``...    Exampl
+0001bd70: 653a 3a0a 0a20 2020 2020 2020 2072 6561  e::..        rea
+0001bd80: 6c6e 756d 203d 2052 6567 6578 2872 225b  lnum = Regex(r"[
+0001bd90: 2b2d 5d3f 5c64 2b5c 2e5c 642a 2229 0a20  +-]?\d+\.\d*"). 
+0001bda0: 2020 2020 2020 2023 2072 6566 3a20 6874         # ref: ht
+0001bdb0: 7470 733a 2f2f 7374 6163 6b6f 7665 7266  tps://stackoverf
+0001bdc0: 6c6f 772e 636f 6d2f 7175 6573 7469 6f6e  low.com/question
+0001bdd0: 732f 3236 3733 3939 2f68 6f77 2d64 6f2d  s/267399/how-do-
+0001bde0: 796f 752d 6d61 7463 682d 6f6e 6c79 2d76  you-match-only-v
+0001bdf0: 616c 6964 2d72 6f6d 616e 2d6e 756d 6572  alid-roman-numer
+0001be00: 616c 732d 7769 7468 2d61 2d72 6567 756c  als-with-a-regul
+0001be10: 6172 2d65 7870 7265 7373 696f 6e0a 2020  ar-expression.  
+0001be20: 2020 2020 2020 726f 6d61 6e20 3d20 5265        roman = Re
+0001be30: 6765 7828 7222 4d7b 302c 347d 2843 4d7c  gex(r"M{0,4}(CM|
+0001be40: 4344 7c44 3f7b 302c 337d 2928 5843 7c58  CD|D?{0,3})(XC|X
+0001be50: 4c7c 4c3f 587b 302c 337d 2928 4958 7c49  L|L?X{0,3})(IX|I
+0001be60: 567c 563f 497b 302c 337d 2922 290a 0a20  V|V?I{0,3})").. 
+0001be70: 2020 2020 2020 2023 206e 616d 6564 2066         # named f
+0001be80: 6965 6c64 7320 696e 2061 2072 6567 6578  ields in a regex
+0001be90: 2077 696c 6c20 6265 2072 6574 7572 6e65   will be returne
+0001bea0: 6420 6173 206e 616d 6564 2072 6573 756c  d as named resul
+0001beb0: 7473 0a20 2020 2020 2020 2064 6174 6520  ts.        date 
+0001bec0: 3d20 5265 6765 7828 7227 283f 503c 7965  = Regex(r'(?P<ye
+0001bed0: 6172 3e5c 647b 347d 292d 283f 503c 6d6f  ar>\d{4})-(?P<mo
+0001bee0: 6e74 683e 5c64 5c64 3f29 2d28 3f50 3c64  nth>\d\d?)-(?P<d
+0001bef0: 6179 3e5c 645c 643f 2927 290a 0a20 2020  ay>\d\d?)')..   
+0001bf00: 2020 2020 2023 2074 6865 2052 6567 6578       # the Regex
+0001bf10: 2063 6c61 7373 2077 696c 6c20 6163 6365   class will acce
+0001bf20: 7074 2072 6527 7320 636f 6d70 696c 6564  pt re's compiled
+0001bf30: 2075 7369 6e67 2074 6865 2072 6567 6578   using the regex
+0001bf40: 206d 6f64 756c 650a 2020 2020 2020 2020   module.        
+0001bf50: 696d 706f 7274 2072 6567 6578 0a20 2020  import regex.   
+0001bf60: 2020 2020 2070 6172 7365 7220 3d20 7070       parser = pp
+0001bf70: 2e52 6567 6578 2872 6567 6578 2e63 6f6d  .Regex(regex.com
+0001bf80: 7069 6c65 2872 275b 302d 395d 2729 290a  pile(r'[0-9]')).
+0001bf90: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+0001bfa0: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
+0001bfb0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0001bfc0: 2070 6174 7465 726e 3a20 416e 792c 0a20   pattern: Any,. 
+0001bfd0: 2020 2020 2020 2066 6c61 6773 3a20 556e         flags: Un
+0001bfe0: 696f 6e5b 7265 2e52 6567 6578 466c 6167  ion[re.RegexFlag
+0001bff0: 2c20 696e 745d 203d 2030 2c0a 2020 2020  , int] = 0,.    
+0001c000: 2020 2020 6173 5f67 726f 7570 5f6c 6973      as_group_lis
+0001c010: 743a 2062 6f6f 6c20 3d20 4661 6c73 652c  t: bool = False,
+0001c020: 0a20 2020 2020 2020 2061 735f 6d61 7463  .        as_matc
+0001c030: 683a 2062 6f6f 6c20 3d20 4661 6c73 652c  h: bool = False,
+0001c040: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
+0001c050: 2020 2020 6173 4772 6f75 704c 6973 743a      asGroupList:
+0001c060: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+0001c070: 2020 2020 2020 2061 734d 6174 6368 3a20         asMatch: 
+0001c080: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+0001c090: 2020 293a 0a20 2020 2020 2020 2022 2222    ):.        """
+0001c0a0: 5468 6520 7061 7261 6d65 7465 7273 2060  The parameters `
+0001c0b0: 6070 6174 7465 726e 6060 2061 6e64 2060  `pattern`` and `
+0001c0c0: 6066 6c61 6773 6060 2061 7265 2070 6173  `flags`` are pas
+0001c0d0: 7365 640a 2020 2020 2020 2020 746f 2074  sed.        to t
+0001c0e0: 6865 2060 6072 652e 636f 6d70 696c 6528  he ``re.compile(
+0001c0f0: 2960 6020 6675 6e63 7469 6f6e 2061 732d  )`` function as-
+0001c100: 6973 2e20 5365 6520 7468 6520 5079 7468  is. See the Pyth
+0001c110: 6f6e 0a20 2020 2020 2020 2060 7265 206d  on.        `re m
+0001c120: 6f64 756c 6520 3c68 7474 7073 3a2f 2f64  odule <https://d
+0001c130: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
+0001c140: 2f6c 6962 7261 7279 2f72 652e 6874 6d6c  /library/re.html
+0001c150: 3e60 5f20 6d6f 6475 6c65 2066 6f72 2061  >`_ module for a
+0001c160: 6e0a 2020 2020 2020 2020 6578 706c 616e  n.        explan
+0001c170: 6174 696f 6e20 6f66 2074 6865 2061 6363  ation of the acc
+0001c180: 6570 7461 626c 6520 7061 7474 6572 6e73  eptable patterns
+0001c190: 2061 6e64 2066 6c61 6773 2e0a 2020 2020   and flags..    
+0001c1a0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001c1b0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+0001c1c0: 2829 0a20 2020 2020 2020 2061 7347 726f  ().        asGro
+0001c1d0: 7570 4c69 7374 203d 2061 7347 726f 7570  upList = asGroup
+0001c1e0: 4c69 7374 206f 7220 6173 5f67 726f 7570  List or as_group
+0001c1f0: 5f6c 6973 740a 2020 2020 2020 2020 6173  _list.        as
+0001c200: 4d61 7463 6820 3d20 6173 4d61 7463 6820  Match = asMatch 
+0001c210: 6f72 2061 735f 6d61 7463 680a 0a20 2020  or as_match..   
+0001c220: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0001c230: 6365 2870 6174 7465 726e 2c20 7374 725f  ce(pattern, str_
+0001c240: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
+0001c250: 2020 2069 6620 6e6f 7420 7061 7474 6572     if not patter
+0001c260: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
+0001c270: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+0001c280: 726f 7228 226e 756c 6c20 7374 7269 6e67  ror("null string
+0001c290: 2070 6173 7365 6420 746f 2052 6567 6578   passed to Regex
+0001c2a0: 3b20 7573 6520 456d 7074 7928 2920 696e  ; use Empty() in
+0001c2b0: 7374 6561 6422 290a 0a20 2020 2020 2020  stead")..       
+0001c2c0: 2020 2020 2073 656c 662e 5f72 6520 3d20       self._re = 
+0001c2d0: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
+0001c2e0: 2073 656c 662e 7265 5374 7269 6e67 203d   self.reString =
+0001c2f0: 2073 656c 662e 7061 7474 6572 6e20 3d20   self.pattern = 
+0001c300: 7061 7474 6572 6e0a 2020 2020 2020 2020  pattern.        
+0001c310: 2020 2020 7365 6c66 2e66 6c61 6773 203d      self.flags =
+0001c320: 2066 6c61 6773 0a0a 2020 2020 2020 2020   flags..        
+0001c330: 656c 6966 2068 6173 6174 7472 2870 6174  elif hasattr(pat
+0001c340: 7465 726e 2c20 2270 6174 7465 726e 2229  tern, "pattern")
+0001c350: 2061 6e64 2068 6173 6174 7472 2870 6174   and hasattr(pat
+0001c360: 7465 726e 2c20 226d 6174 6368 2229 3a0a  tern, "match"):.
+0001c370: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001c380: 2e5f 7265 203d 2070 6174 7465 726e 0a20  ._re = pattern. 
+0001c390: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001c3a0: 7061 7474 6572 6e20 3d20 7365 6c66 2e72  pattern = self.r
+0001c3b0: 6553 7472 696e 6720 3d20 7061 7474 6572  eString = patter
+0001c3c0: 6e2e 7061 7474 6572 6e0a 2020 2020 2020  n.pattern.      
+0001c3d0: 2020 2020 2020 7365 6c66 2e66 6c61 6773        self.flags
+0001c3e0: 203d 2066 6c61 6773 0a0a 2020 2020 2020   = flags..      
+0001c3f0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001c400: 2020 2020 7261 6973 6520 5479 7065 4572      raise TypeEr
+0001c410: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+0001c420: 2020 2020 2022 5265 6765 7820 6d61 7920       "Regex may 
+0001c430: 6f6e 6c79 2062 6520 636f 6e73 7472 7563  only be construc
+0001c440: 7465 6420 7769 7468 2061 2073 7472 696e  ted with a strin
+0001c450: 6720 6f72 2061 2063 6f6d 7069 6c65 6420  g or a compiled 
+0001c460: 5245 206f 626a 6563 7422 0a20 2020 2020  RE object".     
+0001c470: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+0001c480: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
+0001c490: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
+0001c4a0: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
+0001c4b0: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
+0001c4c0: 6f72 203d 2046 616c 7365 0a20 2020 2020  or = False.     
+0001c4d0: 2020 2073 656c 662e 6173 4772 6f75 704c     self.asGroupL
+0001c4e0: 6973 7420 3d20 6173 4772 6f75 704c 6973  ist = asGroupLis
+0001c4f0: 740a 2020 2020 2020 2020 7365 6c66 2e61  t.        self.a
+0001c500: 734d 6174 6368 203d 2061 734d 6174 6368  sMatch = asMatch
+0001c510: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001c520: 2e61 7347 726f 7570 4c69 7374 3a0a 2020  .asGroupList:.  
+0001c530: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+0001c540: 6172 7365 496d 706c 203d 2073 656c 662e  arseImpl = self.
+0001c550: 7061 7273 6549 6d70 6c41 7347 726f 7570  parseImplAsGroup
+0001c560: 4c69 7374 2020 2320 7479 7065 3a20 6967  List  # type: ig
+0001c570: 6e6f 7265 205b 6173 7369 676e 6d65 6e74  nore [assignment
+0001c580: 5d0a 2020 2020 2020 2020 6966 2073 656c  ].        if sel
+0001c590: 662e 6173 4d61 7463 683a 0a20 2020 2020  f.asMatch:.     
+0001c5a0: 2020 2020 2020 2073 656c 662e 7061 7273         self.pars
+0001c5b0: 6549 6d70 6c20 3d20 7365 6c66 2e70 6172  eImpl = self.par
+0001c5c0: 7365 496d 706c 4173 4d61 7463 6820 2023  seImplAsMatch  #
+0001c5d0: 2074 7970 653a 2069 676e 6f72 6520 5b61   type: ignore [a
+0001c5e0: 7373 6967 6e6d 656e 745d 0a0a 2020 2020  ssignment]..    
+0001c5f0: 4063 6163 6865 645f 7072 6f70 6572 7479  @cached_property
+0001c600: 0a20 2020 2064 6566 2072 6528 7365 6c66  .    def re(self
+0001c610: 293a 0a20 2020 2020 2020 2069 6620 7365  ):.        if se
+0001c620: 6c66 2e5f 7265 3a0a 2020 2020 2020 2020  lf._re:.        
+0001c630: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+0001c640: 5f72 650a 2020 2020 2020 2020 656c 7365  _re.        else
+0001c650: 3a0a 2020 2020 2020 2020 2020 2020 7472  :.            tr
+0001c660: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+0001c670: 2020 2072 6574 7572 6e20 7265 2e63 6f6d     return re.com
+0001c680: 7069 6c65 2873 656c 662e 7061 7474 6572  pile(self.patter
+0001c690: 6e2c 2073 656c 662e 666c 6167 7329 0a20  n, self.flags). 
+0001c6a0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0001c6b0: 7420 7265 2e65 7272 6f72 3a0a 2020 2020  t re.error:.    
+0001c6c0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001c6d0: 6520 5661 6c75 6545 7272 6f72 2866 2269  e ValueError(f"i
+0001c6e0: 6e76 616c 6964 2070 6174 7465 726e 2028  nvalid pattern (
+0001c6f0: 7b73 656c 662e 7061 7474 6572 6e21 727d  {self.pattern!r}
+0001c700: 2920 7061 7373 6564 2074 6f20 5265 6765  ) passed to Rege
+0001c710: 7822 290a 0a20 2020 2040 6361 6368 6564  x")..    @cached
+0001c720: 5f70 726f 7065 7274 790a 2020 2020 6465  _property.    de
+0001c730: 6620 7265 5f6d 6174 6368 2873 656c 6629  f re_match(self)
+0001c740: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+0001c750: 2073 656c 662e 7265 2e6d 6174 6368 0a0a   self.re.match..
+0001c760: 2020 2020 4063 6163 6865 645f 7072 6f70      @cached_prop
+0001c770: 6572 7479 0a20 2020 2064 6566 206d 6179  erty.    def may
+0001c780: 5265 7475 726e 456d 7074 7928 7365 6c66  ReturnEmpty(self
+0001c790: 293a 0a20 2020 2020 2020 2072 6574 7572  ):.        retur
+0001c7a0: 6e20 7365 6c66 2e72 655f 6d61 7463 6828  n self.re_match(
+0001c7b0: 2222 2920 6973 206e 6f74 204e 6f6e 650a  "") is not None.
+0001c7c0: 0a20 2020 2064 6566 205f 6765 6e65 7261  .    def _genera
+0001c7d0: 7465 4465 6661 756c 744e 616d 6528 7365  teDefaultName(se
+0001c7e0: 6c66 2920 2d3e 2073 7472 3a0a 2020 2020  lf) -> str:.    
+0001c7f0: 2020 2020 7265 7475 726e 2022 5265 3a28      return "Re:(
+0001c800: 7b7d 2922 2e66 6f72 6d61 7428 7265 7072  {})".format(repr
+0001c810: 2873 656c 662e 7061 7474 6572 6e29 2e72  (self.pattern).r
+0001c820: 6570 6c61 6365 2822 5c5c 5c5c 222c 2022  eplace("\\\\", "
+0001c830: 5c5c 2229 290a 0a20 2020 2064 6566 2070  \\"))..    def p
+0001c840: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
+0001c850: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0001c860: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+0001c870: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0001c880: 7365 6c66 2e72 655f 6d61 7463 6828 696e  self.re_match(in
+0001c890: 7374 7269 6e67 2c20 6c6f 6329 0a20 2020  string, loc).   
+0001c8a0: 2020 2020 2069 6620 6e6f 7420 7265 7375       if not resu
+0001c8b0: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
+0001c8c0: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+0001c8d0: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
+0001c8e0: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
+0001c8f0: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
+0001c900: 6c6f 6320 3d20 7265 7375 6c74 2e65 6e64  loc = result.end
+0001c910: 2829 0a20 2020 2020 2020 2072 6574 203d  ().        ret =
+0001c920: 2050 6172 7365 5265 7375 6c74 7328 7265   ParseResults(re
+0001c930: 7375 6c74 2e67 726f 7570 2829 290a 2020  sult.group()).  
+0001c940: 2020 2020 2020 6420 3d20 7265 7375 6c74        d = result
+0001c950: 2e67 726f 7570 6469 6374 2829 0a20 2020  .groupdict().   
+0001c960: 2020 2020 2069 6620 643a 0a20 2020 2020       if d:.     
+0001c970: 2020 2020 2020 2066 6f72 206b 2c20 7620         for k, v 
+0001c980: 696e 2064 2e69 7465 6d73 2829 3a0a 2020  in d.items():.  
+0001c990: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001c9a0: 745b 6b5d 203d 2076 0a20 2020 2020 2020  t[k] = v.       
+0001c9b0: 2072 6574 7572 6e20 6c6f 632c 2072 6574   return loc, ret
+0001c9c0: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+0001c9d0: 6d70 6c41 7347 726f 7570 4c69 7374 2873  mplAsGroupList(s
+0001c9e0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+0001c9f0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+0001ca00: 7565 293a 0a20 2020 2020 2020 2072 6573  ue):.        res
+0001ca10: 756c 7420 3d20 7365 6c66 2e72 655f 6d61  ult = self.re_ma
+0001ca20: 7463 6828 696e 7374 7269 6e67 2c20 6c6f  tch(instring, lo
+0001ca30: 6329 0a20 2020 2020 2020 2069 6620 6e6f  c).        if no
+0001ca40: 7420 7265 7375 6c74 3a0a 2020 2020 2020  t result:.      
+0001ca50: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+0001ca60: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+0001ca70: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+0001ca80: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
+0001ca90: 2020 2020 2020 6c6f 6320 3d20 7265 7375        loc = resu
+0001caa0: 6c74 2e65 6e64 2829 0a20 2020 2020 2020  lt.end().       
+0001cab0: 2072 6574 203d 2072 6573 756c 742e 6772   ret = result.gr
+0001cac0: 6f75 7073 2829 0a20 2020 2020 2020 2072  oups().        r
+0001cad0: 6574 7572 6e20 6c6f 632c 2072 6574 0a0a  eturn loc, ret..
+0001cae0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
+0001caf0: 6c41 734d 6174 6368 2873 656c 662c 2069  lAsMatch(self, i
+0001cb00: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0001cb10: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+0001cb20: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0001cb30: 7365 6c66 2e72 655f 6d61 7463 6828 696e  self.re_match(in
+0001cb40: 7374 7269 6e67 2c20 6c6f 6329 0a20 2020  string, loc).   
+0001cb50: 2020 2020 2069 6620 6e6f 7420 7265 7375       if not resu
+0001cb60: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
+0001cb70: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+0001cb80: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
+0001cb90: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
+0001cba0: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
+0001cbb0: 6c6f 6320 3d20 7265 7375 6c74 2e65 6e64  loc = result.end
+0001cbc0: 2829 0a20 2020 2020 2020 2072 6574 203d  ().        ret =
+0001cbd0: 2072 6573 756c 740a 2020 2020 2020 2020   result.        
+0001cbe0: 7265 7475 726e 206c 6f63 2c20 7265 740a  return loc, ret.
+0001cbf0: 0a20 2020 2064 6566 2073 7562 2873 656c  .    def sub(sel
+0001cc00: 662c 2072 6570 6c3a 2073 7472 2920 2d3e  f, repl: str) ->
+0001cc10: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
+0001cc20: 2020 2020 2020 2020 7222 2222 0a20 2020          r""".   
+0001cc30: 2020 2020 2052 6574 7572 6e20 3a63 6c61       Return :cla
+0001cc40: 7373 3a60 5265 6765 7860 2077 6974 6820  ss:`Regex` with 
+0001cc50: 616e 2061 7474 6163 6865 6420 7061 7273  an attached pars
+0001cc60: 6520 6163 7469 6f6e 2074 6f20 7472 616e  e action to tran
+0001cc70: 7366 6f72 6d20 7468 6520 7061 7273 6564  sform the parsed
+0001cc80: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
+0001cc90: 6173 2069 6620 6361 6c6c 6564 2075 7369  as if called usi
+0001cca0: 6e67 2060 7265 2e73 7562 2865 7870 722c  ng `re.sub(expr,
+0001ccb0: 2072 6570 6c2c 2073 7472 696e 6729 203c   repl, string) <
+0001ccc0: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
+0001ccd0: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
+0001cce0: 792f 7265 2e68 746d 6c23 7265 2e73 7562  y/re.html#re.sub
+0001ccf0: 3e60 5f2e 0a0a 2020 2020 2020 2020 4578  >`_...        Ex
+0001cd00: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
+0001cd10: 2020 2020 206d 616b 655f 6874 6d6c 203d       make_html =
+0001cd20: 2052 6567 6578 2872 2228 5c77 2b29 3a28   Regex(r"(\w+):(
+0001cd30: 2e2a 3f29 3a22 292e 7375 6228 7222 3c5c  .*?):").sub(r"<\
+0001cd40: 313e 5c32 3c2f 5c31 3e22 290a 2020 2020  1>\2</\1>").    
+0001cd50: 2020 2020 2020 2020 7072 696e 7428 6d61          print(ma
+0001cd60: 6b65 5f68 746d 6c2e 7472 616e 7366 6f72  ke_html.transfor
+0001cd70: 6d5f 7374 7269 6e67 2822 6831 3a6d 6169  m_string("h1:mai
+0001cd80: 6e20 7469 746c 653a 2229 290a 2020 2020  n title:")).    
+0001cd90: 2020 2020 2020 2020 2320 7072 696e 7473          # prints
+0001cda0: 2022 3c68 313e 6d61 696e 2074 6974 6c65   "<h1>main title
+0001cdb0: 3c2f 6831 3e22 0a20 2020 2020 2020 2022  </h1>".        "
+0001cdc0: 2222 0a20 2020 2020 2020 2069 6620 7365  "".        if se
+0001cdd0: 6c66 2e61 7347 726f 7570 4c69 7374 3a0a  lf.asGroupList:.
+0001cde0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001cdf0: 6520 5479 7065 4572 726f 7228 2263 616e  e TypeError("can
+0001ce00: 6e6f 7420 7573 6520 7375 6228 2920 7769  not use sub() wi
+0001ce10: 7468 2052 6567 6578 2861 735f 6772 6f75  th Regex(as_grou
+0001ce20: 705f 6c69 7374 3d54 7275 6529 2229 0a0a  p_list=True)")..
+0001ce30: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0001ce40: 6173 4d61 7463 6820 616e 6420 6361 6c6c  asMatch and call
+0001ce50: 6162 6c65 2872 6570 6c29 3a0a 2020 2020  able(repl):.    
+0001ce60: 2020 2020 2020 2020 7261 6973 6520 5479          raise Ty
+0001ce70: 7065 4572 726f 7228 0a20 2020 2020 2020  peError(.       
+0001ce80: 2020 2020 2020 2020 2022 6361 6e6e 6f74           "cannot
+0001ce90: 2075 7365 2073 7562 2829 2077 6974 6820   use sub() with 
+0001cea0: 6120 6361 6c6c 6162 6c65 2077 6974 6820  a callable with 
+0001ceb0: 5265 6765 7828 6173 5f6d 6174 6368 3d54  Regex(as_match=T
+0001cec0: 7275 6529 220a 2020 2020 2020 2020 2020  rue)".          
+0001ced0: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
+0001cee0: 7365 6c66 2e61 734d 6174 6368 3a0a 0a20  self.asMatch:.. 
+0001cef0: 2020 2020 2020 2020 2020 2064 6566 2070             def p
+0001cf00: 6128 746f 6b65 6e73 293a 0a20 2020 2020  a(tokens):.     
+0001cf10: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0001cf20: 6e20 746f 6b65 6e73 5b30 5d2e 6578 7061  n tokens[0].expa
+0001cf30: 6e64 2872 6570 6c29 0a0a 2020 2020 2020  nd(repl)..      
+0001cf40: 2020 656c 7365 3a0a 0a20 2020 2020 2020    else:..       
+0001cf50: 2020 2020 2064 6566 2070 6128 746f 6b65       def pa(toke
+0001cf60: 6e73 293a 0a20 2020 2020 2020 2020 2020  ns):.           
+0001cf70: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0001cf80: 2e72 652e 7375 6228 7265 706c 2c20 746f  .re.sub(repl, to
+0001cf90: 6b65 6e73 5b30 5d29 0a0a 2020 2020 2020  kens[0])..      
+0001cfa0: 2020 7265 7475 726e 2073 656c 662e 6164    return self.ad
+0001cfb0: 645f 7061 7273 655f 6163 7469 6f6e 2870  d_parse_action(p
+0001cfc0: 6129 0a0a 0a63 6c61 7373 2051 756f 7465  a)...class Quote
+0001cfd0: 6453 7472 696e 6728 546f 6b65 6e29 3a0a  dString(Token):.
+0001cfe0: 2020 2020 7222 2222 0a20 2020 2054 6f6b      r""".    Tok
+0001cff0: 656e 2066 6f72 206d 6174 6368 696e 6720  en for matching 
+0001d000: 7374 7269 6e67 7320 7468 6174 2061 7265  strings that are
+0001d010: 2064 656c 696d 6974 6564 2062 7920 7175   delimited by qu
+0001d020: 6f74 696e 6720 6368 6172 6163 7465 7273  oting characters
+0001d030: 2e0a 0a20 2020 2044 6566 696e 6564 2077  ...    Defined w
+0001d040: 6974 6820 7468 6520 666f 6c6c 6f77 696e  ith the followin
+0001d050: 6720 7061 7261 6d65 7465 7273 3a0a 0a20  g parameters:.. 
+0001d060: 2020 202d 2060 6071 756f 7465 5f63 6861     - ``quote_cha
+0001d070: 7260 6020 2d20 7374 7269 6e67 206f 6620  r`` - string of 
+0001d080: 6f6e 6520 6f72 206d 6f72 6520 6368 6172  one or more char
+0001d090: 6163 7465 7273 2064 6566 696e 696e 6720  acters defining 
+0001d0a0: 7468 650a 2020 2020 2020 7175 6f74 6520  the.      quote 
+0001d0b0: 6465 6c69 6d69 7469 6e67 2073 7472 696e  delimiting strin
+0001d0c0: 670a 2020 2020 2d20 6060 6573 635f 6368  g.    - ``esc_ch
+0001d0d0: 6172 6060 202d 2063 6861 7261 6374 6572  ar`` - character
+0001d0e0: 2074 6f20 7265 5f65 7363 6170 6520 7175   to re_escape qu
+0001d0f0: 6f74 6573 2c20 7479 7069 6361 6c6c 7920  otes, typically 
+0001d100: 6261 636b 736c 6173 680a 2020 2020 2020  backslash.      
+0001d110: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
+0001d120: 6060 290a 2020 2020 2d20 6060 6573 635f  ``).    - ``esc_
+0001d130: 7175 6f74 6560 6020 2d20 7370 6563 6961  quote`` - specia
+0001d140: 6c20 7175 6f74 6520 7365 7175 656e 6365  l quote sequence
+0001d150: 2074 6f20 7265 5f65 7363 6170 6520 616e   to re_escape an
+0001d160: 2065 6d62 6564 6465 6420 7175 6f74 650a   embedded quote.
+0001d170: 2020 2020 2020 7374 7269 6e67 2028 7375        string (su
+0001d180: 6368 2061 7320 5351 4c27 7320 6060 2222  ch as SQL's ``""
+0001d190: 6060 2074 6f20 7265 5f65 7363 6170 6520  `` to re_escape 
+0001d1a0: 616e 2065 6d62 6564 6465 6420 6060 2260  an embedded ``"`
+0001d1b0: 6029 0a20 2020 2020 2028 6465 6661 756c  `).      (defaul
+0001d1c0: 743d 2060 604e 6f6e 6560 6029 0a20 2020  t= ``None``).   
+0001d1d0: 202d 2060 606d 756c 7469 6c69 6e65 6060   - ``multiline``
+0001d1e0: 202d 2062 6f6f 6c65 616e 2069 6e64 6963   - boolean indic
+0001d1f0: 6174 696e 6720 7768 6574 6865 7220 7175  ating whether qu
+0001d200: 6f74 6573 2063 616e 2073 7061 6e0a 2020  otes can span.  
+0001d210: 2020 2020 6d75 6c74 6970 6c65 206c 696e      multiple lin
+0001d220: 6573 2028 6465 6661 756c 743d 2060 6046  es (default= ``F
+0001d230: 616c 7365 6060 290a 2020 2020 2d20 6060  alse``).    - ``
+0001d240: 756e 7175 6f74 655f 7265 7375 6c74 7360  unquote_results`
+0001d250: 6020 2d20 626f 6f6c 6561 6e20 696e 6469  ` - boolean indi
+0001d260: 6361 7469 6e67 2077 6865 7468 6572 2074  cating whether t
+0001d270: 6865 206d 6174 6368 6564 2074 6578 740a  he matched text.
+0001d280: 2020 2020 2020 7368 6f75 6c64 2062 6520        should be 
+0001d290: 756e 7175 6f74 6564 2028 6465 6661 756c  unquoted (defaul
+0001d2a0: 743d 2060 6054 7275 6560 6029 0a20 2020  t= ``True``).   
+0001d2b0: 202d 2060 6065 6e64 5f71 756f 7465 5f63   - ``end_quote_c
+0001d2c0: 6861 7260 6020 2d20 7374 7269 6e67 206f  har`` - string o
+0001d2d0: 6620 6f6e 6520 6f72 206d 6f72 6520 6368  f one or more ch
+0001d2e0: 6172 6163 7465 7273 2064 6566 696e 696e  aracters definin
+0001d2f0: 6720 7468 650a 2020 2020 2020 656e 6420  g the.      end 
+0001d300: 6f66 2074 6865 2071 756f 7465 2064 656c  of the quote del
+0001d310: 696d 6974 6564 2073 7472 696e 6720 2864  imited string (d
+0001d320: 6566 6175 6c74 3d20 6060 4e6f 6e65 6060  efault= ``None``
+0001d330: 2020 3d3e 2073 616d 6520 6173 0a20 2020    => same as.   
+0001d340: 2020 2071 756f 7465 5f63 6861 7229 0a20     quote_char). 
+0001d350: 2020 202d 2060 6063 6f6e 7665 7274 5f77     - ``convert_w
+0001d360: 6869 7465 7370 6163 655f 6573 6361 7065  hitespace_escape
+0001d370: 7360 6020 2d20 636f 6e76 6572 7420 6573  s`` - convert es
+0001d380: 6361 7065 6420 7768 6974 6573 7061 6365  caped whitespace
+0001d390: 0a20 2020 2020 2028 6060 275c 7427 6060  .      (``'\t'``
+0001d3a0: 2c20 6060 275c 6e27 6060 2c20 6574 632e  , ``'\n'``, etc.
+0001d3b0: 2920 746f 2061 6374 7561 6c20 7768 6974  ) to actual whit
+0001d3c0: 6573 7061 6365 0a20 2020 2020 2028 6465  espace.      (de
+0001d3d0: 6661 756c 743d 2060 6054 7275 6560 6029  fault= ``True``)
+0001d3e0: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
+0001d3f0: 0a20 2020 2020 2020 2071 7320 3d20 5175  .        qs = Qu
+0001d400: 6f74 6564 5374 7269 6e67 2827 2227 290a  otedString('"').
+0001d410: 2020 2020 2020 2020 7072 696e 7428 7173          print(qs
+0001d420: 2e73 6561 7263 685f 7374 7269 6e67 2827  .search_string('
+0001d430: 6c73 6a64 6620 2254 6869 7320 6973 2074  lsjdf "This is t
+0001d440: 6865 2071 756f 7465 2220 736c 646a 6627  he quote" sldjf'
+0001d450: 2929 0a20 2020 2020 2020 2063 6f6d 706c  )).        compl
+0001d460: 6578 5f71 7320 3d20 5175 6f74 6564 5374  ex_qs = QuotedSt
+0001d470: 7269 6e67 2827 7b7b 272c 2065 6e64 5f71  ring('{{', end_q
+0001d480: 756f 7465 5f63 6861 723d 277d 7d27 290a  uote_char='}}').
+0001d490: 2020 2020 2020 2020 7072 696e 7428 636f          print(co
+0001d4a0: 6d70 6c65 785f 7173 2e73 6561 7263 685f  mplex_qs.search_
+0001d4b0: 7374 7269 6e67 2827 6c73 6a64 6620 7b7b  string('lsjdf {{
+0001d4c0: 5468 6973 2069 7320 7468 6520 2271 756f  This is the "quo
+0001d4d0: 7465 227d 7d20 736c 646a 6627 2929 0a20  te"}} sldjf')). 
+0001d4e0: 2020 2020 2020 2073 716c 5f71 7320 3d20         sql_qs = 
+0001d4f0: 5175 6f74 6564 5374 7269 6e67 2827 2227  QuotedString('"'
+0001d500: 2c20 6573 635f 7175 6f74 653d 2722 2227  , esc_quote='""'
+0001d510: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+0001d520: 7371 6c5f 7173 2e73 6561 7263 685f 7374  sql_qs.search_st
+0001d530: 7269 6e67 2827 6c73 6a64 6620 2254 6869  ring('lsjdf "Thi
+0001d540: 7320 6973 2074 6865 2071 756f 7465 2077  s is the quote w
+0001d550: 6974 6820 2222 656d 6265 6464 6564 2222  ith ""embedded""
+0001d560: 2071 756f 7465 7322 2073 6c64 6a66 2729   quotes" sldjf')
+0001d570: 290a 0a20 2020 2070 7269 6e74 733a 3a0a  )..    prints::.
+0001d580: 0a20 2020 2020 2020 205b 5b27 5468 6973  .        [['This
+0001d590: 2069 7320 7468 6520 7175 6f74 6527 5d5d   is the quote']]
+0001d5a0: 0a20 2020 2020 2020 205b 5b27 5468 6973  .        [['This
+0001d5b0: 2069 7320 7468 6520 2271 756f 7465 2227   is the "quote"'
+0001d5c0: 5d5d 0a20 2020 2020 2020 205b 5b27 5468  ]].        [['Th
+0001d5d0: 6973 2069 7320 7468 6520 7175 6f74 6520  is is the quote 
+0001d5e0: 7769 7468 2022 656d 6265 6464 6564 2220  with "embedded" 
+0001d5f0: 7175 6f74 6573 275d 5d0a 2020 2020 2222  quotes']].    ""
+0001d600: 220a 2020 2020 7773 5f6d 6170 203d 2064  ".    ws_map = d
+0001d610: 6963 7428 2828 7222 5c74 222c 2022 5c74  ict(((r"\t", "\t
+0001d620: 2229 2c20 2872 225c 6e22 2c20 225c 6e22  "), (r"\n", "\n"
+0001d630: 292c 2028 7222 5c66 222c 2022 5c66 2229  ), (r"\f", "\f")
+0001d640: 2c20 2872 225c 7222 2c20 225c 7222 2929  , (r"\r", "\r"))
+0001d650: 290a 0a20 2020 2064 6566 205f 5f69 6e69  )..    def __ini
+0001d660: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
+0001d670: 662c 0a20 2020 2020 2020 2071 756f 7465  f,.        quote
+0001d680: 5f63 6861 723a 2073 7472 203d 2022 222c  _char: str = "",
+0001d690: 0a20 2020 2020 2020 2065 7363 5f63 6861  .        esc_cha
+0001d6a0: 723a 2074 7970 696e 672e 4f70 7469 6f6e  r: typing.Option
+0001d6b0: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
+0001d6c0: 2020 2020 2020 2020 6573 635f 7175 6f74          esc_quot
+0001d6d0: 653a 2074 7970 696e 672e 4f70 7469 6f6e  e: typing.Option
+0001d6e0: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
+0001d6f0: 2020 2020 2020 2020 6d75 6c74 696c 696e          multilin
+0001d700: 653a 2062 6f6f 6c20 3d20 4661 6c73 652c  e: bool = False,
+0001d710: 0a20 2020 2020 2020 2075 6e71 756f 7465  .        unquote
+0001d720: 5f72 6573 756c 7473 3a20 626f 6f6c 203d  _results: bool =
+0001d730: 2054 7275 652c 0a20 2020 2020 2020 2065   True,.        e
+0001d740: 6e64 5f71 756f 7465 5f63 6861 723a 2074  nd_quote_char: t
+0001d750: 7970 696e 672e 4f70 7469 6f6e 616c 5b73  yping.Optional[s
+0001d760: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
+0001d770: 2020 2020 636f 6e76 6572 745f 7768 6974      convert_whit
+0001d780: 6573 7061 6365 5f65 7363 6170 6573 3a20  espace_escapes: 
+0001d790: 626f 6f6c 203d 2054 7275 652c 0a20 2020  bool = True,.   
+0001d7a0: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
+0001d7b0: 7175 6f74 6543 6861 723a 2073 7472 203d  quoteChar: str =
+0001d7c0: 2022 222c 0a20 2020 2020 2020 2065 7363   "",.        esc
+0001d7d0: 4368 6172 3a20 7479 7069 6e67 2e4f 7074  Char: typing.Opt
+0001d7e0: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+0001d7f0: 652c 0a20 2020 2020 2020 2065 7363 5175  e,.        escQu
+0001d800: 6f74 653a 2074 7970 696e 672e 4f70 7469  ote: typing.Opti
+0001d810: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+0001d820: 2c0a 2020 2020 2020 2020 756e 7175 6f74  ,.        unquot
+0001d830: 6552 6573 756c 7473 3a20 626f 6f6c 203d  eResults: bool =
+0001d840: 2054 7275 652c 0a20 2020 2020 2020 2065   True,.        e
+0001d850: 6e64 5175 6f74 6543 6861 723a 2074 7970  ndQuoteChar: typ
+0001d860: 696e 672e 4f70 7469 6f6e 616c 5b73 7472  ing.Optional[str
+0001d870: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+0001d880: 2020 636f 6e76 6572 7457 6869 7465 7370    convertWhitesp
+0001d890: 6163 6545 7363 6170 6573 3a20 626f 6f6c  aceEscapes: bool
+0001d8a0: 203d 2054 7275 652c 0a20 2020 2029 3a0a   = True,.    ):.
+0001d8b0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+0001d8c0: 5f5f 696e 6974 5f5f 2829 0a20 2020 2020  __init__().     
+0001d8d0: 2020 2065 7363 5f63 6861 7220 3d20 6573     esc_char = es
+0001d8e0: 6343 6861 7220 6f72 2065 7363 5f63 6861  cChar or esc_cha
+0001d8f0: 720a 2020 2020 2020 2020 6573 635f 7175  r.        esc_qu
+0001d900: 6f74 6520 3d20 6573 6351 756f 7465 206f  ote = escQuote o
+0001d910: 7220 6573 635f 7175 6f74 650a 2020 2020  r esc_quote.    
+0001d920: 2020 2020 756e 7175 6f74 655f 7265 7375      unquote_resu
+0001d930: 6c74 7320 3d20 756e 7175 6f74 6552 6573  lts = unquoteRes
+0001d940: 756c 7473 2061 6e64 2075 6e71 756f 7465  ults and unquote
+0001d950: 5f72 6573 756c 7473 0a20 2020 2020 2020  _results.       
+0001d960: 2065 6e64 5f71 756f 7465 5f63 6861 7220   end_quote_char 
+0001d970: 3d20 656e 6451 756f 7465 4368 6172 206f  = endQuoteChar o
+0001d980: 7220 656e 645f 7175 6f74 655f 6368 6172  r end_quote_char
+0001d990: 0a20 2020 2020 2020 2063 6f6e 7665 7274  .        convert
+0001d9a0: 5f77 6869 7465 7370 6163 655f 6573 6361  _whitespace_esca
+0001d9b0: 7065 7320 3d20 280a 2020 2020 2020 2020  pes = (.        
+0001d9c0: 2020 2020 636f 6e76 6572 7457 6869 7465      convertWhite
+0001d9d0: 7370 6163 6545 7363 6170 6573 2061 6e64  spaceEscapes and
+0001d9e0: 2063 6f6e 7665 7274 5f77 6869 7465 7370   convert_whitesp
+0001d9f0: 6163 655f 6573 6361 7065 730a 2020 2020  ace_escapes.    
+0001da00: 2020 2020 290a 2020 2020 2020 2020 7175      ).        qu
+0001da10: 6f74 655f 6368 6172 203d 2071 756f 7465  ote_char = quote
+0001da20: 4368 6172 206f 7220 7175 6f74 655f 6368  Char or quote_ch
+0001da30: 6172 0a0a 2020 2020 2020 2020 2320 7265  ar..        # re
+0001da40: 6d6f 7665 2077 6869 7465 2073 7061 6365  move white space
+0001da50: 2066 726f 6d20 7175 6f74 6520 6368 6172   from quote char
+0001da60: 730a 2020 2020 2020 2020 7175 6f74 655f  s.        quote_
+0001da70: 6368 6172 203d 2071 756f 7465 5f63 6861  char = quote_cha
+0001da80: 722e 7374 7269 7028 290a 2020 2020 2020  r.strip().      
+0001da90: 2020 6966 206e 6f74 2071 756f 7465 5f63    if not quote_c
+0001daa0: 6861 723a 0a20 2020 2020 2020 2020 2020  har:.           
+0001dab0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+0001dac0: 7228 2271 756f 7465 5f63 6861 7220 6361  r("quote_char ca
+0001dad0: 6e6e 6f74 2062 6520 7468 6520 656d 7074  nnot be the empt
+0001dae0: 7920 7374 7269 6e67 2229 0a0a 2020 2020  y string")..    
+0001daf0: 2020 2020 6966 2065 6e64 5f71 756f 7465      if end_quote
+0001db00: 5f63 6861 7220 6973 204e 6f6e 653a 0a20  _char is None:. 
+0001db10: 2020 2020 2020 2020 2020 2065 6e64 5f71             end_q
+0001db20: 756f 7465 5f63 6861 7220 3d20 7175 6f74  uote_char = quot
+0001db30: 655f 6368 6172 0a20 2020 2020 2020 2065  e_char.        e
+0001db40: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001db50: 2065 6e64 5f71 756f 7465 5f63 6861 7220   end_quote_char 
+0001db60: 3d20 656e 645f 7175 6f74 655f 6368 6172  = end_quote_char
+0001db70: 2e73 7472 6970 2829 0a20 2020 2020 2020  .strip().       
+0001db80: 2020 2020 2069 6620 6e6f 7420 656e 645f       if not end_
+0001db90: 7175 6f74 655f 6368 6172 3a0a 2020 2020  quote_char:.    
+0001dba0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001dbb0: 6520 5661 6c75 6545 7272 6f72 2822 656e  e ValueError("en
+0001dbc0: 645f 7175 6f74 655f 6368 6172 2063 616e  d_quote_char can
+0001dbd0: 6e6f 7420 6265 2074 6865 2065 6d70 7479  not be the empty
+0001dbe0: 2073 7472 696e 6722 290a 0a20 2020 2020   string")..     
+0001dbf0: 2020 2073 656c 662e 7175 6f74 655f 6368     self.quote_ch
+0001dc00: 6172 3a20 7374 7220 3d20 7175 6f74 655f  ar: str = quote_
+0001dc10: 6368 6172 0a20 2020 2020 2020 2073 656c  char.        sel
+0001dc20: 662e 7175 6f74 655f 6368 6172 5f6c 656e  f.quote_char_len
+0001dc30: 3a20 696e 7420 3d20 6c65 6e28 7175 6f74  : int = len(quot
+0001dc40: 655f 6368 6172 290a 2020 2020 2020 2020  e_char).        
+0001dc50: 7365 6c66 2e66 6972 7374 5f71 756f 7465  self.first_quote
+0001dc60: 5f63 6861 723a 2073 7472 203d 2071 756f  _char: str = quo
+0001dc70: 7465 5f63 6861 725b 305d 0a20 2020 2020  te_char[0].     
+0001dc80: 2020 2073 656c 662e 656e 645f 7175 6f74     self.end_quot
+0001dc90: 655f 6368 6172 3a20 7374 7220 3d20 656e  e_char: str = en
+0001dca0: 645f 7175 6f74 655f 6368 6172 0a20 2020  d_quote_char.   
+0001dcb0: 2020 2020 2073 656c 662e 656e 645f 7175       self.end_qu
+0001dcc0: 6f74 655f 6368 6172 5f6c 656e 3a20 696e  ote_char_len: in
+0001dcd0: 7420 3d20 6c65 6e28 656e 645f 7175 6f74  t = len(end_quot
+0001dce0: 655f 6368 6172 290a 2020 2020 2020 2020  e_char).        
+0001dcf0: 7365 6c66 2e65 7363 5f63 6861 723a 2073  self.esc_char: s
+0001dd00: 7472 203d 2065 7363 5f63 6861 7220 6f72  tr = esc_char or
+0001dd10: 2022 220a 2020 2020 2020 2020 7365 6c66   "".        self
+0001dd20: 2e68 6173 5f65 7363 5f63 6861 723a 2062  .has_esc_char: b
+0001dd30: 6f6f 6c20 3d20 6573 635f 6368 6172 2069  ool = esc_char i
+0001dd40: 7320 6e6f 7420 4e6f 6e65 0a20 2020 2020  s not None.     
+0001dd50: 2020 2073 656c 662e 6573 635f 7175 6f74     self.esc_quot
+0001dd60: 653a 2073 7472 203d 2065 7363 5f71 756f  e: str = esc_quo
+0001dd70: 7465 206f 7220 2222 0a20 2020 2020 2020  te or "".       
+0001dd80: 2073 656c 662e 756e 7175 6f74 655f 7265   self.unquote_re
+0001dd90: 7375 6c74 733a 2062 6f6f 6c20 3d20 756e  sults: bool = un
+0001dda0: 7175 6f74 655f 7265 7375 6c74 730a 2020  quote_results.  
+0001ddb0: 2020 2020 2020 7365 6c66 2e63 6f6e 7665        self.conve
+0001ddc0: 7274 5f77 6869 7465 7370 6163 655f 6573  rt_whitespace_es
+0001ddd0: 6361 7065 733a 2062 6f6f 6c20 3d20 636f  capes: bool = co
+0001dde0: 6e76 6572 745f 7768 6974 6573 7061 6365  nvert_whitespace
+0001ddf0: 5f65 7363 6170 6573 0a20 2020 2020 2020  _escapes.       
+0001de00: 2073 656c 662e 6d75 6c74 696c 696e 6520   self.multiline 
+0001de10: 3d20 6d75 6c74 696c 696e 650a 2020 2020  = multiline.    
+0001de20: 2020 2020 7365 6c66 2e72 655f 666c 6167      self.re_flag
+0001de30: 7320 3d20 7265 2e52 6567 6578 466c 6167  s = re.RegexFlag
+0001de40: 2830 290a 0a20 2020 2020 2020 2023 2066  (0)..        # f
+0001de50: 6d74 3a20 6f66 660a 2020 2020 2020 2020  mt: off.        
+0001de60: 2320 6275 696c 6420 7570 2072 6520 7061  # build up re pa
+0001de70: 7474 6572 6e20 666f 7220 7468 6520 636f  ttern for the co
+0001de80: 6e74 656e 7420 6265 7477 6565 6e20 7468  ntent between th
+0001de90: 6520 7175 6f74 6520 6465 6c69 6d69 7465  e quote delimite
+0001dea0: 7273 0a20 2020 2020 2020 2069 6e6e 6572  rs.        inner
+0001deb0: 5f70 6174 7465 726e 203d 205b 5d0a 0a20  _pattern = [].. 
+0001dec0: 2020 2020 2020 2069 6620 6573 635f 7175         if esc_qu
+0001ded0: 6f74 653a 0a20 2020 2020 2020 2020 2020  ote:.           
+0001dee0: 2069 6e6e 6572 5f70 6174 7465 726e 2e61   inner_pattern.a
+0001def0: 7070 656e 6428 7266 2228 3f3a 7b72 652e  ppend(rf"(?:{re.
+0001df00: 6573 6361 7065 2865 7363 5f71 756f 7465  escape(esc_quote
+0001df10: 297d 2922 290a 0a20 2020 2020 2020 2069  )})")..        i
+0001df20: 6620 6573 635f 6368 6172 3a0a 2020 2020  f esc_char:.    
+0001df30: 2020 2020 2020 2020 696e 6e65 725f 7061          inner_pa
+0001df40: 7474 6572 6e2e 6170 7065 6e64 2872 6622  ttern.append(rf"
+0001df50: 283f 3a7b 7265 2e65 7363 6170 6528 6573  (?:{re.escape(es
+0001df60: 635f 6368 6172 297d 2e29 2229 0a0a 2020  c_char)}.)")..  
+0001df70: 2020 2020 2020 6966 206c 656e 2873 656c        if len(sel
+0001df80: 662e 656e 645f 7175 6f74 655f 6368 6172  f.end_quote_char
+0001df90: 2920 3e20 313a 0a20 2020 2020 2020 2020  ) > 1:.         
+0001dfa0: 2020 2069 6e6e 6572 5f70 6174 7465 726e     inner_pattern
+0001dfb0: 2e61 7070 656e 6428 0a20 2020 2020 2020  .append(.       
+0001dfc0: 2020 2020 2020 2020 2022 283f 3a22 0a20           "(?:". 
+0001dfd0: 2020 2020 2020 2020 2020 2020 2020 202b                 +
+0001dfe0: 2022 7c22 2e6a 6f69 6e28 0a20 2020 2020   "|".join(.     
+0001dff0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0001e000: 2228 3f3a 7b72 652e 6573 6361 7065 2873  "(?:{re.escape(s
+0001e010: 656c 662e 656e 645f 7175 6f74 655f 6368  elf.end_quote_ch
+0001e020: 6172 5b3a 695d 297d 283f 217b 7265 2e65  ar[:i])}(?!{re.e
+0001e030: 7363 6170 6528 7365 6c66 2e65 6e64 5f71  scape(self.end_q
+0001e040: 756f 7465 5f63 6861 725b 693a 5d29 7d29  uote_char[i:])})
+0001e050: 2922 0a20 2020 2020 2020 2020 2020 2020  )".             
+0001e060: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+0001e070: 7261 6e67 6528 6c65 6e28 7365 6c66 2e65  range(len(self.e
+0001e080: 6e64 5f71 756f 7465 5f63 6861 7229 202d  nd_quote_char) -
+0001e090: 2031 2c20 302c 202d 3129 0a20 2020 2020   1, 0, -1).     
+0001e0a0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0001e0b0: 2020 2020 2020 2020 2020 2020 202b 2022               + "
+0001e0c0: 2922 0a20 2020 2020 2020 2020 2020 2029  )".            )
+0001e0d0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
+0001e0e0: 662e 6d75 6c74 696c 696e 653a 0a20 2020  f.multiline:.   
+0001e0f0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+0001e100: 5f66 6c61 6773 207c 3d20 7265 2e4d 554c  _flags |= re.MUL
+0001e110: 5449 4c49 4e45 207c 2072 652e 444f 5441  TILINE | re.DOTA
+0001e120: 4c4c 0a20 2020 2020 2020 2020 2020 2069  LL.            i
+0001e130: 6e6e 6572 5f70 6174 7465 726e 2e61 7070  nner_pattern.app
+0001e140: 656e 6428 0a20 2020 2020 2020 2020 2020  end(.           
+0001e150: 2020 2020 2072 6622 283f 3a5b 5e7b 5f65       rf"(?:[^{_e
+0001e160: 7363 6170 655f 7265 6765 785f 7261 6e67  scape_regex_rang
+0001e170: 655f 6368 6172 7328 7365 6c66 2e65 6e64  e_chars(self.end
+0001e180: 5f71 756f 7465 5f63 6861 725b 305d 297d  _quote_char[0])}
+0001e190: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0001e1a0: 2020 7266 227b 285f 6573 6361 7065 5f72    rf"{(_escape_r
+0001e1b0: 6567 6578 5f72 616e 6765 5f63 6861 7273  egex_range_chars
+0001e1c0: 2865 7363 5f63 6861 7229 2069 6620 7365  (esc_char) if se
+0001e1d0: 6c66 2e68 6173 5f65 7363 5f63 6861 7220  lf.has_esc_char 
+0001e1e0: 656c 7365 2027 2729 7d5d 2922 0a20 2020  else '')}])".   
+0001e1f0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0001e200: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001e210: 2020 2020 2069 6e6e 6572 5f70 6174 7465       inner_patte
+0001e220: 726e 2e61 7070 656e 6428 0a20 2020 2020  rn.append(.     
+0001e230: 2020 2020 2020 2020 2020 2072 6622 283f             rf"(?
+0001e240: 3a5b 5e7b 5f65 7363 6170 655f 7265 6765  :[^{_escape_rege
+0001e250: 785f 7261 6e67 655f 6368 6172 7328 7365  x_range_chars(se
+0001e260: 6c66 2e65 6e64 5f71 756f 7465 5f63 6861  lf.end_quote_cha
+0001e270: 725b 305d 297d 5c6e 5c72 220a 2020 2020  r[0])}\n\r".    
+0001e280: 2020 2020 2020 2020 2020 2020 7266 227b              rf"{
+0001e290: 285f 6573 6361 7065 5f72 6567 6578 5f72  (_escape_regex_r
+0001e2a0: 616e 6765 5f63 6861 7273 2865 7363 5f63  ange_chars(esc_c
+0001e2b0: 6861 7229 2069 6620 7365 6c66 2e68 6173  har) if self.has
+0001e2c0: 5f65 7363 5f63 6861 7220 656c 7365 2027  _esc_char else '
+0001e2d0: 2729 7d5d 2922 0a20 2020 2020 2020 2020  ')}])".         
+0001e2e0: 2020 2029 0a0a 2020 2020 2020 2020 7365     )..        se
+0001e2f0: 6c66 2e70 6174 7465 726e 203d 2022 222e  lf.pattern = "".
+0001e300: 6a6f 696e 280a 2020 2020 2020 2020 2020  join(.          
+0001e310: 2020 5b0a 2020 2020 2020 2020 2020 2020    [.            
+0001e320: 2020 2020 7265 2e65 7363 6170 6528 7365      re.escape(se
+0001e330: 6c66 2e71 756f 7465 5f63 6861 7229 2c0a  lf.quote_char),.
+0001e340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e350: 2228 3f3a 222c 0a20 2020 2020 2020 2020  "(?:",.         
+0001e360: 2020 2020 2020 2027 7c27 2e6a 6f69 6e28         '|'.join(
+0001e370: 696e 6e65 725f 7061 7474 6572 6e29 2c0a  inner_pattern),.
+0001e380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e390: 2229 2a22 2c0a 2020 2020 2020 2020 2020  ")*",.          
+0001e3a0: 2020 2020 2020 7265 2e65 7363 6170 6528        re.escape(
+0001e3b0: 7365 6c66 2e65 6e64 5f71 756f 7465 5f63  self.end_quote_c
+0001e3c0: 6861 7229 2c0a 2020 2020 2020 2020 2020  har),.          
+0001e3d0: 2020 5d0a 2020 2020 2020 2020 290a 0a20    ].        ).. 
+0001e3e0: 2020 2020 2020 2069 6620 7365 6c66 2e75         if self.u
+0001e3f0: 6e71 756f 7465 5f72 6573 756c 7473 3a0a  nquote_results:.
+0001e400: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0001e410: 656c 662e 636f 6e76 6572 745f 7768 6974  elf.convert_whit
+0001e420: 6573 7061 6365 5f65 7363 6170 6573 3a0a  espace_escapes:.
+0001e430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e440: 7365 6c66 2e75 6e71 756f 7465 5f73 6361  self.unquote_sca
+0001e450: 6e5f 7265 203d 2072 652e 636f 6d70 696c  n_re = re.compil
+0001e460: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
+0001e470: 2020 2020 2020 2072 6622 287b 277c 272e         rf"({'|'.
+0001e480: 6a6f 696e 2872 652e 6573 6361 7065 286b  join(re.escape(k
+0001e490: 2920 666f 7220 6b20 696e 2073 656c 662e  ) for k in self.
+0001e4a0: 7773 5f6d 6170 297d 2922 0a20 2020 2020  ws_map)})".     
+0001e4b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001e4c0: 6622 7c28 7b72 652e 6573 6361 7065 2873  f"|({re.escape(s
+0001e4d0: 656c 662e 6573 635f 6368 6172 297d 2e29  elf.esc_char)}.)
+0001e4e0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0001e4f0: 2020 2020 2020 7266 227c 285c 6e7c 2e29        rf"|(\n|.)
+0001e500: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0001e510: 2020 2020 2020 2066 6c61 6773 3d73 656c         flags=sel
+0001e520: 662e 7265 5f66 6c61 6773 2c0a 2020 2020  f.re_flags,.    
+0001e530: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+0001e540: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0001e550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e560: 7365 6c66 2e75 6e71 756f 7465 5f73 6361  self.unquote_sca
+0001e570: 6e5f 7265 203d 2072 652e 636f 6d70 696c  n_re = re.compil
+0001e580: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
+0001e590: 2020 2020 2020 2072 6622 287b 7265 2e65         rf"({re.e
+0001e5a0: 7363 6170 6528 7365 6c66 2e65 7363 5f63  scape(self.esc_c
+0001e5b0: 6861 7229 7d2e 2922 0a20 2020 2020 2020  har)}.)".       
+0001e5c0: 2020 2020 2020 2020 2020 2020 2072 6622               rf"
+0001e5d0: 7c28 5c6e 7c2e 2922 2c0a 2020 2020 2020  |(\n|.)",.      
+0001e5e0: 2020 2020 2020 2020 2020 2020 2020 666c                fl
+0001e5f0: 6167 733d 7365 6c66 2e72 655f 666c 6167  ags=self.re_flag
+0001e600: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+0001e610: 2020 290a 2020 2020 2020 2020 2320 666d    ).        # fm
+0001e620: 743a 206f 6e0a 0a20 2020 2020 2020 2074  t: on..        t
+0001e630: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0001e640: 7365 6c66 2e72 6520 3d20 7265 2e63 6f6d  self.re = re.com
+0001e650: 7069 6c65 2873 656c 662e 7061 7474 6572  pile(self.patter
+0001e660: 6e2c 2073 656c 662e 7265 5f66 6c61 6773  n, self.re_flags
+0001e670: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0001e680: 6c66 2e72 6553 7472 696e 6720 3d20 7365  lf.reString = se
+0001e690: 6c66 2e70 6174 7465 726e 0a20 2020 2020  lf.pattern.     
+0001e6a0: 2020 2020 2020 2073 656c 662e 7265 5f6d         self.re_m
+0001e6b0: 6174 6368 203d 2073 656c 662e 7265 2e6d  atch = self.re.m
+0001e6c0: 6174 6368 0a20 2020 2020 2020 2065 7863  atch.        exc
+0001e6d0: 6570 7420 7265 2e65 7272 6f72 3a0a 2020  ept re.error:.  
+0001e6e0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0001e6f0: 5661 6c75 6545 7272 6f72 2866 2269 6e76  ValueError(f"inv
+0001e700: 616c 6964 2070 6174 7465 726e 207b 7365  alid pattern {se
+0001e710: 6c66 2e70 6174 7465 726e 2172 7d20 7061  lf.pattern!r} pa
+0001e720: 7373 6564 2074 6f20 5265 6765 7822 290a  ssed to Regex").
+0001e730: 0a20 2020 2020 2020 2073 656c 662e 6572  .        self.er
+0001e740: 726d 7367 203d 2022 4578 7065 6374 6564  rmsg = "Expected
+0001e750: 2022 202b 2073 656c 662e 6e61 6d65 0a20   " + self.name. 
+0001e760: 2020 2020 2020 2073 656c 662e 6d61 7949         self.mayI
+0001e770: 6e64 6578 4572 726f 7220 3d20 4661 6c73  ndexError = Fals
+0001e780: 650a 2020 2020 2020 2020 7365 6c66 2e6d  e.        self.m
+0001e790: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
+0001e7a0: 5472 7565 0a0a 2020 2020 6465 6620 5f67  True..    def _g
+0001e7b0: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
+0001e7c0: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
+0001e7d0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001e7e0: 2e71 756f 7465 5f63 6861 7220 3d3d 2073  .quote_char == s
+0001e7f0: 656c 662e 656e 645f 7175 6f74 655f 6368  elf.end_quote_ch
+0001e800: 6172 2061 6e64 2069 7369 6e73 7461 6e63  ar and isinstanc
+0001e810: 6528 0a20 2020 2020 2020 2020 2020 2073  e(.            s
+0001e820: 656c 662e 7175 6f74 655f 6368 6172 2c20  elf.quote_char, 
+0001e830: 7374 725f 7479 7065 0a20 2020 2020 2020  str_type.       
+0001e840: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+0001e850: 7265 7475 726e 2066 2273 7472 696e 6720  return f"string 
+0001e860: 656e 636c 6f73 6564 2069 6e20 7b73 656c  enclosed in {sel
+0001e870: 662e 7175 6f74 655f 6368 6172 2172 7d22  f.quote_char!r}"
+0001e880: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0001e890: 2066 2271 756f 7465 6420 7374 7269 6e67   f"quoted string
+0001e8a0: 2c20 7374 6172 7469 6e67 2077 6974 6820  , starting with 
+0001e8b0: 7b73 656c 662e 7175 6f74 655f 6368 6172  {self.quote_char
+0001e8c0: 7d20 656e 6469 6e67 2077 6974 6820 7b73  } ending with {s
+0001e8d0: 656c 662e 656e 645f 7175 6f74 655f 6368  elf.end_quote_ch
+0001e8e0: 6172 7d22 0a0a 2020 2020 6465 6620 7061  ar}"..    def pa
+0001e8f0: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
+0001e900: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
+0001e910: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
+0001e920: 2020 2020 2020 2320 6368 6563 6b20 6669        # check fi
+0001e930: 7273 7420 6368 6172 6163 7465 7220 6f66  rst character of
+0001e940: 206f 7065 6e69 6e67 2071 756f 7465 2074   opening quote t
+0001e950: 6f20 7365 6520 6966 2074 6861 7420 6973  o see if that is
+0001e960: 2061 206d 6174 6368 0a20 2020 2020 2020   a match.       
+0001e970: 2023 2062 6566 6f72 6520 646f 696e 6720   # before doing 
+0001e980: 7468 6520 6d6f 7265 2063 6f6d 706c 6963  the more complic
+0001e990: 6174 6564 2072 6567 6578 206d 6174 6368  ated regex match
+0001e9a0: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
+0001e9b0: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
+0001e9c0: 696e 7374 7269 6e67 5b6c 6f63 5d20 3d3d  instring[loc] ==
+0001e9d0: 2073 656c 662e 6669 7273 745f 7175 6f74   self.first_quot
+0001e9e0: 655f 6368 6172 0a20 2020 2020 2020 2020  e_char.         
+0001e9f0: 2020 2061 6e64 2073 656c 662e 7265 5f6d     and self.re_m
+0001ea00: 6174 6368 2869 6e73 7472 696e 672c 206c  atch(instring, l
+0001ea10: 6f63 290a 2020 2020 2020 2020 2020 2020  oc).            
+0001ea20: 6f72 204e 6f6e 650a 2020 2020 2020 2020  or None.        
+0001ea30: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
+0001ea40: 2072 6573 756c 743a 0a20 2020 2020 2020   result:.       
+0001ea50: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
+0001ea60: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
+0001ea70: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
+0001ea80: 726d 7367 2c20 7365 6c66 290a 0a20 2020  rmsg, self)..   
+0001ea90: 2020 2020 2023 2067 6574 2065 6e64 696e       # get endin
+0001eaa0: 6720 6c6f 6320 616e 6420 6d61 7463 6865  g loc and matche
+0001eab0: 6420 7374 7269 6e67 2066 726f 6d20 7265  d string from re
+0001eac0: 6765 7820 6d61 7463 6869 6e67 2072 6573  gex matching res
+0001ead0: 756c 740a 2020 2020 2020 2020 6c6f 6320  ult.        loc 
+0001eae0: 3d20 7265 7375 6c74 2e65 6e64 2829 0a20  = result.end(). 
+0001eaf0: 2020 2020 2020 2072 6574 203d 2072 6573         ret = res
+0001eb00: 756c 742e 6772 6f75 7028 290a 0a20 2020  ult.group()..   
+0001eb10: 2020 2020 2069 6620 7365 6c66 2e75 6e71       if self.unq
+0001eb20: 756f 7465 5f72 6573 756c 7473 3a0a 2020  uote_results:.  
+0001eb30: 2020 2020 2020 2020 2020 2320 7374 7269            # stri
+0001eb40: 7020 6f66 6620 7175 6f74 6573 0a20 2020  p off quotes.   
+0001eb50: 2020 2020 2020 2020 2072 6574 203d 2072           ret = r
+0001eb60: 6574 5b73 656c 662e 7175 6f74 655f 6368  et[self.quote_ch
+0001eb70: 6172 5f6c 656e 203a 202d 7365 6c66 2e65  ar_len : -self.e
+0001eb80: 6e64 5f71 756f 7465 5f63 6861 725f 6c65  nd_quote_char_le
+0001eb90: 6e5d 0a0a 2020 2020 2020 2020 2020 2020  n]..            
+0001eba0: 6966 2069 7369 6e73 7461 6e63 6528 7265  if isinstance(re
+0001ebb0: 742c 2073 7472 5f74 7970 6529 3a0a 2020  t, str_type):.  
+0001ebc0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0001ebd0: 666d 743a 206f 6666 0a20 2020 2020 2020  fmt: off.       
+0001ebe0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+0001ebf0: 2e63 6f6e 7665 7274 5f77 6869 7465 7370  .convert_whitesp
+0001ec00: 6163 655f 6573 6361 7065 733a 0a20 2020  ace_escapes:.   
+0001ec10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ec20: 2023 2061 7320 7765 2069 7465 7261 7465   # as we iterate
+0001ec30: 206f 7665 7220 6d61 7463 6865 7320 696e   over matches in
+0001ec40: 2074 6865 2069 6e70 7574 2073 7472 696e   the input strin
+0001ec50: 672c 0a20 2020 2020 2020 2020 2020 2020  g,.             
+0001ec60: 2020 2020 2020 2023 2063 6f6c 6c65 6374         # collect
+0001ec70: 2066 726f 6d20 7768 6963 6865 7665 7220   from whichever 
+0001ec80: 6d61 7463 6820 6772 6f75 7020 6f66 2074  match group of t
+0001ec90: 6865 2075 6e71 756f 7465 5f73 6361 6e5f  he unquote_scan_
+0001eca0: 7265 0a20 2020 2020 2020 2020 2020 2020  re.             
+0001ecb0: 2020 2020 2020 2023 2072 6567 6578 206d         # regex m
+0001ecc0: 6174 6368 6573 2028 6f6e 6c79 2031 2067  atches (only 1 g
+0001ecd0: 726f 7570 2077 696c 6c20 6d61 7463 6820  roup will match 
+0001ece0: 6174 2061 6e79 2067 6976 656e 2074 696d  at any given tim
+0001ecf0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+0001ed00: 2020 2020 2020 2072 6574 203d 2022 222e         ret = "".
+0001ed10: 6a6f 696e 280a 2020 2020 2020 2020 2020  join(.          
+0001ed20: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0001ed30: 6d61 7463 6820 6772 6f75 7020 3120 6d61  match group 1 ma
+0001ed40: 7463 6865 7320 5c74 2c20 5c6e 2c20 6574  tches \t, \n, et
+0001ed50: 632e 0a20 2020 2020 2020 2020 2020 2020  c..             
+0001ed60: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001ed70: 7773 5f6d 6170 5b6d 6174 6368 2e67 726f  ws_map[match.gro
+0001ed80: 7570 2831 295d 2069 6620 6d61 7463 682e  up(1)] if match.
+0001ed90: 6772 6f75 7028 3129 0a20 2020 2020 2020  group(1).       
+0001eda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001edb0: 2023 206d 6174 6368 2067 726f 7570 2032   # match group 2
+0001edc0: 206d 6174 6368 6573 2065 7363 6170 6564   matches escaped
+0001edd0: 2063 6861 7261 6374 6572 730a 2020 2020   characters.    
+0001ede0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001edf0: 2020 2020 656c 7365 206d 6174 6368 2e67      else match.g
+0001ee00: 726f 7570 2832 295b 2d31 5d20 6966 206d  roup(2)[-1] if m
+0001ee10: 6174 6368 2e67 726f 7570 2832 290a 2020  atch.group(2).  
+0001ee20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ee30: 2020 2020 2020 2320 6d61 7463 6820 6772        # match gr
+0001ee40: 6f75 7020 3320 6d61 7463 6865 7320 616e  oup 3 matches an
+0001ee50: 7920 6368 6172 6163 7465 720a 2020 2020  y character.    
+0001ee60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ee70: 2020 2020 656c 7365 206d 6174 6368 2e67      else match.g
+0001ee80: 726f 7570 2833 290a 2020 2020 2020 2020  roup(3).        
+0001ee90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eea0: 666f 7220 6d61 7463 6820 696e 2073 656c  for match in sel
+0001eeb0: 662e 756e 7175 6f74 655f 7363 616e 5f72  f.unquote_scan_r
+0001eec0: 652e 6669 6e64 6974 6572 2872 6574 290a  e.finditer(ret).
+0001eed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eee0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+0001eef0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001ef00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ef10: 7265 7420 3d20 2222 2e6a 6f69 6e28 0a20  ret = "".join(. 
+0001ef20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ef30: 2020 2020 2020 2023 206d 6174 6368 2067         # match g
+0001ef40: 726f 7570 2031 206d 6174 6368 6573 2065  roup 1 matches e
+0001ef50: 7363 6170 6564 2063 6861 7261 6374 6572  scaped character
+0001ef60: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+0001ef70: 2020 2020 2020 2020 2020 6d61 7463 682e            match.
+0001ef80: 6772 6f75 7028 3129 5b2d 315d 2069 6620  group(1)[-1] if 
+0001ef90: 6d61 7463 682e 6772 6f75 7028 3129 0a20  match.group(1). 
+0001efa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001efb0: 2020 2020 2020 2023 206d 6174 6368 2067         # match g
+0001efc0: 726f 7570 2032 206d 6174 6368 6573 2061  roup 2 matches a
+0001efd0: 6e79 2063 6861 7261 6374 6572 0a20 2020  ny character.   
+0001efe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eff0: 2020 2020 2065 6c73 6520 6d61 7463 682e       else match.
+0001f000: 6772 6f75 7028 3229 0a20 2020 2020 2020  group(2).       
+0001f010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f020: 2066 6f72 206d 6174 6368 2069 6e20 7365   for match in se
+0001f030: 6c66 2e75 6e71 756f 7465 5f73 6361 6e5f  lf.unquote_scan_
+0001f040: 7265 2e66 696e 6469 7465 7228 7265 7429  re.finditer(ret)
+0001f050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001f060: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+0001f070: 2020 2020 2020 2023 2066 6d74 3a20 6f6e         # fmt: on
+0001f080: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001f090: 2020 2320 7265 706c 6163 6520 6573 6361    # replace esca
+0001f0a0: 7065 6420 7175 6f74 6573 0a20 2020 2020  ped quotes.     
+0001f0b0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+0001f0c0: 6c66 2e65 7363 5f71 756f 7465 3a0a 2020  lf.esc_quote:.  
+0001f0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f0e0: 2020 7265 7420 3d20 7265 742e 7265 706c    ret = ret.repl
+0001f0f0: 6163 6528 7365 6c66 2e65 7363 5f71 756f  ace(self.esc_quo
+0001f100: 7465 2c20 7365 6c66 2e65 6e64 5f71 756f  te, self.end_quo
+0001f110: 7465 5f63 6861 7229 0a0a 2020 2020 2020  te_char)..      
+0001f120: 2020 7265 7475 726e 206c 6f63 2c20 7265    return loc, re
+0001f130: 740a 0a0a 636c 6173 7320 4368 6172 734e  t...class CharsN
+0001f140: 6f74 496e 2854 6f6b 656e 293a 0a20 2020  otIn(Token):.   
+0001f150: 2022 2222 546f 6b65 6e20 666f 7220 6d61   """Token for ma
+0001f160: 7463 6869 6e67 2077 6f72 6473 2063 6f6d  tching words com
+0001f170: 706f 7365 6420 6f66 2063 6861 7261 6374  posed of charact
+0001f180: 6572 7320 2a6e 6f74 2a20 696e 2061 2067  ers *not* in a g
+0001f190: 6976 656e 0a20 2020 2073 6574 2028 7769  iven.    set (wi
+0001f1a0: 6c6c 2069 6e63 6c75 6465 2077 6869 7465  ll include white
+0001f1b0: 7370 6163 6520 696e 206d 6174 6368 6564  space in matched
+0001f1c0: 2063 6861 7261 6374 6572 7320 6966 206e   characters if n
+0001f1d0: 6f74 206c 6973 7465 6420 696e 0a20 2020  ot listed in.   
+0001f1e0: 2074 6865 2070 726f 7669 6465 6420 6578   the provided ex
+0001f1f0: 636c 7573 696f 6e20 7365 7420 2d20 7365  clusion set - se
+0001f200: 6520 6578 616d 706c 6529 2e20 4465 6669  e example). Defi
+0001f210: 6e65 6420 7769 7468 2073 7472 696e 670a  ned with string.
+0001f220: 2020 2020 636f 6e74 6169 6e69 6e67 2061      containing a
+0001f230: 6c6c 2064 6973 616c 6c6f 7765 6420 6368  ll disallowed ch
+0001f240: 6172 6163 7465 7273 2c20 616e 6420 616e  aracters, and an
+0001f250: 206f 7074 696f 6e61 6c20 6d69 6e69 6d75   optional minimu
+0001f260: 6d2c 0a20 2020 206d 6178 696d 756d 2c20  m,.    maximum, 
+0001f270: 616e 642f 6f72 2065 7861 6374 206c 656e  and/or exact len
+0001f280: 6774 682e 2020 5468 6520 6465 6661 756c  gth.  The defaul
+0001f290: 7420 7661 6c75 6520 666f 7220 6060 6d69  t value for ``mi
+0001f2a0: 6e60 6020 6973 0a20 2020 2031 2028 6120  n`` is.    1 (a 
+0001f2b0: 6d69 6e69 6d75 6d20 7661 6c75 6520 3c20  minimum value < 
+0001f2c0: 3120 6973 206e 6f74 2076 616c 6964 293b  1 is not valid);
+0001f2d0: 2074 6865 2064 6566 6175 6c74 2076 616c   the default val
+0001f2e0: 7565 7320 666f 720a 2020 2020 6060 6d61  ues for.    ``ma
+0001f2f0: 7860 6020 616e 6420 6060 6578 6163 7460  x`` and ``exact`
+0001f300: 6020 6172 6520 302c 206d 6561 6e69 6e67  ` are 0, meaning
+0001f310: 206e 6f20 6d61 7869 6d75 6d20 6f72 2065   no maximum or e
+0001f320: 7861 6374 0a20 2020 206c 656e 6774 6820  xact.    length 
+0001f330: 7265 7374 7269 6374 696f 6e2e 0a0a 2020  restriction...  
+0001f340: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+0001f350: 2020 2020 2023 2064 6566 696e 6520 6120       # define a 
+0001f360: 636f 6d6d 612d 7365 7061 7261 7465 642d  comma-separated-
+0001f370: 7661 6c75 6520 6173 2061 6e79 7468 696e  value as anythin
+0001f380: 6720 7468 6174 2069 7320 6e6f 7420 6120  g that is not a 
+0001f390: 272c 270a 2020 2020 2020 2020 6373 765f  ','.        csv_
+0001f3a0: 7661 6c75 6520 3d20 4368 6172 734e 6f74  value = CharsNot
+0001f3b0: 496e 2827 2c27 290a 2020 2020 2020 2020  In(',').        
+0001f3c0: 7072 696e 7428 4465 6c69 6d69 7465 644c  print(DelimitedL
+0001f3d0: 6973 7428 6373 765f 7661 6c75 6529 2e70  ist(csv_value).p
+0001f3e0: 6172 7365 5f73 7472 696e 6728 2264 6b6c  arse_string("dkl
+0001f3f0: 732c 6c73 646b 6a66 2c73 3132 2033 342c  s,lsdkjf,s12 34,
+0001f400: 4021 232c 3231 3322 2929 0a0a 2020 2020  @!#,213"))..    
+0001f410: 7072 696e 7473 3a3a 0a0a 2020 2020 2020  prints::..      
+0001f420: 2020 5b27 646b 6c73 272c 2027 6c73 646b    ['dkls', 'lsdk
+0001f430: 6a66 272c 2027 7331 3220 3334 272c 2027  jf', 's12 34', '
+0001f440: 4021 2327 2c20 2732 3133 275d 0a20 2020  @!#', '213'].   
+0001f450: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
+0001f460: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
+0001f470: 7365 6c66 2c0a 2020 2020 2020 2020 6e6f  self,.        no
+0001f480: 745f 6368 6172 733a 2073 7472 203d 2022  t_chars: str = "
+0001f490: 222c 0a20 2020 2020 2020 206d 696e 3a20  ",.        min: 
+0001f4a0: 696e 7420 3d20 312c 0a20 2020 2020 2020  int = 1,.       
+0001f4b0: 206d 6178 3a20 696e 7420 3d20 302c 0a20   max: int = 0,. 
+0001f4c0: 2020 2020 2020 2065 7861 6374 3a20 696e         exact: in
+0001f4d0: 7420 3d20 302c 0a20 2020 2020 2020 202a  t = 0,.        *
+0001f4e0: 2c0a 2020 2020 2020 2020 6e6f 7443 6861  ,.        notCha
+0001f4f0: 7273 3a20 7374 7220 3d20 2222 2c0a 2020  rs: str = "",.  
+0001f500: 2020 293a 0a20 2020 2020 2020 2073 7570    ):.        sup
+0001f510: 6572 2829 2e5f 5f69 6e69 745f 5f28 290a  er().__init__().
+0001f520: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
+0001f530: 7057 6869 7465 7370 6163 6520 3d20 4661  pWhitespace = Fa
+0001f540: 6c73 650a 2020 2020 2020 2020 7365 6c66  lse.        self
+0001f550: 2e6e 6f74 4368 6172 7320 3d20 6e6f 745f  .notChars = not_
+0001f560: 6368 6172 7320 6f72 206e 6f74 4368 6172  chars or notChar
+0001f570: 730a 2020 2020 2020 2020 7365 6c66 2e6e  s.        self.n
+0001f580: 6f74 4368 6172 7353 6574 203d 2073 6574  otCharsSet = set
+0001f590: 2873 656c 662e 6e6f 7443 6861 7273 290a  (self.notChars).
+0001f5a0: 0a20 2020 2020 2020 2069 6620 6d69 6e20  .        if min 
+0001f5b0: 3c20 313a 0a20 2020 2020 2020 2020 2020  < 1:.           
+0001f5c0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+0001f5d0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
+0001f5e0: 2020 2022 6361 6e6e 6f74 2073 7065 6369     "cannot speci
+0001f5f0: 6679 2061 206d 696e 696d 756d 206c 656e  fy a minimum len
+0001f600: 6774 6820 3c20 313b 2075 7365 2022 0a20  gth < 1; use ". 
+0001f610: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001f620: 4f70 7428 4368 6172 734e 6f74 496e 2829  Opt(CharsNotIn()
+0001f630: 2920 6966 207a 6572 6f2d 6c65 6e67 7468  ) if zero-length
+0001f640: 2063 6861 7220 6772 6f75 7020 6973 2070   char group is p
+0001f650: 6572 6d69 7474 6564 220a 2020 2020 2020  ermitted".      
+0001f660: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+0001f670: 2073 656c 662e 6d69 6e4c 656e 203d 206d   self.minLen = m
+0001f680: 696e 0a0a 2020 2020 2020 2020 6966 206d  in..        if m
+0001f690: 6178 203e 2030 3a0a 2020 2020 2020 2020  ax > 0:.        
+0001f6a0: 2020 2020 7365 6c66 2e6d 6178 4c65 6e20      self.maxLen 
+0001f6b0: 3d20 6d61 780a 2020 2020 2020 2020 656c  = max.        el
+0001f6c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001f6d0: 7365 6c66 2e6d 6178 4c65 6e20 3d20 5f4d  self.maxLen = _M
+0001f6e0: 4158 5f49 4e54 0a0a 2020 2020 2020 2020  AX_INT..        
+0001f6f0: 6966 2065 7861 6374 203e 2030 3a0a 2020  if exact > 0:.  
+0001f700: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001f710: 6178 4c65 6e20 3d20 6578 6163 740a 2020  axLen = exact.  
+0001f720: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001f730: 696e 4c65 6e20 3d20 6578 6163 740a 0a20  inLen = exact.. 
+0001f740: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
+0001f750: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
+0001f760: 202b 2073 656c 662e 6e61 6d65 0a20 2020   + self.name.   
+0001f770: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
+0001f780: 7572 6e45 6d70 7479 203d 2073 656c 662e  urnEmpty = self.
+0001f790: 6d69 6e4c 656e 203d 3d20 300a 2020 2020  minLen == 0.    
+0001f7a0: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
+0001f7b0: 7845 7272 6f72 203d 2046 616c 7365 0a0a  xError = False..
+0001f7c0: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
+0001f7d0: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
+0001f7e0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+0001f7f0: 2020 206e 6f74 5f63 6861 7273 5f73 7472     not_chars_str
+0001f800: 203d 205f 636f 6c6c 6170 7365 5f73 7472   = _collapse_str
+0001f810: 696e 675f 746f 5f72 616e 6765 7328 7365  ing_to_ranges(se
+0001f820: 6c66 2e6e 6f74 4368 6172 7329 0a20 2020  lf.notChars).   
+0001f830: 2020 2020 2069 6620 6c65 6e28 6e6f 745f       if len(not_
+0001f840: 6368 6172 735f 7374 7229 203e 2031 363a  chars_str) > 16:
+0001f850: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0001f860: 7572 6e20 6622 2157 3a28 7b73 656c 662e  urn f"!W:({self.
+0001f870: 6e6f 7443 6861 7273 5b3a 2031 3620 2d20  notChars[: 16 - 
+0001f880: 335d 7d2e 2e2e 2922 0a20 2020 2020 2020  3]}...)".       
+0001f890: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001f8a0: 2020 2072 6574 7572 6e20 6622 2157 3a28     return f"!W:(
+0001f8b0: 7b73 656c 662e 6e6f 7443 6861 7273 7d29  {self.notChars})
+0001f8c0: 220a 0a20 2020 2064 6566 2070 6172 7365  "..    def parse
+0001f8d0: 496d 706c 2873 656c 662c 2069 6e73 7472  Impl(self, instr
+0001f8e0: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
+0001f8f0: 6f6e 733d 5472 7565 293a 0a20 2020 2020  ons=True):.     
+0001f900: 2020 206e 6f74 6368 6172 7320 3d20 7365     notchars = se
+0001f910: 6c66 2e6e 6f74 4368 6172 7353 6574 0a20  lf.notCharsSet. 
+0001f920: 2020 2020 2020 2069 6620 696e 7374 7269         if instri
+0001f930: 6e67 5b6c 6f63 5d20 696e 206e 6f74 6368  ng[loc] in notch
+0001f940: 6172 733a 0a20 2020 2020 2020 2020 2020  ars:.           
+0001f950: 2072 6169 7365 2050 6172 7365 4578 6365   raise ParseExce
+0001f960: 7074 696f 6e28 696e 7374 7269 6e67 2c20  ption(instring, 
+0001f970: 6c6f 632c 2073 656c 662e 6572 726d 7367  loc, self.errmsg
+0001f980: 2c20 7365 6c66 290a 0a20 2020 2020 2020  , self)..       
+0001f990: 2073 7461 7274 203d 206c 6f63 0a20 2020   start = loc.   
+0001f9a0: 2020 2020 206c 6f63 202b 3d20 310a 2020       loc += 1.  
+0001f9b0: 2020 2020 2020 6d61 786c 656e 203d 206d        maxlen = m
+0001f9c0: 696e 2873 7461 7274 202b 2073 656c 662e  in(start + self.
+0001f9d0: 6d61 784c 656e 2c20 6c65 6e28 696e 7374  maxLen, len(inst
+0001f9e0: 7269 6e67 2929 0a20 2020 2020 2020 2077  ring)).        w
+0001f9f0: 6869 6c65 206c 6f63 203c 206d 6178 6c65  hile loc < maxle
+0001fa00: 6e20 616e 6420 696e 7374 7269 6e67 5b6c  n and instring[l
+0001fa10: 6f63 5d20 6e6f 7420 696e 206e 6f74 6368  oc] not in notch
+0001fa20: 6172 733a 0a20 2020 2020 2020 2020 2020  ars:.           
+0001fa30: 206c 6f63 202b 3d20 310a 0a20 2020 2020   loc += 1..     
+0001fa40: 2020 2069 6620 6c6f 6320 2d20 7374 6172     if loc - star
+0001fa50: 7420 3c20 7365 6c66 2e6d 696e 4c65 6e3a  t < self.minLen:
+0001fa60: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0001fa70: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
+0001fa80: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
+0001fa90: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
+0001faa0: 6c66 290a 0a20 2020 2020 2020 2072 6574  lf)..        ret
+0001fab0: 7572 6e20 6c6f 632c 2069 6e73 7472 696e  urn loc, instrin
+0001fac0: 675b 7374 6172 743a 6c6f 635d 0a0a 0a63  g[start:loc]...c
+0001fad0: 6c61 7373 2057 6869 7465 2854 6f6b 656e  lass White(Token
+0001fae0: 293a 0a20 2020 2022 2222 5370 6563 6961  ):.    """Specia
+0001faf0: 6c20 6d61 7463 6869 6e67 2063 6c61 7373  l matching class
+0001fb00: 2066 6f72 206d 6174 6368 696e 6720 7768   for matching wh
+0001fb10: 6974 6573 7061 6365 2e20 204e 6f72 6d61  itespace.  Norma
+0001fb20: 6c6c 792c 0a20 2020 2077 6869 7465 7370  lly,.    whitesp
+0001fb30: 6163 6520 6973 2069 676e 6f72 6564 2062  ace is ignored b
+0001fb40: 7920 7079 7061 7273 696e 6720 6772 616d  y pyparsing gram
+0001fb50: 6d61 7273 2e20 2054 6869 7320 636c 6173  mars.  This clas
+0001fb60: 7320 6973 2069 6e63 6c75 6465 640a 2020  s is included.  
+0001fb70: 2020 7768 656e 2073 6f6d 6520 7768 6974    when some whit
+0001fb80: 6573 7061 6365 2073 7472 7563 7475 7265  espace structure
+0001fb90: 7320 6172 6520 7369 676e 6966 6963 616e  s are significan
+0001fba0: 742e 2020 4465 6669 6e65 2077 6974 680a  t.  Define with.
+0001fbb0: 2020 2020 6120 7374 7269 6e67 2063 6f6e      a string con
+0001fbc0: 7461 696e 696e 6720 7468 6520 7768 6974  taining the whit
+0001fbd0: 6573 7061 6365 2063 6861 7261 6374 6572  espace character
+0001fbe0: 7320 746f 2062 6520 6d61 7463 6865 643b  s to be matched;
+0001fbf0: 2064 6566 6175 6c74 0a20 2020 2069 7320   default.    is 
+0001fc00: 6060 2220 5c5c 745c 5c72 5c5c 6e22 6060  ``" \\t\\r\\n"``
+0001fc10: 2e20 2041 6c73 6f20 7461 6b65 7320 6f70  .  Also takes op
+0001fc20: 7469 6f6e 616c 2060 606d 696e 6060 2c0a  tional ``min``,.
+0001fc30: 2020 2020 6060 6d61 7860 602c 2061 6e64      ``max``, and
+0001fc40: 2060 6065 7861 6374 6060 2061 7267 756d   ``exact`` argum
+0001fc50: 656e 7473 2c20 6173 2064 6566 696e 6564  ents, as defined
+0001fc60: 2066 6f72 2074 6865 0a20 2020 203a 636c   for the.    :cl
+0001fc70: 6173 733a 6057 6f72 6460 2063 6c61 7373  ass:`Word` class
+0001fc80: 2e0a 2020 2020 2222 220a 0a20 2020 2077  ..    """..    w
+0001fc90: 6869 7465 5374 7273 203d 207b 0a20 2020  hiteStrs = {.   
+0001fca0: 2020 2020 2022 2022 3a20 223c 5350 3e22       " ": "<SP>"
+0001fcb0: 2c0a 2020 2020 2020 2020 225c 7422 3a20  ,.        "\t": 
+0001fcc0: 223c 5441 423e 222c 0a20 2020 2020 2020  "<TAB>",.       
+0001fcd0: 2022 5c6e 223a 2022 3c4c 463e 222c 0a20   "\n": "<LF>",. 
+0001fce0: 2020 2020 2020 2022 5c72 223a 2022 3c43         "\r": "<C
+0001fcf0: 523e 222c 0a20 2020 2020 2020 2022 5c66  R>",.        "\f
+0001fd00: 223a 2022 3c46 463e 222c 0a20 2020 2020  ": "<FF>",.     
+0001fd10: 2020 2022 5c75 3030 4130 223a 2022 3c4e     "\u00A0": "<N
+0001fd20: 4253 503e 222c 0a20 2020 2020 2020 2022  BSP>",.        "
+0001fd30: 5c75 3136 3830 223a 2022 3c4f 4748 414d  \u1680": "<OGHAM
+0001fd40: 5f53 5041 4345 5f4d 4152 4b3e 222c 0a20  _SPACE_MARK>",. 
+0001fd50: 2020 2020 2020 2022 5c75 3138 3045 223a         "\u180E":
+0001fd60: 2022 3c4d 4f4e 474f 4c49 414e 5f56 4f57   "<MONGOLIAN_VOW
+0001fd70: 454c 5f53 4550 4152 4154 4f52 3e22 2c0a  EL_SEPARATOR>",.
+0001fd80: 2020 2020 2020 2020 225c 7532 3030 3022          "\u2000"
+0001fd90: 3a20 223c 454e 5f51 5541 443e 222c 0a20  : "<EN_QUAD>",. 
+0001fda0: 2020 2020 2020 2022 5c75 3230 3031 223a         "\u2001":
+0001fdb0: 2022 3c45 4d5f 5155 4144 3e22 2c0a 2020   "<EM_QUAD>",.  
+0001fdc0: 2020 2020 2020 225c 7532 3030 3222 3a20        "\u2002": 
+0001fdd0: 223c 454e 5f53 5041 4345 3e22 2c0a 2020  "<EN_SPACE>",.  
+0001fde0: 2020 2020 2020 225c 7532 3030 3322 3a20        "\u2003": 
+0001fdf0: 223c 454d 5f53 5041 4345 3e22 2c0a 2020  "<EM_SPACE>",.  
+0001fe00: 2020 2020 2020 225c 7532 3030 3422 3a20        "\u2004": 
+0001fe10: 223c 5448 5245 452d 5045 522d 454d 5f53  "<THREE-PER-EM_S
+0001fe20: 5041 4345 3e22 2c0a 2020 2020 2020 2020  PACE>",.        
+0001fe30: 225c 7532 3030 3522 3a20 223c 464f 5552  "\u2005": "<FOUR
+0001fe40: 2d50 4552 2d45 4d5f 5350 4143 453e 222c  -PER-EM_SPACE>",
+0001fe50: 0a20 2020 2020 2020 2022 5c75 3230 3036  .        "\u2006
+0001fe60: 223a 2022 3c53 4958 2d50 4552 2d45 4d5f  ": "<SIX-PER-EM_
+0001fe70: 5350 4143 453e 222c 0a20 2020 2020 2020  SPACE>",.       
+0001fe80: 2022 5c75 3230 3037 223a 2022 3c46 4947   "\u2007": "<FIG
+0001fe90: 5552 455f 5350 4143 453e 222c 0a20 2020  URE_SPACE>",.   
+0001fea0: 2020 2020 2022 5c75 3230 3038 223a 2022       "\u2008": "
+0001feb0: 3c50 554e 4354 5541 5449 4f4e 5f53 5041  <PUNCTUATION_SPA
+0001fec0: 4345 3e22 2c0a 2020 2020 2020 2020 225c  CE>",.        "\
+0001fed0: 7532 3030 3922 3a20 223c 5448 494e 5f53  u2009": "<THIN_S
+0001fee0: 5041 4345 3e22 2c0a 2020 2020 2020 2020  PACE>",.        
+0001fef0: 225c 7532 3030 4122 3a20 223c 4841 4952  "\u200A": "<HAIR
+0001ff00: 5f53 5041 4345 3e22 2c0a 2020 2020 2020  _SPACE>",.      
+0001ff10: 2020 225c 7532 3030 4222 3a20 223c 5a45    "\u200B": "<ZE
+0001ff20: 524f 5f57 4944 5448 5f53 5041 4345 3e22  RO_WIDTH_SPACE>"
+0001ff30: 2c0a 2020 2020 2020 2020 225c 7532 3032  ,.        "\u202
+0001ff40: 4622 3a20 223c 4e4e 4253 503e 222c 0a20  F": "<NNBSP>",. 
+0001ff50: 2020 2020 2020 2022 5c75 3230 3546 223a         "\u205F":
+0001ff60: 2022 3c4d 4d53 503e 222c 0a20 2020 2020   "<MMSP>",.     
+0001ff70: 2020 2022 5c75 3330 3030 223a 2022 3c49     "\u3000": "<I
+0001ff80: 4445 4f47 5241 5048 4943 5f53 5041 4345  DEOGRAPHIC_SPACE
+0001ff90: 3e22 2c0a 2020 2020 7d0a 0a20 2020 2064  >",.    }..    d
+0001ffa0: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+0001ffb0: 2c20 7773 3a20 7374 7220 3d20 2220 5c74  , ws: str = " \t
+0001ffc0: 5c72 5c6e 222c 206d 696e 3a20 696e 7420  \r\n", min: int 
+0001ffd0: 3d20 312c 206d 6178 3a20 696e 7420 3d20  = 1, max: int = 
+0001ffe0: 302c 2065 7861 6374 3a20 696e 7420 3d20  0, exact: int = 
+0001fff0: 3029 3a0a 2020 2020 2020 2020 7375 7065  0):.        supe
+00020000: 7228 292e 5f5f 696e 6974 5f5f 2829 0a20  r().__init__(). 
+00020010: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
+00020020: 6857 6869 7465 203d 2077 730a 2020 2020  hWhite = ws.    
+00020030: 2020 2020 7365 6c66 2e73 6574 5f77 6869      self.set_whi
+00020040: 7465 7370 6163 655f 6368 6172 7328 0a20  tespace_chars(. 
+00020050: 2020 2020 2020 2020 2020 2022 222e 6a6f             "".jo
+00020060: 696e 2863 2066 6f72 2063 2069 6e20 7365  in(c for c in se
+00020070: 6c66 2e77 6869 7465 5374 7273 2069 6620  lf.whiteStrs if 
+00020080: 6320 6e6f 7420 696e 2073 656c 662e 6d61  c not in self.ma
+00020090: 7463 6857 6869 7465 292c 0a20 2020 2020  tchWhite),.     
+000200a0: 2020 2020 2020 2063 6f70 795f 6465 6661         copy_defa
+000200b0: 756c 7473 3d54 7275 652c 0a20 2020 2020  ults=True,.     
+000200c0: 2020 2029 0a20 2020 2020 2020 2023 2073     ).        # s
+000200d0: 656c 662e 6c65 6176 655f 7768 6974 6573  elf.leave_whites
+000200e0: 7061 6365 2829 0a20 2020 2020 2020 2073  pace().        s
+000200f0: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
+00020100: 7479 203d 2054 7275 650a 2020 2020 2020  ty = True.      
+00020110: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
+00020120: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
+00020130: 6c66 2e6e 616d 650a 0a20 2020 2020 2020  lf.name..       
+00020140: 2073 656c 662e 6d69 6e4c 656e 203d 206d   self.minLen = m
+00020150: 696e 0a0a 2020 2020 2020 2020 6966 206d  in..        if m
+00020160: 6178 203e 2030 3a0a 2020 2020 2020 2020  ax > 0:.        
+00020170: 2020 2020 7365 6c66 2e6d 6178 4c65 6e20      self.maxLen 
+00020180: 3d20 6d61 780a 2020 2020 2020 2020 656c  = max.        el
+00020190: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+000201a0: 7365 6c66 2e6d 6178 4c65 6e20 3d20 5f4d  self.maxLen = _M
+000201b0: 4158 5f49 4e54 0a0a 2020 2020 2020 2020  AX_INT..        
+000201c0: 6966 2065 7861 6374 203e 2030 3a0a 2020  if exact > 0:.  
+000201d0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+000201e0: 6178 4c65 6e20 3d20 6578 6163 740a 2020  axLen = exact.  
+000201f0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+00020200: 696e 4c65 6e20 3d20 6578 6163 740a 0a20  inLen = exact.. 
+00020210: 2020 2064 6566 205f 6765 6e65 7261 7465     def _generate
+00020220: 4465 6661 756c 744e 616d 6528 7365 6c66  DefaultName(self
+00020230: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
+00020240: 2020 7265 7475 726e 2022 222e 6a6f 696e    return "".join
+00020250: 2857 6869 7465 2e77 6869 7465 5374 7273  (White.whiteStrs
+00020260: 5b63 5d20 666f 7220 6320 696e 2073 656c  [c] for c in sel
+00020270: 662e 6d61 7463 6857 6869 7465 290a 0a20  f.matchWhite).. 
+00020280: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
+00020290: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
+000202a0: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
+000202b0: 5472 7565 293a 0a20 2020 2020 2020 2069  True):.        i
+000202c0: 6620 696e 7374 7269 6e67 5b6c 6f63 5d20  f instring[loc] 
+000202d0: 6e6f 7420 696e 2073 656c 662e 6d61 7463  not in self.matc
+000202e0: 6857 6869 7465 3a0a 2020 2020 2020 2020  hWhite:.        
+000202f0: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
+00020300: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
+00020310: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
+00020320: 6d73 672c 2073 656c 6629 0a20 2020 2020  msg, self).     
+00020330: 2020 2073 7461 7274 203d 206c 6f63 0a20     start = loc. 
+00020340: 2020 2020 2020 206c 6f63 202b 3d20 310a         loc += 1.
+00020350: 2020 2020 2020 2020 6d61 786c 6f63 203d          maxloc =
+00020360: 2073 7461 7274 202b 2073 656c 662e 6d61   start + self.ma
+00020370: 784c 656e 0a20 2020 2020 2020 206d 6178  xLen.        max
+00020380: 6c6f 6320 3d20 6d69 6e28 6d61 786c 6f63  loc = min(maxloc
+00020390: 2c20 6c65 6e28 696e 7374 7269 6e67 2929  , len(instring))
+000203a0: 0a20 2020 2020 2020 2077 6869 6c65 206c  .        while l
+000203b0: 6f63 203c 206d 6178 6c6f 6320 616e 6420  oc < maxloc and 
+000203c0: 696e 7374 7269 6e67 5b6c 6f63 5d20 696e  instring[loc] in
+000203d0: 2073 656c 662e 6d61 7463 6857 6869 7465   self.matchWhite
+000203e0: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
+000203f0: 6320 2b3d 2031 0a0a 2020 2020 2020 2020  c += 1..        
+00020400: 6966 206c 6f63 202d 2073 7461 7274 203c  if loc - start <
+00020410: 2073 656c 662e 6d69 6e4c 656e 3a0a 2020   self.minLen:.  
+00020420: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00020430: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
+00020440: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
+00020450: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
+00020460: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00020470: 206c 6f63 2c20 696e 7374 7269 6e67 5b73   loc, instring[s
+00020480: 7461 7274 3a6c 6f63 5d0a 0a0a 636c 6173  tart:loc]...clas
+00020490: 7320 506f 7369 7469 6f6e 546f 6b65 6e28  s PositionToken(
+000204a0: 546f 6b65 6e29 3a0a 2020 2020 6465 6620  Token):.    def 
+000204b0: 5f5f 696e 6974 5f5f 2873 656c 6629 3a0a  __init__(self):.
+000204c0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+000204d0: 5f5f 696e 6974 5f5f 2829 0a20 2020 2020  __init__().     
+000204e0: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
+000204f0: 6e45 6d70 7479 203d 2054 7275 650a 2020  nEmpty = True.  
+00020500: 2020 2020 2020 7365 6c66 2e6d 6179 496e        self.mayIn
+00020510: 6465 7845 7272 6f72 203d 2046 616c 7365  dexError = False
+00020520: 0a0a 0a63 6c61 7373 2047 6f54 6f43 6f6c  ...class GoToCol
+00020530: 756d 6e28 506f 7369 7469 6f6e 546f 6b65  umn(PositionToke
+00020540: 6e29 3a0a 2020 2020 2222 2254 6f6b 656e  n):.    """Token
+00020550: 2074 6f20 6164 7661 6e63 6520 746f 2061   to advance to a
+00020560: 2073 7065 6369 6669 6320 636f 6c75 6d6e   specific column
+00020570: 206f 6620 696e 7075 7420 7465 7874 3b20   of input text; 
+00020580: 7573 6566 756c 2066 6f72 0a20 2020 2074  useful for.    t
+00020590: 6162 756c 6172 2072 6570 6f72 7420 7363  abular report sc
+000205a0: 7261 7069 6e67 2e0a 2020 2020 2222 220a  raping..    """.
+000205b0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+000205c0: 5f28 7365 6c66 2c20 636f 6c6e 6f3a 2069  _(self, colno: i
+000205d0: 6e74 293a 0a20 2020 2020 2020 2073 7570  nt):.        sup
+000205e0: 6572 2829 2e5f 5f69 6e69 745f 5f28 290a  er().__init__().
+000205f0: 2020 2020 2020 2020 7365 6c66 2e63 6f6c          self.col
+00020600: 203d 2063 6f6c 6e6f 0a0a 2020 2020 6465   = colno..    de
+00020610: 6620 7072 6550 6172 7365 2873 656c 662c  f preParse(self,
+00020620: 2069 6e73 7472 696e 673a 2073 7472 2c20   instring: str, 
+00020630: 6c6f 633a 2069 6e74 2920 2d3e 2069 6e74  loc: int) -> int
+00020640: 3a0a 2020 2020 2020 2020 6966 2063 6f6c  :.        if col
+00020650: 286c 6f63 2c20 696e 7374 7269 6e67 2920  (loc, instring) 
+00020660: 213d 2073 656c 662e 636f 6c3a 0a20 2020  != self.col:.   
+00020670: 2020 2020 2020 2020 2069 6e73 7472 6c65           instrle
+00020680: 6e20 3d20 6c65 6e28 696e 7374 7269 6e67  n = len(instring
+00020690: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+000206a0: 2073 656c 662e 6967 6e6f 7265 4578 7072   self.ignoreExpr
+000206b0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+000206c0: 2020 206c 6f63 203d 2073 656c 662e 5f73     loc = self._s
+000206d0: 6b69 7049 676e 6f72 6162 6c65 7328 696e  kipIgnorables(in
+000206e0: 7374 7269 6e67 2c20 6c6f 6329 0a20 2020  string, loc).   
+000206f0: 2020 2020 2020 2020 2077 6869 6c65 2028           while (
+00020700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020710: 206c 6f63 203c 2069 6e73 7472 6c65 6e0a   loc < instrlen.
+00020720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020730: 616e 6420 696e 7374 7269 6e67 5b6c 6f63  and instring[loc
+00020740: 5d2e 6973 7370 6163 6528 290a 2020 2020  ].isspace().    
+00020750: 2020 2020 2020 2020 2020 2020 616e 6420              and 
+00020760: 636f 6c28 6c6f 632c 2069 6e73 7472 696e  col(loc, instrin
+00020770: 6729 2021 3d20 7365 6c66 2e63 6f6c 0a20  g) != self.col. 
+00020780: 2020 2020 2020 2020 2020 2029 3a0a 2020             ):.  
+00020790: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
+000207a0: 6320 2b3d 2031 0a20 2020 2020 2020 2072  c += 1.        r
+000207b0: 6574 7572 6e20 6c6f 630a 0a20 2020 2064  eturn loc..    d
+000207c0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
+000207d0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
+000207e0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
+000207f0: 293a 0a20 2020 2020 2020 2074 6869 7363  ):.        thisc
+00020800: 6f6c 203d 2063 6f6c 286c 6f63 2c20 696e  ol = col(loc, in
+00020810: 7374 7269 6e67 290a 2020 2020 2020 2020  string).        
+00020820: 6966 2074 6869 7363 6f6c 203e 2073 656c  if thiscol > sel
+00020830: 662e 636f 6c3a 0a20 2020 2020 2020 2020  f.col:.         
+00020840: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
+00020850: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
+00020860: 2c20 6c6f 632c 2022 5465 7874 206e 6f74  , loc, "Text not
+00020870: 2069 6e20 6578 7065 6374 6564 2063 6f6c   in expected col
+00020880: 756d 6e22 2c20 7365 6c66 290a 2020 2020  umn", self).    
+00020890: 2020 2020 6e65 776c 6f63 203d 206c 6f63      newloc = loc
+000208a0: 202b 2073 656c 662e 636f 6c20 2d20 7468   + self.col - th
+000208b0: 6973 636f 6c0a 2020 2020 2020 2020 7265  iscol.        re
+000208c0: 7420 3d20 696e 7374 7269 6e67 5b6c 6f63  t = instring[loc
+000208d0: 3a6e 6577 6c6f 635d 0a20 2020 2020 2020  :newloc].       
+000208e0: 2072 6574 7572 6e20 6e65 776c 6f63 2c20   return newloc, 
+000208f0: 7265 740a 0a0a 636c 6173 7320 4c69 6e65  ret...class Line
+00020900: 5374 6172 7428 506f 7369 7469 6f6e 546f  Start(PositionTo
+00020910: 6b65 6e29 3a0a 2020 2020 7222 2222 4d61  ken):.    r"""Ma
+00020920: 7463 6865 7320 6966 2063 7572 7265 6e74  tches if current
+00020930: 2070 6f73 6974 696f 6e20 6973 2061 7420   position is at 
+00020940: 7468 6520 6265 6769 6e6e 696e 6720 6f66  the beginning of
+00020950: 2061 206c 696e 6520 7769 7468 696e 0a20   a line within. 
+00020960: 2020 2074 6865 2070 6172 7365 2073 7472     the parse str
+00020970: 696e 670a 0a20 2020 2045 7861 6d70 6c65  ing..    Example
+00020980: 3a3a 0a0a 2020 2020 2020 2020 7465 7374  ::..        test
+00020990: 203d 2027 2727 5c0a 2020 2020 2020 2020   = '''\.        
+000209a0: 4141 4120 7468 6973 206c 696e 650a 2020  AAA this line.  
+000209b0: 2020 2020 2020 4141 4120 616e 6420 7468        AAA and th
+000209c0: 6973 206c 696e 650a 2020 2020 2020 2020  is line.        
+000209d0: 2020 4141 4120 6275 7420 6e6f 7420 7468    AAA but not th
+000209e0: 6973 206f 6e65 0a20 2020 2020 2020 2042  is one.        B
+000209f0: 2041 4141 2061 6e64 2064 6566 696e 6974   AAA and definit
+00020a00: 656c 7920 6e6f 7420 7468 6973 206f 6e65  ely not this one
+00020a10: 0a20 2020 2020 2020 2027 2727 0a0a 2020  .        '''..  
+00020a20: 2020 2020 2020 666f 7220 7420 696e 2028        for t in (
+00020a30: 4c69 6e65 5374 6172 7428 2920 2b20 2741  LineStart() + 'A
+00020a40: 4141 2720 2b20 7265 7374 5f6f 665f 6c69  AA' + rest_of_li
+00020a50: 6e65 292e 7365 6172 6368 5f73 7472 696e  ne).search_strin
+00020a60: 6728 7465 7374 293a 0a20 2020 2020 2020  g(test):.       
+00020a70: 2020 2020 2070 7269 6e74 2874 290a 0a20       print(t).. 
+00020a80: 2020 2070 7269 6e74 733a 3a0a 0a20 2020     prints::..   
+00020a90: 2020 2020 205b 2741 4141 272c 2027 2074       ['AAA', ' t
+00020aa0: 6869 7320 6c69 6e65 275d 0a20 2020 2020  his line'].     
+00020ab0: 2020 205b 2741 4141 272c 2027 2061 6e64     ['AAA', ' and
+00020ac0: 2074 6869 7320 6c69 6e65 275d 0a0a 2020   this line']..  
+00020ad0: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+00020ae0: 5f69 6e69 745f 5f28 7365 6c66 293a 0a20  _init__(self):. 
+00020af0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+00020b00: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
+00020b10: 2020 7365 6c66 2e6c 6561 7665 5f77 6869    self.leave_whi
+00020b20: 7465 7370 6163 6528 290a 2020 2020 2020  tespace().      
+00020b30: 2020 7365 6c66 2e6f 7269 675f 7768 6974    self.orig_whit
+00020b40: 6543 6861 7273 203d 2073 6574 2829 207c  eChars = set() |
+00020b50: 2073 656c 662e 7768 6974 6543 6861 7273   self.whiteChars
+00020b60: 0a20 2020 2020 2020 2073 656c 662e 7768  .        self.wh
+00020b70: 6974 6543 6861 7273 2e64 6973 6361 7264  iteChars.discard
+00020b80: 2822 5c6e 2229 0a20 2020 2020 2020 2073  ("\n").        s
+00020b90: 656c 662e 736b 6970 7065 7220 3d20 456d  elf.skipper = Em
+00020ba0: 7074 7928 292e 7365 745f 7768 6974 6573  pty().set_whites
+00020bb0: 7061 6365 5f63 6861 7273 2873 656c 662e  pace_chars(self.
+00020bc0: 7768 6974 6543 6861 7273 290a 2020 2020  whiteChars).    
+00020bd0: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
+00020be0: 3d20 2245 7870 6563 7465 6420 7374 6172  = "Expected star
+00020bf0: 7420 6f66 206c 696e 6522 0a0a 2020 2020  t of line"..    
+00020c00: 6465 6620 7072 6550 6172 7365 2873 656c  def preParse(sel
+00020c10: 662c 2069 6e73 7472 696e 673a 2073 7472  f, instring: str
+00020c20: 2c20 6c6f 633a 2069 6e74 2920 2d3e 2069  , loc: int) -> i
+00020c30: 6e74 3a0a 2020 2020 2020 2020 6966 206c  nt:.        if l
+00020c40: 6f63 203d 3d20 303a 0a20 2020 2020 2020  oc == 0:.       
+00020c50: 2020 2020 2072 6574 7572 6e20 6c6f 630a       return loc.
+00020c60: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00020c70: 2020 2020 2020 2020 2020 7265 7420 3d20            ret = 
+00020c80: 7365 6c66 2e73 6b69 7070 6572 2e70 7265  self.skipper.pre
+00020c90: 5061 7273 6528 696e 7374 7269 6e67 2c20  Parse(instring, 
+00020ca0: 6c6f 6329 0a20 2020 2020 2020 2020 2020  loc).           
+00020cb0: 2069 6620 225c 6e22 2069 6e20 7365 6c66   if "\n" in self
+00020cc0: 2e6f 7269 675f 7768 6974 6543 6861 7273  .orig_whiteChars
+00020cd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00020ce0: 2020 7768 696c 6520 696e 7374 7269 6e67    while instring
+00020cf0: 5b72 6574 203a 2072 6574 202b 2031 5d20  [ret : ret + 1] 
+00020d00: 3d3d 2022 5c6e 223a 0a20 2020 2020 2020  == "\n":.       
+00020d10: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+00020d20: 203d 2073 656c 662e 736b 6970 7065 722e   = self.skipper.
+00020d30: 7072 6550 6172 7365 2869 6e73 7472 696e  preParse(instrin
+00020d40: 672c 2072 6574 202b 2031 290a 2020 2020  g, ret + 1).    
+00020d50: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+00020d60: 6574 0a0a 2020 2020 6465 6620 7061 7273  et..    def pars
+00020d70: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+00020d80: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+00020d90: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
+00020da0: 2020 2020 6966 2063 6f6c 286c 6f63 2c20      if col(loc, 
+00020db0: 696e 7374 7269 6e67 2920 3d3d 2031 3a0a  instring) == 1:.
+00020dc0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00020dd0: 726e 206c 6f63 2c20 5b5d 0a20 2020 2020  rn loc, [].     
+00020de0: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
+00020df0: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
+00020e00: 2c20 6c6f 632c 2073 656c 662e 6572 726d  , loc, self.errm
+00020e10: 7367 2c20 7365 6c66 290a 0a0a 636c 6173  sg, self)...clas
+00020e20: 7320 4c69 6e65 456e 6428 506f 7369 7469  s LineEnd(Positi
+00020e30: 6f6e 546f 6b65 6e29 3a0a 2020 2020 2222  onToken):.    ""
+00020e40: 224d 6174 6368 6573 2069 6620 6375 7272  "Matches if curr
+00020e50: 656e 7420 706f 7369 7469 6f6e 2069 7320  ent position is 
+00020e60: 6174 2074 6865 2065 6e64 206f 6620 6120  at the end of a 
+00020e70: 6c69 6e65 2077 6974 6869 6e20 7468 650a  line within the.
+00020e80: 2020 2020 7061 7273 6520 7374 7269 6e67      parse string
+00020e90: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+00020ea0: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
+00020eb0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+00020ec0: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
+00020ed0: 2020 2020 2073 656c 662e 7768 6974 6543       self.whiteC
+00020ee0: 6861 7273 2e64 6973 6361 7264 2822 5c6e  hars.discard("\n
+00020ef0: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00020f00: 7365 745f 7768 6974 6573 7061 6365 5f63  set_whitespace_c
+00020f10: 6861 7273 2873 656c 662e 7768 6974 6543  hars(self.whiteC
+00020f20: 6861 7273 2c20 636f 7079 5f64 6566 6175  hars, copy_defau
+00020f30: 6c74 733d 4661 6c73 6529 0a20 2020 2020  lts=False).     
+00020f40: 2020 2073 656c 662e 6572 726d 7367 203d     self.errmsg =
+00020f50: 2022 4578 7065 6374 6564 2065 6e64 206f   "Expected end o
+00020f60: 6620 6c69 6e65 220a 0a20 2020 2064 6566  f line"..    def
+00020f70: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+00020f80: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00020f90: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+00020fa0: 0a20 2020 2020 2020 2069 6620 6c6f 6320  .        if loc 
+00020fb0: 3c20 6c65 6e28 696e 7374 7269 6e67 293a  < len(instring):
+00020fc0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00020fd0: 696e 7374 7269 6e67 5b6c 6f63 5d20 3d3d  instring[loc] ==
+00020fe0: 2022 5c6e 223a 0a20 2020 2020 2020 2020   "\n":.         
+00020ff0: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
+00021000: 6320 2b20 312c 2022 5c6e 220a 2020 2020  c + 1, "\n".    
+00021010: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00021020: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+00021030: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
+00021040: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
+00021050: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
+00021060: 656c 6629 0a20 2020 2020 2020 2065 6c69  elf).        eli
+00021070: 6620 6c6f 6320 3d3d 206c 656e 2869 6e73  f loc == len(ins
+00021080: 7472 696e 6729 3a0a 2020 2020 2020 2020  tring):.        
+00021090: 2020 2020 7265 7475 726e 206c 6f63 202b      return loc +
+000210a0: 2031 2c20 5b5d 0a20 2020 2020 2020 2065   1, [].        e
+000210b0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000210c0: 2072 6169 7365 2050 6172 7365 4578 6365   raise ParseExce
+000210d0: 7074 696f 6e28 696e 7374 7269 6e67 2c20  ption(instring, 
+000210e0: 6c6f 632c 2073 656c 662e 6572 726d 7367  loc, self.errmsg
+000210f0: 2c20 7365 6c66 290a 0a0a 636c 6173 7320  , self)...class 
+00021100: 5374 7269 6e67 5374 6172 7428 506f 7369  StringStart(Posi
+00021110: 7469 6f6e 546f 6b65 6e29 3a0a 2020 2020  tionToken):.    
+00021120: 2222 224d 6174 6368 6573 2069 6620 6375  """Matches if cu
+00021130: 7272 656e 7420 706f 7369 7469 6f6e 2069  rrent position i
+00021140: 7320 6174 2074 6865 2062 6567 696e 6e69  s at the beginni
+00021150: 6e67 206f 6620 7468 6520 7061 7273 650a  ng of the parse.
+00021160: 2020 2020 7374 7269 6e67 0a20 2020 2022      string.    "
+00021170: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
+00021180: 6974 5f5f 2873 656c 6629 3a0a 2020 2020  it__(self):.    
+00021190: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+000211a0: 6974 5f5f 2829 0a20 2020 2020 2020 2073  it__().        s
+000211b0: 656c 662e 6572 726d 7367 203d 2022 4578  elf.errmsg = "Ex
+000211c0: 7065 6374 6564 2073 7461 7274 206f 6620  pected start of 
+000211d0: 7465 7874 220a 0a20 2020 2064 6566 2070  text"..    def p
+000211e0: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
+000211f0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+00021200: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+00021210: 2020 2020 2020 2069 6620 6c6f 6320 213d         if loc !=
+00021220: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+00021230: 2320 7365 6520 6966 2065 6e74 6972 6520  # see if entire 
+00021240: 7374 7269 6e67 2075 7020 746f 2068 6572  string up to her
+00021250: 6520 6973 206a 7573 7420 7768 6974 6573  e is just whites
+00021260: 7061 6365 2061 6e64 2069 676e 6f72 6561  pace and ignorea
+00021270: 626c 6573 0a20 2020 2020 2020 2020 2020  bles.           
+00021280: 2069 6620 6c6f 6320 213d 2073 656c 662e   if loc != self.
+00021290: 7072 6550 6172 7365 2869 6e73 7472 696e  preParse(instrin
+000212a0: 672c 2030 293a 0a20 2020 2020 2020 2020  g, 0):.         
+000212b0: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
+000212c0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
+000212d0: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
+000212e0: 6572 726d 7367 2c20 7365 6c66 290a 2020  errmsg, self).  
+000212f0: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
+00021300: 2c20 5b5d 0a0a 0a63 6c61 7373 2053 7472  , []...class Str
+00021310: 696e 6745 6e64 2850 6f73 6974 696f 6e54  ingEnd(PositionT
+00021320: 6f6b 656e 293a 0a20 2020 2022 2222 0a20  oken):.    """. 
+00021330: 2020 204d 6174 6368 6573 2069 6620 6375     Matches if cu
+00021340: 7272 656e 7420 706f 7369 7469 6f6e 2069  rrent position i
+00021350: 7320 6174 2074 6865 2065 6e64 206f 6620  s at the end of 
+00021360: 7468 6520 7061 7273 6520 7374 7269 6e67  the parse string
+00021370: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+00021380: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
+00021390: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+000213a0: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
+000213b0: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
+000213c0: 203d 2022 4578 7065 6374 6564 2065 6e64   = "Expected end
+000213d0: 206f 6620 7465 7874 220a 0a20 2020 2064   of text"..    d
+000213e0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
+000213f0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
+00021400: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
+00021410: 293a 0a20 2020 2020 2020 2069 6620 6c6f  ):.        if lo
+00021420: 6320 3c20 6c65 6e28 696e 7374 7269 6e67  c < len(instring
+00021430: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+00021440: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+00021450: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
+00021460: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
+00021470: 7365 6c66 290a 2020 2020 2020 2020 656c  self).        el
+00021480: 6966 206c 6f63 203d 3d20 6c65 6e28 696e  if loc == len(in
+00021490: 7374 7269 6e67 293a 0a20 2020 2020 2020  string):.       
+000214a0: 2020 2020 2072 6574 7572 6e20 6c6f 6320       return loc 
+000214b0: 2b20 312c 205b 5d0a 2020 2020 2020 2020  + 1, [].        
+000214c0: 656c 6966 206c 6f63 203e 206c 656e 2869  elif loc > len(i
+000214d0: 6e73 7472 696e 6729 3a0a 2020 2020 2020  nstring):.      
+000214e0: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
+000214f0: 2c20 5b5d 0a20 2020 2020 2020 2065 6c73  , [].        els
+00021500: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00021510: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+00021520: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
+00021530: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
+00021540: 7365 6c66 290a 0a0a 636c 6173 7320 576f  self)...class Wo
+00021550: 7264 5374 6172 7428 506f 7369 7469 6f6e  rdStart(Position
+00021560: 546f 6b65 6e29 3a0a 2020 2020 2222 224d  Token):.    """M
+00021570: 6174 6368 6573 2069 6620 7468 6520 6375  atches if the cu
+00021580: 7272 656e 7420 706f 7369 7469 6f6e 2069  rrent position i
+00021590: 7320 6174 2074 6865 2062 6567 696e 6e69  s at the beginni
+000215a0: 6e67 206f 6620 610a 2020 2020 3a63 6c61  ng of a.    :cla
+000215b0: 7373 3a60 576f 7264 602c 2061 6e64 2069  ss:`Word`, and i
+000215c0: 7320 6e6f 7420 7072 6563 6564 6564 2062  s not preceded b
+000215d0: 7920 616e 7920 6368 6172 6163 7465 7220  y any character 
+000215e0: 696e 2061 2067 6976 656e 0a20 2020 2073  in a given.    s
+000215f0: 6574 206f 6620 6060 776f 7264 5f63 6861  et of ``word_cha
+00021600: 7273 6060 2028 6465 6661 756c 743d 2060  rs`` (default= `
+00021610: 6070 7269 6e74 6162 6c65 7360 6029 2e20  `printables``). 
+00021620: 546f 2065 6d75 6c61 7465 2074 6865 0a20  To emulate the. 
+00021630: 2020 2060 605c 6260 6020 6265 6861 7669     ``\b`` behavi
+00021640: 6f72 206f 6620 7265 6775 6c61 7220 6578  or of regular ex
+00021650: 7072 6573 7369 6f6e 732c 2075 7365 0a20  pressions, use. 
+00021660: 2020 2060 6057 6f72 6453 7461 7274 2861     ``WordStart(a
+00021670: 6c70 6861 6e75 6d73 2960 602e 2060 6057  lphanums)``. ``W
+00021680: 6f72 6453 7461 7274 6060 2077 696c 6c20  ordStart`` will 
+00021690: 616c 736f 206d 6174 6368 2061 740a 2020  also match at.  
+000216a0: 2020 7468 6520 6265 6769 6e6e 696e 6720    the beginning 
+000216b0: 6f66 2074 6865 2073 7472 696e 6720 6265  of the string be
+000216c0: 696e 6720 7061 7273 6564 2c20 6f72 2061  ing parsed, or a
+000216d0: 7420 7468 6520 6265 6769 6e6e 696e 6720  t the beginning 
+000216e0: 6f66 0a20 2020 2061 206c 696e 652e 0a20  of.    a line.. 
+000216f0: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
+00021700: 5f5f 696e 6974 5f5f 2873 656c 662c 2077  __init__(self, w
+00021710: 6f72 645f 6368 6172 733a 2073 7472 203d  ord_chars: str =
+00021720: 2070 7269 6e74 6162 6c65 732c 202a 2c20   printables, *, 
+00021730: 776f 7264 4368 6172 733a 2073 7472 203d  wordChars: str =
+00021740: 2070 7269 6e74 6162 6c65 7329 3a0a 2020   printables):.  
+00021750: 2020 2020 2020 776f 7264 4368 6172 7320        wordChars 
+00021760: 3d20 776f 7264 5f63 6861 7273 2069 6620  = word_chars if 
+00021770: 776f 7264 4368 6172 7320 3d3d 2070 7269  wordChars == pri
+00021780: 6e74 6162 6c65 7320 656c 7365 2077 6f72  ntables else wor
+00021790: 6443 6861 7273 0a20 2020 2020 2020 2073  dChars.        s
+000217a0: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
+000217b0: 290a 2020 2020 2020 2020 7365 6c66 2e77  ).        self.w
+000217c0: 6f72 6443 6861 7273 203d 2073 6574 2877  ordChars = set(w
+000217d0: 6f72 6443 6861 7273 290a 2020 2020 2020  ordChars).      
+000217e0: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
+000217f0: 224e 6f74 2061 7420 7468 6520 7374 6172  "Not at the star
+00021800: 7420 6f66 2061 2077 6f72 6422 0a0a 2020  t of a word"..  
+00021810: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+00021820: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+00021830: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+00021840: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+00021850: 206c 6f63 2021 3d20 303a 0a20 2020 2020   loc != 0:.     
+00021860: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
+00021870: 2020 2020 2020 2020 2020 2020 696e 7374              inst
+00021880: 7269 6e67 5b6c 6f63 202d 2031 5d20 696e  ring[loc - 1] in
+00021890: 2073 656c 662e 776f 7264 4368 6172 730a   self.wordChars.
+000218a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000218b0: 6f72 2069 6e73 7472 696e 675b 6c6f 635d  or instring[loc]
+000218c0: 206e 6f74 2069 6e20 7365 6c66 2e77 6f72   not in self.wor
+000218d0: 6443 6861 7273 0a20 2020 2020 2020 2020  dChars.         
+000218e0: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
+000218f0: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+00021900: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+00021910: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+00021920: 7272 6d73 672c 2073 656c 6629 0a20 2020  rrmsg, self).   
+00021930: 2020 2020 2072 6574 7572 6e20 6c6f 632c       return loc,
+00021940: 205b 5d0a 0a0a 636c 6173 7320 576f 7264   []...class Word
+00021950: 456e 6428 506f 7369 7469 6f6e 546f 6b65  End(PositionToke
+00021960: 6e29 3a0a 2020 2020 2222 224d 6174 6368  n):.    """Match
+00021970: 6573 2069 6620 7468 6520 6375 7272 656e  es if the curren
+00021980: 7420 706f 7369 7469 6f6e 2069 7320 6174  t position is at
+00021990: 2074 6865 2065 6e64 206f 6620 6120 3a63   the end of a :c
+000219a0: 6c61 7373 3a60 576f 7264 602c 0a20 2020  lass:`Word`,.   
+000219b0: 2061 6e64 2069 7320 6e6f 7420 666f 6c6c   and is not foll
+000219c0: 6f77 6564 2062 7920 616e 7920 6368 6172  owed by any char
+000219d0: 6163 7465 7220 696e 2061 2067 6976 656e  acter in a given
+000219e0: 2073 6574 206f 6620 6060 776f 7264 5f63   set of ``word_c
+000219f0: 6861 7273 6060 0a20 2020 2028 6465 6661  hars``.    (defa
+00021a00: 756c 743d 2060 6070 7269 6e74 6162 6c65  ult= ``printable
+00021a10: 7360 6029 2e20 546f 2065 6d75 6c61 7465  s``). To emulate
+00021a20: 2074 6865 2060 605c 6260 6020 6265 6861   the ``\b`` beha
+00021a30: 7669 6f72 206f 660a 2020 2020 7265 6775  vior of.    regu
+00021a40: 6c61 7220 6578 7072 6573 7369 6f6e 732c  lar expressions,
+00021a50: 2075 7365 2060 6057 6f72 6445 6e64 2861   use ``WordEnd(a
+00021a60: 6c70 6861 6e75 6d73 2960 602e 2060 6057  lphanums)``. ``W
+00021a70: 6f72 6445 6e64 6060 0a20 2020 2077 696c  ordEnd``.    wil
+00021a80: 6c20 616c 736f 206d 6174 6368 2061 7420  l also match at 
+00021a90: 7468 6520 656e 6420 6f66 2074 6865 2073  the end of the s
+00021aa0: 7472 696e 6720 6265 696e 6720 7061 7273  tring being pars
+00021ab0: 6564 2c20 6f72 2061 7420 7468 6520 656e  ed, or at the en
+00021ac0: 640a 2020 2020 6f66 2061 206c 696e 652e  d.    of a line.
+00021ad0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+00021ae0: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
+00021af0: 2077 6f72 645f 6368 6172 733a 2073 7472   word_chars: str
+00021b00: 203d 2070 7269 6e74 6162 6c65 732c 202a   = printables, *
+00021b10: 2c20 776f 7264 4368 6172 733a 2073 7472  , wordChars: str
+00021b20: 203d 2070 7269 6e74 6162 6c65 7329 3a0a   = printables):.
+00021b30: 2020 2020 2020 2020 776f 7264 4368 6172          wordChar
+00021b40: 7320 3d20 776f 7264 5f63 6861 7273 2069  s = word_chars i
+00021b50: 6620 776f 7264 4368 6172 7320 3d3d 2070  f wordChars == p
+00021b60: 7269 6e74 6162 6c65 7320 656c 7365 2077  rintables else w
+00021b70: 6f72 6443 6861 7273 0a20 2020 2020 2020  ordChars.       
+00021b80: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+00021b90: 5f28 290a 2020 2020 2020 2020 7365 6c66  _().        self
+00021ba0: 2e77 6f72 6443 6861 7273 203d 2073 6574  .wordChars = set
+00021bb0: 2877 6f72 6443 6861 7273 290a 2020 2020  (wordChars).    
+00021bc0: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
+00021bd0: 7465 7370 6163 6520 3d20 4661 6c73 650a  tespace = False.
+00021be0: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
+00021bf0: 6d73 6720 3d20 224e 6f74 2061 7420 7468  msg = "Not at th
+00021c00: 6520 656e 6420 6f66 2061 2077 6f72 6422  e end of a word"
+00021c10: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+00021c20: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
+00021c30: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+00021c40: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
+00021c50: 2020 696e 7374 726c 656e 203d 206c 656e    instrlen = len
+00021c60: 2869 6e73 7472 696e 6729 0a20 2020 2020  (instring).     
+00021c70: 2020 2069 6620 696e 7374 726c 656e 203e     if instrlen >
+00021c80: 2030 2061 6e64 206c 6f63 203c 2069 6e73   0 and loc < ins
+00021c90: 7472 6c65 6e3a 0a20 2020 2020 2020 2020  trlen:.         
+00021ca0: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
+00021cb0: 2020 2020 2020 2020 696e 7374 7269 6e67          instring
+00021cc0: 5b6c 6f63 5d20 696e 2073 656c 662e 776f  [loc] in self.wo
+00021cd0: 7264 4368 6172 730a 2020 2020 2020 2020  rdChars.        
+00021ce0: 2020 2020 2020 2020 6f72 2069 6e73 7472          or instr
+00021cf0: 696e 675b 6c6f 6320 2d20 315d 206e 6f74  ing[loc - 1] not
+00021d00: 2069 6e20 7365 6c66 2e77 6f72 6443 6861   in self.wordCha
+00021d10: 7273 0a20 2020 2020 2020 2020 2020 2029  rs.            )
+00021d20: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00021d30: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
+00021d40: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
+00021d50: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
+00021d60: 672c 2073 656c 6629 0a20 2020 2020 2020  g, self).       
+00021d70: 2072 6574 7572 6e20 6c6f 632c 205b 5d0a   return loc, [].
+00021d80: 0a0a 636c 6173 7320 5061 7273 6545 7870  ..class ParseExp
+00021d90: 7265 7373 696f 6e28 5061 7273 6572 456c  ression(ParserEl
+00021da0: 656d 656e 7429 3a0a 2020 2020 2222 2241  ement):.    """A
+00021db0: 6273 7472 6163 7420 7375 6263 6c61 7373  bstract subclass
+00021dc0: 206f 6620 5061 7273 6572 456c 656d 656e   of ParserElemen
+00021dd0: 742c 2066 6f72 2063 6f6d 6269 6e69 6e67  t, for combining
+00021de0: 2061 6e64 0a20 2020 2070 6f73 742d 7072   and.    post-pr
+00021df0: 6f63 6573 7369 6e67 2070 6172 7365 6420  ocessing parsed 
+00021e00: 746f 6b65 6e73 2e0a 2020 2020 2222 220a  tokens..    """.
+00021e10: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+00021e20: 5f28 7365 6c66 2c20 6578 7072 733a 2074  _(self, exprs: t
+00021e30: 7970 696e 672e 4974 6572 6162 6c65 5b50  yping.Iterable[P
+00021e40: 6172 7365 7245 6c65 6d65 6e74 5d2c 2073  arserElement], s
+00021e50: 6176 656c 6973 743a 2062 6f6f 6c20 3d20  avelist: bool = 
+00021e60: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
+00021e70: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+00021e80: 2873 6176 656c 6973 7429 0a20 2020 2020  (savelist).     
+00021e90: 2020 2073 656c 662e 6578 7072 733a 204c     self.exprs: L
+00021ea0: 6973 745b 5061 7273 6572 456c 656d 656e  ist[ParserElemen
+00021eb0: 745d 0a20 2020 2020 2020 2069 6620 6973  t].        if is
+00021ec0: 696e 7374 616e 6365 2865 7870 7273 2c20  instance(exprs, 
+00021ed0: 5f67 656e 6572 6174 6f72 5479 7065 293a  _generatorType):
+00021ee0: 0a20 2020 2020 2020 2020 2020 2065 7870  .            exp
+00021ef0: 7273 203d 206c 6973 7428 6578 7072 7329  rs = list(exprs)
+00021f00: 0a0a 2020 2020 2020 2020 6966 2069 7369  ..        if isi
+00021f10: 6e73 7461 6e63 6528 6578 7072 732c 2073  nstance(exprs, s
+00021f20: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
+00021f30: 2020 2020 2020 7365 6c66 2e65 7870 7273        self.exprs
+00021f40: 203d 205b 7365 6c66 2e5f 6c69 7465 7261   = [self._litera
+00021f50: 6c53 7472 696e 6743 6c61 7373 2865 7870  lStringClass(exp
+00021f60: 7273 295d 0a20 2020 2020 2020 2065 6c69  rs)].        eli
+00021f70: 6620 6973 696e 7374 616e 6365 2865 7870  f isinstance(exp
+00021f80: 7273 2c20 5061 7273 6572 456c 656d 656e  rs, ParserElemen
+00021f90: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+00021fa0: 7365 6c66 2e65 7870 7273 203d 205b 6578  self.exprs = [ex
+00021fb0: 7072 735d 0a20 2020 2020 2020 2065 6c69  prs].        eli
+00021fc0: 6620 6973 696e 7374 616e 6365 2865 7870  f isinstance(exp
+00021fd0: 7273 2c20 4974 6572 6162 6c65 293a 0a20  rs, Iterable):. 
+00021fe0: 2020 2020 2020 2020 2020 2065 7870 7273             exprs
+00021ff0: 203d 206c 6973 7428 6578 7072 7329 0a20   = list(exprs). 
+00022000: 2020 2020 2020 2020 2020 2023 2069 6620             # if 
+00022010: 7365 7175 656e 6365 206f 6620 7374 7269  sequence of stri
+00022020: 6e67 7320 7072 6f76 6964 6564 2c20 7772  ngs provided, wr
+00022030: 6170 2077 6974 6820 4c69 7465 7261 6c0a  ap with Literal.
+00022040: 2020 2020 2020 2020 2020 2020 6966 2061              if a
+00022050: 6e79 2869 7369 6e73 7461 6e63 6528 6578  ny(isinstance(ex
+00022060: 7072 2c20 7374 725f 7479 7065 2920 666f  pr, str_type) fo
+00022070: 7220 6578 7072 2069 6e20 6578 7072 7329  r expr in exprs)
+00022080: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00022090: 2020 6578 7072 7320 3d20 280a 2020 2020    exprs = (.    
+000220a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000220b0: 7365 6c66 2e5f 6c69 7465 7261 6c53 7472  self._literalStr
+000220c0: 696e 6743 6c61 7373 2865 2920 6966 2069  ingClass(e) if i
+000220d0: 7369 6e73 7461 6e63 6528 652c 2073 7472  sinstance(e, str
+000220e0: 5f74 7970 6529 2065 6c73 6520 650a 2020  _type) else e.  
+000220f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022100: 2020 666f 7220 6520 696e 2065 7870 7273    for e in exprs
+00022110: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022120: 2029 0a20 2020 2020 2020 2020 2020 2073   ).            s
+00022130: 656c 662e 6578 7072 7320 3d20 6c69 7374  elf.exprs = list
+00022140: 2865 7870 7273 290a 2020 2020 2020 2020  (exprs).        
+00022150: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00022160: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00022170: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
+00022180: 7320 3d20 6c69 7374 2865 7870 7273 290a  s = list(exprs).
+00022190: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+000221a0: 7074 2054 7970 6545 7272 6f72 3a0a 2020  pt TypeError:.  
+000221b0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000221c0: 6c66 2e65 7870 7273 203d 205b 6578 7072  lf.exprs = [expr
+000221d0: 735d 0a20 2020 2020 2020 2073 656c 662e  s].        self.
+000221e0: 6361 6c6c 5072 6570 6172 7365 203d 2046  callPreparse = F
+000221f0: 616c 7365 0a0a 2020 2020 6465 6620 7265  alse..    def re
+00022200: 6375 7273 6528 7365 6c66 2920 2d3e 204c  curse(self) -> L
+00022210: 6973 745b 5061 7273 6572 456c 656d 656e  ist[ParserElemen
+00022220: 745d 3a0a 2020 2020 2020 2020 7265 7475  t]:.        retu
+00022230: 726e 2073 656c 662e 6578 7072 735b 3a5d  rn self.exprs[:]
+00022240: 0a0a 2020 2020 6465 6620 6170 7065 6e64  ..    def append
+00022250: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
+00022260: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
+00022270: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
+00022280: 7273 2e61 7070 656e 6428 6f74 6865 7229  rs.append(other)
+00022290: 0a20 2020 2020 2020 2073 656c 662e 5f64  .        self._d
+000222a0: 6566 6175 6c74 4e61 6d65 203d 204e 6f6e  efaultName = Non
+000222b0: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
+000222c0: 2073 656c 660a 0a20 2020 2064 6566 206c   self..    def l
+000222d0: 6561 7665 5f77 6869 7465 7370 6163 6528  eave_whitespace(
+000222e0: 7365 6c66 2c20 7265 6375 7273 6976 653a  self, recursive:
+000222f0: 2062 6f6f 6c20 3d20 5472 7565 2920 2d3e   bool = True) ->
+00022300: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
+00022310: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00022320: 2020 2020 4578 7465 6e64 7320 6060 6c65      Extends ``le
+00022330: 6176 655f 7768 6974 6573 7061 6365 6060  ave_whitespace``
+00022340: 2064 6566 696e 6564 2069 6e20 6261 7365   defined in base
+00022350: 2063 6c61 7373 2c20 616e 6420 616c 736f   class, and also
+00022360: 2069 6e76 6f6b 6573 2060 606c 6561 7665   invokes ``leave
+00022370: 5f77 6869 7465 7370 6163 6560 6020 6f6e  _whitespace`` on
+00022380: 0a20 2020 2020 2020 2020 2020 616c 6c20  .           all 
+00022390: 636f 6e74 6169 6e65 6420 6578 7072 6573  contained expres
+000223a0: 7369 6f6e 732e 0a20 2020 2020 2020 2022  sions..        "
+000223b0: 2222 0a20 2020 2020 2020 2073 7570 6572  "".        super
+000223c0: 2829 2e6c 6561 7665 5f77 6869 7465 7370  ().leave_whitesp
+000223d0: 6163 6528 7265 6375 7273 6976 6529 0a0a  ace(recursive)..
+000223e0: 2020 2020 2020 2020 6966 2072 6563 7572          if recur
+000223f0: 7369 7665 3a0a 2020 2020 2020 2020 2020  sive:.          
+00022400: 2020 7365 6c66 2e65 7870 7273 203d 205b    self.exprs = [
+00022410: 652e 636f 7079 2829 2066 6f72 2065 2069  e.copy() for e i
+00022420: 6e20 7365 6c66 2e65 7870 7273 5d0a 2020  n self.exprs].  
+00022430: 2020 2020 2020 2020 2020 666f 7220 6520            for e 
+00022440: 696e 2073 656c 662e 6578 7072 733a 0a20  in self.exprs:. 
+00022450: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00022460: 2e6c 6561 7665 5f77 6869 7465 7370 6163  .leave_whitespac
+00022470: 6528 7265 6375 7273 6976 6529 0a20 2020  e(recursive).   
+00022480: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00022490: 0a0a 2020 2020 6465 6620 6967 6e6f 7265  ..    def ignore
+000224a0: 5f77 6869 7465 7370 6163 6528 7365 6c66  _whitespace(self
+000224b0: 2c20 7265 6375 7273 6976 653a 2062 6f6f  , recursive: boo
+000224c0: 6c20 3d20 5472 7565 2920 2d3e 2050 6172  l = True) -> Par
+000224d0: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
+000224e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000224f0: 4578 7465 6e64 7320 6060 6967 6e6f 7265  Extends ``ignore
+00022500: 5f77 6869 7465 7370 6163 6560 6020 6465  _whitespace`` de
+00022510: 6669 6e65 6420 696e 2062 6173 6520 636c  fined in base cl
+00022520: 6173 732c 2061 6e64 2061 6c73 6f20 696e  ass, and also in
+00022530: 766f 6b65 7320 6060 6c65 6176 655f 7768  vokes ``leave_wh
+00022540: 6974 6573 7061 6365 6060 206f 6e0a 2020  itespace`` on.  
+00022550: 2020 2020 2020 2020 2061 6c6c 2063 6f6e           all con
+00022560: 7461 696e 6564 2065 7870 7265 7373 696f  tained expressio
+00022570: 6e73 2e0a 2020 2020 2020 2020 2222 220a  ns..        """.
+00022580: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+00022590: 6967 6e6f 7265 5f77 6869 7465 7370 6163  ignore_whitespac
+000225a0: 6528 7265 6375 7273 6976 6529 0a20 2020  e(recursive).   
+000225b0: 2020 2020 2069 6620 7265 6375 7273 6976       if recursiv
+000225c0: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+000225d0: 656c 662e 6578 7072 7320 3d20 5b65 2e63  elf.exprs = [e.c
+000225e0: 6f70 7928 2920 666f 7220 6520 696e 2073  opy() for e in s
+000225f0: 656c 662e 6578 7072 735d 0a20 2020 2020  elf.exprs].     
+00022600: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+00022610: 7365 6c66 2e65 7870 7273 3a0a 2020 2020  self.exprs:.    
+00022620: 2020 2020 2020 2020 2020 2020 652e 6967              e.ig
+00022630: 6e6f 7265 5f77 6869 7465 7370 6163 6528  nore_whitespace(
+00022640: 7265 6375 7273 6976 6529 0a20 2020 2020  recursive).     
+00022650: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00022660: 2020 2020 6465 6620 6967 6e6f 7265 2873      def ignore(s
+00022670: 656c 662c 206f 7468 6572 2920 2d3e 2050  elf, other) -> P
+00022680: 6172 7365 7245 6c65 6d65 6e74 3a0a 2020  arserElement:.  
+00022690: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+000226a0: 6e63 6528 6f74 6865 722c 2053 7570 7072  nce(other, Suppr
+000226b0: 6573 7329 3a0a 2020 2020 2020 2020 2020  ess):.          
+000226c0: 2020 6966 206f 7468 6572 206e 6f74 2069    if other not i
+000226d0: 6e20 7365 6c66 2e69 676e 6f72 6545 7870  n self.ignoreExp
+000226e0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
+000226f0: 2020 2020 7375 7065 7228 292e 6967 6e6f      super().igno
+00022700: 7265 286f 7468 6572 290a 2020 2020 2020  re(other).      
+00022710: 2020 2020 2020 2020 2020 666f 7220 6520            for e 
+00022720: 696e 2073 656c 662e 6578 7072 733a 0a20  in self.exprs:. 
+00022730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022740: 2020 2065 2e69 676e 6f72 6528 7365 6c66     e.ignore(self
+00022750: 2e69 676e 6f72 6545 7870 7273 5b2d 315d  .ignoreExprs[-1]
+00022760: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+00022770: 2020 2020 2020 2020 2020 2020 7375 7065              supe
+00022780: 7228 292e 6967 6e6f 7265 286f 7468 6572  r().ignore(other
+00022790: 290a 2020 2020 2020 2020 2020 2020 666f  ).            fo
+000227a0: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+000227b0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+000227c0: 2020 2065 2e69 676e 6f72 6528 7365 6c66     e.ignore(self
+000227d0: 2e69 676e 6f72 6545 7870 7273 5b2d 315d  .ignoreExprs[-1]
+000227e0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+000227f0: 2073 656c 660a 0a20 2020 2064 6566 205f   self..    def _
+00022800: 6765 6e65 7261 7465 4465 6661 756c 744e  generateDefaultN
+00022810: 616d 6528 7365 6c66 2920 2d3e 2073 7472  ame(self) -> str
+00022820: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+00022830: 2066 227b 7365 6c66 2e5f 5f63 6c61 7373   f"{self.__class
+00022840: 5f5f 2e5f 5f6e 616d 655f 5f7d 3a28 7b73  __.__name__}:({s
+00022850: 7472 2873 656c 662e 6578 7072 7329 7d29  tr(self.exprs)})
+00022860: 220a 0a20 2020 2064 6566 2073 7472 6561  "..    def strea
+00022870: 6d6c 696e 6528 7365 6c66 2920 2d3e 2050  mline(self) -> P
+00022880: 6172 7365 7245 6c65 6d65 6e74 3a0a 2020  arserElement:.  
+00022890: 2020 2020 2020 6966 2073 656c 662e 7374        if self.st
+000228a0: 7265 616d 6c69 6e65 643a 0a20 2020 2020  reamlined:.     
+000228b0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+000228c0: 6c66 0a0a 2020 2020 2020 2020 7375 7065  lf..        supe
+000228d0: 7228 292e 7374 7265 616d 6c69 6e65 2829  r().streamline()
+000228e0: 0a0a 2020 2020 2020 2020 666f 7220 6520  ..        for e 
+000228f0: 696e 2073 656c 662e 6578 7072 733a 0a20  in self.exprs:. 
+00022900: 2020 2020 2020 2020 2020 2065 2e73 7472             e.str
+00022910: 6561 6d6c 696e 6528 290a 0a20 2020 2020  eamline()..     
+00022920: 2020 2023 2063 6f6c 6c61 7073 6520 6e65     # collapse ne
+00022930: 7374 6564 203a 636c 6173 733a 6041 6e64  sted :class:`And
+00022940: 6027 7320 6f66 2074 6865 2066 6f72 6d20  `'s of the form 
+00022950: 6060 416e 6428 416e 6428 416e 6428 612c  ``And(And(And(a,
+00022960: 2062 292c 2063 292c 2064 2960 6020 746f   b), c), d)`` to
+00022970: 2060 6041 6e64 2861 2c20 622c 2063 2c20   ``And(a, b, c, 
+00022980: 6429 6060 0a20 2020 2020 2020 2023 2062  d)``.        # b
+00022990: 7574 206f 6e6c 7920 6966 2074 6865 7265  ut only if there
+000229a0: 2061 7265 206e 6f20 7061 7273 6520 6163   are no parse ac
+000229b0: 7469 6f6e 7320 6f72 2072 6573 756c 7473  tions or results
+000229c0: 4e61 6d65 7320 6f6e 2074 6865 206e 6573  Names on the nes
+000229d0: 7465 6420 416e 6427 730a 2020 2020 2020  ted And's.      
+000229e0: 2020 2320 286c 696b 6577 6973 6520 666f    # (likewise fo
+000229f0: 7220 3a63 6c61 7373 3a60 4f72 6027 7320  r :class:`Or`'s 
+00022a00: 616e 6420 3a63 6c61 7373 3a60 4d61 7463  and :class:`Matc
+00022a10: 6846 6972 7374 6027 7329 0a20 2020 2020  hFirst`'s).     
+00022a20: 2020 2069 6620 6c65 6e28 7365 6c66 2e65     if len(self.e
+00022a30: 7870 7273 2920 3d3d 2032 3a0a 2020 2020  xprs) == 2:.    
+00022a40: 2020 2020 2020 2020 6f74 6865 7220 3d20          other = 
+00022a50: 7365 6c66 2e65 7870 7273 5b30 5d0a 2020  self.exprs[0].  
+00022a60: 2020 2020 2020 2020 2020 6966 2028 0a20            if (. 
+00022a70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00022a80: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
+00022a90: 2073 656c 662e 5f5f 636c 6173 735f 5f29   self.__class__)
+00022aa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022ab0: 2061 6e64 206e 6f74 206f 7468 6572 2e70   and not other.p
+00022ac0: 6172 7365 4163 7469 6f6e 0a20 2020 2020  arseAction.     
+00022ad0: 2020 2020 2020 2020 2020 2061 6e64 206f             and o
+00022ae0: 7468 6572 2e72 6573 756c 7473 4e61 6d65  ther.resultsName
+00022af0: 2069 7320 4e6f 6e65 0a20 2020 2020 2020   is None.       
+00022b00: 2020 2020 2020 2020 2061 6e64 206e 6f74           and not
+00022b10: 206f 7468 6572 2e64 6562 7567 0a20 2020   other.debug.   
+00022b20: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
+00022b30: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00022b40: 2e65 7870 7273 203d 206f 7468 6572 2e65  .exprs = other.e
+00022b50: 7870 7273 5b3a 5d20 2b20 5b73 656c 662e  xprs[:] + [self.
+00022b60: 6578 7072 735b 315d 5d0a 2020 2020 2020  exprs[1]].      
+00022b70: 2020 2020 2020 2020 2020 7365 6c66 2e5f            self._
+00022b80: 6465 6661 756c 744e 616d 6520 3d20 4e6f  defaultName = No
+00022b90: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
+00022ba0: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
+00022bb0: 6e45 6d70 7479 207c 3d20 6f74 6865 722e  nEmpty |= other.
+00022bc0: 6d61 7952 6574 7572 6e45 6d70 7479 0a20  mayReturnEmpty. 
+00022bd0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00022be0: 656c 662e 6d61 7949 6e64 6578 4572 726f  elf.mayIndexErro
+00022bf0: 7220 7c3d 206f 7468 6572 2e6d 6179 496e  r |= other.mayIn
+00022c00: 6465 7845 7272 6f72 0a0a 2020 2020 2020  dexError..      
+00022c10: 2020 2020 2020 6f74 6865 7220 3d20 7365        other = se
+00022c20: 6c66 2e65 7870 7273 5b2d 315d 0a20 2020  lf.exprs[-1].   
+00022c30: 2020 2020 2020 2020 2069 6620 280a 2020           if (.  
+00022c40: 2020 2020 2020 2020 2020 2020 2020 6973                is
+00022c50: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+00022c60: 7365 6c66 2e5f 5f63 6c61 7373 5f5f 290a  self.__class__).
+00022c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022c80: 616e 6420 6e6f 7420 6f74 6865 722e 7061  and not other.pa
+00022c90: 7273 6541 6374 696f 6e0a 2020 2020 2020  rseAction.      
+00022ca0: 2020 2020 2020 2020 2020 616e 6420 6f74            and ot
+00022cb0: 6865 722e 7265 7375 6c74 734e 616d 6520  her.resultsName 
+00022cc0: 6973 204e 6f6e 650a 2020 2020 2020 2020  is None.        
+00022cd0: 2020 2020 2020 2020 616e 6420 6e6f 7420          and not 
+00022ce0: 6f74 6865 722e 6465 6275 670a 2020 2020  other.debug.    
+00022cf0: 2020 2020 2020 2020 293a 0a20 2020 2020          ):.     
+00022d00: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00022d10: 6578 7072 7320 3d20 7365 6c66 2e65 7870  exprs = self.exp
+00022d20: 7273 5b3a 2d31 5d20 2b20 6f74 6865 722e  rs[:-1] + other.
+00022d30: 6578 7072 735b 3a5d 0a20 2020 2020 2020  exprs[:].       
+00022d40: 2020 2020 2020 2020 2073 656c 662e 5f64           self._d
+00022d50: 6566 6175 6c74 4e61 6d65 203d 204e 6f6e  efaultName = Non
+00022d60: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+00022d70: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
+00022d80: 456d 7074 7920 7c3d 206f 7468 6572 2e6d  Empty |= other.m
+00022d90: 6179 5265 7475 726e 456d 7074 790a 2020  ayReturnEmpty.  
+00022da0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00022db0: 6c66 2e6d 6179 496e 6465 7845 7272 6f72  lf.mayIndexError
+00022dc0: 207c 3d20 6f74 6865 722e 6d61 7949 6e64   |= other.mayInd
+00022dd0: 6578 4572 726f 720a 0a20 2020 2020 2020  exError..       
+00022de0: 2073 656c 662e 6572 726d 7367 203d 2022   self.errmsg = "
+00022df0: 4578 7065 6374 6564 2022 202b 2073 7472  Expected " + str
+00022e00: 2873 656c 6629 0a0a 2020 2020 2020 2020  (self)..        
+00022e10: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+00022e20: 2064 6566 2076 616c 6964 6174 6528 7365   def validate(se
+00022e30: 6c66 2c20 7661 6c69 6461 7465 5472 6163  lf, validateTrac
+00022e40: 653d 4e6f 6e65 2920 2d3e 204e 6f6e 653a  e=None) -> None:
+00022e50: 0a20 2020 2020 2020 2077 6172 6e69 6e67  .        warning
+00022e60: 732e 7761 726e 280a 2020 2020 2020 2020  s.warn(.        
+00022e70: 2020 2020 2250 6172 7365 7245 6c65 6d65      "ParserEleme
+00022e80: 6e74 2e76 616c 6964 6174 6528 2920 6973  nt.validate() is
+00022e90: 2064 6570 7265 6361 7465 642c 2061 6e64   deprecated, and
+00022ea0: 2073 686f 756c 6420 6e6f 7420 6265 2075   should not be u
+00022eb0: 7365 6420 746f 2063 6865 636b 2066 6f72  sed to check for
+00022ec0: 206c 6566 7420 7265 6375 7273 696f 6e22   left recursion"
+00022ed0: 2c0a 2020 2020 2020 2020 2020 2020 4465  ,.            De
+00022ee0: 7072 6563 6174 696f 6e57 6172 6e69 6e67  precationWarning
+00022ef0: 2c0a 2020 2020 2020 2020 2020 2020 7374  ,.            st
+00022f00: 6163 6b6c 6576 656c 3d32 2c0a 2020 2020  acklevel=2,.    
+00022f10: 2020 2020 290a 2020 2020 2020 2020 746d      ).        tm
+00022f20: 7020 3d20 2876 616c 6964 6174 6554 7261  p = (validateTra
+00022f30: 6365 2069 6620 7661 6c69 6461 7465 5472  ce if validateTr
+00022f40: 6163 6520 6973 206e 6f74 204e 6f6e 6520  ace is not None 
+00022f50: 656c 7365 205b 5d29 5b3a 5d20 2b20 5b73  else [])[:] + [s
+00022f60: 656c 665d 0a20 2020 2020 2020 2066 6f72  elf].        for
+00022f70: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
+00022f80: 3a0a 2020 2020 2020 2020 2020 2020 652e  :.            e.
+00022f90: 7661 6c69 6461 7465 2874 6d70 290a 2020  validate(tmp).  
+00022fa0: 2020 2020 2020 7365 6c66 2e5f 6368 6563        self._chec
+00022fb0: 6b52 6563 7572 7369 6f6e 285b 5d29 0a0a  kRecursion([])..
+00022fc0: 2020 2020 6465 6620 636f 7079 2873 656c      def copy(sel
+00022fd0: 6629 202d 3e20 5061 7273 6572 456c 656d  f) -> ParserElem
+00022fe0: 656e 743a 0a20 2020 2020 2020 2072 6574  ent:.        ret
+00022ff0: 203d 2073 7570 6572 2829 2e63 6f70 7928   = super().copy(
+00023000: 290a 2020 2020 2020 2020 7265 7420 3d20  ).        ret = 
+00023010: 7479 7069 6e67 2e63 6173 7428 5061 7273  typing.cast(Pars
+00023020: 6545 7870 7265 7373 696f 6e2c 2072 6574  eExpression, ret
+00023030: 290a 2020 2020 2020 2020 7265 742e 6578  ).        ret.ex
+00023040: 7072 7320 3d20 5b65 2e63 6f70 7928 2920  prs = [e.copy() 
+00023050: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+00023060: 7072 735d 0a20 2020 2020 2020 2072 6574  prs].        ret
+00023070: 7572 6e20 7265 740a 0a20 2020 2064 6566  urn ret..    def
+00023080: 205f 7365 7452 6573 756c 7473 4e61 6d65   _setResultsName
+00023090: 2873 656c 662c 206e 616d 652c 206c 6973  (self, name, lis
+000230a0: 7441 6c6c 4d61 7463 6865 733d 4661 6c73  tAllMatches=Fals
+000230b0: 6529 3a0a 2020 2020 2020 2020 6966 2028  e):.        if (
+000230c0: 0a20 2020 2020 2020 2020 2020 205f 5f64  .            __d
+000230d0: 6961 675f 5f2e 7761 726e 5f75 6e67 726f  iag__.warn_ungro
+000230e0: 7570 6564 5f6e 616d 6564 5f74 6f6b 656e  uped_named_token
+000230f0: 735f 696e 5f63 6f6c 6c65 6374 696f 6e0a  s_in_collection.
+00023100: 2020 2020 2020 2020 2020 2020 616e 6420              and 
+00023110: 4469 6167 6e6f 7374 6963 732e 7761 726e  Diagnostics.warn
+00023120: 5f75 6e67 726f 7570 6564 5f6e 616d 6564  _ungrouped_named
+00023130: 5f74 6f6b 656e 735f 696e 5f63 6f6c 6c65  _tokens_in_colle
+00023140: 6374 696f 6e0a 2020 2020 2020 2020 2020  ction.          
+00023150: 2020 6e6f 7420 696e 2073 656c 662e 7375    not in self.su
+00023160: 7070 7265 7373 5f77 6172 6e69 6e67 735f  ppress_warnings_
+00023170: 0a20 2020 2020 2020 2029 3a0a 2020 2020  .        ):.    
+00023180: 2020 2020 2020 2020 666f 7220 6520 696e          for e in
+00023190: 2073 656c 662e 6578 7072 733a 0a20 2020   self.exprs:.   
+000231a0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000231b0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000231c0: 2020 2020 2020 6973 696e 7374 616e 6365        isinstance
+000231d0: 2865 2c20 5061 7273 6572 456c 656d 656e  (e, ParserElemen
+000231e0: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
+000231f0: 2020 2020 2020 2061 6e64 2065 2e72 6573         and e.res
+00023200: 756c 7473 4e61 6d65 0a20 2020 2020 2020  ultsName.       
+00023210: 2020 2020 2020 2020 2020 2020 2061 6e64               and
+00023220: 2044 6961 676e 6f73 7469 6373 2e77 6172   Diagnostics.war
+00023230: 6e5f 756e 6772 6f75 7065 645f 6e61 6d65  n_ungrouped_name
+00023240: 645f 746f 6b65 6e73 5f69 6e5f 636f 6c6c  d_tokens_in_coll
+00023250: 6563 7469 6f6e 0a20 2020 2020 2020 2020  ection.         
+00023260: 2020 2020 2020 2020 2020 206e 6f74 2069             not i
+00023270: 6e20 652e 7375 7070 7265 7373 5f77 6172  n e.suppress_war
+00023280: 6e69 6e67 735f 0a20 2020 2020 2020 2020  nings_.         
+00023290: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
+000232a0: 2020 2020 2020 2020 2020 2020 2020 7761                wa
+000232b0: 726e 696e 6773 2e77 6172 6e28 0a20 2020  rnings.warn(.   
+000232c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000232d0: 2020 2020 2022 7b7d 3a20 7365 7474 696e       "{}: settin
+000232e0: 6720 7265 7375 6c74 7320 6e61 6d65 207b  g results name {
+000232f0: 2172 7d20 6f6e 207b 7d20 6578 7072 6573  !r} on {} expres
+00023300: 7369 6f6e 2022 0a20 2020 2020 2020 2020  sion ".         
+00023310: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00023320: 636f 6c6c 6964 6573 2077 6974 6820 7b21  collides with {!
+00023330: 727d 206f 6e20 636f 6e74 6169 6e65 6420  r} on contained 
+00023340: 6578 7072 6573 7369 6f6e 222e 666f 726d  expression".form
+00023350: 6174 280a 2020 2020 2020 2020 2020 2020  at(.            
+00023360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023370: 2277 6172 6e5f 756e 6772 6f75 7065 645f  "warn_ungrouped_
+00023380: 6e61 6d65 645f 746f 6b65 6e73 5f69 6e5f  named_tokens_in_
+00023390: 636f 6c6c 6563 7469 6f6e 222c 0a20 2020  collection",.   
+000233a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000233b0: 2020 2020 2020 2020 206e 616d 652c 0a20           name,. 
+000233c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000233d0: 2020 2020 2020 2020 2020 2074 7970 6528             type(
+000233e0: 7365 6c66 292e 5f5f 6e61 6d65 5f5f 2c0a  self).__name__,.
+000233f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023400: 2020 2020 2020 2020 2020 2020 652e 7265              e.re
+00023410: 7375 6c74 734e 616d 652c 0a20 2020 2020  sultsName,.     
+00023420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023430: 2020 2029 2c0a 2020 2020 2020 2020 2020     ),.          
+00023440: 2020 2020 2020 2020 2020 2020 2020 7374                st
+00023450: 6163 6b6c 6576 656c 3d33 2c0a 2020 2020  acklevel=3,.    
+00023460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023470: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+00023480: 6e20 7375 7065 7228 292e 5f73 6574 5265  n super()._setRe
+00023490: 7375 6c74 734e 616d 6528 6e61 6d65 2c20  sultsName(name, 
+000234a0: 6c69 7374 416c 6c4d 6174 6368 6573 290a  listAllMatches).
+000234b0: 0a20 2020 2023 2043 6f6d 7061 7469 6269  .    # Compatibi
+000234c0: 6c69 7479 2073 796e 6f6e 796d 730a 2020  lity synonyms.  
+000234d0: 2020 2320 666d 743a 206f 6666 0a20 2020    # fmt: off.   
+000234e0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
+000234f0: 7038 286c 6561 7665 5f77 6869 7465 7370  p8(leave_whitesp
+00023500: 6163 6529 0a20 2020 2064 6566 206c 6561  ace).    def lea
+00023510: 7665 5768 6974 6573 7061 6365 2873 656c  veWhitespace(sel
+00023520: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7265  f): .....    @re
+00023530: 706c 6163 6564 5f62 795f 7065 7038 2869  placed_by_pep8(i
+00023540: 676e 6f72 655f 7768 6974 6573 7061 6365  gnore_whitespace
+00023550: 290a 2020 2020 6465 6620 6967 6e6f 7265  ).    def ignore
+00023560: 5768 6974 6573 7061 6365 2873 656c 6629  Whitespace(self)
+00023570: 3a20 2e2e 2e0a 2020 2020 2320 666d 743a  : ....    # fmt:
+00023580: 206f 6e0a 0a0a 636c 6173 7320 416e 6428   on...class And(
+00023590: 5061 7273 6545 7870 7265 7373 696f 6e29  ParseExpression)
+000235a0: 3a0a 2020 2020 2222 220a 2020 2020 5265  :.    """.    Re
+000235b0: 7175 6972 6573 2061 6c6c 2067 6976 656e  quires all given
+000235c0: 203a 636c 6173 733a 6050 6172 7365 4578   :class:`ParseEx
+000235d0: 7072 6573 7369 6f6e 6020 7320 746f 2062  pression` s to b
+000235e0: 6520 666f 756e 6420 696e 2074 6865 2067  e found in the g
+000235f0: 6976 656e 206f 7264 6572 2e0a 2020 2020  iven order..    
+00023600: 4578 7072 6573 7369 6f6e 7320 6d61 7920  Expressions may 
+00023610: 6265 2073 6570 6172 6174 6564 2062 7920  be separated by 
+00023620: 7768 6974 6573 7061 6365 2e0a 2020 2020  whitespace..    
+00023630: 4d61 7920 6265 2063 6f6e 7374 7275 6374  May be construct
+00023640: 6564 2075 7369 6e67 2074 6865 2060 6027  ed using the ``'
+00023650: 2b27 6060 206f 7065 7261 746f 722e 0a20  +'`` operator.. 
+00023660: 2020 204d 6179 2061 6c73 6f20 6265 2063     May also be c
+00023670: 6f6e 7374 7275 6374 6564 2075 7369 6e67  onstructed using
+00023680: 2074 6865 2060 6027 2d27 6060 206f 7065   the ``'-'`` ope
+00023690: 7261 746f 722c 2077 6869 6368 2077 696c  rator, which wil
+000236a0: 6c0a 2020 2020 7375 7070 7265 7373 2062  l.    suppress b
+000236b0: 6163 6b74 7261 636b 696e 672e 0a0a 2020  acktracking...  
+000236c0: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+000236d0: 2020 2020 2069 6e74 6567 6572 203d 2057       integer = W
+000236e0: 6f72 6428 6e75 6d73 290a 2020 2020 2020  ord(nums).      
+000236f0: 2020 6e61 6d65 5f65 7870 7220 3d20 576f    name_expr = Wo
+00023700: 7264 2861 6c70 6861 7329 5b31 2c20 2e2e  rd(alphas)[1, ..
+00023710: 2e5d 0a0a 2020 2020 2020 2020 6578 7072  .]..        expr
+00023720: 203d 2041 6e64 285b 696e 7465 6765 7228   = And([integer(
+00023730: 2269 6422 292c 206e 616d 655f 6578 7072  "id"), name_expr
+00023740: 2822 6e61 6d65 2229 2c20 696e 7465 6765  ("name"), intege
+00023750: 7228 2261 6765 2229 5d29 0a20 2020 2020  r("age")]).     
+00023760: 2020 2023 206d 6f72 6520 6561 7369 6c79     # more easily
+00023770: 2077 7269 7474 656e 2061 733a 0a20 2020   written as:.   
+00023780: 2020 2020 2065 7870 7220 3d20 696e 7465       expr = inte
+00023790: 6765 7228 2269 6422 2920 2b20 6e61 6d65  ger("id") + name
+000237a0: 5f65 7870 7228 226e 616d 6522 2920 2b20  _expr("name") + 
+000237b0: 696e 7465 6765 7228 2261 6765 2229 0a20  integer("age"). 
+000237c0: 2020 2022 2222 0a0a 2020 2020 636c 6173     """..    clas
+000237d0: 7320 5f45 7272 6f72 5374 6f70 2845 6d70  s _ErrorStop(Emp
+000237e0: 7479 293a 0a20 2020 2020 2020 2064 6566  ty):.        def
+000237f0: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
+00023800: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
+00023810: 3a0a 2020 2020 2020 2020 2020 2020 7375  :.            su
+00023820: 7065 7228 292e 5f5f 696e 6974 5f5f 282a  per().__init__(*
+00023830: 6172 6773 2c20 2a2a 6b77 6172 6773 290a  args, **kwargs).
+00023840: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00023850: 2e6c 6561 7665 5f77 6869 7465 7370 6163  .leave_whitespac
+00023860: 6528 290a 0a20 2020 2020 2020 2064 6566  e()..        def
+00023870: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
+00023880: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
+00023890: 7472 3a0a 2020 2020 2020 2020 2020 2020  tr:.            
+000238a0: 7265 7475 726e 2022 2d22 0a0a 2020 2020  return "-"..    
+000238b0: 6465 6620 5f5f 696e 6974 5f5f 280a 2020  def __init__(.  
+000238c0: 2020 2020 2020 7365 6c66 2c20 6578 7072        self, expr
+000238d0: 735f 6172 673a 2074 7970 696e 672e 4974  s_arg: typing.It
+000238e0: 6572 6162 6c65 5b50 6172 7365 7245 6c65  erable[ParserEle
+000238f0: 6d65 6e74 5d2c 2073 6176 656c 6973 743a  ment], savelist:
+00023900: 2062 6f6f 6c20 3d20 5472 7565 0a20 2020   bool = True.   
+00023910: 2029 3a0a 2020 2020 2020 2020 6578 7072   ):.        expr
+00023920: 733a 204c 6973 745b 5061 7273 6572 456c  s: List[ParserEl
+00023930: 656d 656e 745d 203d 206c 6973 7428 6578  ement] = list(ex
+00023940: 7072 735f 6172 6729 0a20 2020 2020 2020  prs_arg).       
+00023950: 2069 6620 6578 7072 7320 616e 6420 456c   if exprs and El
+00023960: 6c69 7073 6973 2069 6e20 6578 7072 733a  lipsis in exprs:
+00023970: 0a20 2020 2020 2020 2020 2020 2074 6d70  .            tmp
+00023980: 203d 205b 5d0a 2020 2020 2020 2020 2020   = [].          
+00023990: 2020 666f 7220 692c 2065 7870 7220 696e    for i, expr in
+000239a0: 2065 6e75 6d65 7261 7465 2865 7870 7273   enumerate(exprs
+000239b0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+000239c0: 2020 2069 6620 6578 7072 2069 7320 456c     if expr is El
+000239d0: 6c69 7073 6973 3a0a 2020 2020 2020 2020  lipsis:.        
+000239e0: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+000239f0: 203c 206c 656e 2865 7870 7273 2920 2d20   < len(exprs) - 
+00023a00: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
+00023a10: 2020 2020 2020 2020 2020 2073 6b69 7074             skipt
+00023a20: 6f5f 6172 673a 2050 6172 7365 7245 6c65  o_arg: ParserEle
+00023a30: 6d65 6e74 203d 2074 7970 696e 672e 6361  ment = typing.ca
+00023a40: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
+00023a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023a60: 5061 7273 6545 7870 7265 7373 696f 6e2c  ParseExpression,
+00023a70: 2028 456d 7074 7928 2920 2b20 6578 7072   (Empty() + expr
+00023a80: 735b 6920 2b20 315d 290a 2020 2020 2020  s[i + 1]).      
+00023a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023aa0: 2020 292e 6578 7072 735b 2d31 5d0a 2020    ).exprs[-1].  
+00023ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023ac0: 2020 2020 2020 746d 702e 6170 7065 6e64        tmp.append
+00023ad0: 2853 6b69 7054 6f28 736b 6970 746f 5f61  (SkipTo(skipto_a
+00023ae0: 7267 2928 225f 736b 6970 7065 642a 2229  rg)("_skipped*")
+00023af0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00023b00: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00023b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023b20: 2020 2020 7261 6973 6520 4578 6365 7074      raise Except
+00023b30: 696f 6e28 0a20 2020 2020 2020 2020 2020  ion(.           
+00023b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023b50: 2022 6361 6e6e 6f74 2063 6f6e 7374 7275   "cannot constru
+00023b60: 6374 2041 6e64 2077 6974 6820 7365 7175  ct And with sequ
+00023b70: 656e 6365 2065 6e64 696e 6720 696e 202e  ence ending in .
+00023b80: 2e2e 220a 2020 2020 2020 2020 2020 2020  ..".            
+00023b90: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00023ba0: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00023bb0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00023bc0: 2020 2020 2020 2020 746d 702e 6170 7065          tmp.appe
+00023bd0: 6e64 2865 7870 7229 0a20 2020 2020 2020  nd(expr).       
+00023be0: 2020 2020 2065 7870 7273 5b3a 5d20 3d20       exprs[:] = 
+00023bf0: 746d 700a 2020 2020 2020 2020 7375 7065  tmp.        supe
+00023c00: 7228 292e 5f5f 696e 6974 5f5f 2865 7870  r().__init__(exp
+00023c10: 7273 2c20 7361 7665 6c69 7374 290a 2020  rs, savelist).  
+00023c20: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
+00023c30: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
+00023c40: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
+00023c50: 6d70 7479 203d 2061 6c6c 2865 2e6d 6179  mpty = all(e.may
+00023c60: 5265 7475 726e 456d 7074 7920 666f 7220  ReturnEmpty for 
+00023c70: 6520 696e 2073 656c 662e 6578 7072 7329  e in self.exprs)
+00023c80: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00023c90: 6e6f 7420 6973 696e 7374 616e 6365 2873  not isinstance(s
+00023ca0: 656c 662e 6578 7072 735b 305d 2c20 5768  elf.exprs[0], Wh
+00023cb0: 6974 6529 3a0a 2020 2020 2020 2020 2020  ite):.          
+00023cc0: 2020 2020 2020 7365 6c66 2e73 6574 5f77        self.set_w
+00023cd0: 6869 7465 7370 6163 655f 6368 6172 7328  hitespace_chars(
+00023ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023cf0: 2020 2020 2073 656c 662e 6578 7072 735b       self.exprs[
+00023d00: 305d 2e77 6869 7465 4368 6172 732c 0a20  0].whiteChars,. 
+00023d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023d20: 2020 2063 6f70 795f 6465 6661 756c 7473     copy_defaults
+00023d30: 3d73 656c 662e 6578 7072 735b 305d 2e63  =self.exprs[0].c
+00023d40: 6f70 7944 6566 6175 6c74 5768 6974 6543  opyDefaultWhiteC
+00023d50: 6861 7273 2c0a 2020 2020 2020 2020 2020  hars,.          
+00023d60: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00023d70: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
+00023d80: 7057 6869 7465 7370 6163 6520 3d20 7365  pWhitespace = se
+00023d90: 6c66 2e65 7870 7273 5b30 5d2e 736b 6970  lf.exprs[0].skip
+00023da0: 5768 6974 6573 7061 6365 0a20 2020 2020  Whitespace.     
+00023db0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00023dc0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00023dd0: 662e 736b 6970 5768 6974 6573 7061 6365  f.skipWhitespace
+00023de0: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
+00023df0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00023e00: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
+00023e10: 6e45 6d70 7479 203d 2054 7275 650a 2020  nEmpty = True.  
+00023e20: 2020 2020 2020 7365 6c66 2e63 616c 6c50        self.callP
+00023e30: 7265 7061 7273 6520 3d20 5472 7565 0a0a  reparse = True..
+00023e40: 2020 2020 6465 6620 7374 7265 616d 6c69      def streamli
+00023e50: 6e65 2873 656c 6629 202d 3e20 5061 7273  ne(self) -> Pars
+00023e60: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
+00023e70: 2020 2023 2063 6f6c 6c61 7073 6520 616e     # collapse an
+00023e80: 7920 5f50 656e 6469 6e67 536b 6970 2773  y _PendingSkip's
+00023e90: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00023ea0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
+00023eb0: 2020 2020 6966 2061 6e79 280a 2020 2020      if any(.    
+00023ec0: 2020 2020 2020 2020 2020 2020 6973 696e              isin
+00023ed0: 7374 616e 6365 2865 2c20 5061 7273 6545  stance(e, ParseE
+00023ee0: 7870 7265 7373 696f 6e29 0a20 2020 2020  xpression).     
+00023ef0: 2020 2020 2020 2020 2020 2061 6e64 2065             and e
+00023f00: 2e65 7870 7273 0a20 2020 2020 2020 2020  .exprs.         
+00023f10: 2020 2020 2020 2061 6e64 2069 7369 6e73         and isins
+00023f20: 7461 6e63 6528 652e 6578 7072 735b 2d31  tance(e.exprs[-1
+00023f30: 5d2c 205f 5065 6e64 696e 6753 6b69 7029  ], _PendingSkip)
+00023f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023f50: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
+00023f60: 7870 7273 5b3a 2d31 5d0a 2020 2020 2020  xprs[:-1].      
+00023f70: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
+00023f80: 2020 2020 2020 2020 2064 656c 6574 6564           deleted
+00023f90: 5f65 7870 725f 6d61 726b 6572 203d 204e  _expr_marker = N
+00023fa0: 6f4d 6174 6368 2829 0a20 2020 2020 2020  oMatch().       
+00023fb0: 2020 2020 2020 2020 2066 6f72 2069 2c20           for i, 
+00023fc0: 6520 696e 2065 6e75 6d65 7261 7465 2873  e in enumerate(s
+00023fd0: 656c 662e 6578 7072 735b 3a2d 315d 293a  elf.exprs[:-1]):
+00023fe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023ff0: 2020 2020 2069 6620 6520 6973 2064 656c       if e is del
+00024000: 6574 6564 5f65 7870 725f 6d61 726b 6572  eted_expr_marker
+00024010: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024020: 2020 2020 2020 2020 2020 636f 6e74 696e            contin
+00024030: 7565 0a20 2020 2020 2020 2020 2020 2020  ue.             
+00024040: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
+00024050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024060: 2020 2020 6973 696e 7374 616e 6365 2865      isinstance(e
+00024070: 2c20 5061 7273 6545 7870 7265 7373 696f  , ParseExpressio
+00024080: 6e29 0a20 2020 2020 2020 2020 2020 2020  n).             
+00024090: 2020 2020 2020 2020 2020 2061 6e64 2065             and e
+000240a0: 2e65 7870 7273 0a20 2020 2020 2020 2020  .exprs.         
+000240b0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+000240c0: 6e64 2069 7369 6e73 7461 6e63 6528 652e  nd isinstance(e.
+000240d0: 6578 7072 735b 2d31 5d2c 205f 5065 6e64  exprs[-1], _Pend
+000240e0: 696e 6753 6b69 7029 0a20 2020 2020 2020  ingSkip).       
+000240f0: 2020 2020 2020 2020 2020 2020 2029 3a0a               ):.
+00024100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024110: 2020 2020 2020 2020 652e 6578 7072 735b          e.exprs[
+00024120: 2d31 5d20 3d20 652e 6578 7072 735b 2d31  -1] = e.exprs[-1
+00024130: 5d20 2b20 7365 6c66 2e65 7870 7273 5b69  ] + self.exprs[i
+00024140: 202b 2031 5d0a 2020 2020 2020 2020 2020   + 1].          
+00024150: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00024160: 6c66 2e65 7870 7273 5b69 202b 2031 5d20  lf.exprs[i + 1] 
+00024170: 3d20 6465 6c65 7465 645f 6578 7072 5f6d  = deleted_expr_m
+00024180: 6172 6b65 720a 2020 2020 2020 2020 2020  arker.          
+00024190: 2020 2020 2020 7365 6c66 2e65 7870 7273        self.exprs
+000241a0: 203d 205b 6520 666f 7220 6520 696e 2073   = [e for e in s
+000241b0: 656c 662e 6578 7072 7320 6966 2065 2069  elf.exprs if e i
+000241c0: 7320 6e6f 7420 6465 6c65 7465 645f 6578  s not deleted_ex
+000241d0: 7072 5f6d 6172 6b65 725d 0a0a 2020 2020  pr_marker]..    
+000241e0: 2020 2020 7375 7065 7228 292e 7374 7265      super().stre
+000241f0: 616d 6c69 6e65 2829 0a0a 2020 2020 2020  amline()..      
+00024200: 2020 2320 6c69 6e6b 2061 6e79 2049 6e64    # link any Ind
+00024210: 656e 7465 6442 6c6f 636b 7320 746f 2074  entedBlocks to t
+00024220: 6865 2070 7269 6f72 2065 7870 7265 7373  he prior express
+00024230: 696f 6e0a 2020 2020 2020 2020 7072 6576  ion.        prev
+00024240: 3a20 5061 7273 6572 456c 656d 656e 740a  : ParserElement.
+00024250: 2020 2020 2020 2020 6375 723a 2050 6172          cur: Par
+00024260: 7365 7245 6c65 6d65 6e74 0a20 2020 2020  serElement.     
+00024270: 2020 2066 6f72 2070 7265 762c 2063 7572     for prev, cur
+00024280: 2069 6e20 7a69 7028 7365 6c66 2e65 7870   in zip(self.exp
+00024290: 7273 2c20 7365 6c66 2e65 7870 7273 5b31  rs, self.exprs[1
+000242a0: 3a5d 293a 0a20 2020 2020 2020 2020 2020  :]):.           
+000242b0: 2023 2074 7261 7665 7273 6520 6375 7220   # traverse cur 
+000242c0: 6f72 2061 6e79 2066 6972 7374 2065 6d62  or any first emb
+000242d0: 6564 6465 6420 6578 7072 206f 6620 6375  edded expr of cu
+000242e0: 7220 6c6f 6f6b 696e 6720 666f 7220 616e  r looking for an
+000242f0: 2049 6e64 656e 7465 6442 6c6f 636b 0a20   IndentedBlock. 
+00024300: 2020 2020 2020 2020 2020 2023 2028 6275             # (bu
+00024310: 7420 7761 7463 6820 6f75 7420 666f 7220  t watch out for 
+00024320: 7265 6375 7273 6976 6520 6772 616d 6d61  recursive gramma
+00024330: 7229 0a20 2020 2020 2020 2020 2020 2073  r).            s
+00024340: 6565 6e20 3d20 7365 7428 290a 2020 2020  een = set().    
+00024350: 2020 2020 2020 2020 7768 696c 6520 5472          while Tr
+00024360: 7565 3a0a 2020 2020 2020 2020 2020 2020  ue:.            
+00024370: 2020 2020 6966 2069 6428 6375 7229 2069      if id(cur) i
+00024380: 6e20 7365 656e 3a0a 2020 2020 2020 2020  n seen:.        
+00024390: 2020 2020 2020 2020 2020 2020 6272 6561              brea
+000243a0: 6b0a 2020 2020 2020 2020 2020 2020 2020  k.              
+000243b0: 2020 7365 656e 2e61 6464 2869 6428 6375    seen.add(id(cu
+000243c0: 7229 290a 2020 2020 2020 2020 2020 2020  r)).            
+000243d0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+000243e0: 6528 6375 722c 2049 6e64 656e 7465 6442  e(cur, IndentedB
+000243f0: 6c6f 636b 293a 0a20 2020 2020 2020 2020  lock):.         
+00024400: 2020 2020 2020 2020 2020 2070 7265 762e             prev.
+00024410: 6164 645f 7061 7273 655f 6163 7469 6f6e  add_parse_action
+00024420: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00024430: 2020 2020 2020 2020 2020 6c61 6d62 6461            lambda
+00024440: 2073 2c20 6c2c 2074 2c20 6375 725f 3d63   s, l, t, cur_=c
+00024450: 7572 3a20 7365 7461 7474 7228 0a20 2020  ur: setattr(.   
+00024460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024470: 2020 2020 2020 2020 2063 7572 5f2c 2022           cur_, "
+00024480: 7061 7265 6e74 5f61 6e63 686f 7222 2c20  parent_anchor", 
+00024490: 636f 6c28 6c2c 2073 290a 2020 2020 2020  col(l, s).      
+000244a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000244b0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+000244c0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+000244d0: 2020 2020 2020 2020 2020 2020 2020 6272                br
+000244e0: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
+000244f0: 2020 2020 7375 6273 203d 2063 7572 2e72      subs = cur.r
+00024500: 6563 7572 7365 2829 0a20 2020 2020 2020  ecurse().       
+00024510: 2020 2020 2020 2020 206e 6578 745f 6669           next_fi
+00024520: 7273 7420 3d20 6e65 7874 2869 7465 7228  rst = next(iter(
+00024530: 7375 6273 292c 204e 6f6e 6529 0a20 2020  subs), None).   
+00024540: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00024550: 6e65 7874 5f66 6972 7374 2069 7320 4e6f  next_first is No
+00024560: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00024570: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
+00024580: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+00024590: 7220 3d20 7479 7069 6e67 2e63 6173 7428  r = typing.cast(
+000245a0: 5061 7273 6572 456c 656d 656e 742c 206e  ParserElement, n
+000245b0: 6578 745f 6669 7273 7429 0a0a 2020 2020  ext_first)..    
+000245c0: 2020 2020 7365 6c66 2e6d 6179 5265 7475      self.mayRetu
+000245d0: 726e 456d 7074 7920 3d20 616c 6c28 652e  rnEmpty = all(e.
+000245e0: 6d61 7952 6574 7572 6e45 6d70 7479 2066  mayReturnEmpty f
+000245f0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00024600: 7273 290a 2020 2020 2020 2020 7265 7475  rs).        retu
+00024610: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+00024620: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+00024630: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00024640: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+00024650: 0a20 2020 2020 2020 2023 2070 6173 7320  .        # pass 
+00024660: 4661 6c73 6520 6173 2063 616c 6c50 7265  False as callPre
+00024670: 5061 7273 6520 6172 6720 746f 205f 7061  Parse arg to _pa
+00024680: 7273 6520 666f 7220 6669 7273 7420 656c  rse for first el
+00024690: 656d 656e 742c 2073 696e 6365 2077 6520  ement, since we 
+000246a0: 616c 7265 6164 790a 2020 2020 2020 2020  already.        
+000246b0: 2320 7072 652d 7061 7273 6564 2074 6865  # pre-parsed the
+000246c0: 2073 7472 696e 6720 6173 2070 6172 7420   string as part 
+000246d0: 6f66 206f 7572 2041 6e64 2070 7265 2d70  of our And pre-p
+000246e0: 6172 7369 6e67 0a20 2020 2020 2020 206c  arsing.        l
+000246f0: 6f63 2c20 7265 7375 6c74 6c69 7374 203d  oc, resultlist =
+00024700: 2073 656c 662e 6578 7072 735b 305d 2e5f   self.exprs[0]._
+00024710: 7061 7273 6528 0a20 2020 2020 2020 2020  parse(.         
+00024720: 2020 2069 6e73 7472 696e 672c 206c 6f63     instring, loc
+00024730: 2c20 646f 4163 7469 6f6e 732c 2063 616c  , doActions, cal
+00024740: 6c50 7265 5061 7273 653d 4661 6c73 650a  lPreParse=False.
+00024750: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00024760: 2020 6572 726f 7253 746f 7020 3d20 4661    errorStop = Fa
+00024770: 6c73 650a 2020 2020 2020 2020 666f 7220  lse.        for 
+00024780: 6520 696e 2073 656c 662e 6578 7072 735b  e in self.exprs[
+00024790: 313a 5d3a 0a20 2020 2020 2020 2020 2020  1:]:.           
+000247a0: 2023 2069 6620 6973 696e 7374 616e 6365   # if isinstance
+000247b0: 2865 2c20 416e 642e 5f45 7272 6f72 5374  (e, And._ErrorSt
+000247c0: 6f70 293a 0a20 2020 2020 2020 2020 2020  op):.           
+000247d0: 2069 6620 7479 7065 2865 2920 6973 2041   if type(e) is A
+000247e0: 6e64 2e5f 4572 726f 7253 746f 703a 0a20  nd._ErrorStop:. 
+000247f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00024800: 7272 6f72 5374 6f70 203d 2054 7275 650a  rrorStop = True.
+00024810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024820: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
+00024830: 2020 2020 2069 6620 6572 726f 7253 746f       if errorSto
+00024840: 703a 0a20 2020 2020 2020 2020 2020 2020  p:.             
+00024850: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00024860: 2020 2020 2020 2020 2020 2020 6c6f 632c              loc,
+00024870: 2065 7870 7274 6f6b 656e 7320 3d20 652e   exprtokens = e.
+00024880: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
+00024890: 206c 6f63 2c20 646f 4163 7469 6f6e 7329   loc, doActions)
+000248a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000248b0: 2065 7863 6570 7420 5061 7273 6553 796e   except ParseSyn
+000248c0: 7461 7845 7863 6570 7469 6f6e 3a0a 2020  taxException:.  
+000248d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000248e0: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
+000248f0: 2020 2020 2020 2020 6578 6365 7074 2050          except P
+00024900: 6172 7365 4261 7365 4578 6365 7074 696f  arseBaseExceptio
+00024910: 6e20 6173 2070 653a 0a20 2020 2020 2020  n as pe:.       
+00024920: 2020 2020 2020 2020 2020 2020 2070 652e               pe.
+00024930: 5f5f 7472 6163 6562 6163 6b5f 5f20 3d20  __traceback__ = 
+00024940: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
+00024950: 2020 2020 2020 2020 2072 6169 7365 2050           raise P
+00024960: 6172 7365 5379 6e74 6178 4578 6365 7074  arseSyntaxExcept
+00024970: 696f 6e2e 5f66 726f 6d5f 6578 6365 7074  ion._from_except
+00024980: 696f 6e28 7065 290a 2020 2020 2020 2020  ion(pe).        
+00024990: 2020 2020 2020 2020 6578 6365 7074 2049          except I
+000249a0: 6e64 6578 4572 726f 723a 0a20 2020 2020  ndexError:.     
+000249b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000249c0: 6169 7365 2050 6172 7365 5379 6e74 6178  aise ParseSyntax
+000249d0: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
+000249e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000249f0: 2020 2069 6e73 7472 696e 672c 206c 656e     instring, len
+00024a00: 2869 6e73 7472 696e 6729 2c20 7365 6c66  (instring), self
+00024a10: 2e65 7272 6d73 672c 2073 656c 660a 2020  .errmsg, self.  
+00024a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024a30: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00024a40: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00024a50: 2020 2020 2020 6c6f 632c 2065 7870 7274        loc, exprt
+00024a60: 6f6b 656e 7320 3d20 652e 5f70 6172 7365  okens = e._parse
+00024a70: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+00024a80: 646f 4163 7469 6f6e 7329 0a20 2020 2020  doActions).     
+00024a90: 2020 2020 2020 2072 6573 756c 746c 6973         resultlis
+00024aa0: 7420 2b3d 2065 7870 7274 6f6b 656e 730a  t += exprtokens.
+00024ab0: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+00024ac0: 6f63 2c20 7265 7375 6c74 6c69 7374 0a0a  oc, resultlist..
+00024ad0: 2020 2020 6465 6620 5f5f 6961 6464 5f5f      def __iadd__
+00024ae0: 2873 656c 662c 206f 7468 6572 293a 0a20  (self, other):. 
+00024af0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+00024b00: 616e 6365 286f 7468 6572 2c20 7374 725f  ance(other, str_
+00024b10: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
+00024b20: 2020 206f 7468 6572 203d 2073 656c 662e     other = self.
+00024b30: 5f6c 6974 6572 616c 5374 7269 6e67 436c  _literalStringCl
+00024b40: 6173 7328 6f74 6865 7229 0a20 2020 2020  ass(other).     
+00024b50: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
+00024b60: 616e 6365 286f 7468 6572 2c20 5061 7273  ance(other, Pars
+00024b70: 6572 456c 656d 656e 7429 3a0a 2020 2020  erElement):.    
+00024b80: 2020 2020 2020 2020 7265 7475 726e 204e          return N
+00024b90: 6f74 496d 706c 656d 656e 7465 640a 2020  otImplemented.  
+00024ba0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00024bb0: 662e 6170 7065 6e64 286f 7468 6572 2920  f.append(other) 
+00024bc0: 2023 2041 6e64 285b 7365 6c66 2c20 6f74   # And([self, ot
+00024bd0: 6865 725d 290a 0a20 2020 2064 6566 205f  her])..    def _
+00024be0: 6368 6563 6b52 6563 7572 7369 6f6e 2873  checkRecursion(s
+00024bf0: 656c 662c 2070 6172 7365 456c 656d 656e  elf, parseElemen
+00024c00: 744c 6973 7429 3a0a 2020 2020 2020 2020  tList):.        
+00024c10: 7375 6252 6563 4368 6563 6b4c 6973 7420  subRecCheckList 
+00024c20: 3d20 7061 7273 6545 6c65 6d65 6e74 4c69  = parseElementLi
+00024c30: 7374 5b3a 5d20 2b20 5b73 656c 665d 0a20  st[:] + [self]. 
+00024c40: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+00024c50: 7365 6c66 2e65 7870 7273 3a0a 2020 2020  self.exprs:.    
+00024c60: 2020 2020 2020 2020 652e 5f63 6865 636b          e._check
+00024c70: 5265 6375 7273 696f 6e28 7375 6252 6563  Recursion(subRec
+00024c80: 4368 6563 6b4c 6973 7429 0a20 2020 2020  CheckList).     
+00024c90: 2020 2020 2020 2069 6620 6e6f 7420 652e         if not e.
+00024ca0: 6d61 7952 6574 7572 6e45 6d70 7479 3a0a  mayReturnEmpty:.
+00024cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024cc0: 6272 6561 6b0a 0a20 2020 2064 6566 205f  break..    def _
+00024cd0: 6765 6e65 7261 7465 4465 6661 756c 744e  generateDefaultN
+00024ce0: 616d 6528 7365 6c66 2920 2d3e 2073 7472  ame(self) -> str
+00024cf0: 3a0a 2020 2020 2020 2020 696e 6e65 7220  :.        inner 
+00024d00: 3d20 2220 222e 6a6f 696e 2873 7472 2865  = " ".join(str(e
+00024d10: 2920 666f 7220 6520 696e 2073 656c 662e  ) for e in self.
+00024d20: 6578 7072 7329 0a20 2020 2020 2020 2023  exprs).        #
+00024d30: 2073 7472 6970 206f 6666 2072 6564 756e   strip off redun
+00024d40: 6461 6e74 2069 6e6e 6572 207b 7d27 730a  dant inner {}'s.
+00024d50: 2020 2020 2020 2020 7768 696c 6520 6c65          while le
+00024d60: 6e28 696e 6e65 7229 203e 2031 2061 6e64  n(inner) > 1 and
+00024d70: 2069 6e6e 6572 5b30 203a 3a20 6c65 6e28   inner[0 :: len(
+00024d80: 696e 6e65 7229 202d 2031 5d20 3d3d 2022  inner) - 1] == "
+00024d90: 7b7d 223a 0a20 2020 2020 2020 2020 2020  {}":.           
+00024da0: 2069 6e6e 6572 203d 2069 6e6e 6572 5b31   inner = inner[1
+00024db0: 3a2d 315d 0a20 2020 2020 2020 2072 6574  :-1].        ret
+00024dc0: 7572 6e20 227b 2220 2b20 696e 6e65 7220  urn "{" + inner 
+00024dd0: 2b20 227d 220a 0a0a 636c 6173 7320 4f72  + "}"...class Or
+00024de0: 2850 6172 7365 4578 7072 6573 7369 6f6e  (ParseExpression
+00024df0: 293a 0a20 2020 2022 2222 5265 7175 6972  ):.    """Requir
+00024e00: 6573 2074 6861 7420 6174 206c 6561 7374  es that at least
+00024e10: 206f 6e65 203a 636c 6173 733a 6050 6172   one :class:`Par
+00024e20: 7365 4578 7072 6573 7369 6f6e 6020 6973  seExpression` is
+00024e30: 2066 6f75 6e64 2e20 4966 0a20 2020 2074   found. If.    t
+00024e40: 776f 2065 7870 7265 7373 696f 6e73 206d  wo expressions m
+00024e50: 6174 6368 2c20 7468 6520 6578 7072 6573  atch, the expres
+00024e60: 7369 6f6e 2074 6861 7420 6d61 7463 6865  sion that matche
+00024e70: 7320 7468 6520 6c6f 6e67 6573 740a 2020  s the longest.  
+00024e80: 2020 7374 7269 6e67 2077 696c 6c20 6265    string will be
+00024e90: 2075 7365 642e 204d 6179 2062 6520 636f   used. May be co
+00024ea0: 6e73 7472 7563 7465 6420 7573 696e 6720  nstructed using 
+00024eb0: 7468 6520 6060 275e 2760 600a 2020 2020  the ``'^'``.    
+00024ec0: 6f70 6572 6174 6f72 2e0a 0a20 2020 2045  operator...    E
+00024ed0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+00024ee0: 2020 2320 636f 6e73 7472 7563 7420 4f72    # construct Or
+00024ef0: 2075 7369 6e67 2027 5e27 206f 7065 7261   using '^' opera
+00024f00: 746f 720a 0a20 2020 2020 2020 206e 756d  tor..        num
+00024f10: 6265 7220 3d20 576f 7264 286e 756d 7329  ber = Word(nums)
+00024f20: 205e 2043 6f6d 6269 6e65 2857 6f72 6428   ^ Combine(Word(
+00024f30: 6e75 6d73 2920 2b20 272e 2720 2b20 576f  nums) + '.' + Wo
+00024f40: 7264 286e 756d 7329 290a 2020 2020 2020  rd(nums)).      
+00024f50: 2020 7072 696e 7428 6e75 6d62 6572 2e73    print(number.s
+00024f60: 6561 7263 685f 7374 7269 6e67 2822 3132  earch_string("12
+00024f70: 3320 332e 3134 3136 2037 3839 2229 290a  3 3.1416 789")).
+00024f80: 0a20 2020 2070 7269 6e74 733a 3a0a 0a20  .    prints::.. 
+00024f90: 2020 2020 2020 205b 5b27 3132 3327 5d2c         [['123'],
+00024fa0: 205b 2733 2e31 3431 3627 5d2c 205b 2737   ['3.1416'], ['7
+00024fb0: 3839 275d 5d0a 2020 2020 2222 220a 0a20  89']].    """.. 
+00024fc0: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+00024fd0: 7365 6c66 2c20 6578 7072 733a 2074 7970  self, exprs: typ
+00024fe0: 696e 672e 4974 6572 6162 6c65 5b50 6172  ing.Iterable[Par
+00024ff0: 7365 7245 6c65 6d65 6e74 5d2c 2073 6176  serElement], sav
+00025000: 656c 6973 743a 2062 6f6f 6c20 3d20 4661  elist: bool = Fa
+00025010: 6c73 6529 3a0a 2020 2020 2020 2020 7375  lse):.        su
+00025020: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
+00025030: 7870 7273 2c20 7361 7665 6c69 7374 290a  xprs, savelist).
+00025040: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00025050: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
+00025060: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
+00025070: 6e45 6d70 7479 203d 2061 6e79 2865 2e6d  nEmpty = any(e.m
+00025080: 6179 5265 7475 726e 456d 7074 7920 666f  ayReturnEmpty fo
+00025090: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+000250a0: 7329 0a20 2020 2020 2020 2020 2020 2073  s).            s
+000250b0: 656c 662e 736b 6970 5768 6974 6573 7061  elf.skipWhitespa
+000250c0: 6365 203d 2061 6c6c 2865 2e73 6b69 7057  ce = all(e.skipW
+000250d0: 6869 7465 7370 6163 6520 666f 7220 6520  hitespace for e 
+000250e0: 696e 2073 656c 662e 6578 7072 7329 0a20  in self.exprs). 
+000250f0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00025100: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+00025110: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
+00025120: 7275 650a 0a20 2020 2064 6566 2073 7472  rue..    def str
+00025130: 6561 6d6c 696e 6528 7365 6c66 2920 2d3e  eamline(self) ->
+00025140: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
+00025150: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+00025160: 7374 7265 616d 6c69 6e65 2829 0a20 2020  streamline().   
+00025170: 2020 2020 2069 6620 7365 6c66 2e65 7870       if self.exp
+00025180: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
+00025190: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
+000251a0: 7074 7920 3d20 616e 7928 652e 6d61 7952  pty = any(e.mayR
+000251b0: 6574 7572 6e45 6d70 7479 2066 6f72 2065  eturnEmpty for e
+000251c0: 2069 6e20 7365 6c66 2e65 7870 7273 290a   in self.exprs).
+000251d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000251e0: 2e73 6176 6541 734c 6973 7420 3d20 616e  .saveAsList = an
+000251f0: 7928 652e 7361 7665 4173 4c69 7374 2066  y(e.saveAsList f
+00025200: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00025210: 7273 290a 2020 2020 2020 2020 2020 2020  rs).            
+00025220: 7365 6c66 2e73 6b69 7057 6869 7465 7370  self.skipWhitesp
+00025230: 6163 6520 3d20 616c 6c28 0a20 2020 2020  ace = all(.     
+00025240: 2020 2020 2020 2020 2020 2065 2e73 6b69             e.ski
+00025250: 7057 6869 7465 7370 6163 6520 616e 6420  pWhitespace and 
+00025260: 6e6f 7420 6973 696e 7374 616e 6365 2865  not isinstance(e
+00025270: 2c20 5768 6974 6529 2066 6f72 2065 2069  , White) for e i
+00025280: 6e20 7365 6c66 2e65 7870 7273 0a20 2020  n self.exprs.   
+00025290: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+000252a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000252b0: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
+000252c0: 4c69 7374 203d 2046 616c 7365 0a20 2020  List = False.   
+000252d0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+000252e0: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+000252f0: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
+00025300: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+00025310: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
+00025320: 2020 6d61 7845 7863 4c6f 6320 3d20 2d31    maxExcLoc = -1
+00025330: 0a20 2020 2020 2020 206d 6178 4578 6365  .        maxExce
+00025340: 7074 696f 6e20 3d20 4e6f 6e65 0a20 2020  ption = None.   
+00025350: 2020 2020 206d 6174 6368 6573 203d 205b       matches = [
+00025360: 5d0a 2020 2020 2020 2020 6661 7461 6c73  ].        fatals
+00025370: 203d 205b 5d0a 2020 2020 2020 2020 6966   = [].        if
+00025380: 2061 6c6c 2865 2e63 616c 6c50 7265 7061   all(e.callPrepa
+00025390: 7273 6520 666f 7220 6520 696e 2073 656c  rse for e in sel
+000253a0: 662e 6578 7072 7329 3a0a 2020 2020 2020  f.exprs):.      
+000253b0: 2020 2020 2020 6c6f 6320 3d20 7365 6c66        loc = self
+000253c0: 2e70 7265 5061 7273 6528 696e 7374 7269  .preParse(instri
+000253d0: 6e67 2c20 6c6f 6329 0a20 2020 2020 2020  ng, loc).       
+000253e0: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
+000253f0: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
+00025400: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00025410: 2020 2020 2020 206c 6f63 3220 3d20 652e         loc2 = e.
+00025420: 7472 795f 7061 7273 6528 696e 7374 7269  try_parse(instri
+00025430: 6e67 2c20 6c6f 632c 2072 6169 7365 5f66  ng, loc, raise_f
+00025440: 6174 616c 3d54 7275 6529 0a20 2020 2020  atal=True).     
+00025450: 2020 2020 2020 2065 7863 6570 7420 5061         except Pa
+00025460: 7273 6546 6174 616c 4578 6365 7074 696f  rseFatalExceptio
+00025470: 6e20 6173 2070 6665 3a0a 2020 2020 2020  n as pfe:.      
+00025480: 2020 2020 2020 2020 2020 7066 652e 5f5f            pfe.__
+00025490: 7472 6163 6562 6163 6b5f 5f20 3d20 4e6f  traceback__ = No
+000254a0: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
+000254b0: 2020 2070 6665 2e70 6172 7365 725f 656c     pfe.parser_el
+000254c0: 656d 656e 7420 3d20 650a 2020 2020 2020  ement = e.      
+000254d0: 2020 2020 2020 2020 2020 6661 7461 6c73            fatals
+000254e0: 2e61 7070 656e 6428 7066 6529 0a20 2020  .append(pfe).   
+000254f0: 2020 2020 2020 2020 2020 2020 206d 6178               max
+00025500: 4578 6365 7074 696f 6e20 3d20 4e6f 6e65  Exception = None
+00025510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025520: 206d 6178 4578 634c 6f63 203d 202d 310a   maxExcLoc = -1.
+00025530: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00025540: 7074 2050 6172 7365 4578 6365 7074 696f  pt ParseExceptio
+00025550: 6e20 6173 2065 7272 3a0a 2020 2020 2020  n as err:.      
+00025560: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+00025570: 2066 6174 616c 733a 0a20 2020 2020 2020   fatals:.       
+00025580: 2020 2020 2020 2020 2020 2020 2065 7272               err
+00025590: 2e5f 5f74 7261 6365 6261 636b 5f5f 203d  .__traceback__ =
+000255a0: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
+000255b0: 2020 2020 2020 2020 2020 6966 2065 7272            if err
+000255c0: 2e6c 6f63 203e 206d 6178 4578 634c 6f63  .loc > maxExcLoc
+000255d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000255e0: 2020 2020 2020 2020 2020 6d61 7845 7863            maxExc
+000255f0: 6570 7469 6f6e 203d 2065 7272 0a20 2020  eption = err.   
+00025600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025610: 2020 2020 206d 6178 4578 634c 6f63 203d       maxExcLoc =
+00025620: 2065 7272 2e6c 6f63 0a20 2020 2020 2020   err.loc.       
+00025630: 2020 2020 2065 7863 6570 7420 496e 6465       except Inde
+00025640: 7845 7272 6f72 3a0a 2020 2020 2020 2020  xError:.        
+00025650: 2020 2020 2020 2020 6966 206c 656e 2869          if len(i
+00025660: 6e73 7472 696e 6729 203e 206d 6178 4578  nstring) > maxEx
+00025670: 634c 6f63 3a0a 2020 2020 2020 2020 2020  cLoc:.          
+00025680: 2020 2020 2020 2020 2020 6d61 7845 7863            maxExc
+00025690: 6570 7469 6f6e 203d 2050 6172 7365 4578  eption = ParseEx
+000256a0: 6365 7074 696f 6e28 0a20 2020 2020 2020  ception(.       
+000256b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000256c0: 2069 6e73 7472 696e 672c 206c 656e 2869   instring, len(i
+000256d0: 6e73 7472 696e 6729 2c20 652e 6572 726d  nstring), e.errm
+000256e0: 7367 2c20 7365 6c66 0a20 2020 2020 2020  sg, self.       
+000256f0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+00025700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025710: 2020 206d 6178 4578 634c 6f63 203d 206c     maxExcLoc = l
+00025720: 656e 2869 6e73 7472 696e 6729 0a20 2020  en(instring).   
+00025730: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00025740: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00025750: 2073 6176 6520 6d61 7463 6820 616d 6f6e   save match amon
+00025760: 6720 616c 6c20 6d61 7463 6865 732c 2074  g all matches, t
+00025770: 6f20 7265 7472 7920 6c6f 6e67 6573 7420  o retry longest 
+00025780: 746f 2073 686f 7274 6573 740a 2020 2020  to shortest.    
+00025790: 2020 2020 2020 2020 2020 2020 6d61 7463              matc
+000257a0: 6865 732e 6170 7065 6e64 2828 6c6f 6332  hes.append((loc2
+000257b0: 2c20 6529 290a 0a20 2020 2020 2020 2069  , e))..        i
+000257c0: 6620 6d61 7463 6865 733a 0a20 2020 2020  f matches:.     
+000257d0: 2020 2020 2020 2023 2072 652d 6576 616c         # re-eval
+000257e0: 7561 7465 2061 6c6c 206d 6174 6368 6573  uate all matches
+000257f0: 2069 6e20 6465 7363 656e 6469 6e67 206f   in descending o
+00025800: 7264 6572 206f 6620 6c65 6e67 7468 206f  rder of length o
+00025810: 6620 6d61 7463 682c 2069 6e20 6361 7365  f match, in case
+00025820: 2061 7474 6163 6865 6420 6163 7469 6f6e   attached action
+00025830: 730a 2020 2020 2020 2020 2020 2020 2320  s.            # 
+00025840: 6d69 6768 7420 6368 616e 6765 2077 6865  might change whe
+00025850: 7468 6572 206f 7220 686f 7720 6d75 6368  ther or how much
+00025860: 2074 6865 7920 6d61 7463 6820 6f66 2074   they match of t
+00025870: 6865 2069 6e70 7574 2e0a 2020 2020 2020  he input..      
+00025880: 2020 2020 2020 6d61 7463 6865 732e 736f        matches.so
+00025890: 7274 286b 6579 3d69 7465 6d67 6574 7465  rt(key=itemgette
+000258a0: 7228 3029 2c20 7265 7665 7273 653d 5472  r(0), reverse=Tr
+000258b0: 7565 290a 0a20 2020 2020 2020 2020 2020  ue)..           
+000258c0: 2069 6620 6e6f 7420 646f 4163 7469 6f6e   if not doAction
+000258d0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+000258e0: 2020 2023 206e 6f20 6675 7274 6865 7220     # no further 
+000258f0: 636f 6e64 6974 696f 6e73 206f 7220 7061  conditions or pa
+00025900: 7273 6520 6163 7469 6f6e 7320 746f 2063  rse actions to c
+00025910: 6861 6e67 6520 7468 6520 7365 6c65 6374  hange the select
+00025920: 696f 6e20 6f66 0a20 2020 2020 2020 2020  ion of.         
+00025930: 2020 2020 2020 2023 2061 6c74 6572 6e61         # alterna
+00025940: 7469 7665 2c20 736f 2074 6865 2066 6972  tive, so the fir
+00025950: 7374 206d 6174 6368 2077 696c 6c20 6265  st match will be
+00025960: 2074 6865 2062 6573 7420 6d61 7463 680a   the best match.
+00025970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025980: 6265 7374 5f65 7870 7220 3d20 6d61 7463  best_expr = matc
+00025990: 6865 735b 305d 5b31 5d0a 2020 2020 2020  hes[0][1].      
+000259a0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+000259b0: 2062 6573 745f 6578 7072 2e5f 7061 7273   best_expr._pars
+000259c0: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
+000259d0: 2064 6f41 6374 696f 6e73 290a 0a20 2020   doActions)..   
+000259e0: 2020 2020 2020 2020 206c 6f6e 6765 7374           longest
+000259f0: 203d 202d 312c 204e 6f6e 650a 2020 2020   = -1, None.    
+00025a00: 2020 2020 2020 2020 666f 7220 6c6f 6331          for loc1
+00025a10: 2c20 6578 7072 3120 696e 206d 6174 6368  , expr1 in match
+00025a20: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+00025a30: 2020 2020 6966 206c 6f63 3120 3c3d 206c      if loc1 <= l
+00025a40: 6f6e 6765 7374 5b30 5d3a 0a20 2020 2020  ongest[0]:.     
+00025a50: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00025a60: 2061 6c72 6561 6479 2068 6176 6520 6120   already have a 
+00025a70: 6c6f 6e67 6572 206d 6174 6368 2074 6861  longer match tha
+00025a80: 6e20 7468 6973 206f 6e65 2077 696c 6c20  n this one will 
+00025a90: 6465 6c69 7665 722c 2077 6520 6172 6520  deliver, we are 
+00025aa0: 646f 6e65 0a20 2020 2020 2020 2020 2020  done.           
+00025ab0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00025ac0: 6c6f 6e67 6573 740a 0a20 2020 2020 2020  longest..       
+00025ad0: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
+00025ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025af0: 2020 6c6f 6332 2c20 746f 6b73 203d 2065    loc2, toks = e
+00025b00: 7870 7231 2e5f 7061 7273 6528 696e 7374  xpr1._parse(inst
+00025b10: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+00025b20: 696f 6e73 290a 2020 2020 2020 2020 2020  ions).          
+00025b30: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
+00025b40: 7365 4578 6365 7074 696f 6e20 6173 2065  seException as e
+00025b50: 7272 3a0a 2020 2020 2020 2020 2020 2020  rr:.            
+00025b60: 2020 2020 2020 2020 6572 722e 5f5f 7472          err.__tr
+00025b70: 6163 6562 6163 6b5f 5f20 3d20 4e6f 6e65  aceback__ = None
+00025b80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025b90: 2020 2020 2069 6620 6572 722e 6c6f 6320       if err.loc 
+00025ba0: 3e20 6d61 7845 7863 4c6f 633a 0a20 2020  > maxExcLoc:.   
+00025bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025bc0: 2020 2020 206d 6178 4578 6365 7074 696f       maxExceptio
+00025bd0: 6e20 3d20 6572 720a 2020 2020 2020 2020  n = err.        
+00025be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025bf0: 6d61 7845 7863 4c6f 6320 3d20 6572 722e  maxExcLoc = err.
+00025c00: 6c6f 630a 2020 2020 2020 2020 2020 2020  loc.            
+00025c10: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00025c20: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00025c30: 206c 6f63 3220 3e3d 206c 6f63 313a 0a20   loc2 >= loc1:. 
+00025c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025c50: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
+00025c60: 6332 2c20 746f 6b73 0a20 2020 2020 2020  c2, toks.       
+00025c70: 2020 2020 2020 2020 2020 2020 2023 2064               # d
+00025c80: 6964 6e27 7420 6d61 7463 6820 6173 206d  idn't match as m
+00025c90: 7563 6820 6173 2062 6566 6f72 650a 2020  uch as before.  
+00025ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025cb0: 2020 656c 6966 206c 6f63 3220 3e20 6c6f    elif loc2 > lo
+00025cc0: 6e67 6573 745b 305d 3a0a 2020 2020 2020  ngest[0]:.      
+00025cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025ce0: 2020 6c6f 6e67 6573 7420 3d20 6c6f 6332    longest = loc2
+00025cf0: 2c20 746f 6b73 0a0a 2020 2020 2020 2020  , toks..        
+00025d00: 2020 2020 6966 206c 6f6e 6765 7374 2021      if longest !
+00025d10: 3d20 282d 312c 204e 6f6e 6529 3a0a 2020  = (-1, None):.  
+00025d20: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00025d30: 7475 726e 206c 6f6e 6765 7374 0a0a 2020  turn longest..  
+00025d40: 2020 2020 2020 6966 2066 6174 616c 733a        if fatals:
+00025d50: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00025d60: 6c65 6e28 6661 7461 6c73 2920 3e20 313a  len(fatals) > 1:
+00025d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025d80: 2066 6174 616c 732e 736f 7274 286b 6579   fatals.sort(key
+00025d90: 3d6c 616d 6264 6120 653a 202d 652e 6c6f  =lambda e: -e.lo
+00025da0: 6329 0a20 2020 2020 2020 2020 2020 2020  c).             
+00025db0: 2020 2069 6620 6661 7461 6c73 5b30 5d2e     if fatals[0].
+00025dc0: 6c6f 6320 3d3d 2066 6174 616c 735b 315d  loc == fatals[1]
+00025dd0: 2e6c 6f63 3a0a 2020 2020 2020 2020 2020  .loc:.          
+00025de0: 2020 2020 2020 2020 2020 6661 7461 6c73            fatals
+00025df0: 2e73 6f72 7428 6b65 793d 6c61 6d62 6461  .sort(key=lambda
+00025e00: 2065 3a20 282d 652e 6c6f 632c 202d 6c65   e: (-e.loc, -le
+00025e10: 6e28 7374 7228 652e 7061 7273 6572 5f65  n(str(e.parser_e
+00025e20: 6c65 6d65 6e74 2929 2929 0a20 2020 2020  lement)))).     
+00025e30: 2020 2020 2020 206d 6178 5f66 6174 616c         max_fatal
+00025e40: 203d 2066 6174 616c 735b 305d 0a20 2020   = fatals[0].   
+00025e50: 2020 2020 2020 2020 2072 6169 7365 206d           raise m
+00025e60: 6178 5f66 6174 616c 0a0a 2020 2020 2020  ax_fatal..      
+00025e70: 2020 6966 206d 6178 4578 6365 7074 696f    if maxExceptio
+00025e80: 6e20 6973 206e 6f74 204e 6f6e 653a 0a20  n is not None:. 
+00025e90: 2020 2020 2020 2020 2020 2023 2069 6e66             # inf
+00025ea0: 6572 2066 726f 6d20 7468 6973 2063 6865  er from this che
+00025eb0: 636b 2074 6861 7420 616c 6c20 616c 7465  ck that all alte
+00025ec0: 726e 6174 6976 6573 2066 6169 6c65 6420  rnatives failed 
+00025ed0: 6174 2074 6865 2063 7572 7265 6e74 2070  at the current p
+00025ee0: 6f73 6974 696f 6e0a 2020 2020 2020 2020  osition.        
+00025ef0: 2020 2020 2320 736f 2065 6d69 7420 7468      # so emit th
+00025f00: 6973 2063 6f6c 6c65 6374 6976 6520 6572  is collective er
+00025f10: 726f 7220 6d65 7373 6167 6520 696e 7374  ror message inst
+00025f20: 6561 6420 6f66 2061 6e79 2073 696e 676c  ead of any singl
+00025f30: 6520 6572 726f 7220 6d65 7373 6167 650a  e error message.
+00025f40: 2020 2020 2020 2020 2020 2020 6966 206d              if m
+00025f50: 6178 4578 634c 6f63 203d 3d20 6c6f 633a  axExcLoc == loc:
+00025f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025f70: 206d 6178 4578 6365 7074 696f 6e2e 6d73   maxException.ms
+00025f80: 6720 3d20 7365 6c66 2e65 7272 6d73 670a  g = self.errmsg.
+00025f90: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00025fa0: 6520 6d61 7845 7863 6570 7469 6f6e 0a20  e maxException. 
+00025fb0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00025fc0: 2020 2020 2020 2020 2072 6169 7365 2050           raise P
+00025fd0: 6172 7365 4578 6365 7074 696f 6e28 0a20  arseException(. 
+00025fe0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00025ff0: 6e73 7472 696e 672c 206c 6f63 2c20 226e  nstring, loc, "n
+00026000: 6f20 6465 6669 6e65 6420 616c 7465 726e  o defined altern
+00026010: 6174 6976 6573 2074 6f20 6d61 7463 6822  atives to match"
+00026020: 2c20 7365 6c66 0a20 2020 2020 2020 2020  , self.         
+00026030: 2020 2029 0a0a 2020 2020 6465 6620 5f5f     )..    def __
+00026040: 6978 6f72 5f5f 2873 656c 662c 206f 7468  ixor__(self, oth
+00026050: 6572 293a 0a20 2020 2020 2020 2069 6620  er):.        if 
+00026060: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+00026070: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
+00026080: 2020 2020 2020 2020 206f 7468 6572 203d           other =
+00026090: 2073 656c 662e 5f6c 6974 6572 616c 5374   self._literalSt
+000260a0: 7269 6e67 436c 6173 7328 6f74 6865 7229  ringClass(other)
+000260b0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+000260c0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+000260d0: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
+000260e0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000260f0: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
+00026100: 7465 640a 2020 2020 2020 2020 7265 7475  ted.        retu
+00026110: 726e 2073 656c 662e 6170 7065 6e64 286f  rn self.append(o
+00026120: 7468 6572 2920 2023 204f 7228 5b73 656c  ther)  # Or([sel
+00026130: 662c 206f 7468 6572 5d29 0a0a 2020 2020  f, other])..    
+00026140: 6465 6620 5f67 656e 6572 6174 6544 6566  def _generateDef
+00026150: 6175 6c74 4e61 6d65 2873 656c 6629 202d  aultName(self) -
+00026160: 3e20 7374 723a 0a20 2020 2020 2020 2072  > str:.        r
+00026170: 6574 7572 6e20 227b 2220 2b20 2220 5e20  eturn "{" + " ^ 
+00026180: 222e 6a6f 696e 2873 7472 2865 2920 666f  ".join(str(e) fo
+00026190: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+000261a0: 7329 202b 2022 7d22 0a0a 2020 2020 6465  s) + "}"..    de
+000261b0: 6620 5f73 6574 5265 7375 6c74 734e 616d  f _setResultsNam
+000261c0: 6528 7365 6c66 2c20 6e61 6d65 2c20 6c69  e(self, name, li
+000261d0: 7374 416c 6c4d 6174 6368 6573 3d46 616c  stAllMatches=Fal
+000261e0: 7365 293a 0a20 2020 2020 2020 2069 6620  se):.        if 
+000261f0: 280a 2020 2020 2020 2020 2020 2020 5f5f  (.            __
+00026200: 6469 6167 5f5f 2e77 6172 6e5f 6d75 6c74  diag__.warn_mult
+00026210: 6970 6c65 5f74 6f6b 656e 735f 696e 5f6e  iple_tokens_in_n
+00026220: 616d 6564 5f61 6c74 6572 6e61 7469 6f6e  amed_alternation
+00026230: 0a20 2020 2020 2020 2020 2020 2061 6e64  .            and
+00026240: 2044 6961 676e 6f73 7469 6373 2e77 6172   Diagnostics.war
+00026250: 6e5f 6d75 6c74 6970 6c65 5f74 6f6b 656e  n_multiple_token
+00026260: 735f 696e 5f6e 616d 6564 5f61 6c74 6572  s_in_named_alter
+00026270: 6e61 7469 6f6e 0a20 2020 2020 2020 2020  nation.         
+00026280: 2020 206e 6f74 2069 6e20 7365 6c66 2e73     not in self.s
+00026290: 7570 7072 6573 735f 7761 726e 696e 6773  uppress_warnings
+000262a0: 5f0a 2020 2020 2020 2020 293a 0a20 2020  _.        ):.   
+000262b0: 2020 2020 2020 2020 2069 6620 616e 7928           if any(
+000262c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000262d0: 2069 7369 6e73 7461 6e63 6528 652c 2041   isinstance(e, A
+000262e0: 6e64 290a 2020 2020 2020 2020 2020 2020  nd).            
+000262f0: 2020 2020 616e 6420 4469 6167 6e6f 7374      and Diagnost
+00026300: 6963 732e 7761 726e 5f6d 756c 7469 706c  ics.warn_multipl
+00026310: 655f 746f 6b65 6e73 5f69 6e5f 6e61 6d65  e_tokens_in_name
+00026320: 645f 616c 7465 726e 6174 696f 6e0a 2020  d_alternation.  
+00026330: 2020 2020 2020 2020 2020 2020 2020 6e6f                no
+00026340: 7420 696e 2065 2e73 7570 7072 6573 735f  t in e.suppress_
+00026350: 7761 726e 696e 6773 5f0a 2020 2020 2020  warnings_.      
+00026360: 2020 2020 2020 2020 2020 666f 7220 6520            for e 
+00026370: 696e 2073 656c 662e 6578 7072 730a 2020  in self.exprs.  
+00026380: 2020 2020 2020 2020 2020 293a 0a20 2020            ):.   
+00026390: 2020 2020 2020 2020 2020 2020 2077 6172               war
+000263a0: 6e69 6e67 732e 7761 726e 280a 2020 2020  nings.warn(.    
+000263b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000263c0: 227b 7d3a 2073 6574 7469 6e67 2072 6573  "{}: setting res
+000263d0: 756c 7473 206e 616d 6520 7b21 727d 206f  ults name {!r} o
+000263e0: 6e20 7b7d 2065 7870 7265 7373 696f 6e20  n {} expression 
+000263f0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00026400: 2020 2020 2020 2277 696c 6c20 7265 7475        "will retu
+00026410: 726e 2061 206c 6973 7420 6f66 2061 6c6c  rn a list of all
+00026420: 2070 6172 7365 6420 746f 6b65 6e73 2069   parsed tokens i
+00026430: 6e20 616e 2041 6e64 2061 6c74 6572 6e61  n an And alterna
+00026440: 7469 7665 2c20 220a 2020 2020 2020 2020  tive, ".        
+00026450: 2020 2020 2020 2020 2020 2020 2269 6e20              "in 
+00026460: 7072 696f 7220 7665 7273 696f 6e73 206f  prior versions o
+00026470: 6e6c 7920 7468 6520 6669 7273 7420 746f  nly the first to
+00026480: 6b65 6e20 7761 7320 7265 7475 726e 6564  ken was returned
+00026490: 3b20 656e 636c 6f73 6520 220a 2020 2020  ; enclose ".    
+000264a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000264b0: 2263 6f6e 7461 696e 6564 2061 7267 756d  "contained argum
+000264c0: 656e 7420 696e 2047 726f 7570 222e 666f  ent in Group".fo
+000264d0: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
+000264e0: 2020 2020 2020 2020 2020 2020 2020 2277                "w
+000264f0: 6172 6e5f 6d75 6c74 6970 6c65 5f74 6f6b  arn_multiple_tok
+00026500: 656e 735f 696e 5f6e 616d 6564 5f61 6c74  ens_in_named_alt
+00026510: 6572 6e61 7469 6f6e 222c 0a20 2020 2020  ernation",.     
+00026520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026530: 2020 206e 616d 652c 0a20 2020 2020 2020     name,.       
+00026540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026550: 2074 7970 6528 7365 6c66 292e 5f5f 6e61   type(self).__na
+00026560: 6d65 5f5f 2c0a 2020 2020 2020 2020 2020  me__,.          
+00026570: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+00026580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026590: 2073 7461 636b 6c65 7665 6c3d 332c 0a20   stacklevel=3,. 
+000265a0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+000265b0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+000265c0: 2073 7570 6572 2829 2e5f 7365 7452 6573   super()._setRes
+000265d0: 756c 7473 4e61 6d65 286e 616d 652c 206c  ultsName(name, l
+000265e0: 6973 7441 6c6c 4d61 7463 6865 7329 0a0a  istAllMatches)..
+000265f0: 0a63 6c61 7373 204d 6174 6368 4669 7273  .class MatchFirs
+00026600: 7428 5061 7273 6545 7870 7265 7373 696f  t(ParseExpressio
+00026610: 6e29 3a0a 2020 2020 2222 2252 6571 7569  n):.    """Requi
+00026620: 7265 7320 7468 6174 2061 7420 6c65 6173  res that at leas
+00026630: 7420 6f6e 6520 3a63 6c61 7373 3a60 5061  t one :class:`Pa
+00026640: 7273 6545 7870 7265 7373 696f 6e60 2069  rseExpression` i
+00026650: 7320 666f 756e 642e 2049 660a 2020 2020  s found. If.    
+00026660: 6d6f 7265 2074 6861 6e20 6f6e 6520 6578  more than one ex
+00026670: 7072 6573 7369 6f6e 206d 6174 6368 6573  pression matches
+00026680: 2c20 7468 6520 6669 7273 7420 6f6e 6520  , the first one 
+00026690: 6c69 7374 6564 2069 7320 7468 6520 6f6e  listed is the on
+000266a0: 6520 7468 6174 2077 696c 6c0a 2020 2020  e that will.    
+000266b0: 6d61 7463 682e 204d 6179 2062 6520 636f  match. May be co
+000266c0: 6e73 7472 7563 7465 6420 7573 696e 6720  nstructed using 
+000266d0: 7468 6520 6060 277c 2760 6020 6f70 6572  the ``'|'`` oper
+000266e0: 6174 6f72 2e0a 0a20 2020 2045 7861 6d70  ator...    Examp
+000266f0: 6c65 3a3a 0a0a 2020 2020 2020 2020 2320  le::..        # 
+00026700: 636f 6e73 7472 7563 7420 4d61 7463 6846  construct MatchF
+00026710: 6972 7374 2075 7369 6e67 2027 7c27 206f  irst using '|' o
+00026720: 7065 7261 746f 720a 0a20 2020 2020 2020  perator..       
+00026730: 2023 2077 6174 6368 2074 6865 206f 7264   # watch the ord
+00026740: 6572 206f 6620 6578 7072 6573 7369 6f6e  er of expression
+00026750: 7320 746f 206d 6174 6368 0a20 2020 2020  s to match.     
+00026760: 2020 206e 756d 6265 7220 3d20 576f 7264     number = Word
+00026770: 286e 756d 7329 207c 2043 6f6d 6269 6e65  (nums) | Combine
+00026780: 2857 6f72 6428 6e75 6d73 2920 2b20 272e  (Word(nums) + '.
+00026790: 2720 2b20 576f 7264 286e 756d 7329 290a  ' + Word(nums)).
+000267a0: 2020 2020 2020 2020 7072 696e 7428 6e75          print(nu
+000267b0: 6d62 6572 2e73 6561 7263 685f 7374 7269  mber.search_stri
+000267c0: 6e67 2822 3132 3320 332e 3134 3136 2037  ng("123 3.1416 7
+000267d0: 3839 2229 2920 2320 2046 6169 6c21 202d  89")) #  Fail! -
+000267e0: 3e20 5b5b 2731 3233 275d 2c20 5b27 3327  > [['123'], ['3'
+000267f0: 5d2c 205b 2731 3431 3627 5d2c 205b 2737  ], ['1416'], ['7
+00026800: 3839 275d 5d0a 0a20 2020 2020 2020 2023  89']]..        #
+00026810: 2070 7574 206d 6f72 6520 7365 6c65 6374   put more select
+00026820: 6976 6520 6578 7072 6573 7369 6f6e 2066  ive expression f
+00026830: 6972 7374 0a20 2020 2020 2020 206e 756d  irst.        num
+00026840: 6265 7220 3d20 436f 6d62 696e 6528 576f  ber = Combine(Wo
+00026850: 7264 286e 756d 7329 202b 2027 2e27 202b  rd(nums) + '.' +
+00026860: 2057 6f72 6428 6e75 6d73 2929 207c 2057   Word(nums)) | W
+00026870: 6f72 6428 6e75 6d73 290a 2020 2020 2020  ord(nums).      
+00026880: 2020 7072 696e 7428 6e75 6d62 6572 2e73    print(number.s
+00026890: 6561 7263 685f 7374 7269 6e67 2822 3132  earch_string("12
+000268a0: 3320 332e 3134 3136 2037 3839 2229 2920  3 3.1416 789")) 
+000268b0: 2320 2042 6574 7465 7220 2d3e 205b 5b27  #  Better -> [['
+000268c0: 3132 3327 5d2c 205b 2733 2e31 3431 3627  123'], ['3.1416'
+000268d0: 5d2c 205b 2737 3839 275d 5d0a 2020 2020  ], ['789']].    
+000268e0: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
+000268f0: 6e69 745f 5f28 7365 6c66 2c20 6578 7072  nit__(self, expr
+00026900: 733a 2074 7970 696e 672e 4974 6572 6162  s: typing.Iterab
+00026910: 6c65 5b50 6172 7365 7245 6c65 6d65 6e74  le[ParserElement
+00026920: 5d2c 2073 6176 656c 6973 743a 2062 6f6f  ], savelist: boo
+00026930: 6c20 3d20 4661 6c73 6529 3a0a 2020 2020  l = False):.    
+00026940: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+00026950: 6974 5f5f 2865 7870 7273 2c20 7361 7665  it__(exprs, save
+00026960: 6c69 7374 290a 2020 2020 2020 2020 6966  list).        if
+00026970: 2073 656c 662e 6578 7072 733a 0a20 2020   self.exprs:.   
+00026980: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+00026990: 7952 6574 7572 6e45 6d70 7479 203d 2061  yReturnEmpty = a
+000269a0: 6e79 2865 2e6d 6179 5265 7475 726e 456d  ny(e.mayReturnEm
+000269b0: 7074 7920 666f 7220 6520 696e 2073 656c  pty for e in sel
+000269c0: 662e 6578 7072 7329 0a20 2020 2020 2020  f.exprs).       
+000269d0: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
+000269e0: 6974 6573 7061 6365 203d 2061 6c6c 2865  itespace = all(e
+000269f0: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
+00026a00: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+00026a10: 7072 7329 0a20 2020 2020 2020 2065 6c73  prs).        els
+00026a20: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+00026a30: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
+00026a40: 7479 203d 2054 7275 650a 0a20 2020 2064  ty = True..    d
+00026a50: 6566 2073 7472 6561 6d6c 696e 6528 7365  ef streamline(se
+00026a60: 6c66 2920 2d3e 2050 6172 7365 7245 6c65  lf) -> ParserEle
+00026a70: 6d65 6e74 3a0a 2020 2020 2020 2020 6966  ment:.        if
+00026a80: 2073 656c 662e 7374 7265 616d 6c69 6e65   self.streamline
+00026a90: 643a 0a20 2020 2020 2020 2020 2020 2072  d:.            r
+00026aa0: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
+00026ab0: 2020 2020 7375 7065 7228 292e 7374 7265      super().stre
+00026ac0: 616d 6c69 6e65 2829 0a20 2020 2020 2020  amline().       
+00026ad0: 2069 6620 7365 6c66 2e65 7870 7273 3a0a   if self.exprs:.
+00026ae0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00026af0: 2e73 6176 6541 734c 6973 7420 3d20 616e  .saveAsList = an
+00026b00: 7928 652e 7361 7665 4173 4c69 7374 2066  y(e.saveAsList f
+00026b10: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00026b20: 7273 290a 2020 2020 2020 2020 2020 2020  rs).            
+00026b30: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
+00026b40: 7074 7920 3d20 616e 7928 652e 6d61 7952  pty = any(e.mayR
+00026b50: 6574 7572 6e45 6d70 7479 2066 6f72 2065  eturnEmpty for e
+00026b60: 2069 6e20 7365 6c66 2e65 7870 7273 290a   in self.exprs).
+00026b70: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00026b80: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
+00026b90: 3d20 616c 6c28 0a20 2020 2020 2020 2020  = all(.         
+00026ba0: 2020 2020 2020 2065 2e73 6b69 7057 6869         e.skipWhi
+00026bb0: 7465 7370 6163 6520 616e 6420 6e6f 7420  tespace and not 
+00026bc0: 6973 696e 7374 616e 6365 2865 2c20 5768  isinstance(e, Wh
+00026bd0: 6974 6529 2066 6f72 2065 2069 6e20 7365  ite) for e in se
+00026be0: 6c66 2e65 7870 7273 0a20 2020 2020 2020  lf.exprs.       
+00026bf0: 2020 2020 2029 0a20 2020 2020 2020 2065       ).        e
+00026c00: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00026c10: 2073 656c 662e 7361 7665 4173 4c69 7374   self.saveAsList
+00026c20: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
+00026c30: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
+00026c40: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
+00026c50: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00026c60: 656c 660a 0a20 2020 2064 6566 2070 6172  elf..    def par
+00026c70: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
+00026c80: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+00026c90: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
+00026ca0: 2020 2020 206d 6178 4578 634c 6f63 203d       maxExcLoc =
+00026cb0: 202d 310a 2020 2020 2020 2020 6d61 7845   -1.        maxE
+00026cc0: 7863 6570 7469 6f6e 203d 204e 6f6e 650a  xception = None.
+00026cd0: 0a20 2020 2020 2020 2066 6f72 2065 2069  .        for e i
+00026ce0: 6e20 7365 6c66 2e65 7870 7273 3a0a 2020  n self.exprs:.  
+00026cf0: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+00026d00: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00026d10: 6574 7572 6e20 652e 5f70 6172 7365 280a  eturn e._parse(.
+00026d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026d30: 2020 2020 696e 7374 7269 6e67 2c0a 2020      instring,.  
+00026d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026d50: 2020 6c6f 632c 0a20 2020 2020 2020 2020    loc,.         
+00026d60: 2020 2020 2020 2020 2020 2064 6f41 6374             doAct
+00026d70: 696f 6e73 2c0a 2020 2020 2020 2020 2020  ions,.          
+00026d80: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00026d90: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
+00026da0: 4661 7461 6c45 7863 6570 7469 6f6e 2061  FatalException a
+00026db0: 7320 7066 653a 0a20 2020 2020 2020 2020  s pfe:.         
+00026dc0: 2020 2020 2020 2070 6665 2e5f 5f74 7261         pfe.__tra
+00026dd0: 6365 6261 636b 5f5f 203d 204e 6f6e 650a  ceback__ = None.
+00026de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026df0: 7066 652e 7061 7273 6572 5f65 6c65 6d65  pfe.parser_eleme
+00026e00: 6e74 203d 2065 0a20 2020 2020 2020 2020  nt = e.         
+00026e10: 2020 2020 2020 2072 6169 7365 0a20 2020         raise.   
+00026e20: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+00026e30: 5061 7273 6545 7863 6570 7469 6f6e 2061  ParseException a
+00026e40: 7320 6572 723a 0a20 2020 2020 2020 2020  s err:.         
+00026e50: 2020 2020 2020 2069 6620 6572 722e 6c6f         if err.lo
+00026e60: 6320 3e20 6d61 7845 7863 4c6f 633a 0a20  c > maxExcLoc:. 
+00026e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026e80: 2020 206d 6178 4578 6365 7074 696f 6e20     maxException 
+00026e90: 3d20 6572 720a 2020 2020 2020 2020 2020  = err.          
+00026ea0: 2020 2020 2020 2020 2020 6d61 7845 7863            maxExc
+00026eb0: 4c6f 6320 3d20 6572 722e 6c6f 630a 2020  Loc = err.loc.  
+00026ec0: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00026ed0: 2049 6e64 6578 4572 726f 723a 0a20 2020   IndexError:.   
+00026ee0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00026ef0: 6c65 6e28 696e 7374 7269 6e67 2920 3e20  len(instring) > 
+00026f00: 6d61 7845 7863 4c6f 633a 0a20 2020 2020  maxExcLoc:.     
+00026f10: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00026f20: 6178 4578 6365 7074 696f 6e20 3d20 5061  axException = Pa
+00026f30: 7273 6545 7863 6570 7469 6f6e 280a 2020  rseException(.  
+00026f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026f50: 2020 2020 2020 696e 7374 7269 6e67 2c20        instring, 
+00026f60: 6c65 6e28 696e 7374 7269 6e67 292c 2065  len(instring), e
+00026f70: 2e65 7272 6d73 672c 2073 656c 660a 2020  .errmsg, self.  
+00026f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026f90: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00026fa0: 2020 2020 2020 2020 6d61 7845 7863 4c6f          maxExcLo
+00026fb0: 6320 3d20 6c65 6e28 696e 7374 7269 6e67  c = len(instring
+00026fc0: 290a 0a20 2020 2020 2020 2069 6620 6d61  )..        if ma
+00026fd0: 7845 7863 6570 7469 6f6e 2069 7320 6e6f  xException is no
+00026fe0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00026ff0: 2020 2020 2320 696e 6665 7220 6672 6f6d      # infer from
+00027000: 2074 6869 7320 6368 6563 6b20 7468 6174   this check that
+00027010: 2061 6c6c 2061 6c74 6572 6e61 7469 7665   all alternative
+00027020: 7320 6661 696c 6564 2061 7420 7468 6520  s failed at the 
+00027030: 6375 7272 656e 7420 706f 7369 7469 6f6e  current position
+00027040: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
+00027050: 6f20 656d 6974 2074 6869 7320 636f 6c6c  o emit this coll
+00027060: 6563 7469 7665 2065 7272 6f72 206d 6573  ective error mes
+00027070: 7361 6765 2069 6e73 7465 6164 206f 6620  sage instead of 
+00027080: 616e 7920 696e 6469 7669 6475 616c 2065  any individual e
+00027090: 7272 6f72 206d 6573 7361 6765 0a20 2020  rror message.   
+000270a0: 2020 2020 2020 2020 2069 6620 6d61 7845           if maxE
+000270b0: 7863 4c6f 6320 3d3d 206c 6f63 3a0a 2020  xcLoc == loc:.  
+000270c0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
+000270d0: 7845 7863 6570 7469 6f6e 2e6d 7367 203d  xException.msg =
+000270e0: 2073 656c 662e 6572 726d 7367 0a20 2020   self.errmsg.   
+000270f0: 2020 2020 2020 2020 2072 6169 7365 206d           raise m
+00027100: 6178 4578 6365 7074 696f 6e0a 2020 2020  axException.    
+00027110: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00027120: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+00027130: 6545 7863 6570 7469 6f6e 280a 2020 2020  eException(.    
+00027140: 2020 2020 2020 2020 2020 2020 696e 7374              inst
+00027150: 7269 6e67 2c20 6c6f 632c 2022 6e6f 2064  ring, loc, "no d
+00027160: 6566 696e 6564 2061 6c74 6572 6e61 7469  efined alternati
+00027170: 7665 7320 746f 206d 6174 6368 222c 2073  ves to match", s
+00027180: 656c 660a 2020 2020 2020 2020 2020 2020  elf.            
+00027190: 290a 0a20 2020 2064 6566 205f 5f69 6f72  )..    def __ior
+000271a0: 5f5f 2873 656c 662c 206f 7468 6572 293a  __(self, other):
+000271b0: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+000271c0: 7374 616e 6365 286f 7468 6572 2c20 7374  stance(other, st
+000271d0: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
+000271e0: 2020 2020 206f 7468 6572 203d 2073 656c       other = sel
+000271f0: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
+00027200: 436c 6173 7328 6f74 6865 7229 0a20 2020  Class(other).   
+00027210: 2020 2020 2069 6620 6e6f 7420 6973 696e       if not isin
+00027220: 7374 616e 6365 286f 7468 6572 2c20 5061  stance(other, Pa
+00027230: 7273 6572 456c 656d 656e 7429 3a0a 2020  rserElement):.  
+00027240: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00027250: 204e 6f74 496d 706c 656d 656e 7465 640a   NotImplemented.
+00027260: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00027270: 656c 662e 6170 7065 6e64 286f 7468 6572  elf.append(other
+00027280: 2920 2023 204d 6174 6368 4669 7273 7428  )  # MatchFirst(
+00027290: 5b73 656c 662c 206f 7468 6572 5d29 0a0a  [self, other])..
+000272a0: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
+000272b0: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
+000272c0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+000272d0: 2020 2072 6574 7572 6e20 227b 2220 2b20     return "{" + 
+000272e0: 2220 7c20 222e 6a6f 696e 2873 7472 2865  " | ".join(str(e
+000272f0: 2920 666f 7220 6520 696e 2073 656c 662e  ) for e in self.
+00027300: 6578 7072 7329 202b 2022 7d22 0a0a 2020  exprs) + "}"..  
+00027310: 2020 6465 6620 5f73 6574 5265 7375 6c74    def _setResult
+00027320: 734e 616d 6528 7365 6c66 2c20 6e61 6d65  sName(self, name
+00027330: 2c20 6c69 7374 416c 6c4d 6174 6368 6573  , listAllMatches
+00027340: 3d46 616c 7365 293a 0a20 2020 2020 2020  =False):.       
+00027350: 2069 6620 280a 2020 2020 2020 2020 2020   if (.          
+00027360: 2020 5f5f 6469 6167 5f5f 2e77 6172 6e5f    __diag__.warn_
+00027370: 6d75 6c74 6970 6c65 5f74 6f6b 656e 735f  multiple_tokens_
+00027380: 696e 5f6e 616d 6564 5f61 6c74 6572 6e61  in_named_alterna
+00027390: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+000273a0: 2061 6e64 2044 6961 676e 6f73 7469 6373   and Diagnostics
+000273b0: 2e77 6172 6e5f 6d75 6c74 6970 6c65 5f74  .warn_multiple_t
+000273c0: 6f6b 656e 735f 696e 5f6e 616d 6564 5f61  okens_in_named_a
+000273d0: 6c74 6572 6e61 7469 6f6e 0a20 2020 2020  lternation.     
+000273e0: 2020 2020 2020 206e 6f74 2069 6e20 7365         not in se
+000273f0: 6c66 2e73 7570 7072 6573 735f 7761 726e  lf.suppress_warn
+00027400: 696e 6773 5f0a 2020 2020 2020 2020 293a  ings_.        ):
+00027410: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00027420: 616e 7928 0a20 2020 2020 2020 2020 2020  any(.           
+00027430: 2020 2020 2069 7369 6e73 7461 6e63 6528       isinstance(
+00027440: 652c 2041 6e64 290a 2020 2020 2020 2020  e, And).        
+00027450: 2020 2020 2020 2020 616e 6420 4469 6167          and Diag
+00027460: 6e6f 7374 6963 732e 7761 726e 5f6d 756c  nostics.warn_mul
+00027470: 7469 706c 655f 746f 6b65 6e73 5f69 6e5f  tiple_tokens_in_
+00027480: 6e61 6d65 645f 616c 7465 726e 6174 696f  named_alternatio
+00027490: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+000274a0: 2020 6e6f 7420 696e 2065 2e73 7570 7072    not in e.suppr
+000274b0: 6573 735f 7761 726e 696e 6773 5f0a 2020  ess_warnings_.  
+000274c0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+000274d0: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+000274e0: 730a 2020 2020 2020 2020 2020 2020 293a  s.            ):
+000274f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00027500: 2077 6172 6e69 6e67 732e 7761 726e 280a   warnings.warn(.
+00027510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027520: 2020 2020 227b 7d3a 2073 6574 7469 6e67      "{}: setting
+00027530: 2072 6573 756c 7473 206e 616d 6520 7b21   results name {!
+00027540: 727d 206f 6e20 7b7d 2065 7870 7265 7373  r} on {} express
+00027550: 696f 6e20 220a 2020 2020 2020 2020 2020  ion ".          
+00027560: 2020 2020 2020 2020 2020 2277 696c 6c20            "will 
+00027570: 7265 7475 726e 2061 206c 6973 7420 6f66  return a list of
+00027580: 2061 6c6c 2070 6172 7365 6420 746f 6b65   all parsed toke
+00027590: 6e73 2069 6e20 616e 2041 6e64 2061 6c74  ns in an And alt
+000275a0: 6572 6e61 7469 7665 2c20 220a 2020 2020  ernative, ".    
+000275b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000275c0: 2269 6e20 7072 696f 7220 7665 7273 696f  "in prior versio
+000275d0: 6e73 206f 6e6c 7920 7468 6520 6669 7273  ns only the firs
+000275e0: 7420 746f 6b65 6e20 7761 7320 7265 7475  t token was retu
+000275f0: 726e 6564 3b20 656e 636c 6f73 6520 220a  rned; enclose ".
+00027600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027610: 2020 2020 2263 6f6e 7461 696e 6564 2061      "contained a
+00027620: 7267 756d 656e 7420 696e 2047 726f 7570  rgument in Group
+00027630: 222e 666f 726d 6174 280a 2020 2020 2020  ".format(.      
+00027640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027650: 2020 2277 6172 6e5f 6d75 6c74 6970 6c65    "warn_multiple
+00027660: 5f74 6f6b 656e 735f 696e 5f6e 616d 6564  _tokens_in_named
+00027670: 5f61 6c74 6572 6e61 7469 6f6e 222c 0a20  _alternation",. 
+00027680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027690: 2020 2020 2020 206e 616d 652c 0a20 2020         name,.   
+000276a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000276b0: 2020 2020 2074 7970 6528 7365 6c66 292e       type(self).
+000276c0: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
+000276d0: 2020 2020 2020 2020 2020 2020 2020 292c                ),
+000276e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000276f0: 2020 2020 2073 7461 636b 6c65 7665 6c3d       stacklevel=
+00027700: 332c 0a20 2020 2020 2020 2020 2020 2020  3,.             
+00027710: 2020 2029 0a0a 2020 2020 2020 2020 7265     )..        re
+00027720: 7475 726e 2073 7570 6572 2829 2e5f 7365  turn super()._se
+00027730: 7452 6573 756c 7473 4e61 6d65 286e 616d  tResultsName(nam
+00027740: 652c 206c 6973 7441 6c6c 4d61 7463 6865  e, listAllMatche
+00027750: 7329 0a0a 0a63 6c61 7373 2045 6163 6828  s)...class Each(
+00027760: 5061 7273 6545 7870 7265 7373 696f 6e29  ParseExpression)
+00027770: 3a0a 2020 2020 2222 2252 6571 7569 7265  :.    """Require
+00027780: 7320 616c 6c20 6769 7665 6e20 3a63 6c61  s all given :cla
+00027790: 7373 3a60 5061 7273 6545 7870 7265 7373  ss:`ParseExpress
+000277a0: 696f 6e60 2073 2074 6f20 6265 2066 6f75  ion` s to be fou
+000277b0: 6e64 2c20 6275 7420 696e 0a20 2020 2061  nd, but in.    a
+000277c0: 6e79 206f 7264 6572 2e20 4578 7072 6573  ny order. Expres
+000277d0: 7369 6f6e 7320 6d61 7920 6265 2073 6570  sions may be sep
+000277e0: 6172 6174 6564 2062 7920 7768 6974 6573  arated by whites
+000277f0: 7061 6365 2e0a 0a20 2020 204d 6179 2062  pace...    May b
+00027800: 6520 636f 6e73 7472 7563 7465 6420 7573  e constructed us
+00027810: 696e 6720 7468 6520 6060 2726 2760 6020  ing the ``'&'`` 
+00027820: 6f70 6572 6174 6f72 2e0a 0a20 2020 2045  operator...    E
+00027830: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+00027840: 2020 636f 6c6f 7220 3d20 6f6e 655f 6f66    color = one_of
+00027850: 2822 5245 4420 4f52 414e 4745 2059 454c  ("RED ORANGE YEL
+00027860: 4c4f 5720 4752 4545 4e20 424c 5545 2050  LOW GREEN BLUE P
+00027870: 5552 504c 4520 424c 4143 4b20 5748 4954  URPLE BLACK WHIT
+00027880: 4520 4252 4f57 4e22 290a 2020 2020 2020  E BROWN").      
+00027890: 2020 7368 6170 655f 7479 7065 203d 206f    shape_type = o
+000278a0: 6e65 5f6f 6628 2253 5155 4152 4520 4349  ne_of("SQUARE CI
+000278b0: 5243 4c45 2054 5249 414e 474c 4520 5354  RCLE TRIANGLE ST
+000278c0: 4152 2048 4558 4147 4f4e 204f 4354 4147  AR HEXAGON OCTAG
+000278d0: 4f4e 2229 0a20 2020 2020 2020 2069 6e74  ON").        int
+000278e0: 6567 6572 203d 2057 6f72 6428 6e75 6d73  eger = Word(nums
+000278f0: 290a 2020 2020 2020 2020 7368 6170 655f  ).        shape_
+00027900: 6174 7472 203d 2022 7368 6170 653a 2220  attr = "shape:" 
+00027910: 2b20 7368 6170 655f 7479 7065 2822 7368  + shape_type("sh
+00027920: 6170 6522 290a 2020 2020 2020 2020 706f  ape").        po
+00027930: 736e 5f61 7474 7220 3d20 2270 6f73 6e3a  sn_attr = "posn:
+00027940: 2220 2b20 4772 6f75 7028 696e 7465 6765  " + Group(intege
+00027950: 7228 2278 2229 202b 2027 2c27 202b 2069  r("x") + ',' + i
+00027960: 6e74 6567 6572 2822 7922 2929 2822 706f  nteger("y"))("po
+00027970: 736e 2229 0a20 2020 2020 2020 2063 6f6c  sn").        col
+00027980: 6f72 5f61 7474 7220 3d20 2263 6f6c 6f72  or_attr = "color
+00027990: 3a22 202b 2063 6f6c 6f72 2822 636f 6c6f  :" + color("colo
+000279a0: 7222 290a 2020 2020 2020 2020 7369 7a65  r").        size
+000279b0: 5f61 7474 7220 3d20 2273 697a 653a 2220  _attr = "size:" 
+000279c0: 2b20 696e 7465 6765 7228 2273 697a 6522  + integer("size"
+000279d0: 290a 0a20 2020 2020 2020 2023 2075 7365  )..        # use
+000279e0: 2045 6163 6820 2875 7369 6e67 206f 7065   Each (using ope
+000279f0: 7261 746f 7220 2726 2729 2074 6f20 6163  rator '&') to ac
+00027a00: 6365 7074 2061 7474 7269 6275 7465 7320  cept attributes 
+00027a10: 696e 2061 6e79 206f 7264 6572 0a20 2020  in any order.   
+00027a20: 2020 2020 2023 2028 7368 6170 6520 616e       # (shape an
+00027a30: 6420 706f 736e 2061 7265 2072 6571 7569  d posn are requi
+00027a40: 7265 642c 2063 6f6c 6f72 2061 6e64 2073  red, color and s
+00027a50: 697a 6520 6172 6520 6f70 7469 6f6e 616c  ize are optional
+00027a60: 290a 2020 2020 2020 2020 7368 6170 655f  ).        shape_
+00027a70: 7370 6563 203d 2073 6861 7065 5f61 7474  spec = shape_att
+00027a80: 7220 2620 706f 736e 5f61 7474 7220 2620  r & posn_attr & 
+00027a90: 4f70 7428 636f 6c6f 725f 6174 7472 2920  Opt(color_attr) 
+00027aa0: 2620 4f70 7428 7369 7a65 5f61 7474 7229  & Opt(size_attr)
+00027ab0: 0a0a 2020 2020 2020 2020 7368 6170 655f  ..        shape_
+00027ac0: 7370 6563 2e72 756e 5f74 6573 7473 2827  spec.run_tests('
+00027ad0: 2727 0a20 2020 2020 2020 2020 2020 2073  ''.            s
+00027ae0: 6861 7065 3a20 5351 5541 5245 2063 6f6c  hape: SQUARE col
+00027af0: 6f72 3a20 424c 4143 4b20 706f 736e 3a20  or: BLACK posn: 
+00027b00: 3130 302c 2031 3230 0a20 2020 2020 2020  100, 120.       
+00027b10: 2020 2020 2073 6861 7065 3a20 4349 5243       shape: CIRC
+00027b20: 4c45 2073 697a 653a 2035 3020 636f 6c6f  LE size: 50 colo
+00027b30: 723a 2042 4c55 4520 706f 736e 3a20 3530  r: BLUE posn: 50
+00027b40: 2c38 300a 2020 2020 2020 2020 2020 2020  ,80.            
+00027b50: 636f 6c6f 723a 4752 4545 4e20 7369 7a65  color:GREEN size
+00027b60: 3a32 3020 7368 6170 653a 5452 4941 4e47  :20 shape:TRIANG
+00027b70: 4c45 2070 6f73 6e3a 3230 2c34 300a 2020  LE posn:20,40.  
+00027b80: 2020 2020 2020 2020 2020 2727 270a 2020            '''.  
+00027b90: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
+00027ba0: 2070 7269 6e74 733a 3a0a 0a20 2020 2020   prints::..     
+00027bb0: 2020 2073 6861 7065 3a20 5351 5541 5245     shape: SQUARE
+00027bc0: 2063 6f6c 6f72 3a20 424c 4143 4b20 706f   color: BLACK po
+00027bd0: 736e 3a20 3130 302c 2031 3230 0a20 2020  sn: 100, 120.   
+00027be0: 2020 2020 205b 2773 6861 7065 3a27 2c20       ['shape:', 
+00027bf0: 2753 5155 4152 4527 2c20 2763 6f6c 6f72  'SQUARE', 'color
+00027c00: 3a27 2c20 2742 4c41 434b 272c 2027 706f  :', 'BLACK', 'po
+00027c10: 736e 3a27 2c20 5b27 3130 3027 2c20 272c  sn:', ['100', ',
+00027c20: 272c 2027 3132 3027 5d5d 0a20 2020 2020  ', '120']].     
+00027c30: 2020 202d 2063 6f6c 6f72 3a20 424c 4143     - color: BLAC
+00027c40: 4b0a 2020 2020 2020 2020 2d20 706f 736e  K.        - posn
+00027c50: 3a20 5b27 3130 3027 2c20 272c 272c 2027  : ['100', ',', '
+00027c60: 3132 3027 5d0a 2020 2020 2020 2020 2020  120'].          
+00027c70: 2d20 783a 2031 3030 0a20 2020 2020 2020  - x: 100.       
+00027c80: 2020 202d 2079 3a20 3132 300a 2020 2020     - y: 120.    
+00027c90: 2020 2020 2d20 7368 6170 653a 2053 5155      - shape: SQU
+00027ca0: 4152 450a 0a0a 2020 2020 2020 2020 7368  ARE...        sh
+00027cb0: 6170 653a 2043 4952 434c 4520 7369 7a65  ape: CIRCLE size
+00027cc0: 3a20 3530 2063 6f6c 6f72 3a20 424c 5545  : 50 color: BLUE
+00027cd0: 2070 6f73 6e3a 2035 302c 3830 0a20 2020   posn: 50,80.   
+00027ce0: 2020 2020 205b 2773 6861 7065 3a27 2c20       ['shape:', 
+00027cf0: 2743 4952 434c 4527 2c20 2773 697a 653a  'CIRCLE', 'size:
+00027d00: 272c 2027 3530 272c 2027 636f 6c6f 723a  ', '50', 'color:
+00027d10: 272c 2027 424c 5545 272c 2027 706f 736e  ', 'BLUE', 'posn
+00027d20: 3a27 2c20 5b27 3530 272c 2027 2c27 2c20  :', ['50', ',', 
+00027d30: 2738 3027 5d5d 0a20 2020 2020 2020 202d  '80']].        -
+00027d40: 2063 6f6c 6f72 3a20 424c 5545 0a20 2020   color: BLUE.   
+00027d50: 2020 2020 202d 2070 6f73 6e3a 205b 2735       - posn: ['5
+00027d60: 3027 2c20 272c 272c 2027 3830 275d 0a20  0', ',', '80']. 
+00027d70: 2020 2020 2020 2020 202d 2078 3a20 3530           - x: 50
+00027d80: 0a20 2020 2020 2020 2020 202d 2079 3a20  .          - y: 
+00027d90: 3830 0a20 2020 2020 2020 202d 2073 6861  80.        - sha
+00027da0: 7065 3a20 4349 5243 4c45 0a20 2020 2020  pe: CIRCLE.     
+00027db0: 2020 202d 2073 697a 653a 2035 300a 0a0a     - size: 50...
+00027dc0: 2020 2020 2020 2020 636f 6c6f 723a 2047          color: G
+00027dd0: 5245 454e 2073 697a 653a 2032 3020 7368  REEN size: 20 sh
+00027de0: 6170 653a 2054 5249 414e 474c 4520 706f  ape: TRIANGLE po
+00027df0: 736e 3a20 3230 2c34 300a 2020 2020 2020  sn: 20,40.      
+00027e00: 2020 5b27 636f 6c6f 723a 272c 2027 4752    ['color:', 'GR
+00027e10: 4545 4e27 2c20 2773 697a 653a 272c 2027  EEN', 'size:', '
+00027e20: 3230 272c 2027 7368 6170 653a 272c 2027  20', 'shape:', '
+00027e30: 5452 4941 4e47 4c45 272c 2027 706f 736e  TRIANGLE', 'posn
+00027e40: 3a27 2c20 5b27 3230 272c 2027 2c27 2c20  :', ['20', ',', 
+00027e50: 2734 3027 5d5d 0a20 2020 2020 2020 202d  '40']].        -
+00027e60: 2063 6f6c 6f72 3a20 4752 4545 4e0a 2020   color: GREEN.  
+00027e70: 2020 2020 2020 2d20 706f 736e 3a20 5b27        - posn: ['
+00027e80: 3230 272c 2027 2c27 2c20 2734 3027 5d0a  20', ',', '40'].
+00027e90: 2020 2020 2020 2020 2020 2d20 783a 2032            - x: 2
+00027ea0: 300a 2020 2020 2020 2020 2020 2d20 793a  0.          - y:
+00027eb0: 2034 300a 2020 2020 2020 2020 2d20 7368   40.        - sh
+00027ec0: 6170 653a 2054 5249 414e 474c 450a 2020  ape: TRIANGLE.  
+00027ed0: 2020 2020 2020 2d20 7369 7a65 3a20 3230        - size: 20
+00027ee0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+00027ef0: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
+00027f00: 2065 7870 7273 3a20 7479 7069 6e67 2e49   exprs: typing.I
+00027f10: 7465 7261 626c 655b 5061 7273 6572 456c  terable[ParserEl
+00027f20: 656d 656e 745d 2c20 7361 7665 6c69 7374  ement], savelist
+00027f30: 3a20 626f 6f6c 203d 2054 7275 6529 3a0a  : bool = True):.
+00027f40: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+00027f50: 5f5f 696e 6974 5f5f 2865 7870 7273 2c20  __init__(exprs, 
+00027f60: 7361 7665 6c69 7374 290a 2020 2020 2020  savelist).      
+00027f70: 2020 6966 2073 656c 662e 6578 7072 733a    if self.exprs:
+00027f80: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00027f90: 662e 6d61 7952 6574 7572 6e45 6d70 7479  f.mayReturnEmpty
+00027fa0: 203d 2061 6c6c 2865 2e6d 6179 5265 7475   = all(e.mayRetu
+00027fb0: 726e 456d 7074 7920 666f 7220 6520 696e  rnEmpty for e in
+00027fc0: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
+00027fd0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00027fe0: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
+00027ff0: 6574 7572 6e45 6d70 7479 203d 2054 7275  eturnEmpty = Tru
+00028000: 650a 2020 2020 2020 2020 7365 6c66 2e73  e.        self.s
+00028010: 6b69 7057 6869 7465 7370 6163 6520 3d20  kipWhitespace = 
+00028020: 5472 7565 0a20 2020 2020 2020 2073 656c  True.        sel
+00028030: 662e 696e 6974 4578 7072 4772 6f75 7073  f.initExprGroups
+00028040: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+00028050: 7365 6c66 2e73 6176 6541 734c 6973 7420  self.saveAsList 
+00028060: 3d20 5472 7565 0a0a 2020 2020 6465 6620  = True..    def 
+00028070: 5f5f 6961 6e64 5f5f 2873 656c 662c 206f  __iand__(self, o
+00028080: 7468 6572 293a 0a20 2020 2020 2020 2069  ther):.        i
+00028090: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
+000280a0: 6572 2c20 7374 725f 7479 7065 293a 0a20  er, str_type):. 
+000280b0: 2020 2020 2020 2020 2020 206f 7468 6572             other
+000280c0: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
+000280d0: 5374 7269 6e67 436c 6173 7328 6f74 6865  StringClass(othe
+000280e0: 7229 0a20 2020 2020 2020 2069 6620 6e6f  r).        if no
+000280f0: 7420 6973 696e 7374 616e 6365 286f 7468  t isinstance(oth
+00028100: 6572 2c20 5061 7273 6572 456c 656d 656e  er, ParserElemen
+00028110: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+00028120: 7265 7475 726e 204e 6f74 496d 706c 656d  return NotImplem
+00028130: 656e 7465 640a 2020 2020 2020 2020 7265  ented.        re
+00028140: 7475 726e 2073 656c 662e 6170 7065 6e64  turn self.append
+00028150: 286f 7468 6572 2920 2023 2045 6163 6828  (other)  # Each(
+00028160: 5b73 656c 662c 206f 7468 6572 5d29 0a0a  [self, other])..
+00028170: 2020 2020 6465 6620 7374 7265 616d 6c69      def streamli
+00028180: 6e65 2873 656c 6629 202d 3e20 5061 7273  ne(self) -> Pars
+00028190: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
+000281a0: 2020 2073 7570 6572 2829 2e73 7472 6561     super().strea
+000281b0: 6d6c 696e 6528 290a 2020 2020 2020 2020  mline().        
+000281c0: 6966 2073 656c 662e 6578 7072 733a 0a20  if self.exprs:. 
+000281d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000281e0: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
+000281f0: 2061 6c6c 2865 2e6d 6179 5265 7475 726e   all(e.mayReturn
+00028200: 456d 7074 7920 666f 7220 6520 696e 2073  Empty for e in s
+00028210: 656c 662e 6578 7072 7329 0a20 2020 2020  elf.exprs).     
+00028220: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00028230: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
+00028240: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
+00028250: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00028260: 656c 660a 0a20 2020 2064 6566 2070 6172  elf..    def par
+00028270: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
+00028280: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+00028290: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
+000282a0: 2020 2020 2069 6620 7365 6c66 2e69 6e69       if self.ini
+000282b0: 7445 7870 7247 726f 7570 733a 0a20 2020  tExprGroups:.   
+000282c0: 2020 2020 2020 2020 2073 656c 662e 6f70           self.op
+000282d0: 7431 6d61 7020 3d20 6469 6374 280a 2020  t1map = dict(.  
+000282e0: 2020 2020 2020 2020 2020 2020 2020 2869                (i
+000282f0: 6428 652e 6578 7072 292c 2065 2920 666f  d(e.expr), e) fo
+00028300: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+00028310: 7320 6966 2069 7369 6e73 7461 6e63 6528  s if isinstance(
+00028320: 652c 204f 7074 290a 2020 2020 2020 2020  e, Opt).        
+00028330: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00028340: 2020 6f70 7431 203d 205b 652e 6578 7072    opt1 = [e.expr
+00028350: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
+00028360: 7870 7273 2069 6620 6973 696e 7374 616e  xprs if isinstan
+00028370: 6365 2865 2c20 4f70 7429 5d0a 2020 2020  ce(e, Opt)].    
+00028380: 2020 2020 2020 2020 6f70 7432 203d 205b          opt2 = [
+00028390: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000283a0: 2065 0a20 2020 2020 2020 2020 2020 2020   e.             
+000283b0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
+000283c0: 2e65 7870 7273 0a20 2020 2020 2020 2020  .exprs.         
+000283d0: 2020 2020 2020 2069 6620 652e 6d61 7952         if e.mayR
+000283e0: 6574 7572 6e45 6d70 7479 2061 6e64 206e  eturnEmpty and n
+000283f0: 6f74 2069 7369 6e73 7461 6e63 6528 652c  ot isinstance(e,
+00028400: 2028 4f70 742c 2052 6567 6578 2c20 5a65   (Opt, Regex, Ze
+00028410: 726f 4f72 4d6f 7265 2929 0a20 2020 2020  roOrMore)).     
+00028420: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
+00028430: 2020 2020 2073 656c 662e 6f70 7469 6f6e       self.option
+00028440: 616c 7320 3d20 6f70 7431 202b 206f 7074  als = opt1 + opt
+00028450: 320a 2020 2020 2020 2020 2020 2020 7365  2.            se
+00028460: 6c66 2e6d 756c 7469 6f70 7469 6f6e 616c  lf.multioptional
+00028470: 7320 3d20 5b0a 2020 2020 2020 2020 2020  s = [.          
+00028480: 2020 2020 2020 652e 6578 7072 2e73 6574        e.expr.set
+00028490: 5f72 6573 756c 7473 5f6e 616d 6528 652e  _results_name(e.
+000284a0: 7265 7375 6c74 734e 616d 652c 206c 6973  resultsName, lis
+000284b0: 745f 616c 6c5f 6d61 7463 6865 733d 5472  t_all_matches=Tr
+000284c0: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
+000284d0: 2020 2020 666f 7220 6520 696e 2073 656c      for e in sel
+000284e0: 662e 6578 7072 730a 2020 2020 2020 2020  f.exprs.        
+000284f0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00028500: 7461 6e63 6528 652c 205f 4d75 6c74 6970  tance(e, _Multip
+00028510: 6c65 4d61 7463 6829 0a20 2020 2020 2020  leMatch).       
+00028520: 2020 2020 205d 0a20 2020 2020 2020 2020       ].         
+00028530: 2020 2073 656c 662e 6d75 6c74 6972 6571     self.multireq
+00028540: 7569 7265 6420 3d20 5b0a 2020 2020 2020  uired = [.      
+00028550: 2020 2020 2020 2020 2020 652e 6578 7072            e.expr
+00028560: 2e73 6574 5f72 6573 756c 7473 5f6e 616d  .set_results_nam
+00028570: 6528 652e 7265 7375 6c74 734e 616d 652c  e(e.resultsName,
+00028580: 206c 6973 745f 616c 6c5f 6d61 7463 6865   list_all_matche
+00028590: 733d 5472 7565 290a 2020 2020 2020 2020  s=True).        
+000285a0: 2020 2020 2020 2020 666f 7220 6520 696e          for e in
+000285b0: 2073 656c 662e 6578 7072 730a 2020 2020   self.exprs.    
+000285c0: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+000285d0: 7369 6e73 7461 6e63 6528 652c 204f 6e65  sinstance(e, One
+000285e0: 4f72 4d6f 7265 290a 2020 2020 2020 2020  OrMore).        
+000285f0: 2020 2020 5d0a 2020 2020 2020 2020 2020      ].          
+00028600: 2020 7365 6c66 2e72 6571 7569 7265 6420    self.required 
+00028610: 3d20 5b0a 2020 2020 2020 2020 2020 2020  = [.            
+00028620: 2020 2020 6520 666f 7220 6520 696e 2073      e for e in s
+00028630: 656c 662e 6578 7072 7320 6966 206e 6f74  elf.exprs if not
+00028640: 2069 7369 6e73 7461 6e63 6528 652c 2028   isinstance(e, (
+00028650: 4f70 742c 205a 6572 6f4f 724d 6f72 652c  Opt, ZeroOrMore,
+00028660: 204f 6e65 4f72 4d6f 7265 2929 0a20 2020   OneOrMore)).   
+00028670: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
+00028680: 2020 2020 2020 2073 656c 662e 7265 7175         self.requ
+00028690: 6972 6564 202b 3d20 7365 6c66 2e6d 756c  ired += self.mul
+000286a0: 7469 7265 7175 6972 6564 0a20 2020 2020  tirequired.     
+000286b0: 2020 2020 2020 2073 656c 662e 696e 6974         self.init
+000286c0: 4578 7072 4772 6f75 7073 203d 2046 616c  ExprGroups = Fal
+000286d0: 7365 0a0a 2020 2020 2020 2020 746d 704c  se..        tmpL
+000286e0: 6f63 203d 206c 6f63 0a20 2020 2020 2020  oc = loc.       
+000286f0: 2074 6d70 5265 7164 203d 2073 656c 662e   tmpReqd = self.
+00028700: 7265 7175 6972 6564 5b3a 5d0a 2020 2020  required[:].    
+00028710: 2020 2020 746d 704f 7074 203d 2073 656c      tmpOpt = sel
+00028720: 662e 6f70 7469 6f6e 616c 735b 3a5d 0a20  f.optionals[:]. 
+00028730: 2020 2020 2020 206d 756c 7469 7320 3d20         multis = 
+00028740: 7365 6c66 2e6d 756c 7469 6f70 7469 6f6e  self.multioption
+00028750: 616c 735b 3a5d 0a20 2020 2020 2020 206d  als[:].        m
+00028760: 6174 6368 4f72 6465 7220 3d20 5b5d 0a0a  atchOrder = []..
+00028770: 2020 2020 2020 2020 6b65 6570 4d61 7463          keepMatc
+00028780: 6869 6e67 203d 2054 7275 650a 2020 2020  hing = True.    
+00028790: 2020 2020 6661 696c 6564 203d 205b 5d0a      failed = [].
+000287a0: 2020 2020 2020 2020 6661 7461 6c73 203d          fatals =
+000287b0: 205b 5d0a 2020 2020 2020 2020 7768 696c   [].        whil
+000287c0: 6520 6b65 6570 4d61 7463 6869 6e67 3a0a  e keepMatching:.
+000287d0: 2020 2020 2020 2020 2020 2020 746d 7045              tmpE
+000287e0: 7870 7273 203d 2074 6d70 5265 7164 202b  xprs = tmpReqd +
+000287f0: 2074 6d70 4f70 7420 2b20 6d75 6c74 6973   tmpOpt + multis
+00028800: 0a20 2020 2020 2020 2020 2020 2066 6169  .            fai
+00028810: 6c65 642e 636c 6561 7228 290a 2020 2020  led.clear().    
+00028820: 2020 2020 2020 2020 6661 7461 6c73 2e63          fatals.c
+00028830: 6c65 6172 2829 0a20 2020 2020 2020 2020  lear().         
+00028840: 2020 2066 6f72 2065 2069 6e20 746d 7045     for e in tmpE
+00028850: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
+00028860: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00028870: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00028880: 6d70 4c6f 6320 3d20 652e 7472 795f 7061  mpLoc = e.try_pa
+00028890: 7273 6528 696e 7374 7269 6e67 2c20 746d  rse(instring, tm
+000288a0: 704c 6f63 2c20 7261 6973 655f 6661 7461  pLoc, raise_fata
+000288b0: 6c3d 5472 7565 290a 2020 2020 2020 2020  l=True).        
+000288c0: 2020 2020 2020 2020 6578 6365 7074 2050          except P
+000288d0: 6172 7365 4661 7461 6c45 7863 6570 7469  arseFatalExcepti
+000288e0: 6f6e 2061 7320 7066 653a 0a20 2020 2020  on as pfe:.     
+000288f0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00028900: 6665 2e5f 5f74 7261 6365 6261 636b 5f5f  fe.__traceback__
+00028910: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00028920: 2020 2020 2020 2020 2020 2020 7066 652e              pfe.
+00028930: 7061 7273 6572 5f65 6c65 6d65 6e74 203d  parser_element =
+00028940: 2065 0a20 2020 2020 2020 2020 2020 2020   e.             
+00028950: 2020 2020 2020 2066 6174 616c 732e 6170         fatals.ap
+00028960: 7065 6e64 2870 6665 290a 2020 2020 2020  pend(pfe).      
+00028970: 2020 2020 2020 2020 2020 2020 2020 6661                fa
+00028980: 696c 6564 2e61 7070 656e 6428 6529 0a20  iled.append(e). 
+00028990: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000289a0: 7863 6570 7420 5061 7273 6545 7863 6570  xcept ParseExcep
+000289b0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
+000289c0: 2020 2020 2020 2020 2020 6661 696c 6564            failed
+000289d0: 2e61 7070 656e 6428 6529 0a20 2020 2020  .append(e).     
+000289e0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+000289f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028a00: 2020 2020 206d 6174 6368 4f72 6465 722e       matchOrder.
+00028a10: 6170 7065 6e64 2873 656c 662e 6f70 7431  append(self.opt1
+00028a20: 6d61 702e 6765 7428 6964 2865 292c 2065  map.get(id(e), e
+00028a30: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00028a40: 2020 2020 2020 2069 6620 6520 696e 2074         if e in t
+00028a50: 6d70 5265 7164 3a0a 2020 2020 2020 2020  mpReqd:.        
+00028a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028a70: 746d 7052 6571 642e 7265 6d6f 7665 2865  tmpReqd.remove(e
+00028a80: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00028a90: 2020 2020 2020 656c 6966 2065 2069 6e20        elif e in 
+00028aa0: 746d 704f 7074 3a0a 2020 2020 2020 2020  tmpOpt:.        
+00028ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028ac0: 746d 704f 7074 2e72 656d 6f76 6528 6529  tmpOpt.remove(e)
+00028ad0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00028ae0: 6c65 6e28 6661 696c 6564 2920 3d3d 206c  len(failed) == l
+00028af0: 656e 2874 6d70 4578 7072 7329 3a0a 2020  en(tmpExprs):.  
+00028b00: 2020 2020 2020 2020 2020 2020 2020 6b65                ke
+00028b10: 6570 4d61 7463 6869 6e67 203d 2046 616c  epMatching = Fal
+00028b20: 7365 0a0a 2020 2020 2020 2020 2320 6c6f  se..        # lo
+00028b30: 6f6b 2066 6f72 2061 6e79 2050 6172 7365  ok for any Parse
+00028b40: 4661 7461 6c45 7863 6570 7469 6f6e 730a  FatalExceptions.
+00028b50: 2020 2020 2020 2020 6966 2066 6174 616c          if fatal
+00028b60: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
+00028b70: 6620 6c65 6e28 6661 7461 6c73 2920 3e20  f len(fatals) > 
+00028b80: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
+00028b90: 2020 2066 6174 616c 732e 736f 7274 286b     fatals.sort(k
+00028ba0: 6579 3d6c 616d 6264 6120 653a 202d 652e  ey=lambda e: -e.
+00028bb0: 6c6f 6329 0a20 2020 2020 2020 2020 2020  loc).           
+00028bc0: 2020 2020 2069 6620 6661 7461 6c73 5b30       if fatals[0
+00028bd0: 5d2e 6c6f 6320 3d3d 2066 6174 616c 735b  ].loc == fatals[
+00028be0: 315d 2e6c 6f63 3a0a 2020 2020 2020 2020  1].loc:.        
+00028bf0: 2020 2020 2020 2020 2020 2020 6661 7461              fata
+00028c00: 6c73 2e73 6f72 7428 6b65 793d 6c61 6d62  ls.sort(key=lamb
+00028c10: 6461 2065 3a20 282d 652e 6c6f 632c 202d  da e: (-e.loc, -
+00028c20: 6c65 6e28 7374 7228 652e 7061 7273 6572  len(str(e.parser
+00028c30: 5f65 6c65 6d65 6e74 2929 2929 0a20 2020  _element)))).   
+00028c40: 2020 2020 2020 2020 206d 6178 5f66 6174           max_fat
+00028c50: 616c 203d 2066 6174 616c 735b 305d 0a20  al = fatals[0]. 
+00028c60: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00028c70: 206d 6178 5f66 6174 616c 0a0a 2020 2020   max_fatal..    
+00028c80: 2020 2020 6966 2074 6d70 5265 7164 3a0a      if tmpReqd:.
+00028c90: 2020 2020 2020 2020 2020 2020 6d69 7373              miss
+00028ca0: 696e 6720 3d20 222c 2022 2e6a 6f69 6e28  ing = ", ".join(
+00028cb0: 5b73 7472 2865 2920 666f 7220 6520 696e  [str(e) for e in
+00028cc0: 2074 6d70 5265 7164 5d29 0a20 2020 2020   tmpReqd]).     
+00028cd0: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
+00028ce0: 7365 4578 6365 7074 696f 6e28 0a20 2020  seException(.   
+00028cf0: 2020 2020 2020 2020 2020 2020 2069 6e73               ins
+00028d00: 7472 696e 672c 0a20 2020 2020 2020 2020  tring,.         
+00028d10: 2020 2020 2020 206c 6f63 2c0a 2020 2020         loc,.    
+00028d20: 2020 2020 2020 2020 2020 2020 6622 4d69              f"Mi
+00028d30: 7373 696e 6720 6f6e 6520 6f72 206d 6f72  ssing one or mor
+00028d40: 6520 7265 7175 6972 6564 2065 6c65 6d65  e required eleme
+00028d50: 6e74 7320 287b 6d69 7373 696e 677d 2922  nts ({missing})"
+00028d60: 2c0a 2020 2020 2020 2020 2020 2020 290a  ,.            ).
+00028d70: 0a20 2020 2020 2020 2023 2061 6464 2061  .        # add a
+00028d80: 6e79 2075 6e6d 6174 6368 6564 204f 7074  ny unmatched Opt
+00028d90: 732c 2069 6e20 6361 7365 2074 6865 7920  s, in case they 
+00028da0: 6861 7665 2064 6566 6175 6c74 2076 616c  have default val
+00028db0: 7565 7320 6465 6669 6e65 640a 2020 2020  ues defined.    
+00028dc0: 2020 2020 6d61 7463 684f 7264 6572 202b      matchOrder +
+00028dd0: 3d20 5b65 2066 6f72 2065 2069 6e20 7365  = [e for e in se
+00028de0: 6c66 2e65 7870 7273 2069 6620 6973 696e  lf.exprs if isin
+00028df0: 7374 616e 6365 2865 2c20 4f70 7429 2061  stance(e, Opt) a
+00028e00: 6e64 2065 2e65 7870 7220 696e 2074 6d70  nd e.expr in tmp
+00028e10: 4f70 745d 0a0a 2020 2020 2020 2020 746f  Opt]..        to
+00028e20: 7461 6c5f 7265 7375 6c74 7320 3d20 5061  tal_results = Pa
+00028e30: 7273 6552 6573 756c 7473 285b 5d29 0a20  rseResults([]). 
+00028e40: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+00028e50: 6d61 7463 684f 7264 6572 3a0a 2020 2020  matchOrder:.    
+00028e60: 2020 2020 2020 2020 6c6f 632c 2072 6573          loc, res
+00028e70: 756c 7473 203d 2065 2e5f 7061 7273 6528  ults = e._parse(
+00028e80: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
+00028e90: 6f41 6374 696f 6e73 290a 2020 2020 2020  oActions).      
+00028ea0: 2020 2020 2020 746f 7461 6c5f 7265 7375        total_resu
+00028eb0: 6c74 7320 2b3d 2072 6573 756c 7473 0a0a  lts += results..
+00028ec0: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+00028ed0: 6f63 2c20 746f 7461 6c5f 7265 7375 6c74  oc, total_result
+00028ee0: 730a 0a20 2020 2064 6566 205f 6765 6e65  s..    def _gene
+00028ef0: 7261 7465 4465 6661 756c 744e 616d 6528  rateDefaultName(
+00028f00: 7365 6c66 2920 2d3e 2073 7472 3a0a 2020  self) -> str:.  
+00028f10: 2020 2020 2020 7265 7475 726e 2022 7b22        return "{"
+00028f20: 202b 2022 2026 2022 2e6a 6f69 6e28 7374   + " & ".join(st
+00028f30: 7228 6529 2066 6f72 2065 2069 6e20 7365  r(e) for e in se
+00028f40: 6c66 2e65 7870 7273 2920 2b20 227d 220a  lf.exprs) + "}".
+00028f50: 0a0a 636c 6173 7320 5061 7273 6545 6c65  ..class ParseEle
+00028f60: 6d65 6e74 456e 6861 6e63 6528 5061 7273  mentEnhance(Pars
+00028f70: 6572 456c 656d 656e 7429 3a0a 2020 2020  erElement):.    
+00028f80: 2222 2241 6273 7472 6163 7420 7375 6263  """Abstract subc
+00028f90: 6c61 7373 206f 6620 3a63 6c61 7373 3a60  lass of :class:`
+00028fa0: 5061 7273 6572 456c 656d 656e 7460 2c20  ParserElement`, 
+00028fb0: 666f 7220 636f 6d62 696e 696e 6720 616e  for combining an
+00028fc0: 640a 2020 2020 706f 7374 2d70 726f 6365  d.    post-proce
+00028fd0: 7373 696e 6720 7061 7273 6564 2074 6f6b  ssing parsed tok
+00028fe0: 656e 732e 0a20 2020 2022 2222 0a0a 2020  ens..    """..  
+00028ff0: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+00029000: 656c 662c 2065 7870 723a 2055 6e69 6f6e  elf, expr: Union
+00029010: 5b50 6172 7365 7245 6c65 6d65 6e74 2c20  [ParserElement, 
+00029020: 7374 725d 2c20 7361 7665 6c69 7374 3a20  str], savelist: 
+00029030: 626f 6f6c 203d 2046 616c 7365 293a 0a20  bool = False):. 
+00029040: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+00029050: 5f69 6e69 745f 5f28 7361 7665 6c69 7374  _init__(savelist
+00029060: 290a 2020 2020 2020 2020 6966 2069 7369  ).        if isi
+00029070: 6e73 7461 6e63 6528 6578 7072 2c20 7374  nstance(expr, st
+00029080: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
+00029090: 2020 2020 2065 7870 725f 7374 7220 3d20       expr_str = 
+000290a0: 7479 7069 6e67 2e63 6173 7428 7374 722c  typing.cast(str,
+000290b0: 2065 7870 7229 0a20 2020 2020 2020 2020   expr).         
+000290c0: 2020 2069 6620 6973 7375 6263 6c61 7373     if issubclass
+000290d0: 2873 656c 662e 5f6c 6974 6572 616c 5374  (self._literalSt
+000290e0: 7269 6e67 436c 6173 732c 2054 6f6b 656e  ringClass, Token
+000290f0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00029100: 2020 2065 7870 7220 3d20 7365 6c66 2e5f     expr = self._
+00029110: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
+00029120: 7373 2865 7870 725f 7374 7229 2020 2320  ss(expr_str)  # 
+00029130: 7479 7065 3a20 6967 6e6f 7265 5b63 616c  type: ignore[cal
+00029140: 6c2d 6172 675d 0a20 2020 2020 2020 2020  l-arg].         
+00029150: 2020 2065 6c69 6620 6973 7375 6263 6c61     elif issubcla
+00029160: 7373 2874 7970 6528 7365 6c66 292c 2073  ss(type(self), s
+00029170: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
+00029180: 6e67 436c 6173 7329 3a0a 2020 2020 2020  ngClass):.      
+00029190: 2020 2020 2020 2020 2020 6578 7072 203d            expr =
+000291a0: 204c 6974 6572 616c 2865 7870 725f 7374   Literal(expr_st
+000291b0: 7229 0a20 2020 2020 2020 2020 2020 2065  r).            e
+000291c0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000291d0: 2020 2020 2065 7870 7220 3d20 7365 6c66       expr = self
+000291e0: 2e5f 6c69 7465 7261 6c53 7472 696e 6743  ._literalStringC
+000291f0: 6c61 7373 284c 6974 6572 616c 2865 7870  lass(Literal(exp
+00029200: 725f 7374 7229 2920 2023 2074 7970 653a  r_str))  # type:
+00029210: 2069 676e 6f72 655b 6173 7369 676e 6d65   ignore[assignme
+00029220: 6e74 2c20 6361 6c6c 2d61 7267 5d0a 2020  nt, call-arg].  
+00029230: 2020 2020 2020 6578 7072 203d 2074 7970        expr = typ
+00029240: 696e 672e 6361 7374 2850 6172 7365 7245  ing.cast(ParserE
+00029250: 6c65 6d65 6e74 2c20 6578 7072 290a 2020  lement, expr).  
+00029260: 2020 2020 2020 7365 6c66 2e65 7870 7220        self.expr 
+00029270: 3d20 6578 7072 0a20 2020 2020 2020 2069  = expr.        i
+00029280: 6620 6578 7072 2069 7320 6e6f 7420 4e6f  f expr is not No
+00029290: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+000292a0: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
+000292b0: 6f72 203d 2065 7870 722e 6d61 7949 6e64  or = expr.mayInd
+000292c0: 6578 4572 726f 720a 2020 2020 2020 2020  exError.        
+000292d0: 2020 2020 7365 6c66 2e6d 6179 5265 7475      self.mayRetu
+000292e0: 726e 456d 7074 7920 3d20 6578 7072 2e6d  rnEmpty = expr.m
+000292f0: 6179 5265 7475 726e 456d 7074 790a 2020  ayReturnEmpty.  
+00029300: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
+00029310: 6574 5f77 6869 7465 7370 6163 655f 6368  et_whitespace_ch
+00029320: 6172 7328 0a20 2020 2020 2020 2020 2020  ars(.           
+00029330: 2020 2020 2065 7870 722e 7768 6974 6543       expr.whiteC
+00029340: 6861 7273 2c20 636f 7079 5f64 6566 6175  hars, copy_defau
+00029350: 6c74 733d 6578 7072 2e63 6f70 7944 6566  lts=expr.copyDef
+00029360: 6175 6c74 5768 6974 6543 6861 7273 0a20  aultWhiteChars. 
+00029370: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00029380: 2020 2020 2020 2020 2073 656c 662e 736b           self.sk
+00029390: 6970 5768 6974 6573 7061 6365 203d 2065  ipWhitespace = e
+000293a0: 7870 722e 736b 6970 5768 6974 6573 7061  xpr.skipWhitespa
+000293b0: 6365 0a20 2020 2020 2020 2020 2020 2073  ce.            s
+000293c0: 656c 662e 7361 7665 4173 4c69 7374 203d  elf.saveAsList =
+000293d0: 2065 7870 722e 7361 7665 4173 4c69 7374   expr.saveAsList
+000293e0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000293f0: 662e 6361 6c6c 5072 6570 6172 7365 203d  f.callPreparse =
+00029400: 2065 7870 722e 6361 6c6c 5072 6570 6172   expr.callPrepar
+00029410: 7365 0a20 2020 2020 2020 2020 2020 2073  se.            s
+00029420: 656c 662e 6967 6e6f 7265 4578 7072 732e  elf.ignoreExprs.
+00029430: 6578 7465 6e64 2865 7870 722e 6967 6e6f  extend(expr.igno
+00029440: 7265 4578 7072 7329 0a0a 2020 2020 6465  reExprs)..    de
+00029450: 6620 7265 6375 7273 6528 7365 6c66 2920  f recurse(self) 
+00029460: 2d3e 204c 6973 745b 5061 7273 6572 456c  -> List[ParserEl
+00029470: 656d 656e 745d 3a0a 2020 2020 2020 2020  ement]:.        
+00029480: 7265 7475 726e 205b 7365 6c66 2e65 7870  return [self.exp
+00029490: 725d 2069 6620 7365 6c66 2e65 7870 7220  r] if self.expr 
+000294a0: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
+000294b0: 205b 5d0a 0a20 2020 2064 6566 2070 6172   []..    def par
+000294c0: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
+000294d0: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+000294e0: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
+000294f0: 2020 2020 2069 6620 7365 6c66 2e65 7870       if self.exp
+00029500: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
+00029510: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
+00029520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029530: 7265 7475 726e 2073 656c 662e 6578 7072  return self.expr
+00029540: 2e5f 7061 7273 6528 696e 7374 7269 6e67  ._parse(instring
+00029550: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
+00029560: 2c20 6361 6c6c 5072 6550 6172 7365 3d46  , callPreParse=F
+00029570: 616c 7365 290a 2020 2020 2020 2020 2020  alse).          
+00029580: 2020 6578 6365 7074 2050 6172 7365 4261    except ParseBa
+00029590: 7365 4578 6365 7074 696f 6e20 6173 2070  seException as p
+000295a0: 6265 3a0a 2020 2020 2020 2020 2020 2020  be:.            
+000295b0: 2020 2020 6966 206e 6f74 2069 7369 6e73      if not isins
+000295c0: 7461 6e63 6528 7365 6c66 2c20 466f 7277  tance(self, Forw
+000295d0: 6172 6429 206f 7220 7365 6c66 2e63 7573  ard) or self.cus
+000295e0: 746f 6d4e 616d 6520 6973 206e 6f74 204e  tomName is not N
+000295f0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00029600: 2020 2020 2020 2020 2070 6265 2e6d 7367           pbe.msg
+00029610: 203d 2073 656c 662e 6572 726d 7367 0a20   = self.errmsg. 
+00029620: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00029630: 6169 7365 0a20 2020 2020 2020 2065 6c73  aise.        els
+00029640: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00029650: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+00029660: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
+00029670: 632c 2022 4e6f 2065 7870 7265 7373 696f  c, "No expressio
+00029680: 6e20 6465 6669 6e65 6422 2c20 7365 6c66  n defined", self
+00029690: 290a 0a20 2020 2064 6566 206c 6561 7665  )..    def leave
+000296a0: 5f77 6869 7465 7370 6163 6528 7365 6c66  _whitespace(self
+000296b0: 2c20 7265 6375 7273 6976 653a 2062 6f6f  , recursive: boo
+000296c0: 6c20 3d20 5472 7565 2920 2d3e 2050 6172  l = True) -> Par
+000296d0: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
+000296e0: 2020 2020 7375 7065 7228 292e 6c65 6176      super().leav
+000296f0: 655f 7768 6974 6573 7061 6365 2872 6563  e_whitespace(rec
+00029700: 7572 7369 7665 290a 0a20 2020 2020 2020  ursive)..       
+00029710: 2069 6620 7265 6375 7273 6976 653a 0a20   if recursive:. 
+00029720: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+00029730: 6c66 2e65 7870 7220 6973 206e 6f74 204e  lf.expr is not N
+00029740: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00029750: 2020 2020 2073 656c 662e 6578 7072 203d       self.expr =
+00029760: 2073 656c 662e 6578 7072 2e63 6f70 7928   self.expr.copy(
+00029770: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00029780: 2020 7365 6c66 2e65 7870 722e 6c65 6176    self.expr.leav
+00029790: 655f 7768 6974 6573 7061 6365 2872 6563  e_whitespace(rec
+000297a0: 7572 7369 7665 290a 2020 2020 2020 2020  ursive).        
+000297b0: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+000297c0: 2064 6566 2069 676e 6f72 655f 7768 6974   def ignore_whit
+000297d0: 6573 7061 6365 2873 656c 662c 2072 6563  espace(self, rec
+000297e0: 7572 7369 7665 3a20 626f 6f6c 203d 2054  ursive: bool = T
+000297f0: 7275 6529 202d 3e20 5061 7273 6572 456c  rue) -> ParserEl
+00029800: 656d 656e 743a 0a20 2020 2020 2020 2073  ement:.        s
+00029810: 7570 6572 2829 2e69 676e 6f72 655f 7768  uper().ignore_wh
+00029820: 6974 6573 7061 6365 2872 6563 7572 7369  itespace(recursi
+00029830: 7665 290a 0a20 2020 2020 2020 2069 6620  ve)..        if 
+00029840: 7265 6375 7273 6976 653a 0a20 2020 2020  recursive:.     
+00029850: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
+00029860: 7870 7220 6973 206e 6f74 204e 6f6e 653a  xpr is not None:
+00029870: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029880: 2073 656c 662e 6578 7072 203d 2073 656c   self.expr = sel
+00029890: 662e 6578 7072 2e63 6f70 7928 290a 2020  f.expr.copy().  
+000298a0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000298b0: 6c66 2e65 7870 722e 6967 6e6f 7265 5f77  lf.expr.ignore_w
+000298c0: 6869 7465 7370 6163 6528 7265 6375 7273  hitespace(recurs
+000298d0: 6976 6529 0a20 2020 2020 2020 2072 6574  ive).        ret
+000298e0: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
+000298f0: 6620 6967 6e6f 7265 2873 656c 662c 206f  f ignore(self, o
+00029900: 7468 6572 2920 2d3e 2050 6172 7365 7245  ther) -> ParserE
+00029910: 6c65 6d65 6e74 3a0a 2020 2020 2020 2020  lement:.        
+00029920: 6966 2069 7369 6e73 7461 6e63 6528 6f74  if isinstance(ot
+00029930: 6865 722c 2053 7570 7072 6573 7329 3a0a  her, Suppress):.
+00029940: 2020 2020 2020 2020 2020 2020 6966 206f              if o
+00029950: 7468 6572 206e 6f74 2069 6e20 7365 6c66  ther not in self
+00029960: 2e69 676e 6f72 6545 7870 7273 3a0a 2020  .ignoreExprs:.  
+00029970: 2020 2020 2020 2020 2020 2020 2020 7375                su
+00029980: 7065 7228 292e 6967 6e6f 7265 286f 7468  per().ignore(oth
+00029990: 6572 290a 2020 2020 2020 2020 2020 2020  er).            
+000299a0: 2020 2020 6966 2073 656c 662e 6578 7072      if self.expr
+000299b0: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+000299c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000299d0: 2020 7365 6c66 2e65 7870 722e 6967 6e6f    self.expr.igno
+000299e0: 7265 2873 656c 662e 6967 6e6f 7265 4578  re(self.ignoreEx
+000299f0: 7072 735b 2d31 5d29 0a20 2020 2020 2020  prs[-1]).       
+00029a00: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00029a10: 2020 2073 7570 6572 2829 2e69 676e 6f72     super().ignor
+00029a20: 6528 6f74 6865 7229 0a20 2020 2020 2020  e(other).       
+00029a30: 2020 2020 2069 6620 7365 6c66 2e65 7870       if self.exp
+00029a40: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
+00029a50: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00029a60: 656c 662e 6578 7072 2e69 676e 6f72 6528  elf.expr.ignore(
+00029a70: 7365 6c66 2e69 676e 6f72 6545 7870 7273  self.ignoreExprs
+00029a80: 5b2d 315d 290a 2020 2020 2020 2020 7265  [-1]).        re
+00029a90: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+00029aa0: 6566 2073 7472 6561 6d6c 696e 6528 7365  ef streamline(se
+00029ab0: 6c66 2920 2d3e 2050 6172 7365 7245 6c65  lf) -> ParserEle
+00029ac0: 6d65 6e74 3a0a 2020 2020 2020 2020 7375  ment:.        su
+00029ad0: 7065 7228 292e 7374 7265 616d 6c69 6e65  per().streamline
+00029ae0: 2829 0a20 2020 2020 2020 2069 6620 7365  ().        if se
+00029af0: 6c66 2e65 7870 7220 6973 206e 6f74 204e  lf.expr is not N
+00029b00: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00029b10: 2073 656c 662e 6578 7072 2e73 7472 6561   self.expr.strea
+00029b20: 6d6c 696e 6528 290a 2020 2020 2020 2020  mline().        
+00029b30: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+00029b40: 2064 6566 205f 6368 6563 6b52 6563 7572   def _checkRecur
+00029b50: 7369 6f6e 2873 656c 662c 2070 6172 7365  sion(self, parse
+00029b60: 456c 656d 656e 744c 6973 7429 3a0a 2020  ElementList):.  
+00029b70: 2020 2020 2020 6966 2073 656c 6620 696e        if self in
+00029b80: 2070 6172 7365 456c 656d 656e 744c 6973   parseElementLis
+00029b90: 743a 0a20 2020 2020 2020 2020 2020 2072  t:.            r
+00029ba0: 6169 7365 2052 6563 7572 7369 7665 4772  aise RecursiveGr
+00029bb0: 616d 6d61 7245 7863 6570 7469 6f6e 2870  ammarException(p
+00029bc0: 6172 7365 456c 656d 656e 744c 6973 7420  arseElementList 
+00029bd0: 2b20 5b73 656c 665d 290a 2020 2020 2020  + [self]).      
+00029be0: 2020 7375 6252 6563 4368 6563 6b4c 6973    subRecCheckLis
+00029bf0: 7420 3d20 7061 7273 6545 6c65 6d65 6e74  t = parseElement
+00029c00: 4c69 7374 5b3a 5d20 2b20 5b73 656c 665d  List[:] + [self]
+00029c10: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00029c20: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
+00029c30: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+00029c40: 656c 662e 6578 7072 2e5f 6368 6563 6b52  elf.expr._checkR
+00029c50: 6563 7572 7369 6f6e 2873 7562 5265 6343  ecursion(subRecC
+00029c60: 6865 636b 4c69 7374 290a 0a20 2020 2064  heckList)..    d
+00029c70: 6566 2076 616c 6964 6174 6528 7365 6c66  ef validate(self
+00029c80: 2c20 7661 6c69 6461 7465 5472 6163 653d  , validateTrace=
+00029c90: 4e6f 6e65 2920 2d3e 204e 6f6e 653a 0a20  None) -> None:. 
+00029ca0: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
+00029cb0: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
+00029cc0: 2020 2250 6172 7365 7245 6c65 6d65 6e74    "ParserElement
+00029cd0: 2e76 616c 6964 6174 6528 2920 6973 2064  .validate() is d
+00029ce0: 6570 7265 6361 7465 642c 2061 6e64 2073  eprecated, and s
+00029cf0: 686f 756c 6420 6e6f 7420 6265 2075 7365  hould not be use
+00029d00: 6420 746f 2063 6865 636b 2066 6f72 206c  d to check for l
+00029d10: 6566 7420 7265 6375 7273 696f 6e22 2c0a  eft recursion",.
+00029d20: 2020 2020 2020 2020 2020 2020 4465 7072              Depr
+00029d30: 6563 6174 696f 6e57 6172 6e69 6e67 2c0a  ecationWarning,.
+00029d40: 2020 2020 2020 2020 2020 2020 7374 6163              stac
+00029d50: 6b6c 6576 656c 3d32 2c0a 2020 2020 2020  klevel=2,.      
+00029d60: 2020 290a 2020 2020 2020 2020 6966 2076    ).        if v
+00029d70: 616c 6964 6174 6554 7261 6365 2069 7320  alidateTrace is 
+00029d80: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00029d90: 2020 7661 6c69 6461 7465 5472 6163 6520    validateTrace 
+00029da0: 3d20 5b5d 0a20 2020 2020 2020 2074 6d70  = [].        tmp
+00029db0: 203d 2076 616c 6964 6174 6554 7261 6365   = validateTrace
+00029dc0: 5b3a 5d20 2b20 5b73 656c 665d 0a20 2020  [:] + [self].   
+00029dd0: 2020 2020 2069 6620 7365 6c66 2e65 7870       if self.exp
+00029de0: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
+00029df0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00029e00: 6578 7072 2e76 616c 6964 6174 6528 746d  expr.validate(tm
+00029e10: 7029 0a20 2020 2020 2020 2073 656c 662e  p).        self.
+00029e20: 5f63 6865 636b 5265 6375 7273 696f 6e28  _checkRecursion(
+00029e30: 5b5d 290a 0a20 2020 2064 6566 205f 6765  [])..    def _ge
+00029e40: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
+00029e50: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
+00029e60: 2020 2020 2020 2020 7265 7475 726e 2066          return f
+00029e70: 227b 7365 6c66 2e5f 5f63 6c61 7373 5f5f  "{self.__class__
+00029e80: 2e5f 5f6e 616d 655f 5f7d 3a28 7b73 7472  .__name__}:({str
+00029e90: 2873 656c 662e 6578 7072 297d 2922 0a0a  (self.expr)})"..
+00029ea0: 2020 2020 2320 436f 6d70 6174 6962 696c      # Compatibil
+00029eb0: 6974 7920 7379 6e6f 6e79 6d73 0a20 2020  ity synonyms.   
+00029ec0: 2023 2066 6d74 3a20 6f66 660a 2020 2020   # fmt: off.    
+00029ed0: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
+00029ee0: 3828 6c65 6176 655f 7768 6974 6573 7061  8(leave_whitespa
+00029ef0: 6365 290a 2020 2020 6465 6620 6c65 6176  ce).    def leav
+00029f00: 6557 6869 7465 7370 6163 6528 7365 6c66  eWhitespace(self
+00029f10: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
+00029f20: 6c61 6365 645f 6279 5f70 6570 3828 6967  laced_by_pep8(ig
+00029f30: 6e6f 7265 5f77 6869 7465 7370 6163 6529  nore_whitespace)
+00029f40: 0a20 2020 2064 6566 2069 676e 6f72 6557  .    def ignoreW
+00029f50: 6869 7465 7370 6163 6528 7365 6c66 293a  hitespace(self):
+00029f60: 202e 2e2e 0a20 2020 2023 2066 6d74 3a20   ....    # fmt: 
+00029f70: 6f6e 0a0a 0a63 6c61 7373 2049 6e64 656e  on...class Inden
+00029f80: 7465 6442 6c6f 636b 2850 6172 7365 456c  tedBlock(ParseEl
+00029f90: 656d 656e 7445 6e68 616e 6365 293a 0a20  ementEnhance):. 
+00029fa0: 2020 2022 2222 0a20 2020 2045 7870 7265     """.    Expre
+00029fb0: 7373 696f 6e20 746f 206d 6174 6368 206f  ssion to match o
+00029fc0: 6e65 206f 7220 6d6f 7265 2065 7870 7265  ne or more expre
+00029fd0: 7373 696f 6e73 2061 7420 6120 6769 7665  ssions at a give
+00029fe0: 6e20 696e 6465 6e74 6174 696f 6e20 6c65  n indentation le
+00029ff0: 7665 6c2e 0a20 2020 2055 7365 6675 6c20  vel..    Useful 
+0002a000: 666f 7220 7061 7273 696e 6720 7465 7874  for parsing text
+0002a010: 2077 6865 7265 2073 7472 7563 7475 7265   where structure
+0002a020: 2069 7320 696d 706c 6965 6420 6279 2069   is implied by i
+0002a030: 6e64 656e 7461 7469 6f6e 2028 6c69 6b65  ndentation (like
+0002a040: 2050 7974 686f 6e20 736f 7572 6365 2063   Python source c
+0002a050: 6f64 6529 2e0a 2020 2020 2222 220a 0a20  ode)..    """.. 
+0002a060: 2020 2063 6c61 7373 205f 496e 6465 6e74     class _Indent
+0002a070: 2845 6d70 7479 293a 0a20 2020 2020 2020  (Empty):.       
+0002a080: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+0002a090: 6c66 2c20 7265 665f 636f 6c3a 2069 6e74  lf, ref_col: int
+0002a0a0: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
+0002a0b0: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
+0002a0c0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0002a0d0: 6c66 2e65 7272 6d73 6720 3d20 6622 6578  lf.errmsg = f"ex
+0002a0e0: 7065 6374 6564 2069 6e64 656e 7420 6174  pected indent at
+0002a0f0: 2063 6f6c 756d 6e20 7b72 6566 5f63 6f6c   column {ref_col
+0002a100: 7d22 0a20 2020 2020 2020 2020 2020 2073  }".            s
+0002a110: 656c 662e 6164 645f 636f 6e64 6974 696f  elf.add_conditio
+0002a120: 6e28 6c61 6d62 6461 2073 2c20 6c2c 2074  n(lambda s, l, t
+0002a130: 3a20 636f 6c28 6c2c 2073 2920 3d3d 2072  : col(l, s) == r
+0002a140: 6566 5f63 6f6c 290a 0a20 2020 2063 6c61  ef_col)..    cla
+0002a150: 7373 205f 496e 6465 6e74 4772 6561 7465  ss _IndentGreate
+0002a160: 7228 456d 7074 7929 3a0a 2020 2020 2020  r(Empty):.      
+0002a170: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+0002a180: 656c 662c 2072 6566 5f63 6f6c 3a20 696e  elf, ref_col: in
+0002a190: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+0002a1a0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+0002a1b0: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
+0002a1c0: 656c 662e 6572 726d 7367 203d 2066 2265  elf.errmsg = f"e
+0002a1d0: 7870 6563 7465 6420 696e 6465 6e74 2061  xpected indent a
+0002a1e0: 7420 636f 6c75 6d6e 2067 7265 6174 6572  t column greater
+0002a1f0: 2074 6861 6e20 7b72 6566 5f63 6f6c 7d22   than {ref_col}"
+0002a200: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0002a210: 662e 6164 645f 636f 6e64 6974 696f 6e28  f.add_condition(
+0002a220: 6c61 6d62 6461 2073 2c20 6c2c 2074 3a20  lambda s, l, t: 
+0002a230: 636f 6c28 6c2c 2073 2920 3e20 7265 665f  col(l, s) > ref_
+0002a240: 636f 6c29 0a0a 2020 2020 6465 6620 5f5f  col)..    def __
+0002a250: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
+0002a260: 7365 6c66 2c20 6578 7072 3a20 5061 7273  self, expr: Pars
+0002a270: 6572 456c 656d 656e 742c 202a 2c20 7265  erElement, *, re
+0002a280: 6375 7273 6976 653a 2062 6f6f 6c20 3d20  cursive: bool = 
+0002a290: 4661 6c73 652c 2067 726f 7570 6564 3a20  False, grouped: 
+0002a2a0: 626f 6f6c 203d 2054 7275 650a 2020 2020  bool = True.    
+0002a2b0: 293a 0a20 2020 2020 2020 2073 7570 6572  ):.        super
+0002a2c0: 2829 2e5f 5f69 6e69 745f 5f28 6578 7072  ().__init__(expr
+0002a2d0: 2c20 7361 7665 6c69 7374 3d54 7275 6529  , savelist=True)
+0002a2e0: 0a20 2020 2020 2020 2023 2069 6620 7265  .        # if re
+0002a2f0: 6375 7273 6976 653a 0a20 2020 2020 2020  cursive:.       
+0002a300: 2023 2020 2020 2072 6169 7365 204e 6f74   #     raise Not
+0002a310: 496d 706c 656d 656e 7465 6445 7272 6f72  ImplementedError
+0002a320: 2822 496e 6465 6e74 6564 426c 6f63 6b20  ("IndentedBlock 
+0002a330: 7769 7468 2072 6563 7572 7369 7665 2069  with recursive i
+0002a340: 7320 6e6f 7420 696d 706c 656d 656e 7465  s not implemente
+0002a350: 6422 290a 2020 2020 2020 2020 7365 6c66  d").        self
+0002a360: 2e5f 7265 6375 7273 6976 6520 3d20 7265  ._recursive = re
+0002a370: 6375 7273 6976 650a 2020 2020 2020 2020  cursive.        
+0002a380: 7365 6c66 2e5f 6772 6f75 7065 6420 3d20  self._grouped = 
+0002a390: 6772 6f75 7065 640a 2020 2020 2020 2020  grouped.        
+0002a3a0: 7365 6c66 2e70 6172 656e 745f 616e 6368  self.parent_anch
+0002a3b0: 6f72 203d 2031 0a0a 2020 2020 6465 6620  or = 1..    def 
+0002a3c0: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
+0002a3d0: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
+0002a3e0: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
+0002a3f0: 2020 2020 2020 2020 2320 6164 7661 6e63          # advanc
+0002a400: 6520 7061 7273 6520 706f 7369 7469 6f6e  e parse position
+0002a410: 2074 6f20 6e6f 6e2d 7768 6974 6573 7061   to non-whitespa
+0002a420: 6365 2062 7920 7573 696e 6720 616e 2045  ce by using an E
+0002a430: 6d70 7479 2829 0a20 2020 2020 2020 2023  mpty().        #
+0002a440: 2074 6869 7320 7368 6f75 6c64 2062 6520   this should be 
+0002a450: 7468 6520 636f 6c75 6d6e 2074 6f20 6265  the column to be
+0002a460: 2075 7365 6420 666f 7220 616c 6c20 7375   used for all su
+0002a470: 6273 6571 7565 6e74 2069 6e64 656e 7465  bsequent indente
+0002a480: 6420 6c69 6e65 730a 2020 2020 2020 2020  d lines.        
+0002a490: 616e 6368 6f72 5f6c 6f63 203d 2045 6d70  anchor_loc = Emp
+0002a4a0: 7479 2829 2e70 7265 5061 7273 6528 696e  ty().preParse(in
+0002a4b0: 7374 7269 6e67 2c20 6c6f 6329 0a0a 2020  string, loc)..  
+0002a4c0: 2020 2020 2020 2320 7365 6520 6966 2073        # see if s
+0002a4d0: 656c 662e 6578 7072 206d 6174 6368 6573  elf.expr matches
+0002a4e0: 2061 7420 7468 6520 6375 7272 656e 7420   at the current 
+0002a4f0: 6c6f 6361 7469 6f6e 202d 2069 6620 6e6f  location - if no
+0002a500: 7420 6974 2077 696c 6c20 7261 6973 6520  t it will raise 
+0002a510: 616e 2065 7863 6570 7469 6f6e 0a20 2020  an exception.   
+0002a520: 2020 2020 2023 2061 6e64 206e 6f20 6675       # and no fu
+0002a530: 7274 6865 7220 776f 726b 2069 7320 6e65  rther work is ne
+0002a540: 6365 7373 6172 790a 2020 2020 2020 2020  cessary.        
+0002a550: 7365 6c66 2e65 7870 722e 7472 795f 7061  self.expr.try_pa
+0002a560: 7273 6528 696e 7374 7269 6e67 2c20 616e  rse(instring, an
+0002a570: 6368 6f72 5f6c 6f63 2c20 646f 5f61 6374  chor_loc, do_act
+0002a580: 696f 6e73 3d64 6f41 6374 696f 6e73 290a  ions=doActions).
+0002a590: 0a20 2020 2020 2020 2069 6e64 656e 745f  .        indent_
+0002a5a0: 636f 6c20 3d20 636f 6c28 616e 6368 6f72  col = col(anchor
+0002a5b0: 5f6c 6f63 2c20 696e 7374 7269 6e67 290a  _loc, instring).
+0002a5c0: 2020 2020 2020 2020 7065 6572 5f64 6574          peer_det
+0002a5d0: 6563 745f 6578 7072 203d 2073 656c 662e  ect_expr = self.
+0002a5e0: 5f49 6e64 656e 7428 696e 6465 6e74 5f63  _Indent(indent_c
+0002a5f0: 6f6c 290a 0a20 2020 2020 2020 2069 6e6e  ol)..        inn
+0002a600: 6572 5f65 7870 7220 3d20 456d 7074 7928  er_expr = Empty(
+0002a610: 2920 2b20 7065 6572 5f64 6574 6563 745f  ) + peer_detect_
+0002a620: 6578 7072 202b 2073 656c 662e 6578 7072  expr + self.expr
+0002a630: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0002a640: 2e5f 7265 6375 7273 6976 653a 0a20 2020  ._recursive:.   
+0002a650: 2020 2020 2020 2020 2073 7562 5f69 6e64           sub_ind
+0002a660: 656e 7420 3d20 7365 6c66 2e5f 496e 6465  ent = self._Inde
+0002a670: 6e74 4772 6561 7465 7228 696e 6465 6e74  ntGreater(indent
+0002a680: 5f63 6f6c 290a 2020 2020 2020 2020 2020  _col).          
+0002a690: 2020 6e65 7374 6564 5f62 6c6f 636b 203d    nested_block =
+0002a6a0: 2049 6e64 656e 7465 6442 6c6f 636b 280a   IndentedBlock(.
+0002a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a6c0: 7365 6c66 2e65 7870 722c 2072 6563 7572  self.expr, recur
+0002a6d0: 7369 7665 3d73 656c 662e 5f72 6563 7572  sive=self._recur
+0002a6e0: 7369 7665 2c20 6772 6f75 7065 643d 7365  sive, grouped=se
+0002a6f0: 6c66 2e5f 6772 6f75 7065 640a 2020 2020  lf._grouped.    
+0002a700: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0002a710: 2020 2020 2020 6e65 7374 6564 5f62 6c6f        nested_blo
+0002a720: 636b 2e73 6574 5f64 6562 7567 2873 656c  ck.set_debug(sel
+0002a730: 662e 6465 6275 6729 0a20 2020 2020 2020  f.debug).       
+0002a740: 2020 2020 206e 6573 7465 645f 626c 6f63       nested_bloc
+0002a750: 6b2e 7061 7265 6e74 5f61 6e63 686f 7220  k.parent_anchor 
+0002a760: 3d20 696e 6465 6e74 5f63 6f6c 0a20 2020  = indent_col.   
+0002a770: 2020 2020 2020 2020 2069 6e6e 6572 5f65           inner_e
+0002a780: 7870 7220 2b3d 204f 7074 2873 7562 5f69  xpr += Opt(sub_i
+0002a790: 6e64 656e 7420 2b20 6e65 7374 6564 5f62  ndent + nested_b
+0002a7a0: 6c6f 636b 290a 0a20 2020 2020 2020 2069  lock)..        i
+0002a7b0: 6e6e 6572 5f65 7870 722e 7365 745f 6e61  nner_expr.set_na
+0002a7c0: 6d65 2866 2269 6e6e 6572 207b 6865 7828  me(f"inner {hex(
+0002a7d0: 6964 2869 6e6e 6572 5f65 7870 7229 295b  id(inner_expr))[
+0002a7e0: 2d34 3a5d 2e75 7070 6572 2829 7d40 7b69  -4:].upper()}@{i
+0002a7f0: 6e64 656e 745f 636f 6c7d 2229 0a20 2020  ndent_col}").   
+0002a800: 2020 2020 2062 6c6f 636b 203d 204f 6e65       block = One
+0002a810: 4f72 4d6f 7265 2869 6e6e 6572 5f65 7870  OrMore(inner_exp
+0002a820: 7229 0a0a 2020 2020 2020 2020 7472 6169  r)..        trai
+0002a830: 6c69 6e67 5f75 6e64 656e 7420 3d20 7365  ling_undent = se
+0002a840: 6c66 2e5f 496e 6465 6e74 2873 656c 662e  lf._Indent(self.
+0002a850: 7061 7265 6e74 5f61 6e63 686f 7229 207c  parent_anchor) |
+0002a860: 2053 7472 696e 6745 6e64 2829 0a0a 2020   StringEnd()..  
+0002a870: 2020 2020 2020 6966 2073 656c 662e 5f67        if self._g
+0002a880: 726f 7570 6564 3a0a 2020 2020 2020 2020  rouped:.        
+0002a890: 2020 2020 7772 6170 7065 7220 3d20 4772      wrapper = Gr
+0002a8a0: 6f75 700a 2020 2020 2020 2020 656c 7365  oup.        else
+0002a8b0: 3a0a 2020 2020 2020 2020 2020 2020 7772  :.            wr
+0002a8c0: 6170 7065 7220 3d20 6c61 6d62 6461 2065  apper = lambda e
+0002a8d0: 7870 723a 2065 7870 720a 2020 2020 2020  xpr: expr.      
+0002a8e0: 2020 7265 7475 726e 2028 7772 6170 7065    return (wrappe
+0002a8f0: 7228 626c 6f63 6b29 202b 204f 7074 696f  r(block) + Optio
+0002a900: 6e61 6c28 7472 6169 6c69 6e67 5f75 6e64  nal(trailing_und
+0002a910: 656e 7429 292e 7061 7273 6549 6d70 6c28  ent)).parseImpl(
+0002a920: 0a20 2020 2020 2020 2020 2020 2069 6e73  .            ins
+0002a930: 7472 696e 672c 2061 6e63 686f 725f 6c6f  tring, anchor_lo
+0002a940: 632c 2064 6f41 6374 696f 6e73 0a20 2020  c, doActions.   
+0002a950: 2020 2020 2029 0a0a 0a63 6c61 7373 2041       )...class A
+0002a960: 7453 7472 696e 6753 7461 7274 2850 6172  tStringStart(Par
+0002a970: 7365 456c 656d 656e 7445 6e68 616e 6365  seElementEnhance
+0002a980: 293a 0a20 2020 2022 2222 4d61 7463 6865  ):.    """Matche
+0002a990: 7320 6966 2065 7870 7265 7373 696f 6e20  s if expression 
+0002a9a0: 6d61 7463 6865 7320 6174 2074 6865 2062  matches at the b
+0002a9b0: 6567 696e 6e69 6e67 206f 6620 7468 6520  eginning of the 
+0002a9c0: 7061 7273 650a 2020 2020 7374 7269 6e67  parse.    string
+0002a9d0: 3a3a 0a0a 2020 2020 2020 2020 4174 5374  ::..        AtSt
+0002a9e0: 7269 6e67 5374 6172 7428 576f 7264 286e  ringStart(Word(n
+0002a9f0: 756d 7329 292e 7061 7273 655f 7374 7269  ums)).parse_stri
+0002aa00: 6e67 2822 3132 3322 290a 2020 2020 2020  ng("123").      
+0002aa10: 2020 2320 7072 696e 7473 205b 2231 3233    # prints ["123
+0002aa20: 225d 0a0a 2020 2020 2020 2020 4174 5374  "]..        AtSt
+0002aa30: 7269 6e67 5374 6172 7428 576f 7264 286e  ringStart(Word(n
+0002aa40: 756d 7329 292e 7061 7273 655f 7374 7269  ums)).parse_stri
+0002aa50: 6e67 2822 2020 2020 3132 3322 290a 2020  ng("    123").  
+0002aa60: 2020 2020 2020 2320 7261 6973 6573 2050        # raises P
+0002aa70: 6172 7365 4578 6365 7074 696f 6e0a 2020  arseException.  
+0002aa80: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+0002aa90: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
+0002aaa0: 7072 3a20 556e 696f 6e5b 5061 7273 6572  pr: Union[Parser
+0002aab0: 456c 656d 656e 742c 2073 7472 5d29 3a0a  Element, str]):.
+0002aac0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+0002aad0: 5f5f 696e 6974 5f5f 2865 7870 7229 0a20  __init__(expr). 
+0002aae0: 2020 2020 2020 2073 656c 662e 6361 6c6c         self.call
+0002aaf0: 5072 6570 6172 7365 203d 2046 616c 7365  Preparse = False
+0002ab00: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+0002ab10: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
+0002ab20: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+0002ab30: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
+0002ab40: 2020 6966 206c 6f63 2021 3d20 303a 0a20    if loc != 0:. 
+0002ab50: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0002ab60: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
+0002ab70: 696e 7374 7269 6e67 2c20 6c6f 632c 2022  instring, loc, "
+0002ab80: 6e6f 7420 666f 756e 6420 6174 2073 7472  not found at str
+0002ab90: 696e 6720 7374 6172 7422 290a 2020 2020  ing start").    
+0002aba0: 2020 2020 7265 7475 726e 2073 7570 6572      return super
+0002abb0: 2829 2e70 6172 7365 496d 706c 2869 6e73  ().parseImpl(ins
+0002abc0: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+0002abd0: 7469 6f6e 7329 0a0a 0a63 6c61 7373 2041  tions)...class A
+0002abe0: 744c 696e 6553 7461 7274 2850 6172 7365  tLineStart(Parse
+0002abf0: 456c 656d 656e 7445 6e68 616e 6365 293a  ElementEnhance):
+0002ac00: 0a20 2020 2072 2222 224d 6174 6368 6573  .    r"""Matches
+0002ac10: 2069 6620 616e 2065 7870 7265 7373 696f   if an expressio
+0002ac20: 6e20 6d61 7463 6865 7320 6174 2074 6865  n matches at the
+0002ac30: 2062 6567 696e 6e69 6e67 206f 6620 6120   beginning of a 
+0002ac40: 6c69 6e65 2077 6974 6869 6e0a 2020 2020  line within.    
+0002ac50: 7468 6520 7061 7273 6520 7374 7269 6e67  the parse string
+0002ac60: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
+0002ac70: 0a20 2020 2020 2020 2074 6573 7420 3d20  .        test = 
+0002ac80: 2727 275c 0a20 2020 2020 2020 2041 4141  '''\.        AAA
+0002ac90: 2074 6869 7320 6c69 6e65 0a20 2020 2020   this line.     
+0002aca0: 2020 2041 4141 2061 6e64 2074 6869 7320     AAA and this 
+0002acb0: 6c69 6e65 0a20 2020 2020 2020 2020 2041  line.          A
+0002acc0: 4141 2062 7574 206e 6f74 2074 6869 7320  AA but not this 
+0002acd0: 6f6e 650a 2020 2020 2020 2020 4220 4141  one.        B AA
+0002ace0: 4120 616e 6420 6465 6669 6e69 7465 6c79  A and definitely
+0002acf0: 206e 6f74 2074 6869 7320 6f6e 650a 2020   not this one.  
+0002ad00: 2020 2020 2020 2727 270a 0a20 2020 2020        '''..     
+0002ad10: 2020 2066 6f72 2074 2069 6e20 2841 744c     for t in (AtL
+0002ad20: 696e 6553 7461 7274 2827 4141 4127 2920  ineStart('AAA') 
+0002ad30: 2b20 7265 7374 5f6f 665f 6c69 6e65 292e  + rest_of_line).
+0002ad40: 7365 6172 6368 5f73 7472 696e 6728 7465  search_string(te
+0002ad50: 7374 293a 0a20 2020 2020 2020 2020 2020  st):.           
+0002ad60: 2070 7269 6e74 2874 290a 0a20 2020 2070   print(t)..    p
+0002ad70: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
+0002ad80: 205b 2741 4141 272c 2027 2074 6869 7320   ['AAA', ' this 
+0002ad90: 6c69 6e65 275d 0a20 2020 2020 2020 205b  line'].        [
+0002ada0: 2741 4141 272c 2027 2061 6e64 2074 6869  'AAA', ' and thi
+0002adb0: 7320 6c69 6e65 275d 0a0a 2020 2020 2222  s line']..    ""
+0002adc0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+0002add0: 745f 5f28 7365 6c66 2c20 6578 7072 3a20  t__(self, expr: 
+0002ade0: 556e 696f 6e5b 5061 7273 6572 456c 656d  Union[ParserElem
+0002adf0: 656e 742c 2073 7472 5d29 3a0a 2020 2020  ent, str]):.    
+0002ae00: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+0002ae10: 6974 5f5f 2865 7870 7229 0a20 2020 2020  it__(expr).     
+0002ae20: 2020 2073 656c 662e 6361 6c6c 5072 6570     self.callPrep
+0002ae30: 6172 7365 203d 2046 616c 7365 0a0a 2020  arse = False..  
+0002ae40: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+0002ae50: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+0002ae60: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+0002ae70: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+0002ae80: 2063 6f6c 286c 6f63 2c20 696e 7374 7269   col(loc, instri
+0002ae90: 6e67 2920 213d 2031 3a0a 2020 2020 2020  ng) != 1:.      
+0002aea0: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+0002aeb0: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+0002aec0: 696e 672c 206c 6f63 2c20 226e 6f74 2066  ing, loc, "not f
+0002aed0: 6f75 6e64 2061 7420 6c69 6e65 2073 7461  ound at line sta
+0002aee0: 7274 2229 0a20 2020 2020 2020 2072 6574  rt").        ret
+0002aef0: 7572 6e20 7375 7065 7228 292e 7061 7273  urn super().pars
+0002af00: 6549 6d70 6c28 696e 7374 7269 6e67 2c20  eImpl(instring, 
+0002af10: 6c6f 632c 2064 6f41 6374 696f 6e73 290a  loc, doActions).
+0002af20: 0a0a 636c 6173 7320 466f 6c6c 6f77 6564  ..class Followed
+0002af30: 4279 2850 6172 7365 456c 656d 656e 7445  By(ParseElementE
+0002af40: 6e68 616e 6365 293a 0a20 2020 2022 2222  nhance):.    """
+0002af50: 4c6f 6f6b 6168 6561 6420 6d61 7463 6869  Lookahead matchi
+0002af60: 6e67 206f 6620 7468 6520 6769 7665 6e20  ng of the given 
+0002af70: 7061 7273 6520 6578 7072 6573 7369 6f6e  parse expression
+0002af80: 2e0a 2020 2020 6060 466f 6c6c 6f77 6564  ..    ``Followed
+0002af90: 4279 6060 2064 6f65 7320 2a6e 6f74 2a20  By`` does *not* 
+0002afa0: 6164 7661 6e63 6520 7468 6520 7061 7273  advance the pars
+0002afb0: 696e 6720 706f 7369 7469 6f6e 2077 6974  ing position wit
+0002afc0: 6869 6e0a 2020 2020 7468 6520 696e 7075  hin.    the inpu
+0002afd0: 7420 7374 7269 6e67 2c20 6974 206f 6e6c  t string, it onl
+0002afe0: 7920 7665 7269 6669 6573 2074 6861 7420  y verifies that 
+0002aff0: 7468 6520 7370 6563 6966 6965 6420 7061  the specified pa
+0002b000: 7273 650a 2020 2020 6578 7072 6573 7369  rse.    expressi
+0002b010: 6f6e 206d 6174 6368 6573 2061 7420 7468  on matches at th
+0002b020: 6520 6375 7272 656e 7420 706f 7369 7469  e current positi
+0002b030: 6f6e 2e20 2060 6046 6f6c 6c6f 7765 6442  on.  ``FollowedB
+0002b040: 7960 600a 2020 2020 616c 7761 7973 2072  y``.    always r
+0002b050: 6574 7572 6e73 2061 206e 756c 6c20 746f  eturns a null to
+0002b060: 6b65 6e20 6c69 7374 2e20 4966 2061 6e79  ken list. If any
+0002b070: 2072 6573 756c 7473 206e 616d 6573 2061   results names a
+0002b080: 7265 2064 6566 696e 6564 0a20 2020 2069  re defined.    i
+0002b090: 6e20 7468 6520 6c6f 6f6b 6168 6561 6420  n the lookahead 
+0002b0a0: 6578 7072 6573 7369 6f6e 2c20 7468 6f73  expression, thos
+0002b0b0: 6520 2a77 696c 6c2a 2062 6520 7265 7475  e *will* be retu
+0002b0c0: 726e 6564 2066 6f72 2061 6363 6573 7320  rned for access 
+0002b0d0: 6279 0a20 2020 206e 616d 652e 0a0a 2020  by.    name...  
+0002b0e0: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+0002b0f0: 2020 2020 2023 2075 7365 2046 6f6c 6c6f       # use Follo
+0002b100: 7765 6442 7920 746f 206d 6174 6368 2061  wedBy to match a
+0002b110: 206c 6162 656c 206f 6e6c 7920 6966 2069   label only if i
+0002b120: 7420 6973 2066 6f6c 6c6f 7765 6420 6279  t is followed by
+0002b130: 2061 2027 3a27 0a20 2020 2020 2020 2064   a ':'.        d
+0002b140: 6174 615f 776f 7264 203d 2057 6f72 6428  ata_word = Word(
+0002b150: 616c 7068 6173 290a 2020 2020 2020 2020  alphas).        
+0002b160: 6c61 6265 6c20 3d20 6461 7461 5f77 6f72  label = data_wor
+0002b170: 6420 2b20 466f 6c6c 6f77 6564 4279 2827  d + FollowedBy('
+0002b180: 3a27 290a 2020 2020 2020 2020 6174 7472  :').        attr
+0002b190: 5f65 7870 7220 3d20 4772 6f75 7028 6c61  _expr = Group(la
+0002b1a0: 6265 6c20 2b20 5375 7070 7265 7373 2827  bel + Suppress('
+0002b1b0: 3a27 2920 2b20 4f6e 654f 724d 6f72 6528  :') + OneOrMore(
+0002b1c0: 6461 7461 5f77 6f72 642c 2073 746f 705f  data_word, stop_
+0002b1d0: 6f6e 3d6c 6162 656c 292e 7365 745f 7061  on=label).set_pa
+0002b1e0: 7273 655f 6163 7469 6f6e 2827 2027 2e6a  rse_action(' '.j
+0002b1f0: 6f69 6e29 290a 0a20 2020 2020 2020 2061  oin))..        a
+0002b200: 7474 725f 6578 7072 5b31 2c20 2e2e 2e5d  ttr_expr[1, ...]
+0002b210: 2e70 6172 7365 5f73 7472 696e 6728 2273  .parse_string("s
+0002b220: 6861 7065 3a20 5351 5541 5245 2063 6f6c  hape: SQUARE col
+0002b230: 6f72 3a20 424c 4143 4b20 706f 736e 3a20  or: BLACK posn: 
+0002b240: 7570 7065 7220 6c65 6674 2229 2e70 7072  upper left").ppr
+0002b250: 696e 7428 290a 0a20 2020 2070 7269 6e74  int()..    print
+0002b260: 733a 3a0a 0a20 2020 2020 2020 205b 5b27  s::..        [['
+0002b270: 7368 6170 6527 2c20 2753 5155 4152 4527  shape', 'SQUARE'
+0002b280: 5d2c 205b 2763 6f6c 6f72 272c 2027 424c  ], ['color', 'BL
+0002b290: 4143 4b27 5d2c 205b 2770 6f73 6e27 2c20  ACK'], ['posn', 
+0002b2a0: 2775 7070 6572 206c 6566 7427 5d5d 0a20  'upper left']]. 
+0002b2b0: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
+0002b2c0: 5f5f 696e 6974 5f5f 2873 656c 662c 2065  __init__(self, e
+0002b2d0: 7870 723a 2055 6e69 6f6e 5b50 6172 7365  xpr: Union[Parse
+0002b2e0: 7245 6c65 6d65 6e74 2c20 7374 725d 293a  rElement, str]):
+0002b2f0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+0002b300: 2e5f 5f69 6e69 745f 5f28 6578 7072 290a  .__init__(expr).
+0002b310: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+0002b320: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
+0002b330: 7565 0a0a 2020 2020 6465 6620 7061 7273  ue..    def pars
+0002b340: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+0002b350: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+0002b360: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
+0002b370: 2020 2020 2320 6279 2075 7369 6e67 2073      # by using s
+0002b380: 656c 662e 5f65 7870 722e 7061 7273 6520  elf._expr.parse 
+0002b390: 616e 6420 6465 6c65 7469 6e67 2074 6865  and deleting the
+0002b3a0: 2063 6f6e 7465 6e74 7320 6f66 2074 6865   contents of the
+0002b3b0: 2072 6574 7572 6e65 6420 5061 7273 6552   returned ParseR
+0002b3c0: 6573 756c 7473 206c 6973 740a 2020 2020  esults list.    
+0002b3d0: 2020 2020 2320 7765 206b 6565 7020 616e      # we keep an
+0002b3e0: 7920 6e61 6d65 6420 7265 7375 6c74 7320  y named results 
+0002b3f0: 7468 6174 2077 6572 6520 6465 6669 6e65  that were define
+0002b400: 6420 696e 2074 6865 2046 6f6c 6c6f 7765  d in the Followe
+0002b410: 6442 7920 6578 7072 6573 7369 6f6e 0a20  dBy expression. 
+0002b420: 2020 2020 2020 205f 2c20 7265 7420 3d20         _, ret = 
+0002b430: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
+0002b440: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+0002b450: 646f 4163 7469 6f6e 733d 646f 4163 7469  doActions=doActi
+0002b460: 6f6e 7329 0a20 2020 2020 2020 2064 656c  ons).        del
+0002b470: 2072 6574 5b3a 5d0a 0a20 2020 2020 2020   ret[:]..       
+0002b480: 2072 6574 7572 6e20 6c6f 632c 2072 6574   return loc, ret
+0002b490: 0a0a 0a63 6c61 7373 2050 7265 6365 6465  ...class Precede
+0002b4a0: 6442 7928 5061 7273 6545 6c65 6d65 6e74  dBy(ParseElement
+0002b4b0: 456e 6861 6e63 6529 3a0a 2020 2020 2222  Enhance):.    ""
+0002b4c0: 224c 6f6f 6b62 6568 696e 6420 6d61 7463  "Lookbehind matc
+0002b4d0: 6869 6e67 206f 6620 7468 6520 6769 7665  hing of the give
+0002b4e0: 6e20 7061 7273 6520 6578 7072 6573 7369  n parse expressi
+0002b4f0: 6f6e 2e0a 2020 2020 6060 5072 6563 6564  on..    ``Preced
+0002b500: 6564 4279 6060 2064 6f65 7320 6e6f 7420  edBy`` does not 
+0002b510: 6164 7661 6e63 6520 7468 6520 7061 7273  advance the pars
+0002b520: 696e 6720 706f 7369 7469 6f6e 2077 6974  ing position wit
+0002b530: 6869 6e20 7468 650a 2020 2020 696e 7075  hin the.    inpu
+0002b540: 7420 7374 7269 6e67 2c20 6974 206f 6e6c  t string, it onl
+0002b550: 7920 7665 7269 6669 6573 2074 6861 7420  y verifies that 
+0002b560: 7468 6520 7370 6563 6966 6965 6420 7061  the specified pa
+0002b570: 7273 6520 6578 7072 6573 7369 6f6e 0a20  rse expression. 
+0002b580: 2020 206d 6174 6368 6573 2070 7269 6f72     matches prior
+0002b590: 2074 6f20 7468 6520 6375 7272 656e 7420   to the current 
+0002b5a0: 706f 7369 7469 6f6e 2e20 2060 6050 7265  position.  ``Pre
+0002b5b0: 6365 6465 6442 7960 6020 616c 7761 7973  cededBy`` always
+0002b5c0: 0a20 2020 2072 6574 7572 6e73 2061 206e  .    returns a n
+0002b5d0: 756c 6c20 746f 6b65 6e20 6c69 7374 2c20  ull token list, 
+0002b5e0: 6275 7420 6966 2061 2072 6573 756c 7473  but if a results
+0002b5f0: 206e 616d 6520 6973 2064 6566 696e 6564   name is defined
+0002b600: 206f 6e20 7468 650a 2020 2020 6769 7665   on the.    give
+0002b610: 6e20 6578 7072 6573 7369 6f6e 2c20 6974  n expression, it
+0002b620: 2069 7320 7265 7475 726e 6564 2e0a 0a20   is returned... 
+0002b630: 2020 2050 6172 616d 6574 6572 733a 0a0a     Parameters:..
+0002b640: 2020 2020 2d20 6060 6578 7072 6060 202d      - ``expr`` -
+0002b650: 2065 7870 7265 7373 696f 6e20 7468 6174   expression that
+0002b660: 206d 7573 7420 6d61 7463 6820 7072 696f   must match prio
+0002b670: 7220 746f 2074 6865 2063 7572 7265 6e74  r to the current
+0002b680: 2070 6172 7365 0a20 2020 2020 206c 6f63   parse.      loc
+0002b690: 6174 696f 6e0a 2020 2020 2d20 6060 7265  ation.    - ``re
+0002b6a0: 7472 6561 7460 6020 2d20 2864 6566 6175  treat`` - (defau
+0002b6b0: 6c74 3d20 6060 4e6f 6e65 6060 2920 2d20  lt= ``None``) - 
+0002b6c0: 2869 6e74 2920 6d61 7869 6d75 6d20 6e75  (int) maximum nu
+0002b6d0: 6d62 6572 206f 6620 6368 6172 6163 7465  mber of characte
+0002b6e0: 7273 0a20 2020 2020 2074 6f20 6c6f 6f6b  rs.      to look
+0002b6f0: 6265 6869 6e64 2070 7269 6f72 2074 6f20  behind prior to 
+0002b700: 7468 6520 6375 7272 656e 7420 7061 7273  the current pars
+0002b710: 6520 6c6f 6361 7469 6f6e 0a0a 2020 2020  e location..    
+0002b720: 4966 2074 6865 206c 6f6f 6b62 6568 696e  If the lookbehin
+0002b730: 6420 6578 7072 6573 7369 6f6e 2069 7320  d expression is 
+0002b740: 6120 7374 7269 6e67 2c20 3a63 6c61 7373  a string, :class
+0002b750: 3a60 4c69 7465 7261 6c60 2c0a 2020 2020  :`Literal`,.    
+0002b760: 3a63 6c61 7373 3a60 4b65 7977 6f72 6460  :class:`Keyword`
+0002b770: 2c20 6f72 2061 203a 636c 6173 733a 6057  , or a :class:`W
+0002b780: 6f72 6460 206f 7220 3a63 6c61 7373 3a60  ord` or :class:`
+0002b790: 4368 6172 734e 6f74 496e 600a 2020 2020  CharsNotIn`.    
+0002b7a0: 7769 7468 2061 2073 7065 6369 6669 6564  with a specified
+0002b7b0: 2065 7861 6374 206f 7220 6d61 7869 6d75   exact or maximu
+0002b7c0: 6d20 6c65 6e67 7468 2c20 7468 656e 2074  m length, then t
+0002b7d0: 6865 2072 6574 7265 6174 0a20 2020 2070  he retreat.    p
+0002b7e0: 6172 616d 6574 6572 2069 7320 6e6f 7420  arameter is not 
+0002b7f0: 7265 7175 6972 6564 2e20 4f74 6865 7277  required. Otherw
+0002b800: 6973 652c 2072 6574 7265 6174 206d 7573  ise, retreat mus
+0002b810: 7420 6265 2073 7065 6369 6669 6564 2074  t be specified t
+0002b820: 6f0a 2020 2020 6769 7665 2061 206d 6178  o.    give a max
+0002b830: 696d 756d 206e 756d 6265 7220 6f66 2063  imum number of c
+0002b840: 6861 7261 6374 6572 7320 746f 206c 6f6f  haracters to loo
+0002b850: 6b20 6261 636b 2066 726f 6d0a 2020 2020  k back from.    
+0002b860: 7468 6520 6375 7272 656e 7420 7061 7273  the current pars
+0002b870: 6520 706f 7369 7469 6f6e 2066 6f72 2061  e position for a
+0002b880: 206c 6f6f 6b62 6568 696e 6420 6d61 7463   lookbehind matc
+0002b890: 682e 0a0a 2020 2020 4578 616d 706c 653a  h...    Example:
+0002b8a0: 3a0a 0a20 2020 2020 2020 2023 2056 422d  :..        # VB-
+0002b8b0: 7374 796c 6520 7661 7269 6162 6c65 206e  style variable n
+0002b8c0: 616d 6573 2077 6974 6820 7479 7065 2070  ames with type p
+0002b8d0: 7265 6669 7865 730a 2020 2020 2020 2020  refixes.        
+0002b8e0: 696e 745f 7661 7220 3d20 5072 6563 6564  int_var = Preced
+0002b8f0: 6564 4279 2822 2322 2920 2b20 7079 7061  edBy("#") + pypa
+0002b900: 7273 696e 675f 636f 6d6d 6f6e 2e69 6465  rsing_common.ide
+0002b910: 6e74 6966 6965 720a 2020 2020 2020 2020  ntifier.        
+0002b920: 7374 725f 7661 7220 3d20 5072 6563 6564  str_var = Preced
+0002b930: 6564 4279 2822 2422 2920 2b20 7079 7061  edBy("$") + pypa
+0002b940: 7273 696e 675f 636f 6d6d 6f6e 2e69 6465  rsing_common.ide
+0002b950: 6e74 6966 6965 720a 0a20 2020 2022 2222  ntifier..    """
+0002b960: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
+0002b970: 5f5f 280a 2020 2020 2020 2020 7365 6c66  __(.        self
+0002b980: 2c20 6578 7072 3a20 556e 696f 6e5b 5061  , expr: Union[Pa
+0002b990: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
+0002b9a0: 5d2c 2072 6574 7265 6174 3a20 7479 7069  ], retreat: typi
+0002b9b0: 6e67 2e4f 7074 696f 6e61 6c5b 696e 745d  ng.Optional[int]
+0002b9c0: 203d 204e 6f6e 650a 2020 2020 293a 0a20   = None.    ):. 
+0002b9d0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+0002b9e0: 5f69 6e69 745f 5f28 6578 7072 290a 2020  _init__(expr).  
+0002b9f0: 2020 2020 2020 7365 6c66 2e65 7870 7220        self.expr 
+0002ba00: 3d20 7365 6c66 2e65 7870 7228 292e 6c65  = self.expr().le
+0002ba10: 6176 655f 7768 6974 6573 7061 6365 2829  ave_whitespace()
+0002ba20: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+0002ba30: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
+0002ba40: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
+0002ba50: 2e6d 6179 496e 6465 7845 7272 6f72 203d  .mayIndexError =
+0002ba60: 2046 616c 7365 0a20 2020 2020 2020 2073   False.        s
+0002ba70: 656c 662e 6578 6163 7420 3d20 4661 6c73  elf.exact = Fals
+0002ba80: 650a 2020 2020 2020 2020 6966 2069 7369  e.        if isi
+0002ba90: 6e73 7461 6e63 6528 6578 7072 2c20 7374  nstance(expr, st
+0002baa0: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
+0002bab0: 2020 2020 2065 7870 7220 3d20 7479 7069       expr = typi
+0002bac0: 6e67 2e63 6173 7428 7374 722c 2065 7870  ng.cast(str, exp
+0002bad0: 7229 0a20 2020 2020 2020 2020 2020 2072  r).            r
+0002bae0: 6574 7265 6174 203d 206c 656e 2865 7870  etreat = len(exp
+0002baf0: 7229 0a20 2020 2020 2020 2020 2020 2073  r).            s
+0002bb00: 656c 662e 6578 6163 7420 3d20 5472 7565  elf.exact = True
+0002bb10: 0a20 2020 2020 2020 2065 6c69 6620 6973  .        elif is
+0002bb20: 696e 7374 616e 6365 2865 7870 722c 2028  instance(expr, (
+0002bb30: 4c69 7465 7261 6c2c 204b 6579 776f 7264  Literal, Keyword
+0002bb40: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
+0002bb50: 7265 7472 6561 7420 3d20 6578 7072 2e6d  retreat = expr.m
+0002bb60: 6174 6368 4c65 6e0a 2020 2020 2020 2020  atchLen.        
+0002bb70: 2020 2020 7365 6c66 2e65 7861 6374 203d      self.exact =
+0002bb80: 2054 7275 650a 2020 2020 2020 2020 656c   True.        el
+0002bb90: 6966 2069 7369 6e73 7461 6e63 6528 6578  if isinstance(ex
+0002bba0: 7072 2c20 2857 6f72 642c 2043 6861 7273  pr, (Word, Chars
+0002bbb0: 4e6f 7449 6e29 2920 616e 6420 6578 7072  NotIn)) and expr
+0002bbc0: 2e6d 6178 4c65 6e20 213d 205f 4d41 585f  .maxLen != _MAX_
+0002bbd0: 494e 543a 0a20 2020 2020 2020 2020 2020  INT:.           
+0002bbe0: 2072 6574 7265 6174 203d 2065 7870 722e   retreat = expr.
+0002bbf0: 6d61 784c 656e 0a20 2020 2020 2020 2020  maxLen.         
+0002bc00: 2020 2073 656c 662e 6578 6163 7420 3d20     self.exact = 
+0002bc10: 5472 7565 0a20 2020 2020 2020 2065 6c69  True.        eli
+0002bc20: 6620 6973 696e 7374 616e 6365 2865 7870  f isinstance(exp
+0002bc30: 722c 2050 6f73 6974 696f 6e54 6f6b 656e  r, PositionToken
+0002bc40: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+0002bc50: 6574 7265 6174 203d 2030 0a20 2020 2020  etreat = 0.     
+0002bc60: 2020 2020 2020 2073 656c 662e 6578 6163         self.exac
+0002bc70: 7420 3d20 5472 7565 0a20 2020 2020 2020  t = True.       
+0002bc80: 2073 656c 662e 7265 7472 6561 7420 3d20   self.retreat = 
+0002bc90: 7265 7472 6561 740a 2020 2020 2020 2020  retreat.        
+0002bca0: 7365 6c66 2e65 7272 6d73 6720 3d20 226e  self.errmsg = "n
+0002bcb0: 6f74 2070 7265 6365 6465 6420 6279 2022  ot preceded by "
+0002bcc0: 202b 2073 7472 2865 7870 7229 0a20 2020   + str(expr).   
+0002bcd0: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
+0002bce0: 6974 6573 7061 6365 203d 2046 616c 7365  itespace = False
+0002bcf0: 0a20 2020 2020 2020 2073 656c 662e 7061  .        self.pa
+0002bd00: 7273 6541 6374 696f 6e2e 6170 7065 6e64  rseAction.append
+0002bd10: 286c 616d 6264 6120 732c 206c 2c20 743a  (lambda s, l, t:
+0002bd20: 2074 2e5f 5f64 656c 6974 656d 5f5f 2873   t.__delitem__(s
+0002bd30: 6c69 6365 284e 6f6e 652c 204e 6f6e 6529  lice(None, None)
+0002bd40: 2929 0a0a 2020 2020 6465 6620 7061 7273  ))..    def pars
+0002bd50: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+0002bd60: 7269 6e67 2c20 6c6f 633d 302c 2064 6f41  ring, loc=0, doA
+0002bd70: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
+0002bd80: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
+0002bd90: 6163 743a 0a20 2020 2020 2020 2020 2020  act:.           
+0002bda0: 2069 6620 6c6f 6320 3c20 7365 6c66 2e72   if loc < self.r
+0002bdb0: 6574 7265 6174 3a0a 2020 2020 2020 2020  etreat:.        
+0002bdc0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+0002bdd0: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
+0002bde0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
+0002bdf0: 2e65 7272 6d73 6729 0a20 2020 2020 2020  .errmsg).       
+0002be00: 2020 2020 2073 7461 7274 203d 206c 6f63       start = loc
+0002be10: 202d 2073 656c 662e 7265 7472 6561 740a   - self.retreat.
+0002be20: 2020 2020 2020 2020 2020 2020 5f2c 2072              _, r
+0002be30: 6574 203d 2073 656c 662e 6578 7072 2e5f  et = self.expr._
+0002be40: 7061 7273 6528 696e 7374 7269 6e67 2c20  parse(instring, 
+0002be50: 7374 6172 7429 0a20 2020 2020 2020 2065  start).        e
+0002be60: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0002be70: 2023 2072 6574 7265 6174 2073 7065 6369   # retreat speci
+0002be80: 6669 6564 2061 206d 6178 696d 756d 206c  fied a maximum l
+0002be90: 6f6f 6b62 6568 696e 6420 7769 6e64 6f77  ookbehind window
+0002bea0: 2c20 6974 6572 6174 650a 2020 2020 2020  , iterate.      
+0002beb0: 2020 2020 2020 7465 7374 5f65 7870 7220        test_expr 
+0002bec0: 3d20 7365 6c66 2e65 7870 7220 2b20 5374  = self.expr + St
+0002bed0: 7269 6e67 456e 6428 290a 2020 2020 2020  ringEnd().      
+0002bee0: 2020 2020 2020 696e 7374 7269 6e67 5f73        instring_s
+0002bef0: 6c69 6365 203d 2069 6e73 7472 696e 675b  lice = instring[
+0002bf00: 6d61 7828 302c 206c 6f63 202d 2073 656c  max(0, loc - sel
+0002bf10: 662e 7265 7472 6561 7429 203a 206c 6f63  f.retreat) : loc
+0002bf20: 5d0a 2020 2020 2020 2020 2020 2020 6c61  ].            la
+0002bf30: 7374 5f65 7870 7220 3d20 5061 7273 6545  st_expr = ParseE
+0002bf40: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
+0002bf50: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
+0002bf60: 6d73 6729 0a20 2020 2020 2020 2020 2020  msg).           
+0002bf70: 2066 6f72 206f 6666 7365 7420 696e 2072   for offset in r
+0002bf80: 616e 6765 2831 2c20 6d69 6e28 6c6f 632c  ange(1, min(loc,
+0002bf90: 2073 656c 662e 7265 7472 6561 7420 2b20   self.retreat + 
+0002bfa0: 3129 202b 2031 293a 0a20 2020 2020 2020  1) + 1):.       
+0002bfb0: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
+0002bfc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bfd0: 2020 2320 7072 696e 7428 2774 7279 696e    # print('tryin
+0002bfe0: 6727 2c20 6f66 6673 6574 2c20 696e 7374  g', offset, inst
+0002bff0: 7269 6e67 5f73 6c69 6365 2c20 7265 7072  ring_slice, repr
+0002c000: 2869 6e73 7472 696e 675f 736c 6963 655b  (instring_slice[
+0002c010: 6c6f 6320 2d20 6f66 6673 6574 3a5d 2929  loc - offset:]))
+0002c020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002c030: 2020 2020 205f 2c20 7265 7420 3d20 7465       _, ret = te
+0002c040: 7374 5f65 7870 722e 5f70 6172 7365 280a  st_expr._parse(.
+0002c050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c060: 2020 2020 2020 2020 696e 7374 7269 6e67          instring
+0002c070: 5f73 6c69 6365 2c20 6c65 6e28 696e 7374  _slice, len(inst
+0002c080: 7269 6e67 5f73 6c69 6365 2920 2d20 6f66  ring_slice) - of
+0002c090: 6673 6574 0a20 2020 2020 2020 2020 2020  fset.           
+0002c0a0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0002c0b0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0002c0c0: 7420 5061 7273 6542 6173 6545 7863 6570  t ParseBaseExcep
+0002c0d0: 7469 6f6e 2061 7320 7062 653a 0a20 2020  tion as pbe:.   
+0002c0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c0f0: 206c 6173 745f 6578 7072 203d 2070 6265   last_expr = pbe
+0002c100: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002c110: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0002c120: 2020 2020 2020 2020 2020 2062 7265 616b             break
+0002c130: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+0002c140: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002c150: 2020 2072 6169 7365 206c 6173 745f 6578     raise last_ex
+0002c160: 7072 0a20 2020 2020 2020 2072 6574 7572  pr.        retur
+0002c170: 6e20 6c6f 632c 2072 6574 0a0a 0a63 6c61  n loc, ret...cla
+0002c180: 7373 204c 6f63 6174 6564 2850 6172 7365  ss Located(Parse
+0002c190: 456c 656d 656e 7445 6e68 616e 6365 293a  ElementEnhance):
+0002c1a0: 0a20 2020 2022 2222 0a20 2020 2044 6563  .    """.    Dec
+0002c1b0: 6f72 6174 6573 2061 2072 6574 7572 6e65  orates a returne
+0002c1c0: 6420 746f 6b65 6e20 7769 7468 2069 7473  d token with its
+0002c1d0: 2073 7461 7274 696e 6720 616e 6420 656e   starting and en
+0002c1e0: 6469 6e67 0a20 2020 206c 6f63 6174 696f  ding.    locatio
+0002c1f0: 6e73 2069 6e20 7468 6520 696e 7075 7420  ns in the input 
+0002c200: 7374 7269 6e67 2e0a 0a20 2020 2054 6869  string...    Thi
+0002c210: 7320 6865 6c70 6572 2061 6464 7320 7468  s helper adds th
+0002c220: 6520 666f 6c6c 6f77 696e 6720 7265 7375  e following resu
+0002c230: 6c74 7320 6e61 6d65 733a 0a0a 2020 2020  lts names:..    
+0002c240: 2d20 6060 6c6f 636e 5f73 7461 7274 6060  - ``locn_start``
+0002c250: 202d 206c 6f63 6174 696f 6e20 7768 6572   - location wher
+0002c260: 6520 6d61 7463 6865 6420 6578 7072 6573  e matched expres
+0002c270: 7369 6f6e 2062 6567 696e 730a 2020 2020  sion begins.    
+0002c280: 2d20 6060 6c6f 636e 5f65 6e64 6060 202d  - ``locn_end`` -
+0002c290: 206c 6f63 6174 696f 6e20 7768 6572 6520   location where 
+0002c2a0: 6d61 7463 6865 6420 6578 7072 6573 7369  matched expressi
+0002c2b0: 6f6e 2065 6e64 730a 2020 2020 2d20 6060  on ends.    - ``
+0002c2c0: 7661 6c75 6560 6020 2d20 7468 6520 6163  value`` - the ac
+0002c2d0: 7475 616c 2070 6172 7365 6420 7265 7375  tual parsed resu
+0002c2e0: 6c74 730a 0a20 2020 2042 6520 6361 7265  lts..    Be care
+0002c2f0: 6675 6c20 6966 2074 6865 2069 6e70 7574  ful if the input
+0002c300: 2074 6578 7420 636f 6e74 6169 6e73 2060   text contains `
+0002c310: 603c 5441 423e 6060 2063 6861 7261 6374  `<TAB>`` charact
+0002c320: 6572 732c 2079 6f75 0a20 2020 206d 6179  ers, you.    may
+0002c330: 2077 616e 7420 746f 2063 616c 6c20 3a63   want to call :c
+0002c340: 6c61 7373 3a60 5061 7273 6572 456c 656d  lass:`ParserElem
+0002c350: 656e 742e 7061 7273 655f 7769 7468 5f74  ent.parse_with_t
+0002c360: 6162 7360 0a0a 2020 2020 4578 616d 706c  abs`..    Exampl
+0002c370: 653a 3a0a 0a20 2020 2020 2020 2077 6420  e::..        wd 
+0002c380: 3d20 576f 7264 2861 6c70 6861 7329 0a20  = Word(alphas). 
+0002c390: 2020 2020 2020 2066 6f72 206d 6174 6368         for match
+0002c3a0: 2069 6e20 4c6f 6361 7465 6428 7764 292e   in Located(wd).
+0002c3b0: 7365 6172 6368 5f73 7472 696e 6728 226c  search_string("l
+0002c3c0: 6a73 6466 3132 336c 6b73 646a 6a66 3132  jsdf123lksdjjf12
+0002c3d0: 336c 6b6b 6a6a 3132 3232 2229 3a0a 2020  3lkkjj1222"):.  
+0002c3e0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+0002c3f0: 6d61 7463 6829 0a0a 2020 2020 7072 696e  match)..    prin
+0002c400: 7473 3a3a 0a0a 2020 2020 2020 2020 5b30  ts::..        [0
+0002c410: 2c20 5b27 6c6a 7364 6627 5d2c 2035 5d0a  , ['ljsdf'], 5].
+0002c420: 2020 2020 2020 2020 5b38 2c20 5b27 6c6b          [8, ['lk
+0002c430: 7364 6a6a 6627 5d2c 2031 355d 0a20 2020  sdjjf'], 15].   
+0002c440: 2020 2020 205b 3138 2c20 5b27 6c6b 6b6a       [18, ['lkkj
+0002c450: 6a27 5d2c 2032 335d 0a0a 2020 2020 2222  j'], 23]..    ""
+0002c460: 220a 0a20 2020 2064 6566 2070 6172 7365  "..    def parse
+0002c470: 496d 706c 2873 656c 662c 2069 6e73 7472  Impl(self, instr
+0002c480: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
+0002c490: 6f6e 733d 5472 7565 293a 0a20 2020 2020  ons=True):.     
+0002c4a0: 2020 2073 7461 7274 203d 206c 6f63 0a20     start = loc. 
+0002c4b0: 2020 2020 2020 206c 6f63 2c20 746f 6b65         loc, toke
+0002c4c0: 6e73 203d 2073 656c 662e 6578 7072 2e5f  ns = self.expr._
+0002c4d0: 7061 7273 6528 696e 7374 7269 6e67 2c20  parse(instring, 
+0002c4e0: 7374 6172 742c 2064 6f41 6374 696f 6e73  start, doActions
+0002c4f0: 2c20 6361 6c6c 5072 6550 6172 7365 3d46  , callPreParse=F
+0002c500: 616c 7365 290a 2020 2020 2020 2020 7265  alse).        re
+0002c510: 745f 746f 6b65 6e73 203d 2050 6172 7365  t_tokens = Parse
+0002c520: 5265 7375 6c74 7328 5b73 7461 7274 2c20  Results([start, 
+0002c530: 746f 6b65 6e73 2c20 6c6f 635d 290a 2020  tokens, loc]).  
+0002c540: 2020 2020 2020 7265 745f 746f 6b65 6e73        ret_tokens
+0002c550: 5b22 6c6f 636e 5f73 7461 7274 225d 203d  ["locn_start"] =
+0002c560: 2073 7461 7274 0a20 2020 2020 2020 2072   start.        r
+0002c570: 6574 5f74 6f6b 656e 735b 2276 616c 7565  et_tokens["value
+0002c580: 225d 203d 2074 6f6b 656e 730a 2020 2020  "] = tokens.    
+0002c590: 2020 2020 7265 745f 746f 6b65 6e73 5b22      ret_tokens["
+0002c5a0: 6c6f 636e 5f65 6e64 225d 203d 206c 6f63  locn_end"] = loc
+0002c5b0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0002c5c0: 2e72 6573 756c 7473 4e61 6d65 3a0a 2020  .resultsName:.  
+0002c5d0: 2020 2020 2020 2020 2020 2320 6d75 7374            # must
+0002c5e0: 2072 6574 7572 6e20 6173 2061 206c 6973   return as a lis
+0002c5f0: 742c 2073 6f20 7468 6174 2074 6865 206e  t, so that the n
+0002c600: 616d 6520 7769 6c6c 2062 6520 6174 7461  ame will be atta
+0002c610: 6368 6564 2074 6f20 7468 6520 636f 6d70  ched to the comp
+0002c620: 6c65 7465 2067 726f 7570 0a20 2020 2020  lete group.     
+0002c630: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
+0002c640: 632c 205b 7265 745f 746f 6b65 6e73 5d0a  c, [ret_tokens].
+0002c650: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0002c660: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0002c670: 206c 6f63 2c20 7265 745f 746f 6b65 6e73   loc, ret_tokens
+0002c680: 0a0a 0a63 6c61 7373 204e 6f74 416e 7928  ...class NotAny(
+0002c690: 5061 7273 6545 6c65 6d65 6e74 456e 6861  ParseElementEnha
+0002c6a0: 6e63 6529 3a0a 2020 2020 2222 220a 2020  nce):.    """.  
+0002c6b0: 2020 4c6f 6f6b 6168 6561 6420 746f 2064    Lookahead to d
+0002c6c0: 6973 616c 6c6f 7720 6d61 7463 6869 6e67  isallow matching
+0002c6d0: 2077 6974 6820 7468 6520 6769 7665 6e20   with the given 
+0002c6e0: 7061 7273 6520 6578 7072 6573 7369 6f6e  parse expression
+0002c6f0: 2e0a 2020 2020 6060 4e6f 7441 6e79 6060  ..    ``NotAny``
+0002c700: 2064 6f65 7320 2a6e 6f74 2a20 6164 7661   does *not* adva
+0002c710: 6e63 6520 7468 6520 7061 7273 696e 6720  nce the parsing 
+0002c720: 706f 7369 7469 6f6e 2077 6974 6869 6e20  position within 
+0002c730: 7468 650a 2020 2020 696e 7075 7420 7374  the.    input st
+0002c740: 7269 6e67 2c20 6974 206f 6e6c 7920 7665  ring, it only ve
+0002c750: 7269 6669 6573 2074 6861 7420 7468 6520  rifies that the 
+0002c760: 7370 6563 6966 6965 6420 7061 7273 6520  specified parse 
+0002c770: 6578 7072 6573 7369 6f6e 0a20 2020 2064  expression.    d
+0002c780: 6f65 7320 2a6e 6f74 2a20 6d61 7463 6820  oes *not* match 
+0002c790: 6174 2074 6865 2063 7572 7265 6e74 2070  at the current p
+0002c7a0: 6f73 6974 696f 6e2e 2020 416c 736f 2c20  osition.  Also, 
+0002c7b0: 6060 4e6f 7441 6e79 6060 2064 6f65 730a  ``NotAny`` does.
+0002c7c0: 2020 2020 2a6e 6f74 2a20 736b 6970 206f      *not* skip o
+0002c7d0: 7665 7220 6c65 6164 696e 6720 7768 6974  ver leading whit
+0002c7e0: 6573 7061 6365 2e20 6060 4e6f 7441 6e79  espace. ``NotAny
+0002c7f0: 6060 2061 6c77 6179 7320 7265 7475 726e  `` always return
+0002c800: 730a 2020 2020 6120 6e75 6c6c 2074 6f6b  s.    a null tok
+0002c810: 656e 206c 6973 742e 2020 4d61 7920 6265  en list.  May be
+0002c820: 2063 6f6e 7374 7275 6374 6564 2075 7369   constructed usi
+0002c830: 6e67 2074 6865 2060 6027 7e27 6060 206f  ng the ``'~'`` o
+0002c840: 7065 7261 746f 722e 0a0a 2020 2020 4578  perator...    Ex
+0002c850: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
+0002c860: 2041 4e44 2c20 4f52 2c20 4e4f 5420 3d20   AND, OR, NOT = 
+0002c870: 6d61 7028 4361 7365 6c65 7373 4b65 7977  map(CaselessKeyw
+0002c880: 6f72 642c 2022 414e 4420 4f52 204e 4f54  ord, "AND OR NOT
+0002c890: 222e 7370 6c69 7428 2929 0a0a 2020 2020  ".split())..    
+0002c8a0: 2020 2020 2320 7461 6b65 2063 6172 6520      # take care 
+0002c8b0: 6e6f 7420 746f 206d 6973 7461 6b65 206b  not to mistake k
+0002c8c0: 6579 776f 7264 7320 666f 7220 6964 656e  eywords for iden
+0002c8d0: 7469 6669 6572 730a 2020 2020 2020 2020  tifiers.        
+0002c8e0: 6964 656e 7420 3d20 7e28 414e 4420 7c20  ident = ~(AND | 
+0002c8f0: 4f52 207c 204e 4f54 2920 2b20 576f 7264  OR | NOT) + Word
+0002c900: 2861 6c70 6861 7329 0a20 2020 2020 2020  (alphas).       
+0002c910: 2062 6f6f 6c65 616e 5f74 6572 6d20 3d20   boolean_term = 
+0002c920: 4f70 7428 4e4f 5429 202b 2069 6465 6e74  Opt(NOT) + ident
+0002c930: 0a0a 2020 2020 2020 2020 2320 7665 7279  ..        # very
+0002c940: 2063 7275 6465 2062 6f6f 6c65 616e 2065   crude boolean e
+0002c950: 7870 7265 7373 696f 6e20 2d20 746f 2073  xpression - to s
+0002c960: 7570 706f 7274 2070 6172 656e 7468 6573  upport parenthes
+0002c970: 6973 2067 726f 7570 7320 616e 640a 2020  is groups and.  
+0002c980: 2020 2020 2020 2320 6f70 6572 6174 696f        # operatio
+0002c990: 6e20 6869 6572 6172 6368 792c 2075 7365  n hierarchy, use
+0002c9a0: 2069 6e66 6978 5f6e 6f74 6174 696f 6e0a   infix_notation.
+0002c9b0: 2020 2020 2020 2020 626f 6f6c 6561 6e5f          boolean_
+0002c9c0: 6578 7072 203d 2062 6f6f 6c65 616e 5f74  expr = boolean_t
+0002c9d0: 6572 6d20 2b20 2828 414e 4420 7c20 4f52  erm + ((AND | OR
+0002c9e0: 2920 2b20 626f 6f6c 6561 6e5f 7465 726d  ) + boolean_term
+0002c9f0: 295b 2e2e 2e5d 0a0a 2020 2020 2020 2020  )[...]..        
+0002ca00: 2320 696e 7465 6765 7273 2074 6861 7420  # integers that 
+0002ca10: 6172 6520 666f 6c6c 6f77 6564 2062 7920  are followed by 
+0002ca20: 222e 2220 6172 6520 6163 7475 616c 6c79  "." are actually
+0002ca30: 2066 6c6f 6174 730a 2020 2020 2020 2020   floats.        
+0002ca40: 696e 7465 6765 7220 3d20 576f 7264 286e  integer = Word(n
+0002ca50: 756d 7329 202b 207e 4368 6172 2822 2e22  ums) + ~Char("."
+0002ca60: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
+0002ca70: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+0002ca80: 2c20 6578 7072 3a20 556e 696f 6e5b 5061  , expr: Union[Pa
+0002ca90: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
+0002caa0: 5d29 3a0a 2020 2020 2020 2020 7375 7065  ]):.        supe
+0002cab0: 7228 292e 5f5f 696e 6974 5f5f 2865 7870  r().__init__(exp
+0002cac0: 7229 0a20 2020 2020 2020 2023 2064 6f20  r).        # do 
+0002cad0: 4e4f 5420 7573 6520 7365 6c66 2e6c 6561  NOT use self.lea
+0002cae0: 7665 5f77 6869 7465 7370 6163 6528 292c  ve_whitespace(),
+0002caf0: 2064 6f6e 2774 2077 616e 7420 746f 2070   don't want to p
+0002cb00: 726f 7061 6761 7465 2074 6f20 6578 7072  ropagate to expr
+0002cb10: 730a 2020 2020 2020 2020 2320 7365 6c66  s.        # self
+0002cb20: 2e6c 6561 7665 5f77 6869 7465 7370 6163  .leave_whitespac
+0002cb30: 6528 290a 2020 2020 2020 2020 7365 6c66  e().        self
+0002cb40: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
+0002cb50: 3d20 4661 6c73 650a 0a20 2020 2020 2020  = False..       
+0002cb60: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
+0002cb70: 6d70 7479 203d 2054 7275 650a 2020 2020  mpty = True.    
+0002cb80: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
+0002cb90: 3d20 2246 6f75 6e64 2075 6e77 616e 7465  = "Found unwante
+0002cba0: 6420 746f 6b65 6e2c 2022 202b 2073 7472  d token, " + str
+0002cbb0: 2873 656c 662e 6578 7072 290a 0a20 2020  (self.expr)..   
+0002cbc0: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+0002cbd0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+0002cbe0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+0002cbf0: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
+0002cc00: 7365 6c66 2e65 7870 722e 6361 6e5f 7061  self.expr.can_pa
+0002cc10: 7273 655f 6e65 7874 2869 6e73 7472 696e  rse_next(instrin
+0002cc20: 672c 206c 6f63 2c20 646f 5f61 6374 696f  g, loc, do_actio
+0002cc30: 6e73 3d64 6f41 6374 696f 6e73 293a 0a20  ns=doActions):. 
+0002cc40: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0002cc50: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
+0002cc60: 696e 7374 7269 6e67 2c20 6c6f 632c 2073  instring, loc, s
+0002cc70: 656c 662e 6572 726d 7367 2c20 7365 6c66  elf.errmsg, self
+0002cc80: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+0002cc90: 206c 6f63 2c20 5b5d 0a0a 2020 2020 6465   loc, []..    de
+0002cca0: 6620 5f67 656e 6572 6174 6544 6566 6175  f _generateDefau
+0002ccb0: 6c74 4e61 6d65 2873 656c 6629 202d 3e20  ltName(self) -> 
+0002ccc0: 7374 723a 0a20 2020 2020 2020 2072 6574  str:.        ret
+0002ccd0: 7572 6e20 227e 7b22 202b 2073 7472 2873  urn "~{" + str(s
+0002cce0: 656c 662e 6578 7072 2920 2b20 227d 220a  elf.expr) + "}".
+0002ccf0: 0a0a 636c 6173 7320 5f4d 756c 7469 706c  ..class _Multipl
+0002cd00: 654d 6174 6368 2850 6172 7365 456c 656d  eMatch(ParseElem
+0002cd10: 656e 7445 6e68 616e 6365 293a 0a20 2020  entEnhance):.   
+0002cd20: 2064 6566 205f 5f69 6e69 745f 5f28 0a20   def __init__(. 
+0002cd30: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0002cd40: 2020 2020 2065 7870 723a 2055 6e69 6f6e       expr: Union
+0002cd50: 5b73 7472 2c20 5061 7273 6572 456c 656d  [str, ParserElem
+0002cd60: 656e 745d 2c0a 2020 2020 2020 2020 7374  ent],.        st
+0002cd70: 6f70 5f6f 6e3a 2074 7970 696e 672e 4f70  op_on: typing.Op
+0002cd80: 7469 6f6e 616c 5b55 6e69 6f6e 5b50 6172  tional[Union[Par
+0002cd90: 7365 7245 6c65 6d65 6e74 2c20 7374 725d  serElement, str]
+0002cda0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+0002cdb0: 2020 2a2c 0a20 2020 2020 2020 2073 746f    *,.        sto
+0002cdc0: 704f 6e3a 2074 7970 696e 672e 4f70 7469  pOn: typing.Opti
+0002cdd0: 6f6e 616c 5b55 6e69 6f6e 5b50 6172 7365  onal[Union[Parse
+0002cde0: 7245 6c65 6d65 6e74 2c20 7374 725d 5d20  rElement, str]] 
+0002cdf0: 3d20 4e6f 6e65 2c0a 2020 2020 293a 0a20  = None,.    ):. 
+0002ce00: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+0002ce10: 5f69 6e69 745f 5f28 6578 7072 290a 2020  _init__(expr).  
+0002ce20: 2020 2020 2020 7374 6f70 4f6e 203d 2073        stopOn = s
+0002ce30: 746f 704f 6e20 6f72 2073 746f 705f 6f6e  topOn or stop_on
+0002ce40: 0a20 2020 2020 2020 2073 656c 662e 7361  .        self.sa
+0002ce50: 7665 4173 4c69 7374 203d 2054 7275 650a  veAsList = True.
+0002ce60: 2020 2020 2020 2020 656e 6465 7220 3d20          ender = 
+0002ce70: 7374 6f70 4f6e 0a20 2020 2020 2020 2069  stopOn.        i
+0002ce80: 6620 6973 696e 7374 616e 6365 2865 6e64  f isinstance(end
+0002ce90: 6572 2c20 7374 725f 7479 7065 293a 0a20  er, str_type):. 
+0002cea0: 2020 2020 2020 2020 2020 2065 6e64 6572             ender
+0002ceb0: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
+0002cec0: 5374 7269 6e67 436c 6173 7328 656e 6465  StringClass(ende
+0002ced0: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
+0002cee0: 7374 6f70 4f6e 2865 6e64 6572 290a 0a20  stopOn(ender).. 
+0002cef0: 2020 2064 6566 2073 746f 704f 6e28 7365     def stopOn(se
+0002cf00: 6c66 2c20 656e 6465 7229 202d 3e20 5061  lf, ender) -> Pa
+0002cf10: 7273 6572 456c 656d 656e 743a 0a20 2020  rserElement:.   
+0002cf20: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0002cf30: 6365 2865 6e64 6572 2c20 7374 725f 7479  ce(ender, str_ty
+0002cf40: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
+0002cf50: 2065 6e64 6572 203d 2073 656c 662e 5f6c   ender = self._l
+0002cf60: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
+0002cf70: 7328 656e 6465 7229 0a20 2020 2020 2020  s(ender).       
+0002cf80: 2073 656c 662e 6e6f 745f 656e 6465 7220   self.not_ender 
+0002cf90: 3d20 7e65 6e64 6572 2069 6620 656e 6465  = ~ender if ende
+0002cfa0: 7220 6973 206e 6f74 204e 6f6e 6520 656c  r is not None el
+0002cfb0: 7365 204e 6f6e 650a 2020 2020 2020 2020  se None.        
+0002cfc0: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+0002cfd0: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+0002cfe0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+0002cff0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+0002d000: 7565 293a 0a20 2020 2020 2020 2073 656c  ue):.        sel
+0002d010: 665f 6578 7072 5f70 6172 7365 203d 2073  f_expr_parse = s
+0002d020: 656c 662e 6578 7072 2e5f 7061 7273 650a  elf.expr._parse.
+0002d030: 2020 2020 2020 2020 7365 6c66 5f73 6b69          self_ski
+0002d040: 705f 6967 6e6f 7261 626c 6573 203d 2073  p_ignorables = s
+0002d050: 656c 662e 5f73 6b69 7049 676e 6f72 6162  elf._skipIgnorab
+0002d060: 6c65 730a 2020 2020 2020 2020 6368 6563  les.        chec
+0002d070: 6b5f 656e 6465 7220 3d20 7365 6c66 2e6e  k_ender = self.n
+0002d080: 6f74 5f65 6e64 6572 2069 7320 6e6f 7420  ot_ender is not 
+0002d090: 4e6f 6e65 0a20 2020 2020 2020 2069 6620  None.        if 
+0002d0a0: 6368 6563 6b5f 656e 6465 723a 0a20 2020  check_ender:.   
+0002d0b0: 2020 2020 2020 2020 2074 7279 5f6e 6f74           try_not
+0002d0c0: 5f65 6e64 6572 203d 2073 656c 662e 6e6f  _ender = self.no
+0002d0d0: 745f 656e 6465 722e 7472 795f 7061 7273  t_ender.try_pars
+0002d0e0: 650a 0a20 2020 2020 2020 2023 206d 7573  e..        # mus
+0002d0f0: 7420 6265 2061 7420 6c65 6173 7420 6f6e  t be at least on
+0002d100: 6520 2862 7574 2066 6972 7374 2073 6565  e (but first see
+0002d110: 2069 6620 7765 2061 7265 2074 6865 2073   if we are the s
+0002d120: 746f 704f 6e20 7365 6e74 696e 656c 3b0a  topOn sentinel;.
+0002d130: 2020 2020 2020 2020 2320 6966 2073 6f2c          # if so,
+0002d140: 2066 6169 6c29 0a20 2020 2020 2020 2069   fail).        i
+0002d150: 6620 6368 6563 6b5f 656e 6465 723a 0a20  f check_ender:. 
+0002d160: 2020 2020 2020 2020 2020 2074 7279 5f6e             try_n
+0002d170: 6f74 5f65 6e64 6572 2869 6e73 7472 696e  ot_ender(instrin
+0002d180: 672c 206c 6f63 290a 2020 2020 2020 2020  g, loc).        
+0002d190: 6c6f 632c 2074 6f6b 656e 7320 3d20 7365  loc, tokens = se
+0002d1a0: 6c66 5f65 7870 725f 7061 7273 6528 696e  lf_expr_parse(in
+0002d1b0: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
+0002d1c0: 6374 696f 6e73 290a 2020 2020 2020 2020  ctions).        
+0002d1d0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+0002d1e0: 2068 6173 4967 6e6f 7265 4578 7072 7320   hasIgnoreExprs 
+0002d1f0: 3d20 6e6f 7420 6e6f 7420 7365 6c66 2e69  = not not self.i
+0002d200: 676e 6f72 6545 7870 7273 0a20 2020 2020  gnoreExprs.     
+0002d210: 2020 2020 2020 2077 6869 6c65 2031 3a0a         while 1:.
 0002d220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d230: 206e 616d 652c 0a20 2020 2020 2020 2020   name,.         
+0002d230: 6966 2063 6865 636b 5f65 6e64 6572 3a0a  if check_ender:.
 0002d240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d250: 2020 2074 7970 6528 7365 6c66 292e 5f5f     type(self).__
-0002d260: 6e61 6d65 5f5f 2c0a 2020 2020 2020 2020  name__,.        
-0002d270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d280: 2020 2020 652e 7265 7375 6c74 734e 616d      e.resultsNam
-0002d290: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0002d2a0: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
-0002d2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d2c0: 2020 2020 2020 7374 6163 6b6c 6576 656c        stacklevel
-0002d2d0: 3d33 2c0a 2020 2020 2020 2020 2020 2020  =3,.            
-0002d2e0: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-0002d2f0: 2020 2072 6574 7572 6e20 7375 7065 7228     return super(
-0002d300: 292e 5f73 6574 5265 7375 6c74 734e 616d  )._setResultsNam
-0002d310: 6528 6e61 6d65 2c20 6c69 7374 416c 6c4d  e(name, listAllM
-0002d320: 6174 6368 6573 290a 0a0a 636c 6173 7320  atches)...class 
-0002d330: 4f6e 654f 724d 6f72 6528 5f4d 756c 7469  OneOrMore(_Multi
-0002d340: 706c 654d 6174 6368 293a 0a20 2020 2022  pleMatch):.    "
-0002d350: 2222 0a20 2020 2052 6570 6574 6974 696f  "".    Repetitio
-0002d360: 6e20 6f66 206f 6e65 206f 7220 6d6f 7265  n of one or more
-0002d370: 206f 6620 7468 6520 6769 7665 6e20 6578   of the given ex
-0002d380: 7072 6573 7369 6f6e 2e0a 0a20 2020 2050  pression...    P
-0002d390: 6172 616d 6574 6572 733a 0a0a 2020 2020  arameters:..    
-0002d3a0: 2d20 6060 6578 7072 6060 202d 2065 7870  - ``expr`` - exp
-0002d3b0: 7265 7373 696f 6e20 7468 6174 206d 7573  ression that mus
-0002d3c0: 7420 6d61 7463 6820 6f6e 6520 6f72 206d  t match one or m
-0002d3d0: 6f72 6520 7469 6d65 730a 2020 2020 2d20  ore times.    - 
-0002d3e0: 6060 7374 6f70 5f6f 6e60 6020 2d20 2864  ``stop_on`` - (d
-0002d3f0: 6566 6175 6c74 3d20 6060 4e6f 6e65 6060  efault= ``None``
-0002d400: 2920 2d20 6578 7072 6573 7369 6f6e 2066  ) - expression f
-0002d410: 6f72 2061 2074 6572 6d69 6e61 7469 6e67  or a terminating
-0002d420: 2073 656e 7469 6e65 6c0a 2020 2020 2020   sentinel.      
-0002d430: 286f 6e6c 7920 7265 7175 6972 6564 2069  (only required i
-0002d440: 6620 7468 6520 7365 6e74 696e 656c 2077  f the sentinel w
-0002d450: 6f75 6c64 206f 7264 696e 6172 696c 7920  ould ordinarily 
-0002d460: 6d61 7463 6820 7468 6520 7265 7065 7469  match the repeti
-0002d470: 7469 6f6e 0a20 2020 2020 2065 7870 7265  tion.      expre
-0002d480: 7373 696f 6e29 0a0a 2020 2020 4578 616d  ssion)..    Exam
-0002d490: 706c 653a 3a0a 0a20 2020 2020 2020 2064  ple::..        d
-0002d4a0: 6174 615f 776f 7264 203d 2057 6f72 6428  ata_word = Word(
-0002d4b0: 616c 7068 6173 290a 2020 2020 2020 2020  alphas).        
-0002d4c0: 6c61 6265 6c20 3d20 6461 7461 5f77 6f72  label = data_wor
-0002d4d0: 6420 2b20 466f 6c6c 6f77 6564 4279 2827  d + FollowedBy('
-0002d4e0: 3a27 290a 2020 2020 2020 2020 6174 7472  :').        attr
-0002d4f0: 5f65 7870 7220 3d20 4772 6f75 7028 6c61  _expr = Group(la
-0002d500: 6265 6c20 2b20 5375 7070 7265 7373 2827  bel + Suppress('
-0002d510: 3a27 2920 2b20 4f6e 654f 724d 6f72 6528  :') + OneOrMore(
-0002d520: 6461 7461 5f77 6f72 6429 2e73 6574 5f70  data_word).set_p
-0002d530: 6172 7365 5f61 6374 696f 6e28 2720 272e  arse_action(' '.
-0002d540: 6a6f 696e 2929 0a0a 2020 2020 2020 2020  join))..        
-0002d550: 7465 7874 203d 2022 7368 6170 653a 2053  text = "shape: S
-0002d560: 5155 4152 4520 706f 736e 3a20 7570 7065  QUARE posn: uppe
-0002d570: 7220 6c65 6674 2063 6f6c 6f72 3a20 424c  r left color: BL
-0002d580: 4143 4b22 0a20 2020 2020 2020 2061 7474  ACK".        att
-0002d590: 725f 6578 7072 5b31 2c20 2e2e 2e5d 2e70  r_expr[1, ...].p
-0002d5a0: 6172 7365 5f73 7472 696e 6728 7465 7874  arse_string(text
-0002d5b0: 292e 7070 7269 6e74 2829 2020 2320 4661  ).pprint()  # Fa
-0002d5c0: 696c 2120 7265 6164 2027 636f 6c6f 7227  il! read 'color'
-0002d5d0: 2061 7320 6461 7461 2069 6e73 7465 6164   as data instead
-0002d5e0: 206f 6620 6e65 7874 206c 6162 656c 202d   of next label -
-0002d5f0: 3e20 5b5b 2773 6861 7065 272c 2027 5351  > [['shape', 'SQ
-0002d600: 5541 5245 2063 6f6c 6f72 275d 5d0a 0a20  UARE color']].. 
-0002d610: 2020 2020 2020 2023 2075 7365 2073 746f         # use sto
-0002d620: 705f 6f6e 2061 7474 7269 6275 7465 2066  p_on attribute f
-0002d630: 6f72 204f 6e65 4f72 4d6f 7265 2074 6f20  or OneOrMore to 
-0002d640: 6176 6f69 6420 7265 6164 696e 6720 6c61  avoid reading la
-0002d650: 6265 6c20 7374 7269 6e67 2061 7320 7061  bel string as pa
-0002d660: 7274 206f 6620 7468 6520 6461 7461 0a20  rt of the data. 
-0002d670: 2020 2020 2020 2061 7474 725f 6578 7072         attr_expr
-0002d680: 203d 2047 726f 7570 286c 6162 656c 202b   = Group(label +
-0002d690: 2053 7570 7072 6573 7328 273a 2729 202b   Suppress(':') +
-0002d6a0: 204f 6e65 4f72 4d6f 7265 2864 6174 615f   OneOrMore(data_
-0002d6b0: 776f 7264 2c20 7374 6f70 5f6f 6e3d 6c61  word, stop_on=la
-0002d6c0: 6265 6c29 2e73 6574 5f70 6172 7365 5f61  bel).set_parse_a
-0002d6d0: 6374 696f 6e28 2720 272e 6a6f 696e 2929  ction(' '.join))
-0002d6e0: 0a20 2020 2020 2020 204f 6e65 4f72 4d6f  .        OneOrMo
-0002d6f0: 7265 2861 7474 725f 6578 7072 292e 7061  re(attr_expr).pa
-0002d700: 7273 655f 7374 7269 6e67 2874 6578 7429  rse_string(text)
-0002d710: 2e70 7072 696e 7428 2920 2320 4265 7474  .pprint() # Bett
-0002d720: 6572 202d 3e20 5b5b 2773 6861 7065 272c  er -> [['shape',
-0002d730: 2027 5351 5541 5245 275d 2c20 5b27 706f   'SQUARE'], ['po
-0002d740: 736e 272c 2027 7570 7065 7220 6c65 6674  sn', 'upper left
-0002d750: 275d 2c20 5b27 636f 6c6f 7227 2c20 2742  '], ['color', 'B
-0002d760: 4c41 434b 275d 5d0a 0a20 2020 2020 2020  LACK']]..       
-0002d770: 2023 2063 6f75 6c64 2061 6c73 6f20 6265   # could also be
-0002d780: 2077 7269 7474 656e 2061 730a 2020 2020   written as.    
-0002d790: 2020 2020 2861 7474 725f 6578 7072 202a      (attr_expr *
-0002d7a0: 2028 312c 2929 2e70 6172 7365 5f73 7472   (1,)).parse_str
-0002d7b0: 696e 6728 7465 7874 292e 7070 7269 6e74  ing(text).pprint
-0002d7c0: 2829 0a20 2020 2022 2222 0a0a 2020 2020  ().    """..    
-0002d7d0: 6465 6620 5f67 656e 6572 6174 6544 6566  def _generateDef
-0002d7e0: 6175 6c74 4e61 6d65 2873 656c 6629 202d  aultName(self) -
-0002d7f0: 3e20 7374 723a 0a20 2020 2020 2020 2072  > str:.        r
-0002d800: 6574 7572 6e20 227b 2220 2b20 7374 7228  eturn "{" + str(
-0002d810: 7365 6c66 2e65 7870 7229 202b 2022 7d2e  self.expr) + "}.
-0002d820: 2e2e 220a 0a0a 636c 6173 7320 5a65 726f  .."...class Zero
-0002d830: 4f72 4d6f 7265 285f 4d75 6c74 6970 6c65  OrMore(_Multiple
-0002d840: 4d61 7463 6829 3a0a 2020 2020 2222 220a  Match):.    """.
-0002d850: 2020 2020 4f70 7469 6f6e 616c 2072 6570      Optional rep
-0002d860: 6574 6974 696f 6e20 6f66 207a 6572 6f20  etition of zero 
-0002d870: 6f72 206d 6f72 6520 6f66 2074 6865 2067  or more of the g
-0002d880: 6976 656e 2065 7870 7265 7373 696f 6e2e  iven expression.
-0002d890: 0a0a 2020 2020 5061 7261 6d65 7465 7273  ..    Parameters
-0002d8a0: 3a0a 0a20 2020 202d 2060 6065 7870 7260  :..    - ``expr`
-0002d8b0: 6020 2d20 6578 7072 6573 7369 6f6e 2074  ` - expression t
-0002d8c0: 6861 7420 6d75 7374 206d 6174 6368 207a  hat must match z
-0002d8d0: 6572 6f20 6f72 206d 6f72 6520 7469 6d65  ero or more time
-0002d8e0: 730a 2020 2020 2d20 6060 7374 6f70 5f6f  s.    - ``stop_o
-0002d8f0: 6e60 6020 2d20 6578 7072 6573 7369 6f6e  n`` - expression
-0002d900: 2066 6f72 2061 2074 6572 6d69 6e61 7469   for a terminati
-0002d910: 6e67 2073 656e 7469 6e65 6c0a 2020 2020  ng sentinel.    
-0002d920: 2020 286f 6e6c 7920 7265 7175 6972 6564    (only required
-0002d930: 2069 6620 7468 6520 7365 6e74 696e 656c   if the sentinel
-0002d940: 2077 6f75 6c64 206f 7264 696e 6172 696c   would ordinaril
-0002d950: 7920 6d61 7463 6820 7468 6520 7265 7065  y match the repe
-0002d960: 7469 7469 6f6e 0a20 2020 2020 2065 7870  tition.      exp
-0002d970: 7265 7373 696f 6e29 202d 2028 6465 6661  ression) - (defa
-0002d980: 756c 743d 2060 604e 6f6e 6560 6029 0a0a  ult= ``None``)..
-0002d990: 2020 2020 4578 616d 706c 653a 2073 696d      Example: sim
-0002d9a0: 696c 6172 2074 6f20 3a63 6c61 7373 3a60  ilar to :class:`
-0002d9b0: 4f6e 654f 724d 6f72 6560 0a20 2020 2022  OneOrMore`.    "
-0002d9c0: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
-0002d9d0: 6974 5f5f 280a 2020 2020 2020 2020 7365  it__(.        se
-0002d9e0: 6c66 2c0a 2020 2020 2020 2020 6578 7072  lf,.        expr
-0002d9f0: 3a20 556e 696f 6e5b 7374 722c 2050 6172  : Union[str, Par
-0002da00: 7365 7245 6c65 6d65 6e74 5d2c 0a20 2020  serElement],.   
-0002da10: 2020 2020 2073 746f 705f 6f6e 3a20 7479       stop_on: ty
-0002da20: 7069 6e67 2e4f 7074 696f 6e61 6c5b 556e  ping.Optional[Un
-0002da30: 696f 6e5b 5061 7273 6572 456c 656d 656e  ion[ParserElemen
-0002da40: 742c 2073 7472 5d5d 203d 204e 6f6e 652c  t, str]] = None,
-0002da50: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
-0002da60: 2020 2020 7374 6f70 4f6e 3a20 7479 7069      stopOn: typi
-0002da70: 6e67 2e4f 7074 696f 6e61 6c5b 556e 696f  ng.Optional[Unio
-0002da80: 6e5b 5061 7273 6572 456c 656d 656e 742c  n[ParserElement,
-0002da90: 2073 7472 5d5d 203d 204e 6f6e 652c 0a20   str]] = None,. 
-0002daa0: 2020 2029 3a0a 2020 2020 2020 2020 7375     ):.        su
-0002dab0: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
-0002dac0: 7870 722c 2073 746f 704f 6e3d 7374 6f70  xpr, stopOn=stop
-0002dad0: 4f6e 206f 7220 7374 6f70 5f6f 6e29 0a20  On or stop_on). 
-0002dae0: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
-0002daf0: 6574 7572 6e45 6d70 7479 203d 2054 7275  eturnEmpty = Tru
-0002db00: 650a 0a20 2020 2064 6566 2070 6172 7365  e..    def parse
-0002db10: 496d 706c 2873 656c 662c 2069 6e73 7472  Impl(self, instr
-0002db20: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
-0002db30: 6f6e 733d 5472 7565 293a 0a20 2020 2020  ons=True):.     
-0002db40: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-0002db50: 2020 2020 7265 7475 726e 2073 7570 6572      return super
-0002db60: 2829 2e70 6172 7365 496d 706c 2869 6e73  ().parseImpl(ins
-0002db70: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-0002db80: 7469 6f6e 7329 0a20 2020 2020 2020 2065  tions).        e
-0002db90: 7863 6570 7420 2850 6172 7365 4578 6365  xcept (ParseExce
-0002dba0: 7074 696f 6e2c 2049 6e64 6578 4572 726f  ption, IndexErro
-0002dbb0: 7229 3a0a 2020 2020 2020 2020 2020 2020  r):.            
-0002dbc0: 7265 7475 726e 206c 6f63 2c20 5061 7273  return loc, Pars
-0002dbd0: 6552 6573 756c 7473 285b 5d2c 206e 616d  eResults([], nam
-0002dbe0: 653d 7365 6c66 2e72 6573 756c 7473 4e61  e=self.resultsNa
-0002dbf0: 6d65 290a 0a20 2020 2064 6566 205f 6765  me)..    def _ge
-0002dc00: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
-0002dc10: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
-0002dc20: 2020 2020 2020 2020 7265 7475 726e 2022          return "
-0002dc30: 5b22 202b 2073 7472 2873 656c 662e 6578  [" + str(self.ex
-0002dc40: 7072 2920 2b20 225d 2e2e 2e22 0a0a 0a63  pr) + "]..."...c
-0002dc50: 6c61 7373 2044 656c 696d 6974 6564 4c69  lass DelimitedLi
-0002dc60: 7374 2850 6172 7365 456c 656d 656e 7445  st(ParseElementE
-0002dc70: 6e68 616e 6365 293a 0a20 2020 2064 6566  nhance):.    def
-0002dc80: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
-0002dc90: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0002dca0: 2065 7870 723a 2055 6e69 6f6e 5b73 7472   expr: Union[str
-0002dcb0: 2c20 5061 7273 6572 456c 656d 656e 745d  , ParserElement]
-0002dcc0: 2c0a 2020 2020 2020 2020 6465 6c69 6d3a  ,.        delim:
-0002dcd0: 2055 6e69 6f6e 5b73 7472 2c20 5061 7273   Union[str, Pars
-0002dce0: 6572 456c 656d 656e 745d 203d 2022 2c22  erElement] = ","
-0002dcf0: 2c0a 2020 2020 2020 2020 636f 6d62 696e  ,.        combin
-0002dd00: 653a 2062 6f6f 6c20 3d20 4661 6c73 652c  e: bool = False,
-0002dd10: 0a20 2020 2020 2020 206d 696e 3a20 7479  .        min: ty
-0002dd20: 7069 6e67 2e4f 7074 696f 6e61 6c5b 696e  ping.Optional[in
-0002dd30: 745d 203d 204e 6f6e 652c 0a20 2020 2020  t] = None,.     
-0002dd40: 2020 206d 6178 3a20 7479 7069 6e67 2e4f     max: typing.O
-0002dd50: 7074 696f 6e61 6c5b 696e 745d 203d 204e  ptional[int] = N
-0002dd60: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
-0002dd70: 2020 2020 2020 2020 616c 6c6f 775f 7472          allow_tr
-0002dd80: 6169 6c69 6e67 5f64 656c 696d 3a20 626f  ailing_delim: bo
-0002dd90: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-0002dda0: 293a 0a20 2020 2020 2020 2022 2222 4865  ):.        """He
-0002ddb0: 6c70 6572 2074 6f20 6465 6669 6e65 2061  lper to define a
-0002ddc0: 2064 656c 696d 6974 6564 206c 6973 7420   delimited list 
-0002ddd0: 6f66 2065 7870 7265 7373 696f 6e73 202d  of expressions -
-0002dde0: 2074 6865 2064 656c 696d 6974 6572 0a20   the delimiter. 
-0002ddf0: 2020 2020 2020 2064 6566 6175 6c74 7320         defaults 
-0002de00: 746f 2027 2c27 2e20 4279 2064 6566 6175  to ','. By defau
-0002de10: 6c74 2c20 7468 6520 6c69 7374 2065 6c65  lt, the list ele
-0002de20: 6d65 6e74 7320 616e 6420 6465 6c69 6d69  ments and delimi
-0002de30: 7465 7273 2063 616e 0a20 2020 2020 2020  ters can.       
-0002de40: 2068 6176 6520 696e 7465 7276 656e 696e   have intervenin
-0002de50: 6720 7768 6974 6573 7061 6365 2c20 616e  g whitespace, an
-0002de60: 6420 636f 6d6d 656e 7473 2c20 6275 7420  d comments, but 
-0002de70: 7468 6973 2063 616e 2062 650a 2020 2020  this can be.    
-0002de80: 2020 2020 6f76 6572 7269 6464 656e 2062      overridden b
-0002de90: 7920 7061 7373 696e 6720 6060 636f 6d62  y passing ``comb
-0002dea0: 696e 653d 5472 7565 6060 2069 6e20 7468  ine=True`` in th
-0002deb0: 6520 636f 6e73 7472 7563 746f 722e 2049  e constructor. I
-0002dec0: 660a 2020 2020 2020 2020 6060 636f 6d62  f.        ``comb
-0002ded0: 696e 6560 6020 6973 2073 6574 2074 6f20  ine`` is set to 
-0002dee0: 6060 5472 7565 6060 2c20 7468 6520 6d61  ``True``, the ma
-0002def0: 7463 6869 6e67 2074 6f6b 656e 7320 6172  tching tokens ar
-0002df00: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
-0002df10: 6564 2061 7320 6120 7369 6e67 6c65 2074  ed as a single t
-0002df20: 6f6b 656e 2073 7472 696e 672c 2077 6974  oken string, wit
-0002df30: 6820 7468 6520 6465 6c69 6d69 7465 7273  h the delimiters
-0002df40: 2069 6e63 6c75 6465 643b 0a20 2020 2020   included;.     
-0002df50: 2020 206f 7468 6572 7769 7365 2c20 7468     otherwise, th
-0002df60: 6520 6d61 7463 6869 6e67 2074 6f6b 656e  e matching token
-0002df70: 7320 6172 6520 7265 7475 726e 6564 2061  s are returned a
-0002df80: 7320 6120 6c69 7374 206f 6620 746f 6b65  s a list of toke
-0002df90: 6e73 2c0a 2020 2020 2020 2020 7769 7468  ns,.        with
-0002dfa0: 2074 6865 2064 656c 696d 6974 6572 7320   the delimiters 
-0002dfb0: 7375 7070 7265 7373 6564 2e0a 0a20 2020  suppressed...   
-0002dfc0: 2020 2020 2049 6620 6060 616c 6c6f 775f       If ``allow_
-0002dfd0: 7472 6169 6c69 6e67 5f64 656c 696d 6060  trailing_delim``
-0002dfe0: 2069 7320 7365 7420 746f 2054 7275 652c   is set to True,
-0002dff0: 2074 6865 6e20 7468 6520 6c69 7374 206d   then the list m
-0002e000: 6179 2065 6e64 2077 6974 680a 2020 2020  ay end with.    
-0002e010: 2020 2020 6120 6465 6c69 6d69 7465 722e      a delimiter.
-0002e020: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
-0002e030: 653a 3a0a 0a20 2020 2020 2020 2020 2020  e::..           
-0002e040: 2044 656c 696d 6974 6564 4c69 7374 2857   DelimitedList(W
-0002e050: 6f72 6428 616c 7068 6173 2929 2e70 6172  ord(alphas)).par
-0002e060: 7365 5f73 7472 696e 6728 2261 612c 6262  se_string("aa,bb
-0002e070: 2c63 6322 2920 2320 2d3e 205b 2761 6127  ,cc") # -> ['aa'
-0002e080: 2c20 2762 6227 2c20 2763 6327 5d0a 2020  , 'bb', 'cc'].  
-0002e090: 2020 2020 2020 2020 2020 4465 6c69 6d69            Delimi
-0002e0a0: 7465 644c 6973 7428 576f 7264 2868 6578  tedList(Word(hex
-0002e0b0: 6e75 6d73 292c 2064 656c 696d 3d27 3a27  nums), delim=':'
-0002e0c0: 2c20 636f 6d62 696e 653d 5472 7565 292e  , combine=True).
-0002e0d0: 7061 7273 655f 7374 7269 6e67 2822 4141  parse_string("AA
-0002e0e0: 3a42 423a 4343 3a44 443a 4545 2229 2023  :BB:CC:DD:EE") #
-0002e0f0: 202d 3e20 5b27 4141 3a42 423a 4343 3a44   -> ['AA:BB:CC:D
-0002e100: 443a 4545 275d 0a20 2020 2020 2020 2022  D:EE'].        "
-0002e110: 2222 0a20 2020 2020 2020 2069 6620 6973  "".        if is
-0002e120: 696e 7374 616e 6365 2865 7870 722c 2073  instance(expr, s
-0002e130: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
-0002e140: 2020 2020 2020 6578 7072 203d 2050 6172        expr = Par
-0002e150: 7365 7245 6c65 6d65 6e74 2e5f 6c69 7465  serElement._lite
-0002e160: 7261 6c53 7472 696e 6743 6c61 7373 2865  ralStringClass(e
-0002e170: 7870 7229 0a20 2020 2020 2020 2065 7870  xpr).        exp
-0002e180: 7220 3d20 7479 7069 6e67 2e63 6173 7428  r = typing.cast(
-0002e190: 5061 7273 6572 456c 656d 656e 742c 2065  ParserElement, e
-0002e1a0: 7870 7229 0a0a 2020 2020 2020 2020 6966  xpr)..        if
-0002e1b0: 206d 696e 2069 7320 6e6f 7420 4e6f 6e65   min is not None
-0002e1c0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-0002e1d0: 206d 696e 203c 2031 3a0a 2020 2020 2020   min < 1:.      
-0002e1e0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0002e1f0: 5661 6c75 6545 7272 6f72 2822 6d69 6e20  ValueError("min 
-0002e200: 6d75 7374 2062 6520 6772 6561 7465 7220  must be greater 
-0002e210: 7468 616e 2030 2229 0a20 2020 2020 2020  than 0").       
-0002e220: 2069 6620 6d61 7820 6973 206e 6f74 204e   if max is not N
-0002e230: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0002e240: 2069 6620 6d69 6e20 6973 206e 6f74 204e   if min is not N
-0002e250: 6f6e 6520 616e 6420 6d61 7820 3c20 6d69  one and max < mi
-0002e260: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
-0002e270: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
-0002e280: 726f 7228 226d 6178 206d 7573 7420 6265  ror("max must be
-0002e290: 2067 7265 6174 6572 2074 6861 6e2c 206f   greater than, o
-0002e2a0: 7220 6571 7561 6c20 746f 206d 696e 2229  r equal to min")
-0002e2b0: 0a0a 2020 2020 2020 2020 7365 6c66 2e63  ..        self.c
-0002e2c0: 6f6e 7465 6e74 203d 2065 7870 720a 2020  ontent = expr.  
-0002e2d0: 2020 2020 2020 7365 6c66 2e72 6177 5f64        self.raw_d
-0002e2e0: 656c 696d 203d 2073 7472 2864 656c 696d  elim = str(delim
-0002e2f0: 290a 2020 2020 2020 2020 7365 6c66 2e64  ).        self.d
-0002e300: 656c 696d 203d 2064 656c 696d 0a20 2020  elim = delim.   
-0002e310: 2020 2020 2073 656c 662e 636f 6d62 696e       self.combin
-0002e320: 6520 3d20 636f 6d62 696e 650a 2020 2020  e = combine.    
-0002e330: 2020 2020 6966 206e 6f74 2063 6f6d 6269      if not combi
-0002e340: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0002e350: 7365 6c66 2e64 656c 696d 203d 2053 7570  self.delim = Sup
-0002e360: 7072 6573 7328 6465 6c69 6d29 0a20 2020  press(delim).   
-0002e370: 2020 2020 2073 656c 662e 6d69 6e20 3d20       self.min = 
-0002e380: 6d69 6e20 6f72 2031 0a20 2020 2020 2020  min or 1.       
-0002e390: 2073 656c 662e 6d61 7820 3d20 6d61 780a   self.max = max.
-0002e3a0: 2020 2020 2020 2020 7365 6c66 2e61 6c6c          self.all
-0002e3b0: 6f77 5f74 7261 696c 696e 675f 6465 6c69  ow_trailing_deli
-0002e3c0: 6d20 3d20 616c 6c6f 775f 7472 6169 6c69  m = allow_traili
-0002e3d0: 6e67 5f64 656c 696d 0a0a 2020 2020 2020  ng_delim..      
-0002e3e0: 2020 6465 6c69 6d5f 6c69 7374 5f65 7870    delim_list_exp
-0002e3f0: 7220 3d20 7365 6c66 2e63 6f6e 7465 6e74  r = self.content
-0002e400: 202b 2028 7365 6c66 2e64 656c 696d 202b   + (self.delim +
-0002e410: 2073 656c 662e 636f 6e74 656e 7429 202a   self.content) *
-0002e420: 2028 0a20 2020 2020 2020 2020 2020 2073   (.            s
-0002e430: 656c 662e 6d69 6e20 2d20 312c 0a20 2020  elf.min - 1,.   
-0002e440: 2020 2020 2020 2020 204e 6f6e 6520 6966           None if
-0002e450: 2073 656c 662e 6d61 7820 6973 204e 6f6e   self.max is Non
-0002e460: 6520 656c 7365 2073 656c 662e 6d61 7820  e else self.max 
-0002e470: 2d20 312c 0a20 2020 2020 2020 2029 0a20  - 1,.        ). 
-0002e480: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
-0002e490: 6c6c 6f77 5f74 7261 696c 696e 675f 6465  llow_trailing_de
-0002e4a0: 6c69 6d3a 0a20 2020 2020 2020 2020 2020  lim:.           
-0002e4b0: 2064 656c 696d 5f6c 6973 745f 6578 7072   delim_list_expr
-0002e4c0: 202b 3d20 4f70 7428 7365 6c66 2e64 656c   += Opt(self.del
-0002e4d0: 696d 290a 0a20 2020 2020 2020 2069 6620  im)..        if 
-0002e4e0: 7365 6c66 2e63 6f6d 6269 6e65 3a0a 2020  self.combine:.  
-0002e4f0: 2020 2020 2020 2020 2020 6465 6c69 6d5f            delim_
-0002e500: 6c69 7374 5f65 7870 7220 3d20 436f 6d62  list_expr = Comb
-0002e510: 696e 6528 6465 6c69 6d5f 6c69 7374 5f65  ine(delim_list_e
-0002e520: 7870 7229 0a0a 2020 2020 2020 2020 7375  xpr)..        su
-0002e530: 7065 7228 292e 5f5f 696e 6974 5f5f 2864  per().__init__(d
-0002e540: 656c 696d 5f6c 6973 745f 6578 7072 2c20  elim_list_expr, 
-0002e550: 7361 7665 6c69 7374 3d54 7275 6529 0a0a  savelist=True)..
-0002e560: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
-0002e570: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
-0002e580: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-0002e590: 2020 2072 6574 7572 6e20 227b 307d 205b     return "{0} [
-0002e5a0: 7b31 7d20 7b30 7d5d 2e2e 2e22 2e66 6f72  {1} {0}]...".for
-0002e5b0: 6d61 7428 7365 6c66 2e63 6f6e 7465 6e74  mat(self.content
-0002e5c0: 2e73 7472 6561 6d6c 696e 6528 292c 2073  .streamline(), s
-0002e5d0: 656c 662e 7261 775f 6465 6c69 6d29 0a0a  elf.raw_delim)..
-0002e5e0: 0a63 6c61 7373 205f 4e75 6c6c 546f 6b65  .class _NullToke
-0002e5f0: 6e3a 0a20 2020 2064 6566 205f 5f62 6f6f  n:.    def __boo
-0002e600: 6c5f 5f28 7365 6c66 293a 0a20 2020 2020  l__(self):.     
-0002e610: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
-0002e620: 0a20 2020 2064 6566 205f 5f73 7472 5f5f  .    def __str__
-0002e630: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-0002e640: 7265 7475 726e 2022 220a 0a0a 636c 6173  return ""...clas
-0002e650: 7320 4f70 7428 5061 7273 6545 6c65 6d65  s Opt(ParseEleme
-0002e660: 6e74 456e 6861 6e63 6529 3a0a 2020 2020  ntEnhance):.    
-0002e670: 2222 220a 2020 2020 4f70 7469 6f6e 616c  """.    Optional
-0002e680: 206d 6174 6368 696e 6720 6f66 2074 6865   matching of the
-0002e690: 2067 6976 656e 2065 7870 7265 7373 696f   given expressio
-0002e6a0: 6e2e 0a0a 2020 2020 5061 7261 6d65 7465  n...    Paramete
-0002e6b0: 7273 3a0a 0a20 2020 202d 2060 6065 7870  rs:..    - ``exp
-0002e6c0: 7260 6020 2d20 6578 7072 6573 7369 6f6e  r`` - expression
-0002e6d0: 2074 6861 7420 6d75 7374 206d 6174 6368   that must match
-0002e6e0: 207a 6572 6f20 6f72 206d 6f72 6520 7469   zero or more ti
-0002e6f0: 6d65 730a 2020 2020 2d20 6060 6465 6661  mes.    - ``defa
-0002e700: 756c 7460 6020 286f 7074 696f 6e61 6c29  ult`` (optional)
-0002e710: 202d 2076 616c 7565 2074 6f20 6265 2072   - value to be r
-0002e720: 6574 7572 6e65 6420 6966 2074 6865 206f  eturned if the o
-0002e730: 7074 696f 6e61 6c20 6578 7072 6573 7369  ptional expressi
-0002e740: 6f6e 2069 7320 6e6f 7420 666f 756e 642e  on is not found.
-0002e750: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
-0002e760: 0a20 2020 2020 2020 2023 2055 5320 706f  .        # US po
-0002e770: 7374 616c 2063 6f64 6520 6361 6e20 6265  stal code can be
-0002e780: 2061 2035 2d64 6967 6974 207a 6970 2c20   a 5-digit zip, 
-0002e790: 706c 7573 206f 7074 696f 6e61 6c20 342d  plus optional 4-
-0002e7a0: 6469 6769 7420 7175 616c 6966 6965 720a  digit qualifier.
-0002e7b0: 2020 2020 2020 2020 7a69 7020 3d20 436f          zip = Co
-0002e7c0: 6d62 696e 6528 576f 7264 286e 756d 732c  mbine(Word(nums,
-0002e7d0: 2065 7861 6374 3d35 2920 2b20 4f70 7428   exact=5) + Opt(
-0002e7e0: 272d 2720 2b20 576f 7264 286e 756d 732c  '-' + Word(nums,
-0002e7f0: 2065 7861 6374 3d34 2929 290a 2020 2020   exact=4))).    
-0002e800: 2020 2020 7a69 702e 7275 6e5f 7465 7374      zip.run_test
-0002e810: 7328 2727 270a 2020 2020 2020 2020 2020  s('''.          
-0002e820: 2020 2320 7472 6164 6974 696f 6e61 6c20    # traditional 
-0002e830: 5a49 5020 636f 6465 0a20 2020 2020 2020  ZIP code.       
-0002e840: 2020 2020 2031 3233 3435 0a0a 2020 2020       12345..    
-0002e850: 2020 2020 2020 2020 2320 5a49 502b 3420          # ZIP+4 
-0002e860: 666f 726d 0a20 2020 2020 2020 2020 2020  form.           
-0002e870: 2031 3231 3031 2d30 3030 310a 0a20 2020   12101-0001..   
-0002e880: 2020 2020 2020 2020 2023 2069 6e76 616c           # inval
-0002e890: 6964 205a 4950 0a20 2020 2020 2020 2020  id ZIP.         
-0002e8a0: 2020 2039 3837 3635 2d0a 2020 2020 2020     98765-.      
-0002e8b0: 2020 2020 2020 2727 2729 0a0a 2020 2020        ''')..    
-0002e8c0: 7072 696e 7473 3a3a 0a0a 2020 2020 2020  prints::..      
-0002e8d0: 2020 2320 7472 6164 6974 696f 6e61 6c20    # traditional 
-0002e8e0: 5a49 5020 636f 6465 0a20 2020 2020 2020  ZIP code.       
-0002e8f0: 2031 3233 3435 0a20 2020 2020 2020 205b   12345.        [
-0002e900: 2731 3233 3435 275d 0a0a 2020 2020 2020  '12345']..      
-0002e910: 2020 2320 5a49 502b 3420 666f 726d 0a20    # ZIP+4 form. 
-0002e920: 2020 2020 2020 2031 3231 3031 2d30 3030         12101-000
-0002e930: 310a 2020 2020 2020 2020 5b27 3132 3130  1.        ['1210
-0002e940: 312d 3030 3031 275d 0a0a 2020 2020 2020  1-0001']..      
-0002e950: 2020 2320 696e 7661 6c69 6420 5a49 500a    # invalid ZIP.
-0002e960: 2020 2020 2020 2020 3938 3736 352d 0a20          98765-. 
-0002e970: 2020 2020 2020 2020 2020 2020 5e0a 2020              ^.  
-0002e980: 2020 2020 2020 4641 494c 3a20 4578 7065        FAIL: Expe
-0002e990: 6374 6564 2065 6e64 206f 6620 7465 7874  cted end of text
-0002e9a0: 2028 6174 2063 6861 7220 3529 2c20 286c   (at char 5), (l
-0002e9b0: 696e 653a 312c 2063 6f6c 3a36 290a 2020  ine:1, col:6).  
-0002e9c0: 2020 2222 220a 0a20 2020 205f 5f6f 7074    """..    __opt
-0002e9d0: 696f 6e61 6c4e 6f74 4d61 7463 6865 6420  ionalNotMatched 
-0002e9e0: 3d20 5f4e 756c 6c54 6f6b 656e 2829 0a0a  = _NullToken()..
-0002e9f0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-0002ea00: 280a 2020 2020 2020 2020 7365 6c66 2c20  (.        self, 
-0002ea10: 6578 7072 3a20 556e 696f 6e5b 5061 7273  expr: Union[Pars
-0002ea20: 6572 456c 656d 656e 742c 2073 7472 5d2c  erElement, str],
-0002ea30: 2064 6566 6175 6c74 3a20 416e 7920 3d20   default: Any = 
-0002ea40: 5f5f 6f70 7469 6f6e 616c 4e6f 744d 6174  __optionalNotMat
-0002ea50: 6368 6564 0a20 2020 2029 3a0a 2020 2020  ched.    ):.    
-0002ea60: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-0002ea70: 6974 5f5f 2865 7870 722c 2073 6176 656c  it__(expr, savel
-0002ea80: 6973 743d 4661 6c73 6529 0a20 2020 2020  ist=False).     
-0002ea90: 2020 2073 656c 662e 7361 7665 4173 4c69     self.saveAsLi
-0002eaa0: 7374 203d 2073 656c 662e 6578 7072 2e73  st = self.expr.s
-0002eab0: 6176 6541 734c 6973 740a 2020 2020 2020  aveAsList.      
-0002eac0: 2020 7365 6c66 2e64 6566 6175 6c74 5661    self.defaultVa
-0002ead0: 6c75 6520 3d20 6465 6661 756c 740a 2020  lue = default.  
-0002eae0: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
-0002eaf0: 7475 726e 456d 7074 7920 3d20 5472 7565  turnEmpty = True
-0002eb00: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
-0002eb10: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
-0002eb20: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
-0002eb30: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
-0002eb40: 2020 7365 6c66 5f65 7870 7220 3d20 7365    self_expr = se
-0002eb50: 6c66 2e65 7870 720a 2020 2020 2020 2020  lf.expr.        
-0002eb60: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0002eb70: 206c 6f63 2c20 746f 6b65 6e73 203d 2073   loc, tokens = s
-0002eb80: 656c 665f 6578 7072 2e5f 7061 7273 6528  elf_expr._parse(
-0002eb90: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-0002eba0: 6f41 6374 696f 6e73 2c20 6361 6c6c 5072  oActions, callPr
-0002ebb0: 6550 6172 7365 3d46 616c 7365 290a 2020  eParse=False).  
-0002ebc0: 2020 2020 2020 6578 6365 7074 2028 5061        except (Pa
-0002ebd0: 7273 6545 7863 6570 7469 6f6e 2c20 496e  rseException, In
-0002ebe0: 6465 7845 7272 6f72 293a 0a20 2020 2020  dexError):.     
-0002ebf0: 2020 2020 2020 2064 6566 6175 6c74 5f76         default_v
-0002ec00: 616c 7565 203d 2073 656c 662e 6465 6661  alue = self.defa
-0002ec10: 756c 7456 616c 7565 0a20 2020 2020 2020  ultValue.       
-0002ec20: 2020 2020 2069 6620 6465 6661 756c 745f       if default_
-0002ec30: 7661 6c75 6520 6973 206e 6f74 2073 656c  value is not sel
-0002ec40: 662e 5f5f 6f70 7469 6f6e 616c 4e6f 744d  f.__optionalNotM
-0002ec50: 6174 6368 6564 3a0a 2020 2020 2020 2020  atched:.        
-0002ec60: 2020 2020 2020 2020 6966 2073 656c 665f          if self_
-0002ec70: 6578 7072 2e72 6573 756c 7473 4e61 6d65  expr.resultsName
-0002ec80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002ec90: 2020 2020 2020 746f 6b65 6e73 203d 2050        tokens = P
-0002eca0: 6172 7365 5265 7375 6c74 7328 5b64 6566  arseResults([def
-0002ecb0: 6175 6c74 5f76 616c 7565 5d29 0a20 2020  ault_value]).   
-0002ecc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ecd0: 2074 6f6b 656e 735b 7365 6c66 5f65 7870   tokens[self_exp
-0002ece0: 722e 7265 7375 6c74 734e 616d 655d 203d  r.resultsName] =
-0002ecf0: 2064 6566 6175 6c74 5f76 616c 7565 0a20   default_value. 
-0002ed00: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0002ed10: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002ed20: 2020 2020 2020 2020 2074 6f6b 656e 7320           tokens 
-0002ed30: 3d20 5b64 6566 6175 6c74 5f76 616c 7565  = [default_value
-0002ed40: 5d0a 2020 2020 2020 2020 2020 2020 656c  ].            el
-0002ed50: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0002ed60: 2020 2020 746f 6b65 6e73 203d 205b 5d0a      tokens = [].
-0002ed70: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-0002ed80: 6f63 2c20 746f 6b65 6e73 0a0a 2020 2020  oc, tokens..    
-0002ed90: 6465 6620 5f67 656e 6572 6174 6544 6566  def _generateDef
-0002eda0: 6175 6c74 4e61 6d65 2873 656c 6629 202d  aultName(self) -
-0002edb0: 3e20 7374 723a 0a20 2020 2020 2020 2069  > str:.        i
-0002edc0: 6e6e 6572 203d 2073 7472 2873 656c 662e  nner = str(self.
-0002edd0: 6578 7072 290a 2020 2020 2020 2020 2320  expr).        # 
-0002ede0: 7374 7269 7020 6f66 6620 7265 6475 6e64  strip off redund
-0002edf0: 616e 7420 696e 6e65 7220 7b7d 2773 0a20  ant inner {}'s. 
-0002ee00: 2020 2020 2020 2077 6869 6c65 206c 656e         while len
-0002ee10: 2869 6e6e 6572 2920 3e20 3120 616e 6420  (inner) > 1 and 
-0002ee20: 696e 6e65 725b 3020 3a3a 206c 656e 2869  inner[0 :: len(i
-0002ee30: 6e6e 6572 2920 2d20 315d 203d 3d20 227b  nner) - 1] == "{
-0002ee40: 7d22 3a0a 2020 2020 2020 2020 2020 2020  }":.            
-0002ee50: 696e 6e65 7220 3d20 696e 6e65 725b 313a  inner = inner[1:
-0002ee60: 2d31 5d0a 2020 2020 2020 2020 7265 7475  -1].        retu
-0002ee70: 726e 2022 5b22 202b 2069 6e6e 6572 202b  rn "[" + inner +
-0002ee80: 2022 5d22 0a0a 0a4f 7074 696f 6e61 6c20   "]"...Optional 
-0002ee90: 3d20 4f70 740a 0a0a 636c 6173 7320 536b  = Opt...class Sk
-0002eea0: 6970 546f 2850 6172 7365 456c 656d 656e  ipTo(ParseElemen
-0002eeb0: 7445 6e68 616e 6365 293a 0a20 2020 2022  tEnhance):.    "
-0002eec0: 2222 0a20 2020 2054 6f6b 656e 2066 6f72  "".    Token for
-0002eed0: 2073 6b69 7070 696e 6720 6f76 6572 2061   skipping over a
-0002eee0: 6c6c 2075 6e64 6566 696e 6564 2074 6578  ll undefined tex
-0002eef0: 7420 756e 7469 6c20 7468 6520 6d61 7463  t until the matc
-0002ef00: 6865 640a 2020 2020 6578 7072 6573 7369  hed.    expressi
-0002ef10: 6f6e 2069 7320 666f 756e 642e 0a0a 2020  on is found...  
-0002ef20: 2020 5061 7261 6d65 7465 7273 3a0a 0a20    Parameters:.. 
-0002ef30: 2020 202d 2060 6065 7870 7260 6020 2d20     - ``expr`` - 
-0002ef40: 7461 7267 6574 2065 7870 7265 7373 696f  target expressio
-0002ef50: 6e20 6d61 726b 696e 6720 7468 6520 656e  n marking the en
-0002ef60: 6420 6f66 2074 6865 2064 6174 6120 746f  d of the data to
-0002ef70: 2062 6520 736b 6970 7065 640a 2020 2020   be skipped.    
-0002ef80: 2d20 6060 696e 636c 7564 6560 6020 2d20  - ``include`` - 
-0002ef90: 6966 2060 6054 7275 6560 602c 2074 6865  if ``True``, the
-0002efa0: 2074 6172 6765 7420 6578 7072 6573 7369   target expressi
-0002efb0: 6f6e 2069 7320 616c 736f 2070 6172 7365  on is also parse
-0002efc0: 640a 2020 2020 2020 2874 6865 2073 6b69  d.      (the ski
-0002efd0: 7070 6564 2074 6578 7420 616e 6420 7461  pped text and ta
-0002efe0: 7267 6574 2065 7870 7265 7373 696f 6e20  rget expression 
-0002eff0: 6172 6520 7265 7475 726e 6564 2061 7320  are returned as 
-0002f000: 6120 322d 656c 656d 656e 740a 2020 2020  a 2-element.    
-0002f010: 2020 6c69 7374 2920 2864 6566 6175 6c74    list) (default
-0002f020: 3d20 6060 4661 6c73 6560 6029 2e0a 2020  = ``False``)..  
-0002f030: 2020 2d20 6060 6967 6e6f 7265 6060 202d    - ``ignore`` -
-0002f040: 2028 6465 6661 756c 743d 2060 604e 6f6e   (default= ``Non
-0002f050: 6560 6029 2075 7365 6420 746f 2064 6566  e``) used to def
-0002f060: 696e 6520 6772 616d 6d61 7273 2028 7479  ine grammars (ty
-0002f070: 7069 6361 6c6c 7920 7175 6f74 6564 2073  pically quoted s
-0002f080: 7472 696e 6773 2061 6e64 0a20 2020 2020  trings and.     
-0002f090: 2063 6f6d 6d65 6e74 7329 2074 6861 7420   comments) that 
-0002f0a0: 6d69 6768 7420 636f 6e74 6169 6e20 6661  might contain fa
-0002f0b0: 6c73 6520 6d61 7463 6865 7320 746f 2074  lse matches to t
-0002f0c0: 6865 2074 6172 6765 7420 6578 7072 6573  he target expres
-0002f0d0: 7369 6f6e 0a20 2020 202d 2060 6066 6169  sion.    - ``fai
-0002f0e0: 6c5f 6f6e 6060 202d 2028 6465 6661 756c  l_on`` - (defaul
-0002f0f0: 743d 2060 604e 6f6e 6560 6029 2064 6566  t= ``None``) def
-0002f100: 696e 6520 6578 7072 6573 7369 6f6e 7320  ine expressions 
-0002f110: 7468 6174 2061 7265 206e 6f74 2061 6c6c  that are not all
-0002f120: 6f77 6564 2074 6f20 6265 0a20 2020 2020  owed to be.     
-0002f130: 2069 6e63 6c75 6465 6420 696e 2074 6865   included in the
-0002f140: 2073 6b69 7070 6564 2074 6573 743b 2069   skipped test; i
-0002f150: 6620 666f 756e 6420 6265 666f 7265 2074  f found before t
-0002f160: 6865 2074 6172 6765 7420 6578 7072 6573  he target expres
-0002f170: 7369 6f6e 2069 7320 666f 756e 642c 0a20  sion is found,. 
-0002f180: 2020 2020 2074 6865 203a 636c 6173 733a       the :class:
-0002f190: 6053 6b69 7054 6f60 2069 7320 6e6f 7420  `SkipTo` is not 
-0002f1a0: 6120 6d61 7463 680a 0a20 2020 2045 7861  a match..    Exa
-0002f1b0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
-0002f1c0: 7265 706f 7274 203d 2027 2727 0a20 2020  report = '''.   
-0002f1d0: 2020 2020 2020 2020 204f 7574 7374 616e           Outstan
-0002f1e0: 6469 6e67 2049 7373 7565 7320 5265 706f  ding Issues Repo
-0002f1f0: 7274 202d 2031 204a 616e 2032 3030 300a  rt - 1 Jan 2000.
-0002f200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002f210: 2320 7c20 5365 7665 7269 7479 207c 2044  # | Severity | D
-0002f220: 6573 6372 6970 7469 6f6e 2020 2020 2020  escription      
-0002f230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f240: 2020 2020 2020 2020 207c 2020 4461 7973           |  Days
-0002f250: 204f 7065 6e0a 2020 2020 2020 2020 2020   Open.          
-0002f260: 2020 2d2d 2d2d 2d2b 2d2d 2d2d 2d2d 2d2d    -----+--------
-0002f270: 2d2d 2b2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  --+-------------
-0002f280: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0002f290: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2b2d  --------------+-
-0002f2a0: 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020 2020  ----------.     
-0002f2b0: 2020 2020 2020 2020 3130 3120 7c20 4372          101 | Cr
-0002f2c0: 6974 6963 616c 207c 2049 6e74 6572 6d69  itical | Intermi
-0002f2d0: 7474 656e 7420 7379 7374 656d 2063 7261  ttent system cra
-0002f2e0: 7368 2020 2020 2020 2020 2020 2020 2020  sh              
-0002f2f0: 2020 207c 2020 2020 2020 2020 2020 360a     |          6.
-0002f300: 2020 2020 2020 2020 2020 2020 2020 3934                94
-0002f310: 207c 2043 6f73 6d65 7469 6320 7c20 5370   | Cosmetic | Sp
-0002f320: 656c 6c69 6e67 2065 7272 6f72 206f 6e20  elling error on 
-0002f330: 4c6f 6769 6e20 2827 6c6f 677c 6e27 2920  Login ('log|n') 
-0002f340: 2020 2020 2020 2020 7c20 2020 2020 2020          |       
-0002f350: 2020 3134 0a20 2020 2020 2020 2020 2020    14.           
-0002f360: 2020 2037 3920 7c20 4d69 6e6f 7220 2020     79 | Minor   
-0002f370: 207c 2053 7973 7465 6d20 736c 6f77 2077   | System slow w
-0002f380: 6865 6e20 7275 6e6e 696e 6720 746f 6f20  hen running too 
-0002f390: 6d61 6e79 2072 6570 6f72 7473 207c 2020  many reports |  
-0002f3a0: 2020 2020 2020 2034 370a 2020 2020 2020         47.      
-0002f3b0: 2020 2020 2020 2727 270a 2020 2020 2020        '''.      
-0002f3c0: 2020 696e 7465 6765 7220 3d20 576f 7264    integer = Word
-0002f3d0: 286e 756d 7329 0a20 2020 2020 2020 2053  (nums).        S
-0002f3e0: 4550 203d 2053 7570 7072 6573 7328 277c  EP = Suppress('|
-0002f3f0: 2729 0a20 2020 2020 2020 2023 2075 7365  ').        # use
-0002f400: 2053 6b69 7054 6f20 746f 2073 696d 706c   SkipTo to simpl
-0002f410: 7920 6d61 7463 6820 6576 6572 7974 6869  y match everythi
-0002f420: 6e67 2075 7020 756e 7469 6c20 7468 6520  ng up until the 
-0002f430: 6e65 7874 2053 4550 0a20 2020 2020 2020  next SEP.       
-0002f440: 2023 202d 2069 676e 6f72 6520 7175 6f74   # - ignore quot
-0002f450: 6564 2073 7472 696e 6773 2c20 736f 2074  ed strings, so t
-0002f460: 6861 7420 6120 277c 2720 6368 6172 6163  hat a '|' charac
-0002f470: 7465 7220 696e 7369 6465 2061 2071 756f  ter inside a quo
-0002f480: 7465 6420 7374 7269 6e67 2064 6f65 7320  ted string does 
-0002f490: 6e6f 7420 6d61 7463 680a 2020 2020 2020  not match.      
-0002f4a0: 2020 2320 2d20 7061 7273 6520 6163 7469    # - parse acti
-0002f4b0: 6f6e 2077 696c 6c20 6361 6c6c 2074 6f6b  on will call tok
-0002f4c0: 656e 2e73 7472 6970 2829 2066 6f72 2065  en.strip() for e
-0002f4d0: 6163 6820 6d61 7463 6865 6420 746f 6b65  ach matched toke
-0002f4e0: 6e2c 2069 2e65 2e2c 2074 6865 2064 6573  n, i.e., the des
-0002f4f0: 6372 6970 7469 6f6e 2062 6f64 790a 2020  cription body.  
-0002f500: 2020 2020 2020 7374 7269 6e67 5f64 6174        string_dat
-0002f510: 6120 3d20 536b 6970 546f 2853 4550 2c20  a = SkipTo(SEP, 
-0002f520: 6967 6e6f 7265 3d71 756f 7465 645f 7374  ignore=quoted_st
-0002f530: 7269 6e67 290a 2020 2020 2020 2020 7374  ring).        st
-0002f540: 7269 6e67 5f64 6174 612e 7365 745f 7061  ring_data.set_pa
-0002f550: 7273 655f 6163 7469 6f6e 2874 6f6b 656e  rse_action(token
-0002f560: 5f6d 6170 2873 7472 2e73 7472 6970 2929  _map(str.strip))
-0002f570: 0a20 2020 2020 2020 2074 6963 6b65 745f  .        ticket_
-0002f580: 6578 7072 203d 2028 696e 7465 6765 7228  expr = (integer(
-0002f590: 2269 7373 7565 5f6e 756d 2229 202b 2053  "issue_num") + S
-0002f5a0: 4550 0a20 2020 2020 2020 2020 2020 2020  EP.             
-0002f5b0: 2020 2020 2020 2020 202b 2073 7472 696e           + strin
-0002f5c0: 675f 6461 7461 2822 7365 7622 2920 2b20  g_data("sev") + 
-0002f5d0: 5345 500a 2020 2020 2020 2020 2020 2020  SEP.            
-0002f5e0: 2020 2020 2020 2020 2020 2b20 7374 7269            + stri
-0002f5f0: 6e67 5f64 6174 6128 2264 6573 6322 2920  ng_data("desc") 
-0002f600: 2b20 5345 500a 2020 2020 2020 2020 2020  + SEP.          
-0002f610: 2020 2020 2020 2020 2020 2020 2b20 696e              + in
-0002f620: 7465 6765 7228 2264 6179 735f 6f70 656e  teger("days_open
-0002f630: 2229 290a 0a20 2020 2020 2020 2066 6f72  "))..        for
-0002f640: 2074 6b74 2069 6e20 7469 636b 6574 5f65   tkt in ticket_e
-0002f650: 7870 722e 7365 6172 6368 5f73 7472 696e  xpr.search_strin
-0002f660: 6728 7265 706f 7274 293a 0a20 2020 2020  g(report):.     
-0002f670: 2020 2020 2020 2070 7269 6e74 2074 6b74         print tkt
-0002f680: 2e64 756d 7028 290a 0a20 2020 2070 7269  .dump()..    pri
-0002f690: 6e74 733a 3a0a 0a20 2020 2020 2020 205b  nts::..        [
-0002f6a0: 2731 3031 272c 2027 4372 6974 6963 616c  '101', 'Critical
-0002f6b0: 272c 2027 496e 7465 726d 6974 7465 6e74  ', 'Intermittent
-0002f6c0: 2073 7973 7465 6d20 6372 6173 6827 2c20   system crash', 
-0002f6d0: 2736 275d 0a20 2020 2020 2020 202d 2064  '6'].        - d
-0002f6e0: 6179 735f 6f70 656e 3a20 2736 270a 2020  ays_open: '6'.  
-0002f6f0: 2020 2020 2020 2d20 6465 7363 3a20 2749        - desc: 'I
-0002f700: 6e74 6572 6d69 7474 656e 7420 7379 7374  ntermittent syst
-0002f710: 656d 2063 7261 7368 270a 2020 2020 2020  em crash'.      
-0002f720: 2020 2d20 6973 7375 655f 6e75 6d3a 2027    - issue_num: '
-0002f730: 3130 3127 0a20 2020 2020 2020 202d 2073  101'.        - s
-0002f740: 6576 3a20 2743 7269 7469 6361 6c27 0a20  ev: 'Critical'. 
-0002f750: 2020 2020 2020 205b 2739 3427 2c20 2743         ['94', 'C
-0002f760: 6f73 6d65 7469 6327 2c20 2253 7065 6c6c  osmetic', "Spell
-0002f770: 696e 6720 6572 726f 7220 6f6e 204c 6f67  ing error on Log
-0002f780: 696e 2028 276c 6f67 7c6e 2729 222c 2027  in ('log|n')", '
-0002f790: 3134 275d 0a20 2020 2020 2020 202d 2064  14'].        - d
-0002f7a0: 6179 735f 6f70 656e 3a20 2731 3427 0a20  ays_open: '14'. 
-0002f7b0: 2020 2020 2020 202d 2064 6573 633a 2022         - desc: "
-0002f7c0: 5370 656c 6c69 6e67 2065 7272 6f72 206f  Spelling error o
-0002f7d0: 6e20 4c6f 6769 6e20 2827 6c6f 677c 6e27  n Login ('log|n'
-0002f7e0: 2922 0a20 2020 2020 2020 202d 2069 7373  )".        - iss
-0002f7f0: 7565 5f6e 756d 3a20 2739 3427 0a20 2020  ue_num: '94'.   
-0002f800: 2020 2020 202d 2073 6576 3a20 2743 6f73       - sev: 'Cos
-0002f810: 6d65 7469 6327 0a20 2020 2020 2020 205b  metic'.        [
-0002f820: 2737 3927 2c20 274d 696e 6f72 272c 2027  '79', 'Minor', '
-0002f830: 5379 7374 656d 2073 6c6f 7720 7768 656e  System slow when
-0002f840: 2072 756e 6e69 6e67 2074 6f6f 206d 616e   running too man
-0002f850: 7920 7265 706f 7274 7327 2c20 2734 3727  y reports', '47'
-0002f860: 5d0a 2020 2020 2020 2020 2d20 6461 7973  ].        - days
-0002f870: 5f6f 7065 6e3a 2027 3437 270a 2020 2020  _open: '47'.    
-0002f880: 2020 2020 2d20 6465 7363 3a20 2753 7973      - desc: 'Sys
-0002f890: 7465 6d20 736c 6f77 2077 6865 6e20 7275  tem slow when ru
-0002f8a0: 6e6e 696e 6720 746f 6f20 6d61 6e79 2072  nning too many r
-0002f8b0: 6570 6f72 7473 270a 2020 2020 2020 2020  eports'.        
-0002f8c0: 2d20 6973 7375 655f 6e75 6d3a 2027 3739  - issue_num: '79
-0002f8d0: 270a 2020 2020 2020 2020 2d20 7365 763a  '.        - sev:
-0002f8e0: 2027 4d69 6e6f 7227 0a20 2020 2022 2222   'Minor'.    """
-0002f8f0: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
-0002f900: 5f5f 280a 2020 2020 2020 2020 7365 6c66  __(.        self
-0002f910: 2c0a 2020 2020 2020 2020 6f74 6865 723a  ,.        other:
-0002f920: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
-0002f930: 6d65 6e74 2c20 7374 725d 2c0a 2020 2020  ment, str],.    
-0002f940: 2020 2020 696e 636c 7564 653a 2062 6f6f      include: boo
-0002f950: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-0002f960: 2020 2069 676e 6f72 653a 2074 7970 696e     ignore: typin
-0002f970: 672e 4f70 7469 6f6e 616c 5b55 6e69 6f6e  g.Optional[Union
-0002f980: 5b50 6172 7365 7245 6c65 6d65 6e74 2c20  [ParserElement, 
-0002f990: 7374 725d 5d20 3d20 4e6f 6e65 2c0a 2020  str]] = None,.  
-0002f9a0: 2020 2020 2020 6661 696c 5f6f 6e3a 2074        fail_on: t
-0002f9b0: 7970 696e 672e 4f70 7469 6f6e 616c 5b55  yping.Optional[U
-0002f9c0: 6e69 6f6e 5b50 6172 7365 7245 6c65 6d65  nion[ParserEleme
-0002f9d0: 6e74 2c20 7374 725d 5d20 3d20 4e6f 6e65  nt, str]] = None
-0002f9e0: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
-0002f9f0: 2020 2020 2066 6169 6c4f 6e3a 2074 7970       failOn: typ
-0002fa00: 696e 672e 4f70 7469 6f6e 616c 5b55 6e69  ing.Optional[Uni
-0002fa10: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
-0002fa20: 2c20 7374 725d 5d20 3d20 4e6f 6e65 2c0a  , str]] = None,.
-0002fa30: 2020 2020 293a 0a20 2020 2020 2020 2073      ):.        s
-0002fa40: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-0002fa50: 6f74 6865 7229 0a20 2020 2020 2020 2066  other).        f
-0002fa60: 6169 6c4f 6e20 3d20 6661 696c 4f6e 206f  ailOn = failOn o
-0002fa70: 7220 6661 696c 5f6f 6e0a 2020 2020 2020  r fail_on.      
-0002fa80: 2020 6966 2069 676e 6f72 6520 6973 206e    if ignore is n
-0002fa90: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-0002faa0: 2020 2020 2073 656c 662e 6967 6e6f 7265       self.ignore
-0002fab0: 2869 676e 6f72 6529 0a20 2020 2020 2020  (ignore).       
-0002fac0: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
-0002fad0: 6d70 7479 203d 2054 7275 650a 2020 2020  mpty = True.    
-0002fae0: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
-0002faf0: 7845 7272 6f72 203d 2046 616c 7365 0a20  xError = False. 
-0002fb00: 2020 2020 2020 2073 656c 662e 696e 636c         self.incl
-0002fb10: 7564 654d 6174 6368 203d 2069 6e63 6c75  udeMatch = inclu
-0002fb20: 6465 0a20 2020 2020 2020 2073 656c 662e  de.        self.
-0002fb30: 7361 7665 4173 4c69 7374 203d 2046 616c  saveAsList = Fal
-0002fb40: 7365 0a20 2020 2020 2020 2069 6620 6973  se.        if is
-0002fb50: 696e 7374 616e 6365 2866 6169 6c4f 6e2c  instance(failOn,
-0002fb60: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
-0002fb70: 2020 2020 2020 2020 7365 6c66 2e66 6169          self.fai
-0002fb80: 6c4f 6e20 3d20 7365 6c66 2e5f 6c69 7465  lOn = self._lite
-0002fb90: 7261 6c53 7472 696e 6743 6c61 7373 2866  ralStringClass(f
-0002fba0: 6169 6c4f 6e29 0a20 2020 2020 2020 2065  ailOn).        e
-0002fbb0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002fbc0: 2073 656c 662e 6661 696c 4f6e 203d 2066   self.failOn = f
-0002fbd0: 6169 6c4f 6e0a 2020 2020 2020 2020 7365  ailOn.        se
-0002fbe0: 6c66 2e65 7272 6d73 6720 3d20 224e 6f20  lf.errmsg = "No 
-0002fbf0: 6d61 7463 6820 666f 756e 6420 666f 7220  match found for 
-0002fc00: 2220 2b20 7374 7228 7365 6c66 2e65 7870  " + str(self.exp
-0002fc10: 7229 0a0a 2020 2020 6465 6620 7061 7273  r)..    def pars
-0002fc20: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
-0002fc30: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-0002fc40: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
-0002fc50: 2020 2020 7374 6172 746c 6f63 203d 206c      startloc = l
-0002fc60: 6f63 0a20 2020 2020 2020 2069 6e73 7472  oc.        instr
-0002fc70: 6c65 6e20 3d20 6c65 6e28 696e 7374 7269  len = len(instri
-0002fc80: 6e67 290a 2020 2020 2020 2020 7365 6c66  ng).        self
-0002fc90: 5f65 7870 725f 7061 7273 6520 3d20 7365  _expr_parse = se
-0002fca0: 6c66 2e65 7870 722e 5f70 6172 7365 0a20  lf.expr._parse. 
-0002fcb0: 2020 2020 2020 2073 656c 665f 6661 696c         self_fail
-0002fcc0: 4f6e 5f63 616e 5061 7273 654e 6578 7420  On_canParseNext 
-0002fcd0: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
-0002fce0: 7365 6c66 2e66 6169 6c4f 6e2e 6361 6e50  self.failOn.canP
-0002fcf0: 6172 7365 4e65 7874 2069 6620 7365 6c66  arseNext if self
-0002fd00: 2e66 6169 6c4f 6e20 6973 206e 6f74 204e  .failOn is not N
-0002fd10: 6f6e 6520 656c 7365 204e 6f6e 650a 2020  one else None.  
-0002fd20: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0002fd30: 7365 6c66 5f70 7265 5061 7273 6520 3d20  self_preParse = 
-0002fd40: 7365 6c66 2e70 7265 5061 7273 6520 6966  self.preParse if
-0002fd50: 2073 656c 662e 6361 6c6c 5072 6570 6172   self.callPrepar
-0002fd60: 7365 2065 6c73 6520 4e6f 6e65 0a0a 2020  se else None..  
-0002fd70: 2020 2020 2020 746d 706c 6f63 203d 206c        tmploc = l
-0002fd80: 6f63 0a20 2020 2020 2020 2077 6869 6c65  oc.        while
-0002fd90: 2074 6d70 6c6f 6320 3c3d 2069 6e73 7472   tmploc <= instr
-0002fda0: 6c65 6e3a 0a20 2020 2020 2020 2020 2020  len:.           
-0002fdb0: 2069 6620 7365 6c66 5f66 6169 6c4f 6e5f   if self_failOn_
-0002fdc0: 6361 6e50 6172 7365 4e65 7874 2069 7320  canParseNext is 
-0002fdd0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-0002fde0: 2020 2020 2020 2020 2020 2320 6272 6561            # brea
-0002fdf0: 6b20 6966 2066 6169 6c4f 6e20 6578 7072  k if failOn expr
-0002fe00: 6573 7369 6f6e 206d 6174 6368 6573 0a20  ession matches. 
-0002fe10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0002fe20: 6620 7365 6c66 5f66 6169 6c4f 6e5f 6361  f self_failOn_ca
-0002fe30: 6e50 6172 7365 4e65 7874 2869 6e73 7472  nParseNext(instr
-0002fe40: 696e 672c 2074 6d70 6c6f 6329 3a0a 2020  ing, tmploc):.  
-0002fe50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fe60: 2020 6272 6561 6b0a 0a20 2020 2020 2020    break..       
-0002fe70: 2020 2020 2069 6620 7365 6c66 5f70 7265       if self_pre
-0002fe80: 5061 7273 6520 6973 206e 6f74 204e 6f6e  Parse is not Non
-0002fe90: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0002fea0: 2020 2023 2073 6b69 7020 6772 616d 6d61     # skip gramma
-0002feb0: 722d 6967 6e6f 7265 6420 6578 7072 6573  r-ignored expres
-0002fec0: 7369 6f6e 730a 2020 2020 2020 2020 2020  sions.          
-0002fed0: 2020 2020 2020 746d 706c 6f63 203d 2073        tmploc = s
-0002fee0: 656c 665f 7072 6550 6172 7365 2869 6e73  elf_preParse(ins
-0002fef0: 7472 696e 672c 2074 6d70 6c6f 6329 0a0a  tring, tmploc)..
-0002ff00: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-0002ff10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002ff20: 2073 656c 665f 6578 7072 5f70 6172 7365   self_expr_parse
-0002ff30: 2869 6e73 7472 696e 672c 2074 6d70 6c6f  (instring, tmplo
-0002ff40: 632c 2064 6f41 6374 696f 6e73 3d46 616c  c, doActions=Fal
-0002ff50: 7365 2c20 6361 6c6c 5072 6550 6172 7365  se, callPreParse
-0002ff60: 3d46 616c 7365 290a 2020 2020 2020 2020  =False).        
-0002ff70: 2020 2020 6578 6365 7074 2028 5061 7273      except (Pars
-0002ff80: 6545 7863 6570 7469 6f6e 2c20 496e 6465  eException, Inde
-0002ff90: 7845 7272 6f72 293a 0a20 2020 2020 2020  xError):.       
-0002ffa0: 2020 2020 2020 2020 2023 206e 6f20 6d61           # no ma
-0002ffb0: 7463 682c 2061 6476 616e 6365 206c 6f63  tch, advance loc
-0002ffc0: 2069 6e20 7374 7269 6e67 0a20 2020 2020   in string.     
-0002ffd0: 2020 2020 2020 2020 2020 2074 6d70 6c6f             tmplo
-0002ffe0: 6320 2b3d 2031 0a20 2020 2020 2020 2020  c += 1.         
-0002fff0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00030000: 2020 2020 2020 2020 2023 206d 6174 6368           # match
-00030010: 6564 2073 6b69 7074 6f20 6578 7072 2c20  ed skipto expr, 
-00030020: 646f 6e65 0a20 2020 2020 2020 2020 2020  done.           
-00030030: 2020 2020 2062 7265 616b 0a0a 2020 2020       break..    
-00030040: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00030050: 2020 2020 2020 2320 7261 6e20 6f66 6620        # ran off 
-00030060: 7468 6520 656e 6420 6f66 2074 6865 2069  the end of the i
-00030070: 6e70 7574 2073 7472 696e 6720 7769 7468  nput string with
-00030080: 6f75 7420 6d61 7463 6869 6e67 2073 6b69  out matching ski
-00030090: 7074 6f20 6578 7072 2c20 6661 696c 0a20  pto expr, fail. 
-000300a0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000300b0: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
-000300c0: 696e 7374 7269 6e67 2c20 6c6f 632c 2073  instring, loc, s
-000300d0: 656c 662e 6572 726d 7367 2c20 7365 6c66  elf.errmsg, self
-000300e0: 290a 0a20 2020 2020 2020 2023 2062 7569  )..        # bui
-000300f0: 6c64 2075 7020 7265 7475 726e 2076 616c  ld up return val
-00030100: 7565 730a 2020 2020 2020 2020 6c6f 6320  ues.        loc 
-00030110: 3d20 746d 706c 6f63 0a20 2020 2020 2020  = tmploc.       
-00030120: 2073 6b69 7074 6578 7420 3d20 696e 7374   skiptext = inst
-00030130: 7269 6e67 5b73 7461 7274 6c6f 633a 6c6f  ring[startloc:lo
-00030140: 635d 0a20 2020 2020 2020 2073 6b69 7072  c].        skipr
-00030150: 6573 756c 7420 3d20 5061 7273 6552 6573  esult = ParseRes
-00030160: 756c 7473 2873 6b69 7074 6578 7429 0a0a  ults(skiptext)..
-00030170: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00030180: 696e 636c 7564 654d 6174 6368 3a0a 2020  includeMatch:.  
-00030190: 2020 2020 2020 2020 2020 6c6f 632c 206d            loc, m
-000301a0: 6174 203d 2073 656c 665f 6578 7072 5f70  at = self_expr_p
-000301b0: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
-000301c0: 6f63 2c20 646f 4163 7469 6f6e 732c 2063  oc, doActions, c
-000301d0: 616c 6c50 7265 5061 7273 653d 4661 6c73  allPreParse=Fals
-000301e0: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
-000301f0: 6b69 7072 6573 756c 7420 2b3d 206d 6174  kipresult += mat
-00030200: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00030210: 206c 6f63 2c20 736b 6970 7265 7375 6c74   loc, skipresult
-00030220: 0a0a 0a63 6c61 7373 2046 6f72 7761 7264  ...class Forward
-00030230: 2850 6172 7365 456c 656d 656e 7445 6e68  (ParseElementEnh
-00030240: 616e 6365 293a 0a20 2020 2022 2222 0a20  ance):.    """. 
-00030250: 2020 2046 6f72 7761 7264 2064 6563 6c61     Forward decla
-00030260: 7261 7469 6f6e 206f 6620 616e 2065 7870  ration of an exp
-00030270: 7265 7373 696f 6e20 746f 2062 6520 6465  ression to be de
-00030280: 6669 6e65 6420 6c61 7465 7220 2d0a 2020  fined later -.  
-00030290: 2020 7573 6564 2066 6f72 2072 6563 7572    used for recur
-000302a0: 7369 7665 2067 7261 6d6d 6172 732c 2073  sive grammars, s
-000302b0: 7563 6820 6173 2061 6c67 6562 7261 6963  uch as algebraic
-000302c0: 2069 6e66 6978 206e 6f74 6174 696f 6e2e   infix notation.
-000302d0: 0a20 2020 2057 6865 6e20 7468 6520 6578  .    When the ex
-000302e0: 7072 6573 7369 6f6e 2069 7320 6b6e 6f77  pression is know
-000302f0: 6e2c 2069 7420 6973 2061 7373 6967 6e65  n, it is assigne
-00030300: 6420 746f 2074 6865 2060 6046 6f72 7761  d to the ``Forwa
-00030310: 7264 6060 0a20 2020 2076 6172 6961 626c  rd``.    variabl
-00030320: 6520 7573 696e 6720 7468 6520 6060 273c  e using the ``'<
-00030330: 3c27 6060 206f 7065 7261 746f 722e 0a0a  <'`` operator...
-00030340: 2020 2020 4e6f 7465 3a20 7461 6b65 2063      Note: take c
-00030350: 6172 6520 7768 656e 2061 7373 6967 6e69  are when assigni
-00030360: 6e67 2074 6f20 6060 466f 7277 6172 6460  ng to ``Forward`
-00030370: 6020 6e6f 7420 746f 206f 7665 726c 6f6f  ` not to overloo
-00030380: 6b0a 2020 2020 7072 6563 6564 656e 6365  k.    precedence
-00030390: 206f 6620 6f70 6572 6174 6f72 732e 0a0a   of operators...
-000303a0: 2020 2020 5370 6563 6966 6963 616c 6c79      Specifically
-000303b0: 2c20 6060 277c 2760 6020 6861 7320 6120  , ``'|'`` has a 
-000303c0: 6c6f 7765 7220 7072 6563 6564 656e 6365  lower precedence
-000303d0: 2074 6861 6e20 6060 273c 3c27 6060 2c20   than ``'<<'``, 
-000303e0: 736f 2074 6861 743a 3a0a 0a20 2020 2020  so that::..     
-000303f0: 2020 2066 7764 5f65 7870 7220 3c3c 2061     fwd_expr << a
-00030400: 207c 2062 207c 2063 0a0a 2020 2020 7769   | b | c..    wi
-00030410: 6c6c 2061 6374 7561 6c6c 7920 6265 2065  ll actually be e
-00030420: 7661 6c75 6174 6564 2061 733a 3a0a 0a20  valuated as::.. 
-00030430: 2020 2020 2020 2028 6677 645f 6578 7072         (fwd_expr
-00030440: 203c 3c20 6129 207c 2062 207c 2063 0a0a   << a) | b | c..
-00030450: 2020 2020 7468 6572 6562 7920 6c65 6176      thereby leav
-00030460: 696e 6720 6220 616e 6420 6320 6f75 7420  ing b and c out 
-00030470: 6173 2070 6172 7365 6162 6c65 2061 6c74  as parseable alt
-00030480: 6572 6e61 7469 7665 732e 2020 4974 2069  ernatives.  It i
-00030490: 7320 7265 636f 6d6d 656e 6465 6420 7468  s recommended th
-000304a0: 6174 2079 6f75 0a20 2020 2065 7870 6c69  at you.    expli
-000304b0: 6369 746c 7920 6772 6f75 7020 7468 6520  citly group the 
-000304c0: 7661 6c75 6573 2069 6e73 6572 7465 6420  values inserted 
-000304d0: 696e 746f 2074 6865 2060 6046 6f72 7761  into the ``Forwa
-000304e0: 7264 6060 3a3a 0a0a 2020 2020 2020 2020  rd``::..        
-000304f0: 6677 645f 6578 7072 203c 3c20 2861 207c  fwd_expr << (a |
-00030500: 2062 207c 2063 290a 0a20 2020 2043 6f6e   b | c)..    Con
-00030510: 7665 7274 696e 6720 746f 2075 7365 2074  verting to use t
-00030520: 6865 2060 6027 3c3c 3d27 6060 206f 7065  he ``'<<='`` ope
-00030530: 7261 746f 7220 696e 7374 6561 6420 7769  rator instead wi
-00030540: 6c6c 2061 766f 6964 2074 6869 7320 7072  ll avoid this pr
-00030550: 6f62 6c65 6d2e 0a0a 2020 2020 5365 6520  oblem...    See 
-00030560: 3a63 6c61 7373 3a60 5061 7273 6552 6573  :class:`ParseRes
-00030570: 756c 7473 2e70 7072 696e 7460 2066 6f72  ults.pprint` for
-00030580: 2061 6e20 6578 616d 706c 6520 6f66 2061   an example of a
-00030590: 2072 6563 7572 7369 7665 0a20 2020 2070   recursive.    p
-000305a0: 6172 7365 7220 6372 6561 7465 6420 7573  arser created us
-000305b0: 696e 6720 6060 466f 7277 6172 6460 602e  ing ``Forward``.
-000305c0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-000305d0: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
-000305e0: 206f 7468 6572 3a20 7479 7069 6e67 2e4f   other: typing.O
-000305f0: 7074 696f 6e61 6c5b 556e 696f 6e5b 5061  ptional[Union[Pa
-00030600: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
-00030610: 5d5d 203d 204e 6f6e 6529 3a0a 2020 2020  ]] = None):.    
-00030620: 2020 2020 7365 6c66 2e63 616c 6c65 725f      self.caller_
-00030630: 6672 616d 6520 3d20 7472 6163 6562 6163  frame = tracebac
-00030640: 6b2e 6578 7472 6163 745f 7374 6163 6b28  k.extract_stack(
-00030650: 6c69 6d69 743d 3229 5b30 5d0a 2020 2020  limit=2)[0].    
-00030660: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-00030670: 6974 5f5f 286f 7468 6572 2c20 7361 7665  it__(other, save
-00030680: 6c69 7374 3d46 616c 7365 2920 2023 2074  list=False)  # t
-00030690: 7970 653a 2069 676e 6f72 655b 6172 672d  ype: ignore[arg-
-000306a0: 7479 7065 5d0a 2020 2020 2020 2020 7365  type].        se
-000306b0: 6c66 2e6c 7368 6966 745f 6c69 6e65 203d  lf.lshift_line =
-000306c0: 204e 6f6e 650a 0a20 2020 2064 6566 205f   None..    def _
-000306d0: 5f6c 7368 6966 745f 5f28 7365 6c66 2c20  _lshift__(self, 
-000306e0: 6f74 6865 7229 202d 3e20 2246 6f72 7761  other) -> "Forwa
-000306f0: 7264 223a 0a20 2020 2020 2020 2069 6620  rd":.        if 
-00030700: 6861 7361 7474 7228 7365 6c66 2c20 2263  hasattr(self, "c
-00030710: 616c 6c65 725f 6672 616d 6522 293a 0a20  aller_frame"):. 
-00030720: 2020 2020 2020 2020 2020 2064 656c 2073             del s
-00030730: 656c 662e 6361 6c6c 6572 5f66 7261 6d65  elf.caller_frame
-00030740: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
-00030750: 7374 616e 6365 286f 7468 6572 2c20 7374  stance(other, st
-00030760: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
-00030770: 2020 2020 206f 7468 6572 203d 2073 656c       other = sel
-00030780: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
-00030790: 436c 6173 7328 6f74 6865 7229 0a0a 2020  Class(other)..  
-000307a0: 2020 2020 2020 6966 206e 6f74 2069 7369        if not isi
-000307b0: 6e73 7461 6e63 6528 6f74 6865 722c 2050  nstance(other, P
-000307c0: 6172 7365 7245 6c65 6d65 6e74 293a 0a20  arserElement):. 
-000307d0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000307e0: 6e20 4e6f 7449 6d70 6c65 6d65 6e74 6564  n NotImplemented
-000307f0: 0a0a 2020 2020 2020 2020 7365 6c66 2e65  ..        self.e
-00030800: 7870 7220 3d20 6f74 6865 720a 2020 2020  xpr = other.    
-00030810: 2020 2020 7365 6c66 2e73 7472 6561 6d6c      self.streaml
-00030820: 696e 6564 203d 206f 7468 6572 2e73 7472  ined = other.str
-00030830: 6561 6d6c 696e 6564 0a20 2020 2020 2020  eamlined.       
-00030840: 2073 656c 662e 6d61 7949 6e64 6578 4572   self.mayIndexEr
-00030850: 726f 7220 3d20 7365 6c66 2e65 7870 722e  ror = self.expr.
-00030860: 6d61 7949 6e64 6578 4572 726f 720a 2020  mayIndexError.  
-00030870: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
-00030880: 7475 726e 456d 7074 7920 3d20 7365 6c66  turnEmpty = self
-00030890: 2e65 7870 722e 6d61 7952 6574 7572 6e45  .expr.mayReturnE
-000308a0: 6d70 7479 0a20 2020 2020 2020 2073 656c  mpty.        sel
-000308b0: 662e 7365 745f 7768 6974 6573 7061 6365  f.set_whitespace
-000308c0: 5f63 6861 7273 280a 2020 2020 2020 2020  _chars(.        
-000308d0: 2020 2020 7365 6c66 2e65 7870 722e 7768      self.expr.wh
-000308e0: 6974 6543 6861 7273 2c20 636f 7079 5f64  iteChars, copy_d
-000308f0: 6566 6175 6c74 733d 7365 6c66 2e65 7870  efaults=self.exp
-00030900: 722e 636f 7079 4465 6661 756c 7457 6869  r.copyDefaultWhi
-00030910: 7465 4368 6172 730a 2020 2020 2020 2020  teChars.        
-00030920: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-00030930: 6b69 7057 6869 7465 7370 6163 6520 3d20  kipWhitespace = 
-00030940: 7365 6c66 2e65 7870 722e 736b 6970 5768  self.expr.skipWh
-00030950: 6974 6573 7061 6365 0a20 2020 2020 2020  itespace.       
-00030960: 2073 656c 662e 7361 7665 4173 4c69 7374   self.saveAsList
-00030970: 203d 2073 656c 662e 6578 7072 2e73 6176   = self.expr.sav
-00030980: 6541 734c 6973 740a 2020 2020 2020 2020  eAsList.        
-00030990: 7365 6c66 2e69 676e 6f72 6545 7870 7273  self.ignoreExprs
-000309a0: 2e65 7874 656e 6428 7365 6c66 2e65 7870  .extend(self.exp
-000309b0: 722e 6967 6e6f 7265 4578 7072 7329 0a20  r.ignoreExprs). 
-000309c0: 2020 2020 2020 2073 656c 662e 6c73 6869         self.lshi
-000309d0: 6674 5f6c 696e 6520 3d20 7472 6163 6562  ft_line = traceb
-000309e0: 6163 6b2e 6578 7472 6163 745f 7374 6163  ack.extract_stac
-000309f0: 6b28 6c69 6d69 743d 3229 5b2d 325d 2020  k(limit=2)[-2]  
-00030a00: 2320 7479 7065 3a20 6967 6e6f 7265 5b61  # type: ignore[a
-00030a10: 7373 6967 6e6d 656e 745d 0a20 2020 2020  ssignment].     
-00030a20: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-00030a30: 2020 2020 6465 6620 5f5f 696c 7368 6966      def __ilshif
-00030a40: 745f 5f28 7365 6c66 2c20 6f74 6865 7229  t__(self, other)
-00030a50: 202d 3e20 2246 6f72 7761 7264 223a 0a20   -> "Forward":. 
-00030a60: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
-00030a70: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-00030a80: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
-00030a90: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00030aa0: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
-00030ab0: 640a 0a20 2020 2020 2020 2072 6574 7572  d..        retur
-00030ac0: 6e20 7365 6c66 203c 3c20 6f74 6865 720a  n self << other.
-00030ad0: 0a20 2020 2064 6566 205f 5f6f 725f 5f28  .    def __or__(
-00030ae0: 7365 6c66 2c20 6f74 6865 7229 202d 3e20  self, other) -> 
-00030af0: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
-00030b00: 0a20 2020 2020 2020 2063 616c 6c65 725f  .        caller_
-00030b10: 6c69 6e65 203d 2074 7261 6365 6261 636b  line = traceback
-00030b20: 2e65 7874 7261 6374 5f73 7461 636b 286c  .extract_stack(l
-00030b30: 696d 6974 3d32 295b 2d32 5d0a 2020 2020  imit=2)[-2].    
-00030b40: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
-00030b50: 2020 2020 205f 5f64 6961 675f 5f2e 7761       __diag__.wa
-00030b60: 726e 5f6f 6e5f 6d61 7463 685f 6669 7273  rn_on_match_firs
-00030b70: 745f 7769 7468 5f6c 7368 6966 745f 6f70  t_with_lshift_op
-00030b80: 6572 6174 6f72 0a20 2020 2020 2020 2020  erator.         
-00030b90: 2020 2061 6e64 2063 616c 6c65 725f 6c69     and caller_li
-00030ba0: 6e65 203d 3d20 7365 6c66 2e6c 7368 6966  ne == self.lshif
-00030bb0: 745f 6c69 6e65 0a20 2020 2020 2020 2020  t_line.         
-00030bc0: 2020 2061 6e64 2044 6961 676e 6f73 7469     and Diagnosti
-00030bd0: 6373 2e77 6172 6e5f 6f6e 5f6d 6174 6368  cs.warn_on_match
-00030be0: 5f66 6972 7374 5f77 6974 685f 6c73 6869  _first_with_lshi
-00030bf0: 6674 5f6f 7065 7261 746f 720a 2020 2020  ft_operator.    
-00030c00: 2020 2020 2020 2020 6e6f 7420 696e 2073          not in s
-00030c10: 656c 662e 7375 7070 7265 7373 5f77 6172  elf.suppress_war
-00030c20: 6e69 6e67 735f 0a20 2020 2020 2020 2029  nings_.        )
-00030c30: 3a0a 2020 2020 2020 2020 2020 2020 7761  :.            wa
-00030c40: 726e 696e 6773 2e77 6172 6e28 0a20 2020  rnings.warn(.   
-00030c50: 2020 2020 2020 2020 2020 2020 2022 7573               "us
-00030c60: 696e 6720 273c 3c27 206f 7065 7261 746f  ing '<<' operato
-00030c70: 7220 7769 7468 2027 7c27 2069 7320 7072  r with '|' is pr
-00030c80: 6f62 6162 6c79 2061 6e20 6572 726f 722c  obably an error,
-00030c90: 2075 7365 2027 3c3c 3d27 222c 0a20 2020   use '<<='",.   
-00030ca0: 2020 2020 2020 2020 2020 2020 2073 7461               sta
-00030cb0: 636b 6c65 7665 6c3d 322c 0a20 2020 2020  cklevel=2,.     
-00030cc0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00030cd0: 2072 6574 203d 2073 7570 6572 2829 2e5f   ret = super()._
-00030ce0: 5f6f 725f 5f28 6f74 6865 7229 0a20 2020  _or__(other).   
-00030cf0: 2020 2020 2072 6574 7572 6e20 7265 740a       return ret.
-00030d00: 0a20 2020 2064 6566 205f 5f64 656c 5f5f  .    def __del__
-00030d10: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00030d20: 2320 7365 6520 6966 2077 6520 6172 6520  # see if we are 
-00030d30: 6765 7474 696e 6720 6472 6f70 7065 6420  getting dropped 
-00030d40: 6265 6361 7573 6520 6f66 2027 3d27 2072  because of '=' r
-00030d50: 6561 7373 6967 6e6d 656e 7420 6f66 2076  eassignment of v
-00030d60: 6172 2069 6e73 7465 6164 206f 6620 273c  ar instead of '<
-00030d70: 3c3d 2720 6f72 2027 3c3c 270a 2020 2020  <=' or '<<'.    
-00030d80: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
-00030d90: 2020 2020 2073 656c 662e 6578 7072 2069       self.expr i
-00030da0: 7320 4e6f 6e65 0a20 2020 2020 2020 2020  s None.         
-00030db0: 2020 2061 6e64 205f 5f64 6961 675f 5f2e     and __diag__.
-00030dc0: 7761 726e 5f6f 6e5f 6173 7369 676e 6d65  warn_on_assignme
-00030dd0: 6e74 5f74 6f5f 466f 7277 6172 640a 2020  nt_to_Forward.  
-00030de0: 2020 2020 2020 2020 2020 616e 6420 4469            and Di
-00030df0: 6167 6e6f 7374 6963 732e 7761 726e 5f6f  agnostics.warn_o
-00030e00: 6e5f 6173 7369 676e 6d65 6e74 5f74 6f5f  n_assignment_to_
-00030e10: 466f 7277 6172 6420 6e6f 7420 696e 2073  Forward not in s
-00030e20: 656c 662e 7375 7070 7265 7373 5f77 6172  elf.suppress_war
-00030e30: 6e69 6e67 735f 0a20 2020 2020 2020 2029  nings_.        )
-00030e40: 3a0a 2020 2020 2020 2020 2020 2020 7761  :.            wa
-00030e50: 726e 696e 6773 2e77 6172 6e5f 6578 706c  rnings.warn_expl
-00030e60: 6963 6974 280a 2020 2020 2020 2020 2020  icit(.          
-00030e70: 2020 2020 2020 2246 6f72 7761 7264 2064        "Forward d
-00030e80: 6566 696e 6564 2068 6572 6520 6275 7420  efined here but 
-00030e90: 6e6f 2065 7870 7265 7373 696f 6e20 6174  no expression at
-00030ea0: 7461 6368 6564 206c 6174 6572 2075 7369  tached later usi
-00030eb0: 6e67 2027 3c3c 3d27 206f 7220 273c 3c27  ng '<<=' or '<<'
-00030ec0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-00030ed0: 2020 2055 7365 7257 6172 6e69 6e67 2c0a     UserWarning,.
-00030ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030ef0: 6669 6c65 6e61 6d65 3d73 656c 662e 6361  filename=self.ca
-00030f00: 6c6c 6572 5f66 7261 6d65 2e66 696c 656e  ller_frame.filen
-00030f10: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-00030f20: 2020 2020 206c 696e 656e 6f3d 7365 6c66       lineno=self
-00030f30: 2e63 616c 6c65 725f 6672 616d 652e 6c69  .caller_frame.li
-00030f40: 6e65 6e6f 2c0a 2020 2020 2020 2020 2020  neno,.          
-00030f50: 2020 290a 0a20 2020 2064 6566 2070 6172    )..    def par
-00030f60: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
-00030f70: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-00030f80: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
-00030f90: 2020 2020 2069 6620 280a 2020 2020 2020       if (.      
-00030fa0: 2020 2020 2020 7365 6c66 2e65 7870 7220        self.expr 
-00030fb0: 6973 204e 6f6e 650a 2020 2020 2020 2020  is None.        
-00030fc0: 2020 2020 616e 6420 5f5f 6469 6167 5f5f      and __diag__
-00030fd0: 2e77 6172 6e5f 6f6e 5f70 6172 7365 5f75  .warn_on_parse_u
-00030fe0: 7369 6e67 5f65 6d70 7479 5f46 6f72 7761  sing_empty_Forwa
-00030ff0: 7264 0a20 2020 2020 2020 2020 2020 2061  rd.            a
-00031000: 6e64 2044 6961 676e 6f73 7469 6373 2e77  nd Diagnostics.w
-00031010: 6172 6e5f 6f6e 5f70 6172 7365 5f75 7369  arn_on_parse_usi
-00031020: 6e67 5f65 6d70 7479 5f46 6f72 7761 7264  ng_empty_Forward
-00031030: 0a20 2020 2020 2020 2020 2020 206e 6f74  .            not
-00031040: 2069 6e20 7365 6c66 2e73 7570 7072 6573   in self.suppres
-00031050: 735f 7761 726e 696e 6773 5f0a 2020 2020  s_warnings_.    
-00031060: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
-00031070: 2020 2023 2077 616c 6b20 7374 6163 6b20     # walk stack 
-00031080: 756e 7469 6c20 7061 7273 655f 7374 7269  until parse_stri
-00031090: 6e67 2c20 7363 616e 5f73 7472 696e 672c  ng, scan_string,
-000310a0: 2073 6561 7263 685f 7374 7269 6e67 2c20   search_string, 
-000310b0: 6f72 2074 7261 6e73 666f 726d 5f73 7472  or transform_str
-000310c0: 696e 6720 6973 2066 6f75 6e64 0a20 2020  ing is found.   
-000310d0: 2020 2020 2020 2020 2070 6172 7365 5f66           parse_f
-000310e0: 6e73 203d 2028 0a20 2020 2020 2020 2020  ns = (.         
-000310f0: 2020 2020 2020 2022 7061 7273 655f 7374         "parse_st
-00031100: 7269 6e67 222c 0a20 2020 2020 2020 2020  ring",.         
-00031110: 2020 2020 2020 2022 7363 616e 5f73 7472         "scan_str
-00031120: 696e 6722 2c0a 2020 2020 2020 2020 2020  ing",.          
-00031130: 2020 2020 2020 2273 6561 7263 685f 7374        "search_st
-00031140: 7269 6e67 222c 0a20 2020 2020 2020 2020  ring",.         
-00031150: 2020 2020 2020 2022 7472 616e 7366 6f72         "transfor
-00031160: 6d5f 7374 7269 6e67 222c 0a20 2020 2020  m_string",.     
-00031170: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00031180: 2020 2020 2074 6220 3d20 7472 6163 6562       tb = traceb
-00031190: 6163 6b2e 6578 7472 6163 745f 7374 6163  ack.extract_stac
-000311a0: 6b28 6c69 6d69 743d 3230 3029 0a20 2020  k(limit=200).   
-000311b0: 2020 2020 2020 2020 2066 6f72 2069 2c20           for i, 
-000311c0: 6672 6d20 696e 2065 6e75 6d65 7261 7465  frm in enumerate
-000311d0: 2872 6576 6572 7365 6428 7462 292c 2073  (reversed(tb), s
-000311e0: 7461 7274 3d31 293a 0a20 2020 2020 2020  tart=1):.       
-000311f0: 2020 2020 2020 2020 2069 6620 6672 6d2e           if frm.
-00031200: 6e61 6d65 2069 6e20 7061 7273 655f 666e  name in parse_fn
-00031210: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00031220: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
-00031230: 6c20 3d20 6920 2b20 310a 2020 2020 2020  l = i + 1.      
-00031240: 2020 2020 2020 2020 2020 2020 2020 6272                br
-00031250: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
-00031260: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00031270: 2020 2020 2020 7374 6163 6b6c 6576 656c        stacklevel
-00031280: 203d 2032 0a20 2020 2020 2020 2020 2020   = 2.           
-00031290: 2077 6172 6e69 6e67 732e 7761 726e 280a   warnings.warn(.
-000312a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000312b0: 2246 6f72 7761 7264 2065 7870 7265 7373  "Forward express
-000312c0: 696f 6e20 7761 7320 6e65 7665 7220 6173  ion was never as
-000312d0: 7369 676e 6564 2061 2076 616c 7565 2c20  signed a value, 
-000312e0: 7769 6c6c 206e 6f74 2070 6172 7365 2061  will not parse a
-000312f0: 6e79 2069 6e70 7574 222c 0a20 2020 2020  ny input",.     
-00031300: 2020 2020 2020 2020 2020 2073 7461 636b             stack
-00031310: 6c65 7665 6c3d 7374 6163 6b6c 6576 656c  level=stacklevel
-00031320: 2c0a 2020 2020 2020 2020 2020 2020 290a  ,.            ).
-00031330: 2020 2020 2020 2020 6966 206e 6f74 2050          if not P
-00031340: 6172 7365 7245 6c65 6d65 6e74 2e5f 6c65  arserElement._le
-00031350: 6674 5f72 6563 7572 7369 6f6e 5f65 6e61  ft_recursion_ena
-00031360: 626c 6564 3a0a 2020 2020 2020 2020 2020  bled:.          
-00031370: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
-00031380: 2e70 6172 7365 496d 706c 2869 6e73 7472  .parseImpl(instr
-00031390: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
-000313a0: 6f6e 7329 0a20 2020 2020 2020 2023 2023  ons).        # #
-000313b0: 2320 426f 756e 6465 6420 5265 6375 7273  # Bounded Recurs
-000313c0: 696f 6e20 616c 676f 7269 7468 6d20 2323  ion algorithm ##
-000313d0: 0a20 2020 2020 2020 2023 2052 6563 7572  .        # Recur
-000313e0: 7369 6f6e 206f 6e6c 7920 6e65 6564 7320  sion only needs 
-000313f0: 746f 2062 6520 7072 6f63 6573 7365 6420  to be processed 
-00031400: 6174 2060 6046 6f72 7761 7264 6060 2065  at ``Forward`` e
-00031410: 6c65 6d65 6e74 732c 2073 696e 6365 2074  lements, since t
-00031420: 6865 7920 6172 650a 2020 2020 2020 2020  hey are.        
-00031430: 2320 7468 6520 6f6e 6c79 206f 6e65 7320  # the only ones 
-00031440: 7468 6174 2063 616e 2061 6374 7561 6c6c  that can actuall
-00031450: 7920 7265 6665 7220 746f 2074 6865 6d73  y refer to thems
-00031460: 656c 7665 732e 2054 6865 2067 656e 6572  elves. The gener
-00031470: 616c 2069 6465 6120 6973 0a20 2020 2020  al idea is.     
-00031480: 2020 2023 2074 6f20 6861 6e64 6c65 2072     # to handle r
-00031490: 6563 7572 7369 6f6e 2073 7465 7077 6973  ecursion stepwis
-000314a0: 653a 2057 6520 7374 6172 7420 6174 206e  e: We start at n
-000314b0: 6f20 7265 6375 7273 696f 6e2c 2074 6865  o recursion, the
-000314c0: 6e20 7265 6375 7273 6520 6f6e 6365 2c0a  n recurse once,.
-000314d0: 2020 2020 2020 2020 2320 7265 6375 7273          # recurs
-000314e0: 6520 7477 6963 652c 202e 2e2e 2c20 756e  e twice, ..., un
-000314f0: 7469 6c20 6d6f 7265 2072 6563 7572 7369  til more recursi
-00031500: 6f6e 206f 6666 6572 7320 6e6f 2062 656e  on offers no ben
-00031510: 6566 6974 2028 7765 2068 6974 2074 6865  efit (we hit the
-00031520: 2062 6f75 6e64 292e 0a20 2020 2020 2020   bound)..       
-00031530: 2023 0a20 2020 2020 2020 2023 2054 6865   #.        # The
-00031540: 2022 7472 6963 6b22 2068 6572 6520 6973   "trick" here is
-00031550: 2074 6861 7420 6561 6368 2060 6046 6f72   that each ``For
-00031560: 7761 7264 6060 2067 6574 7320 6576 616c  ward`` gets eval
-00031570: 7561 7465 6420 696e 2074 776f 2063 6f6e  uated in two con
-00031580: 7465 7874 730a 2020 2020 2020 2020 2320  texts.        # 
-00031590: 2d20 746f 202a 6d61 7463 682a 2061 2073  - to *match* a s
-000315a0: 7065 6369 6669 6320 7265 6375 7273 696f  pecific recursio
-000315b0: 6e20 6c65 7665 6c2c 2061 6e64 0a20 2020  n level, and.   
-000315c0: 2020 2020 2023 202d 2074 6f20 2a73 6561       # - to *sea
-000315d0: 7263 682a 2074 6865 2062 6f75 6e64 6564  rch* the bounded
-000315e0: 2072 6563 7572 7369 6f6e 206c 6576 656c   recursion level
-000315f0: 0a20 2020 2020 2020 2023 2061 6e64 2074  .        # and t
-00031600: 6865 2074 776f 2072 756e 2063 6f6e 6375  he two run concu
-00031610: 7272 656e 746c 792e 2054 6865 202a 7365  rrently. The *se
-00031620: 6172 6368 2a20 6d75 7374 202a 6d61 7463  arch* must *matc
-00031630: 682a 2065 6163 6820 7265 6375 7273 696f  h* each recursio
-00031640: 6e20 6c65 7665 6c0a 2020 2020 2020 2020  n level.        
-00031650: 2320 746f 2066 696e 6420 7468 6520 6265  # to find the be
-00031660: 7374 2070 6f73 7369 626c 6520 6d61 7463  st possible matc
-00031670: 682e 2054 6869 7320 6973 2068 616e 646c  h. This is handl
-00031680: 6564 2062 7920 6120 6d65 6d6f 2074 6162  ed by a memo tab
-00031690: 6c65 2c20 7768 6963 680a 2020 2020 2020  le, which.      
-000316a0: 2020 2320 7072 6f76 6964 6573 2074 6865    # provides the
-000316b0: 2070 7265 7669 6f75 7320 6d61 7463 6820   previous match 
-000316c0: 746f 2074 6865 206e 6578 7420 6c65 7665  to the next leve
-000316d0: 6c20 6d61 7463 6820 6174 7465 6d70 742e  l match attempt.
-000316e0: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
-000316f0: 2020 2023 2053 6565 2061 6c73 6f20 224c     # See also "L
-00031700: 6566 7420 5265 6375 7273 696f 6e20 696e  eft Recursion in
-00031710: 2050 6172 7369 6e67 2045 7870 7265 7373   Parsing Express
-00031720: 696f 6e20 4772 616d 6d61 7273 222c 204d  ion Grammars", M
-00031730: 6564 6569 726f 7320 6574 2061 6c2e 0a20  edeiros et al.. 
-00031740: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-00031750: 2023 2054 6865 7265 2069 7320 6120 636f   # There is a co
-00031760: 6d70 6c69 6361 7469 6f6e 2073 696e 6365  mplication since
-00031770: 2077 6520 6e6f 7420 6f6e 6c79 202a 7061   we not only *pa
-00031780: 7273 652a 2062 7574 2061 6c73 6f20 2a74  rse* but also *t
-00031790: 7261 6e73 666f 726d 2a20 7669 610a 2020  ransform* via.  
-000317a0: 2020 2020 2020 2320 6163 7469 6f6e 733a        # actions:
-000317b0: 2057 6520 646f 206e 6f74 2077 616e 7420   We do not want 
-000317c0: 746f 2072 756e 2074 6865 2061 6374 696f  to run the actio
-000317d0: 6e73 2074 6f6f 206f 6674 656e 2077 6869  ns too often whi
-000317e0: 6c65 2065 7870 616e 6469 6e67 2e20 5468  le expanding. Th
-000317f0: 7573 2c0a 2020 2020 2020 2020 2320 7765  us,.        # we
-00031800: 2065 7870 616e 6420 7573 696e 6720 6064   expand using `d
-00031810: 6f41 6374 696f 6e73 3d46 616c 7365 6020  oActions=False` 
-00031820: 616e 6420 6f6e 6c79 2072 756e 2060 646f  and only run `do
-00031830: 4163 7469 6f6e 733d 5472 7565 6020 6966  Actions=True` if
-00031840: 2074 6865 206e 6578 740a 2020 2020 2020   the next.      
-00031850: 2020 2320 7265 6375 7273 696f 6e20 6c65    # recursion le
-00031860: 7665 6c20 6973 2061 6363 6570 7461 626c  vel is acceptabl
-00031870: 652e 0a20 2020 2020 2020 2077 6974 6820  e..        with 
-00031880: 5061 7273 6572 456c 656d 656e 742e 7265  ParserElement.re
-00031890: 6375 7273 696f 6e5f 6c6f 636b 3a0a 2020  cursion_lock:.  
-000318a0: 2020 2020 2020 2020 2020 6d65 6d6f 203d            memo =
-000318b0: 2050 6172 7365 7245 6c65 6d65 6e74 2e72   ParserElement.r
-000318c0: 6563 7572 7369 6f6e 5f6d 656d 6f73 0a20  ecursion_memos. 
-000318d0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-000318e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000318f0: 2320 7765 2061 7265 2070 6172 7369 6e67  # we are parsing
-00031900: 2061 7420 6120 7370 6563 6966 6963 2072   at a specific r
-00031910: 6563 7572 7369 6f6e 2065 7870 616e 7369  ecursion expansi
-00031920: 6f6e 202d 2075 7365 2069 7420 6173 2d69  on - use it as-i
-00031930: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00031940: 2020 7072 6576 5f6c 6f63 2c20 7072 6576    prev_loc, prev
-00031950: 5f72 6573 756c 7420 3d20 6d65 6d6f 5b6c  _result = memo[l
-00031960: 6f63 2c20 7365 6c66 2c20 646f 4163 7469  oc, self, doActi
-00031970: 6f6e 735d 0a20 2020 2020 2020 2020 2020  ons].           
-00031980: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-00031990: 6365 2870 7265 765f 7265 7375 6c74 2c20  ce(prev_result, 
-000319a0: 4578 6365 7074 696f 6e29 3a0a 2020 2020  Exception):.    
-000319b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000319c0: 7261 6973 6520 7072 6576 5f72 6573 756c  raise prev_resul
-000319d0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
-000319e0: 2020 7265 7475 726e 2070 7265 765f 6c6f    return prev_lo
-000319f0: 632c 2070 7265 765f 7265 7375 6c74 2e63  c, prev_result.c
-00031a00: 6f70 7928 290a 2020 2020 2020 2020 2020  opy().          
-00031a10: 2020 6578 6365 7074 204b 6579 4572 726f    except KeyErro
-00031a20: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00031a30: 2020 2061 6374 5f6b 6579 203d 2028 6c6f     act_key = (lo
-00031a40: 632c 2073 656c 662c 2054 7275 6529 0a20  c, self, True). 
-00031a50: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00031a60: 6565 6b5f 6b65 7920 3d20 286c 6f63 2c20  eek_key = (loc, 
-00031a70: 7365 6c66 2c20 4661 6c73 6529 0a20 2020  self, False).   
-00031a80: 2020 2020 2020 2020 2020 2020 2023 2077               # w
-00031a90: 6520 6172 6520 7365 6172 6368 696e 6720  e are searching 
-00031aa0: 666f 7220 7468 6520 6265 7374 2072 6563  for the best rec
-00031ab0: 7572 7369 6f6e 2065 7870 616e 7369 6f6e  ursion expansion
-00031ac0: 202d 206b 6565 7020 6f6e 2069 6d70 726f   - keep on impro
-00031ad0: 7669 6e67 0a20 2020 2020 2020 2020 2020  ving.           
-00031ae0: 2020 2020 2023 2062 6f74 6820 6064 6f41       # both `doA
-00031af0: 6374 696f 6e73 6020 6361 7365 7320 6d75  ctions` cases mu
-00031b00: 7374 2062 6520 7472 6163 6b65 6420 7365  st be tracked se
-00031b10: 7061 7261 7465 6c79 2068 6572 6521 0a20  parately here!. 
-00031b20: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00031b30: 7265 765f 6c6f 632c 2070 7265 765f 7065  rev_loc, prev_pe
-00031b40: 656b 203d 206d 656d 6f5b 7065 656b 5f6b  ek = memo[peek_k
-00031b50: 6579 5d20 3d20 280a 2020 2020 2020 2020  ey] = (.        
-00031b60: 2020 2020 2020 2020 2020 2020 6c6f 6320              loc 
-00031b70: 2d20 312c 0a20 2020 2020 2020 2020 2020  - 1,.           
-00031b80: 2020 2020 2020 2020 2050 6172 7365 4578           ParseEx
-00031b90: 6365 7074 696f 6e28 0a20 2020 2020 2020  ception(.       
-00031ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031bb0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-00031bc0: 2246 6f72 7761 7264 2072 6563 7572 7369  "Forward recursi
-00031bd0: 6f6e 2077 6974 686f 7574 2062 6173 6520  on without base 
-00031be0: 6361 7365 222c 2073 656c 660a 2020 2020  case", self.    
-00031bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031c00: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-00031c10: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00031c20: 2020 2020 2069 6620 646f 4163 7469 6f6e       if doAction
-00031c30: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00031c40: 2020 2020 2020 206d 656d 6f5b 6163 745f         memo[act_
-00031c50: 6b65 795d 203d 206d 656d 6f5b 7065 656b  key] = memo[peek
-00031c60: 5f6b 6579 5d0a 2020 2020 2020 2020 2020  _key].          
-00031c70: 2020 2020 2020 7768 696c 6520 5472 7565        while True
-00031c80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00031c90: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00031ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031cb0: 2020 206e 6577 5f6c 6f63 2c20 6e65 775f     new_loc, new_
-00031cc0: 7065 656b 203d 2073 7570 6572 2829 2e70  peek = super().p
-00031cd0: 6172 7365 496d 706c 2869 6e73 7472 696e  arseImpl(instrin
-00031ce0: 672c 206c 6f63 2c20 4661 6c73 6529 0a20  g, loc, False). 
-00031cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d00: 2020 2065 7863 6570 7420 5061 7273 6545     except ParseE
-00031d10: 7863 6570 7469 6f6e 3a0a 2020 2020 2020  xception:.      
-00031d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d30: 2020 2320 7765 2066 6169 6c65 6420 6265    # we failed be
-00031d40: 666f 7265 2067 6574 7469 6e67 2061 6e79  fore getting any
-00031d50: 206d 6174 6368 20e2 8093 2064 6f20 6e6f   match ... do no
-00031d60: 7420 6869 6465 2074 6865 2065 7272 6f72  t hide the error
-00031d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031d80: 2020 2020 2020 2020 2069 6620 6973 696e           if isin
-00031d90: 7374 616e 6365 2870 7265 765f 7065 656b  stance(prev_peek
-00031da0: 2c20 4578 6365 7074 696f 6e29 3a0a 2020  , Exception):.  
-00031db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031dc0: 2020 2020 2020 2020 2020 7261 6973 650a            raise.
-00031dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031de0: 2020 2020 2020 2020 6e65 775f 6c6f 632c          new_loc,
-00031df0: 206e 6577 5f70 6565 6b20 3d20 7072 6576   new_peek = prev
-00031e00: 5f6c 6f63 2c20 7072 6576 5f70 6565 6b0a  _loc, prev_peek.
-00031e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031e20: 2020 2020 2320 7468 6520 6d61 7463 6820      # the match 
-00031e30: 6469 6420 6e6f 7420 6765 7420 6265 7474  did not get bett
-00031e40: 6572 3a20 7765 2061 7265 2064 6f6e 650a  er: we are done.
-00031e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031e60: 2020 2020 6966 206e 6577 5f6c 6f63 203c      if new_loc <
-00031e70: 3d20 7072 6576 5f6c 6f63 3a0a 2020 2020  = prev_loc:.    
-00031e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031e90: 2020 2020 6966 2064 6f41 6374 696f 6e73      if doActions
-00031ea0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00031eb0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00031ec0: 7265 706c 6163 6520 7468 6520 6d61 7463  replace the matc
-00031ed0: 6820 666f 7220 646f 4163 7469 6f6e 733d  h for doActions=
-00031ee0: 4661 6c73 6520 6173 2077 656c 6c2c 0a20  False as well,. 
-00031ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031f00: 2020 2020 2020 2020 2020 2023 2069 6e20             # in 
-00031f10: 6361 7365 2074 6865 2061 6374 696f 6e20  case the action 
-00031f20: 6469 6420 6261 636b 7472 6163 6b0a 2020  did backtrack.  
-00031f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031f40: 2020 2020 2020 2020 2020 7072 6576 5f6c            prev_l
-00031f50: 6f63 2c20 7072 6576 5f72 6573 756c 7420  oc, prev_result 
-00031f60: 3d20 6d65 6d6f 5b70 6565 6b5f 6b65 795d  = memo[peek_key]
-00031f70: 203d 206d 656d 6f5b 6163 745f 6b65 795d   = memo[act_key]
-00031f80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031f90: 2020 2020 2020 2020 2020 2020 2064 656c               del
-00031fa0: 206d 656d 6f5b 7065 656b 5f6b 6579 5d2c   memo[peek_key],
-00031fb0: 206d 656d 6f5b 6163 745f 6b65 795d 0a20   memo[act_key]. 
-00031fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031fd0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00031fe0: 6e20 7072 6576 5f6c 6f63 2c20 7072 6576  n prev_loc, prev
-00031ff0: 5f72 6573 756c 742e 636f 7079 2829 0a20  _result.copy(). 
-00032000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032010: 2020 2020 2020 2064 656c 206d 656d 6f5b         del memo[
-00032020: 7065 656b 5f6b 6579 5d0a 2020 2020 2020  peek_key].      
-00032030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032040: 2020 7265 7475 726e 2070 7265 765f 6c6f    return prev_lo
-00032050: 632c 2070 7265 765f 7065 656b 2e63 6f70  c, prev_peek.cop
-00032060: 7928 290a 2020 2020 2020 2020 2020 2020  y().            
-00032070: 2020 2020 2020 2020 2320 7468 6520 6d61          # the ma
-00032080: 7463 6820 6469 6420 6765 7420 6265 7474  tch did get bett
-00032090: 6572 3a20 7365 6520 6966 2077 6520 6361  er: see if we ca
-000320a0: 6e20 696d 7072 6f76 6520 6675 7274 6865  n improve furthe
-000320b0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
-000320c0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-000320d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000320e0: 2020 2020 6966 2064 6f41 6374 696f 6e73      if doActions
-000320f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00032100: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00032110: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-00032120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032130: 2020 206d 656d 6f5b 6163 745f 6b65 795d     memo[act_key]
-00032140: 203d 2073 7570 6572 2829 2e70 6172 7365   = super().parse
-00032150: 496d 706c 2869 6e73 7472 696e 672c 206c  Impl(instring, l
-00032160: 6f63 2c20 5472 7565 290a 2020 2020 2020  oc, True).      
-00032170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032180: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
-00032190: 7365 4578 6365 7074 696f 6e20 6173 2065  seException as e
-000321a0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000321b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000321c0: 2020 6d65 6d6f 5b70 6565 6b5f 6b65 795d    memo[peek_key]
-000321d0: 203d 206d 656d 6f5b 6163 745f 6b65 795d   = memo[act_key]
-000321e0: 203d 2028 6e65 775f 6c6f 632c 2065 290a   = (new_loc, e).
-000321f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032210: 7261 6973 650a 2020 2020 2020 2020 2020  raise.          
-00032220: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00032230: 6576 5f6c 6f63 2c20 7072 6576 5f70 6565  ev_loc, prev_pee
-00032240: 6b20 3d20 6d65 6d6f 5b70 6565 6b5f 6b65  k = memo[peek_ke
-00032250: 795d 203d 206e 6577 5f6c 6f63 2c20 6e65  y] = new_loc, ne
-00032260: 775f 7065 656b 0a0a 2020 2020 6465 6620  w_peek..    def 
-00032270: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
-00032280: 2873 656c 662c 2072 6563 7572 7369 7665  (self, recursive
-00032290: 3a20 626f 6f6c 203d 2054 7275 6529 202d  : bool = True) -
-000322a0: 3e20 5061 7273 6572 456c 656d 656e 743a  > ParserElement:
-000322b0: 0a20 2020 2020 2020 2073 656c 662e 736b  .        self.sk
-000322c0: 6970 5768 6974 6573 7061 6365 203d 2046  ipWhitespace = F
-000322d0: 616c 7365 0a20 2020 2020 2020 2072 6574  alse.        ret
-000322e0: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
-000322f0: 6620 6967 6e6f 7265 5f77 6869 7465 7370  f ignore_whitesp
-00032300: 6163 6528 7365 6c66 2c20 7265 6375 7273  ace(self, recurs
-00032310: 6976 653a 2062 6f6f 6c20 3d20 5472 7565  ive: bool = True
-00032320: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
-00032330: 6e74 3a0a 2020 2020 2020 2020 7365 6c66  nt:.        self
-00032340: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
-00032350: 3d20 5472 7565 0a20 2020 2020 2020 2072  = True.        r
-00032360: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-00032370: 6465 6620 7374 7265 616d 6c69 6e65 2873  def streamline(s
-00032380: 656c 6629 202d 3e20 5061 7273 6572 456c  elf) -> ParserEl
-00032390: 656d 656e 743a 0a20 2020 2020 2020 2069  ement:.        i
-000323a0: 6620 6e6f 7420 7365 6c66 2e73 7472 6561  f not self.strea
-000323b0: 6d6c 696e 6564 3a0a 2020 2020 2020 2020  mlined:.        
-000323c0: 2020 2020 7365 6c66 2e73 7472 6561 6d6c      self.streaml
-000323d0: 696e 6564 203d 2054 7275 650a 2020 2020  ined = True.    
-000323e0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-000323f0: 6578 7072 2069 7320 6e6f 7420 4e6f 6e65  expr is not None
-00032400: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00032410: 2020 7365 6c66 2e65 7870 722e 7374 7265    self.expr.stre
-00032420: 616d 6c69 6e65 2829 0a20 2020 2020 2020  amline().       
-00032430: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00032440: 2020 6465 6620 7661 6c69 6461 7465 2873    def validate(s
-00032450: 656c 662c 2076 616c 6964 6174 6554 7261  elf, validateTra
-00032460: 6365 3d4e 6f6e 6529 202d 3e20 4e6f 6e65  ce=None) -> None
-00032470: 3a0a 2020 2020 2020 2020 7761 726e 696e  :.        warnin
-00032480: 6773 2e77 6172 6e28 0a20 2020 2020 2020  gs.warn(.       
-00032490: 2020 2020 2022 5061 7273 6572 456c 656d       "ParserElem
-000324a0: 656e 742e 7661 6c69 6461 7465 2829 2069  ent.validate() i
-000324b0: 7320 6465 7072 6563 6174 6564 2c20 616e  s deprecated, an
-000324c0: 6420 7368 6f75 6c64 206e 6f74 2062 6520  d should not be 
-000324d0: 7573 6564 2074 6f20 6368 6563 6b20 666f  used to check fo
-000324e0: 7220 6c65 6674 2072 6563 7572 7369 6f6e  r left recursion
-000324f0: 222c 0a20 2020 2020 2020 2020 2020 2044  ",.            D
-00032500: 6570 7265 6361 7469 6f6e 5761 726e 696e  eprecationWarnin
-00032510: 672c 0a20 2020 2020 2020 2020 2020 2073  g,.            s
-00032520: 7461 636b 6c65 7665 6c3d 322c 0a20 2020  tacklevel=2,.   
-00032530: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
-00032540: 6620 7661 6c69 6461 7465 5472 6163 6520  f validateTrace 
-00032550: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00032560: 2020 2020 2076 616c 6964 6174 6554 7261       validateTra
-00032570: 6365 203d 205b 5d0a 0a20 2020 2020 2020  ce = []..       
-00032580: 2069 6620 7365 6c66 206e 6f74 2069 6e20   if self not in 
-00032590: 7661 6c69 6461 7465 5472 6163 653a 0a20  validateTrace:. 
-000325a0: 2020 2020 2020 2020 2020 2074 6d70 203d             tmp =
-000325b0: 2076 616c 6964 6174 6554 7261 6365 5b3a   validateTrace[:
-000325c0: 5d20 2b20 5b73 656c 665d 0a20 2020 2020  ] + [self].     
-000325d0: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
-000325e0: 7870 7220 6973 206e 6f74 204e 6f6e 653a  xpr is not None:
-000325f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00032600: 2073 656c 662e 6578 7072 2e76 616c 6964   self.expr.valid
-00032610: 6174 6528 746d 7029 0a20 2020 2020 2020  ate(tmp).       
-00032620: 2073 656c 662e 5f63 6865 636b 5265 6375   self._checkRecu
-00032630: 7273 696f 6e28 5b5d 290a 0a20 2020 2064  rsion([])..    d
-00032640: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
-00032650: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
-00032660: 2073 7472 3a0a 2020 2020 2020 2020 2320   str:.        # 
-00032670: 4176 6f69 6420 696e 6669 6e69 7465 2072  Avoid infinite r
-00032680: 6563 7572 7369 6f6e 2062 7920 7365 7474  ecursion by sett
-00032690: 696e 6720 6120 7465 6d70 6f72 6172 7920  ing a temporary 
-000326a0: 5f64 6566 6175 6c74 4e61 6d65 0a20 2020  _defaultName.   
-000326b0: 2020 2020 2073 656c 662e 5f64 6566 6175       self._defau
-000326c0: 6c74 4e61 6d65 203d 2022 3a20 2e2e 2e22  ltName = ": ..."
-000326d0: 0a0a 2020 2020 2020 2020 2320 5573 6520  ..        # Use 
-000326e0: 7468 6520 7374 7269 6e67 2072 6570 7265  the string repre
-000326f0: 7365 6e74 6174 696f 6e20 6f66 206d 6169  sentation of mai
-00032700: 6e20 6578 7072 6573 7369 6f6e 2e0a 2020  n expression..  
-00032710: 2020 2020 2020 7265 7453 7472 696e 6720        retString 
-00032720: 3d20 222e 2e2e 220a 2020 2020 2020 2020  = "...".        
-00032730: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00032740: 2069 6620 7365 6c66 2e65 7870 7220 6973   if self.expr is
-00032750: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00032760: 2020 2020 2020 2020 2020 2072 6574 5374             retSt
-00032770: 7269 6e67 203d 2073 7472 2873 656c 662e  ring = str(self.
-00032780: 6578 7072 295b 3a31 3030 305d 0a20 2020  expr)[:1000].   
-00032790: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-000327a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-000327b0: 6574 5374 7269 6e67 203d 2022 4e6f 6e65  etString = "None
-000327c0: 220a 2020 2020 2020 2020 6669 6e61 6c6c  ".        finall
-000327d0: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
-000327e0: 6574 7572 6e20 7365 6c66 2e5f 5f63 6c61  eturn self.__cla
-000327f0: 7373 5f5f 2e5f 5f6e 616d 655f 5f20 2b20  ss__.__name__ + 
-00032800: 223a 2022 202b 2072 6574 5374 7269 6e67  ": " + retString
-00032810: 0a0a 2020 2020 6465 6620 636f 7079 2873  ..    def copy(s
-00032820: 656c 6629 202d 3e20 5061 7273 6572 456c  elf) -> ParserEl
-00032830: 656d 656e 743a 0a20 2020 2020 2020 2069  ement:.        i
-00032840: 6620 7365 6c66 2e65 7870 7220 6973 206e  f self.expr is n
-00032850: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00032860: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
-00032870: 7228 292e 636f 7079 2829 0a20 2020 2020  r().copy().     
-00032880: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00032890: 2020 2020 2072 6574 203d 2046 6f72 7761       ret = Forwa
-000328a0: 7264 2829 0a20 2020 2020 2020 2020 2020  rd().           
-000328b0: 2072 6574 203c 3c3d 2073 656c 660a 2020   ret <<= self.  
-000328c0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000328d0: 2072 6574 0a0a 2020 2020 6465 6620 5f73   ret..    def _s
-000328e0: 6574 5265 7375 6c74 734e 616d 6528 7365  etResultsName(se
-000328f0: 6c66 2c20 6e61 6d65 2c20 6c69 7374 5f61  lf, name, list_a
-00032900: 6c6c 5f6d 6174 6368 6573 3d46 616c 7365  ll_matches=False
-00032910: 293a 0a20 2020 2020 2020 2069 6620 280a  ):.        if (.
-00032920: 2020 2020 2020 2020 2020 2020 5f5f 6469              __di
-00032930: 6167 5f5f 2e77 6172 6e5f 6e61 6d65 5f73  ag__.warn_name_s
-00032940: 6574 5f6f 6e5f 656d 7074 795f 466f 7277  et_on_empty_Forw
-00032950: 6172 640a 2020 2020 2020 2020 2020 2020  ard.            
-00032960: 616e 6420 4469 6167 6e6f 7374 6963 732e  and Diagnostics.
-00032970: 7761 726e 5f6e 616d 655f 7365 745f 6f6e  warn_name_set_on
-00032980: 5f65 6d70 7479 5f46 6f72 7761 7264 0a20  _empty_Forward. 
-00032990: 2020 2020 2020 2020 2020 206e 6f74 2069             not i
-000329a0: 6e20 7365 6c66 2e73 7570 7072 6573 735f  n self.suppress_
-000329b0: 7761 726e 696e 6773 5f0a 2020 2020 2020  warnings_.      
-000329c0: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
-000329d0: 2069 6620 7365 6c66 2e65 7870 7220 6973   if self.expr is
-000329e0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-000329f0: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
-00032a00: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
-00032a10: 2020 2020 2020 2020 2020 227b 7d3a 2073            "{}: s
-00032a20: 6574 7469 6e67 2072 6573 756c 7473 206e  etting results n
-00032a30: 616d 6520 7b21 727d 206f 6e20 7b7d 2065  ame {!r} on {} e
-00032a40: 7870 7265 7373 696f 6e20 220a 2020 2020  xpression ".    
+0002d250: 2020 2020 7472 795f 6e6f 745f 656e 6465      try_not_ende
+0002d260: 7228 696e 7374 7269 6e67 2c20 6c6f 6329  r(instring, loc)
+0002d270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d280: 2069 6620 6861 7349 676e 6f72 6545 7870   if hasIgnoreExp
+0002d290: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
+0002d2a0: 2020 2020 2020 2020 7072 656c 6f63 203d          preloc =
+0002d2b0: 2073 656c 665f 736b 6970 5f69 676e 6f72   self_skip_ignor
+0002d2c0: 6162 6c65 7328 696e 7374 7269 6e67 2c20  ables(instring, 
+0002d2d0: 6c6f 6329 0a20 2020 2020 2020 2020 2020  loc).           
+0002d2e0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0002d2f0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0002d300: 7265 6c6f 6320 3d20 6c6f 630a 2020 2020  reloc = loc.    
+0002d310: 2020 2020 2020 2020 2020 2020 6c6f 632c              loc,
+0002d320: 2074 6d70 746f 6b65 6e73 203d 2073 656c   tmptokens = sel
+0002d330: 665f 6578 7072 5f70 6172 7365 2869 6e73  f_expr_parse(ins
+0002d340: 7472 696e 672c 2070 7265 6c6f 632c 2064  tring, preloc, d
+0002d350: 6f41 6374 696f 6e73 290a 2020 2020 2020  oActions).      
+0002d360: 2020 2020 2020 2020 2020 746f 6b65 6e73            tokens
+0002d370: 202b 3d20 746d 7074 6f6b 656e 730a 2020   += tmptokens.  
+0002d380: 2020 2020 2020 6578 6365 7074 2028 5061        except (Pa
+0002d390: 7273 6545 7863 6570 7469 6f6e 2c20 496e  rseException, In
+0002d3a0: 6465 7845 7272 6f72 293a 0a20 2020 2020  dexError):.     
+0002d3b0: 2020 2020 2020 2070 6173 730a 0a20 2020         pass..   
+0002d3c0: 2020 2020 2072 6574 7572 6e20 6c6f 632c       return loc,
+0002d3d0: 2074 6f6b 656e 730a 0a20 2020 2064 6566   tokens..    def
+0002d3e0: 205f 7365 7452 6573 756c 7473 4e61 6d65   _setResultsName
+0002d3f0: 2873 656c 662c 206e 616d 652c 206c 6973  (self, name, lis
+0002d400: 7441 6c6c 4d61 7463 6865 733d 4661 6c73  tAllMatches=Fals
+0002d410: 6529 3a0a 2020 2020 2020 2020 6966 2028  e):.        if (
+0002d420: 0a20 2020 2020 2020 2020 2020 205f 5f64  .            __d
+0002d430: 6961 675f 5f2e 7761 726e 5f75 6e67 726f  iag__.warn_ungro
+0002d440: 7570 6564 5f6e 616d 6564 5f74 6f6b 656e  uped_named_token
+0002d450: 735f 696e 5f63 6f6c 6c65 6374 696f 6e0a  s_in_collection.
+0002d460: 2020 2020 2020 2020 2020 2020 616e 6420              and 
+0002d470: 4469 6167 6e6f 7374 6963 732e 7761 726e  Diagnostics.warn
+0002d480: 5f75 6e67 726f 7570 6564 5f6e 616d 6564  _ungrouped_named
+0002d490: 5f74 6f6b 656e 735f 696e 5f63 6f6c 6c65  _tokens_in_colle
+0002d4a0: 6374 696f 6e0a 2020 2020 2020 2020 2020  ction.          
+0002d4b0: 2020 6e6f 7420 696e 2073 656c 662e 7375    not in self.su
+0002d4c0: 7070 7265 7373 5f77 6172 6e69 6e67 735f  ppress_warnings_
+0002d4d0: 0a20 2020 2020 2020 2029 3a0a 2020 2020  .        ):.    
+0002d4e0: 2020 2020 2020 2020 666f 7220 6520 696e          for e in
+0002d4f0: 205b 7365 6c66 2e65 7870 725d 202b 2073   [self.expr] + s
+0002d500: 656c 662e 6578 7072 2e72 6563 7572 7365  elf.expr.recurse
+0002d510: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+0002d520: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
+0002d530: 2020 2020 2020 2020 2020 2020 2069 7369               isi
+0002d540: 6e73 7461 6e63 6528 652c 2050 6172 7365  nstance(e, Parse
+0002d550: 7245 6c65 6d65 6e74 290a 2020 2020 2020  rElement).      
+0002d560: 2020 2020 2020 2020 2020 2020 2020 616e                an
+0002d570: 6420 652e 7265 7375 6c74 734e 616d 650a  d e.resultsName.
+0002d580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d590: 2020 2020 616e 6420 4469 6167 6e6f 7374      and Diagnost
+0002d5a0: 6963 732e 7761 726e 5f75 6e67 726f 7570  ics.warn_ungroup
+0002d5b0: 6564 5f6e 616d 6564 5f74 6f6b 656e 735f  ed_named_tokens_
+0002d5c0: 696e 5f63 6f6c 6c65 6374 696f 6e0a 2020  in_collection.  
+0002d5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d5e0: 2020 6e6f 7420 696e 2065 2e73 7570 7072    not in e.suppr
+0002d5f0: 6573 735f 7761 726e 696e 6773 5f0a 2020  ess_warnings_.  
+0002d600: 2020 2020 2020 2020 2020 2020 2020 293a                ):
+0002d610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d620: 2020 2020 2077 6172 6e69 6e67 732e 7761       warnings.wa
+0002d630: 726e 280a 2020 2020 2020 2020 2020 2020  rn(.            
+0002d640: 2020 2020 2020 2020 2020 2020 227b 7d3a              "{}:
+0002d650: 2073 6574 7469 6e67 2072 6573 756c 7473   setting results
+0002d660: 206e 616d 6520 7b21 727d 206f 6e20 7b7d   name {!r} on {}
+0002d670: 2065 7870 7265 7373 696f 6e20 220a 2020   expression ".  
+0002d680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d690: 2020 2020 2020 2263 6f6c 6c69 6465 7320        "collides 
+0002d6a0: 7769 7468 207b 2172 7d20 6f6e 2063 6f6e  with {!r} on con
+0002d6b0: 7461 696e 6564 2065 7870 7265 7373 696f  tained expressio
+0002d6c0: 6e22 2e66 6f72 6d61 7428 0a20 2020 2020  n".format(.     
+0002d6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d6e0: 2020 2020 2020 2022 7761 726e 5f75 6e67         "warn_ung
+0002d6f0: 726f 7570 6564 5f6e 616d 6564 5f74 6f6b  rouped_named_tok
+0002d700: 656e 735f 696e 5f63 6f6c 6c65 6374 696f  ens_in_collectio
+0002d710: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
+0002d720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d730: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
+0002d740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d750: 2020 7479 7065 2873 656c 6629 2e5f 5f6e    type(self).__n
+0002d760: 616d 655f 5f2c 0a20 2020 2020 2020 2020  ame__,.         
+0002d770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d780: 2020 2065 2e72 6573 756c 7473 4e61 6d65     e.resultsName
+0002d790: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002d7a0: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+0002d7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d7c0: 2020 2020 2073 7461 636b 6c65 7665 6c3d       stacklevel=
+0002d7d0: 332c 0a20 2020 2020 2020 2020 2020 2020  3,.             
+0002d7e0: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+0002d7f0: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
+0002d800: 2e5f 7365 7452 6573 756c 7473 4e61 6d65  ._setResultsName
+0002d810: 286e 616d 652c 206c 6973 7441 6c6c 4d61  (name, listAllMa
+0002d820: 7463 6865 7329 0a0a 0a63 6c61 7373 204f  tches)...class O
+0002d830: 6e65 4f72 4d6f 7265 285f 4d75 6c74 6970  neOrMore(_Multip
+0002d840: 6c65 4d61 7463 6829 3a0a 2020 2020 2222  leMatch):.    ""
+0002d850: 220a 2020 2020 5265 7065 7469 7469 6f6e  ".    Repetition
+0002d860: 206f 6620 6f6e 6520 6f72 206d 6f72 6520   of one or more 
+0002d870: 6f66 2074 6865 2067 6976 656e 2065 7870  of the given exp
+0002d880: 7265 7373 696f 6e2e 0a0a 2020 2020 5061  ression...    Pa
+0002d890: 7261 6d65 7465 7273 3a0a 0a20 2020 202d  rameters:..    -
+0002d8a0: 2060 6065 7870 7260 6020 2d20 6578 7072   ``expr`` - expr
+0002d8b0: 6573 7369 6f6e 2074 6861 7420 6d75 7374  ession that must
+0002d8c0: 206d 6174 6368 206f 6e65 206f 7220 6d6f   match one or mo
+0002d8d0: 7265 2074 696d 6573 0a20 2020 202d 2060  re times.    - `
+0002d8e0: 6073 746f 705f 6f6e 6060 202d 2028 6465  `stop_on`` - (de
+0002d8f0: 6661 756c 743d 2060 604e 6f6e 6560 6029  fault= ``None``)
+0002d900: 202d 2065 7870 7265 7373 696f 6e20 666f   - expression fo
+0002d910: 7220 6120 7465 726d 696e 6174 696e 6720  r a terminating 
+0002d920: 7365 6e74 696e 656c 0a20 2020 2020 2028  sentinel.      (
+0002d930: 6f6e 6c79 2072 6571 7569 7265 6420 6966  only required if
+0002d940: 2074 6865 2073 656e 7469 6e65 6c20 776f   the sentinel wo
+0002d950: 756c 6420 6f72 6469 6e61 7269 6c79 206d  uld ordinarily m
+0002d960: 6174 6368 2074 6865 2072 6570 6574 6974  atch the repetit
+0002d970: 696f 6e0a 2020 2020 2020 6578 7072 6573  ion.      expres
+0002d980: 7369 6f6e 290a 0a20 2020 2045 7861 6d70  sion)..    Examp
+0002d990: 6c65 3a3a 0a0a 2020 2020 2020 2020 6461  le::..        da
+0002d9a0: 7461 5f77 6f72 6420 3d20 576f 7264 2861  ta_word = Word(a
+0002d9b0: 6c70 6861 7329 0a20 2020 2020 2020 206c  lphas).        l
+0002d9c0: 6162 656c 203d 2064 6174 615f 776f 7264  abel = data_word
+0002d9d0: 202b 2046 6f6c 6c6f 7765 6442 7928 273a   + FollowedBy(':
+0002d9e0: 2729 0a20 2020 2020 2020 2061 7474 725f  ').        attr_
+0002d9f0: 6578 7072 203d 2047 726f 7570 286c 6162  expr = Group(lab
+0002da00: 656c 202b 2053 7570 7072 6573 7328 273a  el + Suppress(':
+0002da10: 2729 202b 204f 6e65 4f72 4d6f 7265 2864  ') + OneOrMore(d
+0002da20: 6174 615f 776f 7264 292e 7365 745f 7061  ata_word).set_pa
+0002da30: 7273 655f 6163 7469 6f6e 2827 2027 2e6a  rse_action(' '.j
+0002da40: 6f69 6e29 290a 0a20 2020 2020 2020 2074  oin))..        t
+0002da50: 6578 7420 3d20 2273 6861 7065 3a20 5351  ext = "shape: SQ
+0002da60: 5541 5245 2070 6f73 6e3a 2075 7070 6572  UARE posn: upper
+0002da70: 206c 6566 7420 636f 6c6f 723a 2042 4c41   left color: BLA
+0002da80: 434b 220a 2020 2020 2020 2020 6174 7472  CK".        attr
+0002da90: 5f65 7870 725b 312c 202e 2e2e 5d2e 7061  _expr[1, ...].pa
+0002daa0: 7273 655f 7374 7269 6e67 2874 6578 7429  rse_string(text)
+0002dab0: 2e70 7072 696e 7428 2920 2023 2046 6169  .pprint()  # Fai
+0002dac0: 6c21 2072 6561 6420 2763 6f6c 6f72 2720  l! read 'color' 
+0002dad0: 6173 2064 6174 6120 696e 7374 6561 6420  as data instead 
+0002dae0: 6f66 206e 6578 7420 6c61 6265 6c20 2d3e  of next label ->
+0002daf0: 205b 5b27 7368 6170 6527 2c20 2753 5155   [['shape', 'SQU
+0002db00: 4152 4520 636f 6c6f 7227 5d5d 0a0a 2020  ARE color']]..  
+0002db10: 2020 2020 2020 2320 7573 6520 7374 6f70        # use stop
+0002db20: 5f6f 6e20 6174 7472 6962 7574 6520 666f  _on attribute fo
+0002db30: 7220 4f6e 654f 724d 6f72 6520 746f 2061  r OneOrMore to a
+0002db40: 766f 6964 2072 6561 6469 6e67 206c 6162  void reading lab
+0002db50: 656c 2073 7472 696e 6720 6173 2070 6172  el string as par
+0002db60: 7420 6f66 2074 6865 2064 6174 610a 2020  t of the data.  
+0002db70: 2020 2020 2020 6174 7472 5f65 7870 7220        attr_expr 
+0002db80: 3d20 4772 6f75 7028 6c61 6265 6c20 2b20  = Group(label + 
+0002db90: 5375 7070 7265 7373 2827 3a27 2920 2b20  Suppress(':') + 
+0002dba0: 4f6e 654f 724d 6f72 6528 6461 7461 5f77  OneOrMore(data_w
+0002dbb0: 6f72 642c 2073 746f 705f 6f6e 3d6c 6162  ord, stop_on=lab
+0002dbc0: 656c 292e 7365 745f 7061 7273 655f 6163  el).set_parse_ac
+0002dbd0: 7469 6f6e 2827 2027 2e6a 6f69 6e29 290a  tion(' '.join)).
+0002dbe0: 2020 2020 2020 2020 4f6e 654f 724d 6f72          OneOrMor
+0002dbf0: 6528 6174 7472 5f65 7870 7229 2e70 6172  e(attr_expr).par
+0002dc00: 7365 5f73 7472 696e 6728 7465 7874 292e  se_string(text).
+0002dc10: 7070 7269 6e74 2829 2023 2042 6574 7465  pprint() # Bette
+0002dc20: 7220 2d3e 205b 5b27 7368 6170 6527 2c20  r -> [['shape', 
+0002dc30: 2753 5155 4152 4527 5d2c 205b 2770 6f73  'SQUARE'], ['pos
+0002dc40: 6e27 2c20 2775 7070 6572 206c 6566 7427  n', 'upper left'
+0002dc50: 5d2c 205b 2763 6f6c 6f72 272c 2027 424c  ], ['color', 'BL
+0002dc60: 4143 4b27 5d5d 0a0a 2020 2020 2020 2020  ACK']]..        
+0002dc70: 2320 636f 756c 6420 616c 736f 2062 6520  # could also be 
+0002dc80: 7772 6974 7465 6e20 6173 0a20 2020 2020  written as.     
+0002dc90: 2020 2028 6174 7472 5f65 7870 7220 2a20     (attr_expr * 
+0002dca0: 2831 2c29 292e 7061 7273 655f 7374 7269  (1,)).parse_stri
+0002dcb0: 6e67 2874 6578 7429 2e70 7072 696e 7428  ng(text).pprint(
+0002dcc0: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
+0002dcd0: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+0002dce0: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+0002dcf0: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
+0002dd00: 7475 726e 2022 7b22 202b 2073 7472 2873  turn "{" + str(s
+0002dd10: 656c 662e 6578 7072 2920 2b20 227d 2e2e  elf.expr) + "}..
+0002dd20: 2e22 0a0a 0a63 6c61 7373 205a 6572 6f4f  ."...class ZeroO
+0002dd30: 724d 6f72 6528 5f4d 756c 7469 706c 654d  rMore(_MultipleM
+0002dd40: 6174 6368 293a 0a20 2020 2022 2222 0a20  atch):.    """. 
+0002dd50: 2020 204f 7074 696f 6e61 6c20 7265 7065     Optional repe
+0002dd60: 7469 7469 6f6e 206f 6620 7a65 726f 206f  tition of zero o
+0002dd70: 7220 6d6f 7265 206f 6620 7468 6520 6769  r more of the gi
+0002dd80: 7665 6e20 6578 7072 6573 7369 6f6e 2e0a  ven expression..
+0002dd90: 0a20 2020 2050 6172 616d 6574 6572 733a  .    Parameters:
+0002dda0: 0a0a 2020 2020 2d20 6060 6578 7072 6060  ..    - ``expr``
+0002ddb0: 202d 2065 7870 7265 7373 696f 6e20 7468   - expression th
+0002ddc0: 6174 206d 7573 7420 6d61 7463 6820 7a65  at must match ze
+0002ddd0: 726f 206f 7220 6d6f 7265 2074 696d 6573  ro or more times
+0002dde0: 0a20 2020 202d 2060 6073 746f 705f 6f6e  .    - ``stop_on
+0002ddf0: 6060 202d 2065 7870 7265 7373 696f 6e20  `` - expression 
+0002de00: 666f 7220 6120 7465 726d 696e 6174 696e  for a terminatin
+0002de10: 6720 7365 6e74 696e 656c 0a20 2020 2020  g sentinel.     
+0002de20: 2028 6f6e 6c79 2072 6571 7569 7265 6420   (only required 
+0002de30: 6966 2074 6865 2073 656e 7469 6e65 6c20  if the sentinel 
+0002de40: 776f 756c 6420 6f72 6469 6e61 7269 6c79  would ordinarily
+0002de50: 206d 6174 6368 2074 6865 2072 6570 6574   match the repet
+0002de60: 6974 696f 6e0a 2020 2020 2020 6578 7072  ition.      expr
+0002de70: 6573 7369 6f6e 2920 2d20 2864 6566 6175  ession) - (defau
+0002de80: 6c74 3d20 6060 4e6f 6e65 6060 290a 0a20  lt= ``None``).. 
+0002de90: 2020 2045 7861 6d70 6c65 3a20 7369 6d69     Example: simi
+0002dea0: 6c61 7220 746f 203a 636c 6173 733a 604f  lar to :class:`O
+0002deb0: 6e65 4f72 4d6f 7265 600a 2020 2020 2222  neOrMore`.    ""
+0002dec0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+0002ded0: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
+0002dee0: 662c 0a20 2020 2020 2020 2065 7870 723a  f,.        expr:
+0002def0: 2055 6e69 6f6e 5b73 7472 2c20 5061 7273   Union[str, Pars
+0002df00: 6572 456c 656d 656e 745d 2c0a 2020 2020  erElement],.    
+0002df10: 2020 2020 7374 6f70 5f6f 6e3a 2074 7970      stop_on: typ
+0002df20: 696e 672e 4f70 7469 6f6e 616c 5b55 6e69  ing.Optional[Uni
+0002df30: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
+0002df40: 2c20 7374 725d 5d20 3d20 4e6f 6e65 2c0a  , str]] = None,.
+0002df50: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
+0002df60: 2020 2073 746f 704f 6e3a 2074 7970 696e     stopOn: typin
+0002df70: 672e 4f70 7469 6f6e 616c 5b55 6e69 6f6e  g.Optional[Union
+0002df80: 5b50 6172 7365 7245 6c65 6d65 6e74 2c20  [ParserElement, 
+0002df90: 7374 725d 5d20 3d20 4e6f 6e65 2c0a 2020  str]] = None,.  
+0002dfa0: 2020 293a 0a20 2020 2020 2020 2073 7570    ):.        sup
+0002dfb0: 6572 2829 2e5f 5f69 6e69 745f 5f28 6578  er().__init__(ex
+0002dfc0: 7072 2c20 7374 6f70 4f6e 3d73 746f 704f  pr, stopOn=stopO
+0002dfd0: 6e20 6f72 2073 746f 705f 6f6e 290a 2020  n or stop_on).  
+0002dfe0: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
+0002dff0: 7475 726e 456d 7074 7920 3d20 5472 7565  turnEmpty = True
+0002e000: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+0002e010: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
+0002e020: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+0002e030: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
+0002e040: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+0002e050: 2020 2072 6574 7572 6e20 7375 7065 7228     return super(
+0002e060: 292e 7061 7273 6549 6d70 6c28 696e 7374  ).parseImpl(inst
+0002e070: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+0002e080: 696f 6e73 290a 2020 2020 2020 2020 6578  ions).        ex
+0002e090: 6365 7074 2028 5061 7273 6545 7863 6570  cept (ParseExcep
+0002e0a0: 7469 6f6e 2c20 496e 6465 7845 7272 6f72  tion, IndexError
+0002e0b0: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+0002e0c0: 6574 7572 6e20 6c6f 632c 2050 6172 7365  eturn loc, Parse
+0002e0d0: 5265 7375 6c74 7328 5b5d 2c20 6e61 6d65  Results([], name
+0002e0e0: 3d73 656c 662e 7265 7375 6c74 734e 616d  =self.resultsNam
+0002e0f0: 6529 0a0a 2020 2020 6465 6620 5f67 656e  e)..    def _gen
+0002e100: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
+0002e110: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
+0002e120: 2020 2020 2020 2072 6574 7572 6e20 225b         return "[
+0002e130: 2220 2b20 7374 7228 7365 6c66 2e65 7870  " + str(self.exp
+0002e140: 7229 202b 2022 5d2e 2e2e 220a 0a0a 636c  r) + "]..."...cl
+0002e150: 6173 7320 4465 6c69 6d69 7465 644c 6973  ass DelimitedLis
+0002e160: 7428 5061 7273 6545 6c65 6d65 6e74 456e  t(ParseElementEn
+0002e170: 6861 6e63 6529 3a0a 2020 2020 6465 6620  hance):.    def 
+0002e180: 5f5f 696e 6974 5f5f 280a 2020 2020 2020  __init__(.      
+0002e190: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+0002e1a0: 6578 7072 3a20 556e 696f 6e5b 7374 722c  expr: Union[str,
+0002e1b0: 2050 6172 7365 7245 6c65 6d65 6e74 5d2c   ParserElement],
+0002e1c0: 0a20 2020 2020 2020 2064 656c 696d 3a20  .        delim: 
+0002e1d0: 556e 696f 6e5b 7374 722c 2050 6172 7365  Union[str, Parse
+0002e1e0: 7245 6c65 6d65 6e74 5d20 3d20 222c 222c  rElement] = ",",
+0002e1f0: 0a20 2020 2020 2020 2063 6f6d 6269 6e65  .        combine
+0002e200: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
+0002e210: 2020 2020 2020 2020 6d69 6e3a 2074 7970          min: typ
+0002e220: 696e 672e 4f70 7469 6f6e 616c 5b69 6e74  ing.Optional[int
+0002e230: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+0002e240: 2020 6d61 783a 2074 7970 696e 672e 4f70    max: typing.Op
+0002e250: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
+0002e260: 6e65 2c0a 2020 2020 2020 2020 2a2c 0a20  ne,.        *,. 
+0002e270: 2020 2020 2020 2061 6c6c 6f77 5f74 7261         allow_tra
+0002e280: 696c 696e 675f 6465 6c69 6d3a 2062 6f6f  iling_delim: boo
+0002e290: 6c20 3d20 4661 6c73 652c 0a20 2020 2029  l = False,.    )
+0002e2a0: 3a0a 2020 2020 2020 2020 2222 2248 656c  :.        """Hel
+0002e2b0: 7065 7220 746f 2064 6566 696e 6520 6120  per to define a 
+0002e2c0: 6465 6c69 6d69 7465 6420 6c69 7374 206f  delimited list o
+0002e2d0: 6620 6578 7072 6573 7369 6f6e 7320 2d20  f expressions - 
+0002e2e0: 7468 6520 6465 6c69 6d69 7465 720a 2020  the delimiter.  
+0002e2f0: 2020 2020 2020 6465 6661 756c 7473 2074        defaults t
+0002e300: 6f20 272c 272e 2042 7920 6465 6661 756c  o ','. By defaul
+0002e310: 742c 2074 6865 206c 6973 7420 656c 656d  t, the list elem
+0002e320: 656e 7473 2061 6e64 2064 656c 696d 6974  ents and delimit
+0002e330: 6572 7320 6361 6e0a 2020 2020 2020 2020  ers can.        
+0002e340: 6861 7665 2069 6e74 6572 7665 6e69 6e67  have intervening
+0002e350: 2077 6869 7465 7370 6163 652c 2061 6e64   whitespace, and
+0002e360: 2063 6f6d 6d65 6e74 732c 2062 7574 2074   comments, but t
+0002e370: 6869 7320 6361 6e20 6265 0a20 2020 2020  his can be.     
+0002e380: 2020 206f 7665 7272 6964 6465 6e20 6279     overridden by
+0002e390: 2070 6173 7369 6e67 2060 6063 6f6d 6269   passing ``combi
+0002e3a0: 6e65 3d54 7275 6560 6020 696e 2074 6865  ne=True`` in the
+0002e3b0: 2063 6f6e 7374 7275 6374 6f72 2e20 4966   constructor. If
+0002e3c0: 0a20 2020 2020 2020 2060 6063 6f6d 6269  .        ``combi
+0002e3d0: 6e65 6060 2069 7320 7365 7420 746f 2060  ne`` is set to `
+0002e3e0: 6054 7275 6560 602c 2074 6865 206d 6174  `True``, the mat
+0002e3f0: 6368 696e 6720 746f 6b65 6e73 2061 7265  ching tokens are
+0002e400: 0a20 2020 2020 2020 2072 6574 7572 6e65  .        returne
+0002e410: 6420 6173 2061 2073 696e 676c 6520 746f  d as a single to
+0002e420: 6b65 6e20 7374 7269 6e67 2c20 7769 7468  ken string, with
+0002e430: 2074 6865 2064 656c 696d 6974 6572 7320   the delimiters 
+0002e440: 696e 636c 7564 6564 3b0a 2020 2020 2020  included;.      
+0002e450: 2020 6f74 6865 7277 6973 652c 2074 6865    otherwise, the
+0002e460: 206d 6174 6368 696e 6720 746f 6b65 6e73   matching tokens
+0002e470: 2061 7265 2072 6574 7572 6e65 6420 6173   are returned as
+0002e480: 2061 206c 6973 7420 6f66 2074 6f6b 656e   a list of token
+0002e490: 732c 0a20 2020 2020 2020 2077 6974 6820  s,.        with 
+0002e4a0: 7468 6520 6465 6c69 6d69 7465 7273 2073  the delimiters s
+0002e4b0: 7570 7072 6573 7365 642e 0a0a 2020 2020  uppressed...    
+0002e4c0: 2020 2020 4966 2060 6061 6c6c 6f77 5f74      If ``allow_t
+0002e4d0: 7261 696c 696e 675f 6465 6c69 6d60 6020  railing_delim`` 
+0002e4e0: 6973 2073 6574 2074 6f20 5472 7565 2c20  is set to True, 
+0002e4f0: 7468 656e 2074 6865 206c 6973 7420 6d61  then the list ma
+0002e500: 7920 656e 6420 7769 7468 0a20 2020 2020  y end with.     
+0002e510: 2020 2061 2064 656c 696d 6974 6572 2e0a     a delimiter..
+0002e520: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
+0002e530: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
+0002e540: 4465 6c69 6d69 7465 644c 6973 7428 576f  DelimitedList(Wo
+0002e550: 7264 2861 6c70 6861 7329 292e 7061 7273  rd(alphas)).pars
+0002e560: 655f 7374 7269 6e67 2822 6161 2c62 622c  e_string("aa,bb,
+0002e570: 6363 2229 2023 202d 3e20 5b27 6161 272c  cc") # -> ['aa',
+0002e580: 2027 6262 272c 2027 6363 275d 0a20 2020   'bb', 'cc'].   
+0002e590: 2020 2020 2020 2020 2044 656c 696d 6974           Delimit
+0002e5a0: 6564 4c69 7374 2857 6f72 6428 6865 786e  edList(Word(hexn
+0002e5b0: 756d 7329 2c20 6465 6c69 6d3d 273a 272c  ums), delim=':',
+0002e5c0: 2063 6f6d 6269 6e65 3d54 7275 6529 2e70   combine=True).p
+0002e5d0: 6172 7365 5f73 7472 696e 6728 2241 413a  arse_string("AA:
+0002e5e0: 4242 3a43 433a 4444 3a45 4522 2920 2320  BB:CC:DD:EE") # 
+0002e5f0: 2d3e 205b 2741 413a 4242 3a43 433a 4444  -> ['AA:BB:CC:DD
+0002e600: 3a45 4527 5d0a 2020 2020 2020 2020 2222  :EE'].        ""
+0002e610: 220a 2020 2020 2020 2020 6966 2069 7369  ".        if isi
+0002e620: 6e73 7461 6e63 6528 6578 7072 2c20 7374  nstance(expr, st
+0002e630: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
+0002e640: 2020 2020 2065 7870 7220 3d20 5061 7273       expr = Pars
+0002e650: 6572 456c 656d 656e 742e 5f6c 6974 6572  erElement._liter
+0002e660: 616c 5374 7269 6e67 436c 6173 7328 6578  alStringClass(ex
+0002e670: 7072 290a 2020 2020 2020 2020 6578 7072  pr).        expr
+0002e680: 203d 2074 7970 696e 672e 6361 7374 2850   = typing.cast(P
+0002e690: 6172 7365 7245 6c65 6d65 6e74 2c20 6578  arserElement, ex
+0002e6a0: 7072 290a 0a20 2020 2020 2020 2069 6620  pr)..        if 
+0002e6b0: 6d69 6e20 6973 206e 6f74 204e 6f6e 653a  min is not None:
+0002e6c0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0002e6d0: 6d69 6e20 3c20 313a 0a20 2020 2020 2020  min < 1:.       
+0002e6e0: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
+0002e6f0: 616c 7565 4572 726f 7228 226d 696e 206d  alueError("min m
+0002e700: 7573 7420 6265 2067 7265 6174 6572 2074  ust be greater t
+0002e710: 6861 6e20 3022 290a 2020 2020 2020 2020  han 0").        
+0002e720: 6966 206d 6178 2069 7320 6e6f 7420 4e6f  if max is not No
+0002e730: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0002e740: 6966 206d 696e 2069 7320 6e6f 7420 4e6f  if min is not No
+0002e750: 6e65 2061 6e64 206d 6178 203c 206d 696e  ne and max < min
+0002e760: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002e770: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+0002e780: 6f72 2822 6d61 7820 6d75 7374 2062 6520  or("max must be 
+0002e790: 6772 6561 7465 7220 7468 616e 2c20 6f72  greater than, or
+0002e7a0: 2065 7175 616c 2074 6f20 6d69 6e22 290a   equal to min").
+0002e7b0: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
+0002e7c0: 6e74 656e 7420 3d20 6578 7072 0a20 2020  ntent = expr.   
+0002e7d0: 2020 2020 2073 656c 662e 7261 775f 6465       self.raw_de
+0002e7e0: 6c69 6d20 3d20 7374 7228 6465 6c69 6d29  lim = str(delim)
+0002e7f0: 0a20 2020 2020 2020 2073 656c 662e 6465  .        self.de
+0002e800: 6c69 6d20 3d20 6465 6c69 6d0a 2020 2020  lim = delim.    
+0002e810: 2020 2020 7365 6c66 2e63 6f6d 6269 6e65      self.combine
+0002e820: 203d 2063 6f6d 6269 6e65 0a20 2020 2020   = combine.     
+0002e830: 2020 2069 6620 6e6f 7420 636f 6d62 696e     if not combin
+0002e840: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+0002e850: 656c 662e 6465 6c69 6d20 3d20 5375 7070  elf.delim = Supp
+0002e860: 7265 7373 2864 656c 696d 290a 2020 2020  ress(delim).    
+0002e870: 2020 2020 7365 6c66 2e6d 696e 203d 206d      self.min = m
+0002e880: 696e 206f 7220 310a 2020 2020 2020 2020  in or 1.        
+0002e890: 7365 6c66 2e6d 6178 203d 206d 6178 0a20  self.max = max. 
+0002e8a0: 2020 2020 2020 2073 656c 662e 616c 6c6f         self.allo
+0002e8b0: 775f 7472 6169 6c69 6e67 5f64 656c 696d  w_trailing_delim
+0002e8c0: 203d 2061 6c6c 6f77 5f74 7261 696c 696e   = allow_trailin
+0002e8d0: 675f 6465 6c69 6d0a 0a20 2020 2020 2020  g_delim..       
+0002e8e0: 2064 656c 696d 5f6c 6973 745f 6578 7072   delim_list_expr
+0002e8f0: 203d 2073 656c 662e 636f 6e74 656e 7420   = self.content 
+0002e900: 2b20 2873 656c 662e 6465 6c69 6d20 2b20  + (self.delim + 
+0002e910: 7365 6c66 2e63 6f6e 7465 6e74 2920 2a20  self.content) * 
+0002e920: 280a 2020 2020 2020 2020 2020 2020 7365  (.            se
+0002e930: 6c66 2e6d 696e 202d 2031 2c0a 2020 2020  lf.min - 1,.    
+0002e940: 2020 2020 2020 2020 4e6f 6e65 2069 6620          None if 
+0002e950: 7365 6c66 2e6d 6178 2069 7320 4e6f 6e65  self.max is None
+0002e960: 2065 6c73 6520 7365 6c66 2e6d 6178 202d   else self.max -
+0002e970: 2031 2c0a 2020 2020 2020 2020 290a 2020   1,.        ).  
+0002e980: 2020 2020 2020 6966 2073 656c 662e 616c        if self.al
+0002e990: 6c6f 775f 7472 6169 6c69 6e67 5f64 656c  low_trailing_del
+0002e9a0: 696d 3a0a 2020 2020 2020 2020 2020 2020  im:.            
+0002e9b0: 6465 6c69 6d5f 6c69 7374 5f65 7870 7220  delim_list_expr 
+0002e9c0: 2b3d 204f 7074 2873 656c 662e 6465 6c69  += Opt(self.deli
+0002e9d0: 6d29 0a0a 2020 2020 2020 2020 6966 2073  m)..        if s
+0002e9e0: 656c 662e 636f 6d62 696e 653a 0a20 2020  elf.combine:.   
+0002e9f0: 2020 2020 2020 2020 2064 656c 696d 5f6c           delim_l
+0002ea00: 6973 745f 6578 7072 203d 2043 6f6d 6269  ist_expr = Combi
+0002ea10: 6e65 2864 656c 696d 5f6c 6973 745f 6578  ne(delim_list_ex
+0002ea20: 7072 290a 0a20 2020 2020 2020 2073 7570  pr)..        sup
+0002ea30: 6572 2829 2e5f 5f69 6e69 745f 5f28 6465  er().__init__(de
+0002ea40: 6c69 6d5f 6c69 7374 5f65 7870 722c 2073  lim_list_expr, s
+0002ea50: 6176 656c 6973 743d 5472 7565 290a 0a20  avelist=True).. 
+0002ea60: 2020 2064 6566 205f 6765 6e65 7261 7465     def _generate
+0002ea70: 4465 6661 756c 744e 616d 6528 7365 6c66  DefaultName(self
+0002ea80: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
+0002ea90: 2020 7265 7475 726e 2022 7b30 7d20 5b7b    return "{0} [{
+0002eaa0: 317d 207b 307d 5d2e 2e2e 222e 666f 726d  1} {0}]...".form
+0002eab0: 6174 2873 656c 662e 636f 6e74 656e 742e  at(self.content.
+0002eac0: 7374 7265 616d 6c69 6e65 2829 2c20 7365  streamline(), se
+0002ead0: 6c66 2e72 6177 5f64 656c 696d 290a 0a0a  lf.raw_delim)...
+0002eae0: 636c 6173 7320 5f4e 756c 6c54 6f6b 656e  class _NullToken
+0002eaf0: 3a0a 2020 2020 6465 6620 5f5f 626f 6f6c  :.    def __bool
+0002eb00: 5f5f 2873 656c 6629 3a0a 2020 2020 2020  __(self):.      
+0002eb10: 2020 7265 7475 726e 2046 616c 7365 0a0a    return False..
+0002eb20: 2020 2020 6465 6620 5f5f 7374 725f 5f28      def __str__(
+0002eb30: 7365 6c66 293a 0a20 2020 2020 2020 2072  self):.        r
+0002eb40: 6574 7572 6e20 2222 0a0a 0a63 6c61 7373  eturn ""...class
+0002eb50: 204f 7074 2850 6172 7365 456c 656d 656e   Opt(ParseElemen
+0002eb60: 7445 6e68 616e 6365 293a 0a20 2020 2022  tEnhance):.    "
+0002eb70: 2222 0a20 2020 204f 7074 696f 6e61 6c20  "".    Optional 
+0002eb80: 6d61 7463 6869 6e67 206f 6620 7468 6520  matching of the 
+0002eb90: 6769 7665 6e20 6578 7072 6573 7369 6f6e  given expression
+0002eba0: 2e0a 0a20 2020 2050 6172 616d 6574 6572  ...    Parameter
+0002ebb0: 733a 0a0a 2020 2020 2d20 6060 6578 7072  s:..    - ``expr
+0002ebc0: 6060 202d 2065 7870 7265 7373 696f 6e20  `` - expression 
+0002ebd0: 7468 6174 206d 7573 7420 6d61 7463 6820  that must match 
+0002ebe0: 7a65 726f 206f 7220 6d6f 7265 2074 696d  zero or more tim
+0002ebf0: 6573 0a20 2020 202d 2060 6064 6566 6175  es.    - ``defau
+0002ec00: 6c74 6060 2028 6f70 7469 6f6e 616c 2920  lt`` (optional) 
+0002ec10: 2d20 7661 6c75 6520 746f 2062 6520 7265  - value to be re
+0002ec20: 7475 726e 6564 2069 6620 7468 6520 6f70  turned if the op
+0002ec30: 7469 6f6e 616c 2065 7870 7265 7373 696f  tional expressio
+0002ec40: 6e20 6973 206e 6f74 2066 6f75 6e64 2e0a  n is not found..
+0002ec50: 0a20 2020 2045 7861 6d70 6c65 3a3a 0a0a  .    Example::..
+0002ec60: 2020 2020 2020 2020 2320 5553 2070 6f73          # US pos
+0002ec70: 7461 6c20 636f 6465 2063 616e 2062 6520  tal code can be 
+0002ec80: 6120 352d 6469 6769 7420 7a69 702c 2070  a 5-digit zip, p
+0002ec90: 6c75 7320 6f70 7469 6f6e 616c 2034 2d64  lus optional 4-d
+0002eca0: 6967 6974 2071 7561 6c69 6669 6572 0a20  igit qualifier. 
+0002ecb0: 2020 2020 2020 207a 6970 203d 2043 6f6d         zip = Com
+0002ecc0: 6269 6e65 2857 6f72 6428 6e75 6d73 2c20  bine(Word(nums, 
+0002ecd0: 6578 6163 743d 3529 202b 204f 7074 2827  exact=5) + Opt('
+0002ece0: 2d27 202b 2057 6f72 6428 6e75 6d73 2c20  -' + Word(nums, 
+0002ecf0: 6578 6163 743d 3429 2929 0a20 2020 2020  exact=4))).     
+0002ed00: 2020 207a 6970 2e72 756e 5f74 6573 7473     zip.run_tests
+0002ed10: 2827 2727 0a20 2020 2020 2020 2020 2020  ('''.           
+0002ed20: 2023 2074 7261 6469 7469 6f6e 616c 205a   # traditional Z
+0002ed30: 4950 2063 6f64 650a 2020 2020 2020 2020  IP code.        
+0002ed40: 2020 2020 3132 3334 350a 0a20 2020 2020      12345..     
+0002ed50: 2020 2020 2020 2023 205a 4950 2b34 2066         # ZIP+4 f
+0002ed60: 6f72 6d0a 2020 2020 2020 2020 2020 2020  orm.            
+0002ed70: 3132 3130 312d 3030 3031 0a0a 2020 2020  12101-0001..    
+0002ed80: 2020 2020 2020 2020 2320 696e 7661 6c69          # invali
+0002ed90: 6420 5a49 500a 2020 2020 2020 2020 2020  d ZIP.          
+0002eda0: 2020 3938 3736 352d 0a20 2020 2020 2020    98765-.       
+0002edb0: 2020 2020 2027 2727 290a 0a20 2020 2070       ''')..    p
+0002edc0: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
+0002edd0: 2023 2074 7261 6469 7469 6f6e 616c 205a   # traditional Z
+0002ede0: 4950 2063 6f64 650a 2020 2020 2020 2020  IP code.        
+0002edf0: 3132 3334 350a 2020 2020 2020 2020 5b27  12345.        ['
+0002ee00: 3132 3334 3527 5d0a 0a20 2020 2020 2020  12345']..       
+0002ee10: 2023 205a 4950 2b34 2066 6f72 6d0a 2020   # ZIP+4 form.  
+0002ee20: 2020 2020 2020 3132 3130 312d 3030 3031        12101-0001
+0002ee30: 0a20 2020 2020 2020 205b 2731 3231 3031  .        ['12101
+0002ee40: 2d30 3030 3127 5d0a 0a20 2020 2020 2020  -0001']..       
+0002ee50: 2023 2069 6e76 616c 6964 205a 4950 0a20   # invalid ZIP. 
+0002ee60: 2020 2020 2020 2039 3837 3635 2d0a 2020         98765-.  
+0002ee70: 2020 2020 2020 2020 2020 205e 0a20 2020             ^.   
+0002ee80: 2020 2020 2046 4149 4c3a 2045 7870 6563       FAIL: Expec
+0002ee90: 7465 6420 656e 6420 6f66 2074 6578 7420  ted end of text 
+0002eea0: 2861 7420 6368 6172 2035 292c 2028 6c69  (at char 5), (li
+0002eeb0: 6e65 3a31 2c20 636f 6c3a 3629 0a20 2020  ne:1, col:6).   
+0002eec0: 2022 2222 0a0a 2020 2020 5f5f 6f70 7469   """..    __opti
+0002eed0: 6f6e 616c 4e6f 744d 6174 6368 6564 203d  onalNotMatched =
+0002eee0: 205f 4e75 6c6c 546f 6b65 6e28 290a 0a20   _NullToken().. 
+0002eef0: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+0002ef00: 0a20 2020 2020 2020 2073 656c 662c 2065  .        self, e
+0002ef10: 7870 723a 2055 6e69 6f6e 5b50 6172 7365  xpr: Union[Parse
+0002ef20: 7245 6c65 6d65 6e74 2c20 7374 725d 2c20  rElement, str], 
+0002ef30: 6465 6661 756c 743a 2041 6e79 203d 205f  default: Any = _
+0002ef40: 5f6f 7074 696f 6e61 6c4e 6f74 4d61 7463  _optionalNotMatc
+0002ef50: 6865 640a 2020 2020 293a 0a20 2020 2020  hed.    ):.     
+0002ef60: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+0002ef70: 745f 5f28 6578 7072 2c20 7361 7665 6c69  t__(expr, saveli
+0002ef80: 7374 3d46 616c 7365 290a 2020 2020 2020  st=False).      
+0002ef90: 2020 7365 6c66 2e73 6176 6541 734c 6973    self.saveAsLis
+0002efa0: 7420 3d20 7365 6c66 2e65 7870 722e 7361  t = self.expr.sa
+0002efb0: 7665 4173 4c69 7374 0a20 2020 2020 2020  veAsList.       
+0002efc0: 2073 656c 662e 6465 6661 756c 7456 616c   self.defaultVal
+0002efd0: 7565 203d 2064 6566 6175 6c74 0a20 2020  ue = default.   
+0002efe0: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
+0002eff0: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
+0002f000: 0a20 2020 2064 6566 2070 6172 7365 496d  .    def parseIm
+0002f010: 706c 2873 656c 662c 2069 6e73 7472 696e  pl(self, instrin
+0002f020: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
+0002f030: 733d 5472 7565 293a 0a20 2020 2020 2020  s=True):.       
+0002f040: 2073 656c 665f 6578 7072 203d 2073 656c   self_expr = sel
+0002f050: 662e 6578 7072 0a20 2020 2020 2020 2074  f.expr.        t
+0002f060: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0002f070: 6c6f 632c 2074 6f6b 656e 7320 3d20 7365  loc, tokens = se
+0002f080: 6c66 5f65 7870 722e 5f70 6172 7365 2869  lf_expr._parse(i
+0002f090: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0002f0a0: 4163 7469 6f6e 732c 2063 616c 6c50 7265  Actions, callPre
+0002f0b0: 5061 7273 653d 4661 6c73 6529 0a20 2020  Parse=False).   
+0002f0c0: 2020 2020 2065 7863 6570 7420 2850 6172       except (Par
+0002f0d0: 7365 4578 6365 7074 696f 6e2c 2049 6e64  seException, Ind
+0002f0e0: 6578 4572 726f 7229 3a0a 2020 2020 2020  exError):.      
+0002f0f0: 2020 2020 2020 6465 6661 756c 745f 7661        default_va
+0002f100: 6c75 6520 3d20 7365 6c66 2e64 6566 6175  lue = self.defau
+0002f110: 6c74 5661 6c75 650a 2020 2020 2020 2020  ltValue.        
+0002f120: 2020 2020 6966 2064 6566 6175 6c74 5f76      if default_v
+0002f130: 616c 7565 2069 7320 6e6f 7420 7365 6c66  alue is not self
+0002f140: 2e5f 5f6f 7074 696f 6e61 6c4e 6f74 4d61  .__optionalNotMa
+0002f150: 7463 6865 643a 0a20 2020 2020 2020 2020  tched:.         
+0002f160: 2020 2020 2020 2069 6620 7365 6c66 5f65         if self_e
+0002f170: 7870 722e 7265 7375 6c74 734e 616d 653a  xpr.resultsName:
+0002f180: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002f190: 2020 2020 2074 6f6b 656e 7320 3d20 5061       tokens = Pa
+0002f1a0: 7273 6552 6573 756c 7473 285b 6465 6661  rseResults([defa
+0002f1b0: 756c 745f 7661 6c75 655d 290a 2020 2020  ult_value]).    
+0002f1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f1d0: 746f 6b65 6e73 5b73 656c 665f 6578 7072  tokens[self_expr
+0002f1e0: 2e72 6573 756c 7473 4e61 6d65 5d20 3d20  .resultsName] = 
+0002f1f0: 6465 6661 756c 745f 7661 6c75 650a 2020  default_value.  
+0002f200: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0002f210: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0002f220: 2020 2020 2020 2020 746f 6b65 6e73 203d          tokens =
+0002f230: 205b 6465 6661 756c 745f 7661 6c75 655d   [default_value]
+0002f240: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+0002f250: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002f260: 2020 2074 6f6b 656e 7320 3d20 5b5d 0a20     tokens = []. 
+0002f270: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
+0002f280: 632c 2074 6f6b 656e 730a 0a20 2020 2064  c, tokens..    d
+0002f290: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+0002f2a0: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+0002f2b0: 2073 7472 3a0a 2020 2020 2020 2020 696e   str:.        in
+0002f2c0: 6e65 7220 3d20 7374 7228 7365 6c66 2e65  ner = str(self.e
+0002f2d0: 7870 7229 0a20 2020 2020 2020 2023 2073  xpr).        # s
+0002f2e0: 7472 6970 206f 6666 2072 6564 756e 6461  trip off redunda
+0002f2f0: 6e74 2069 6e6e 6572 207b 7d27 730a 2020  nt inner {}'s.  
+0002f300: 2020 2020 2020 7768 696c 6520 6c65 6e28        while len(
+0002f310: 696e 6e65 7229 203e 2031 2061 6e64 2069  inner) > 1 and i
+0002f320: 6e6e 6572 5b30 203a 3a20 6c65 6e28 696e  nner[0 :: len(in
+0002f330: 6e65 7229 202d 2031 5d20 3d3d 2022 7b7d  ner) - 1] == "{}
+0002f340: 223a 0a20 2020 2020 2020 2020 2020 2069  ":.            i
+0002f350: 6e6e 6572 203d 2069 6e6e 6572 5b31 3a2d  nner = inner[1:-
+0002f360: 315d 0a20 2020 2020 2020 2072 6574 7572  1].        retur
+0002f370: 6e20 225b 2220 2b20 696e 6e65 7220 2b20  n "[" + inner + 
+0002f380: 225d 220a 0a0a 4f70 7469 6f6e 616c 203d  "]"...Optional =
+0002f390: 204f 7074 0a0a 0a63 6c61 7373 2053 6b69   Opt...class Ski
+0002f3a0: 7054 6f28 5061 7273 6545 6c65 6d65 6e74  pTo(ParseElement
+0002f3b0: 456e 6861 6e63 6529 3a0a 2020 2020 2222  Enhance):.    ""
+0002f3c0: 220a 2020 2020 546f 6b65 6e20 666f 7220  ".    Token for 
+0002f3d0: 736b 6970 7069 6e67 206f 7665 7220 616c  skipping over al
+0002f3e0: 6c20 756e 6465 6669 6e65 6420 7465 7874  l undefined text
+0002f3f0: 2075 6e74 696c 2074 6865 206d 6174 6368   until the match
+0002f400: 6564 0a20 2020 2065 7870 7265 7373 696f  ed.    expressio
+0002f410: 6e20 6973 2066 6f75 6e64 2e0a 0a20 2020  n is found...   
+0002f420: 2050 6172 616d 6574 6572 733a 0a0a 2020   Parameters:..  
+0002f430: 2020 2d20 6060 6578 7072 6060 202d 2074    - ``expr`` - t
+0002f440: 6172 6765 7420 6578 7072 6573 7369 6f6e  arget expression
+0002f450: 206d 6172 6b69 6e67 2074 6865 2065 6e64   marking the end
+0002f460: 206f 6620 7468 6520 6461 7461 2074 6f20   of the data to 
+0002f470: 6265 2073 6b69 7070 6564 0a20 2020 202d  be skipped.    -
+0002f480: 2060 6069 6e63 6c75 6465 6060 202d 2069   ``include`` - i
+0002f490: 6620 6060 5472 7565 6060 2c20 7468 6520  f ``True``, the 
+0002f4a0: 7461 7267 6574 2065 7870 7265 7373 696f  target expressio
+0002f4b0: 6e20 6973 2061 6c73 6f20 7061 7273 6564  n is also parsed
+0002f4c0: 0a20 2020 2020 2028 7468 6520 736b 6970  .      (the skip
+0002f4d0: 7065 6420 7465 7874 2061 6e64 2074 6172  ped text and tar
+0002f4e0: 6765 7420 6578 7072 6573 7369 6f6e 2061  get expression a
+0002f4f0: 7265 2072 6574 7572 6e65 6420 6173 2061  re returned as a
+0002f500: 2032 2d65 6c65 6d65 6e74 0a20 2020 2020   2-element.     
+0002f510: 206c 6973 7429 2028 6465 6661 756c 743d   list) (default=
+0002f520: 2060 6046 616c 7365 6060 292e 0a20 2020   ``False``)..   
+0002f530: 202d 2060 6069 676e 6f72 6560 6020 2d20   - ``ignore`` - 
+0002f540: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
+0002f550: 6060 2920 7573 6564 2074 6f20 6465 6669  ``) used to defi
+0002f560: 6e65 2067 7261 6d6d 6172 7320 2874 7970  ne grammars (typ
+0002f570: 6963 616c 6c79 2071 756f 7465 6420 7374  ically quoted st
+0002f580: 7269 6e67 7320 616e 640a 2020 2020 2020  rings and.      
+0002f590: 636f 6d6d 656e 7473 2920 7468 6174 206d  comments) that m
+0002f5a0: 6967 6874 2063 6f6e 7461 696e 2066 616c  ight contain fal
+0002f5b0: 7365 206d 6174 6368 6573 2074 6f20 7468  se matches to th
+0002f5c0: 6520 7461 7267 6574 2065 7870 7265 7373  e target express
+0002f5d0: 696f 6e0a 2020 2020 2d20 6060 6661 696c  ion.    - ``fail
+0002f5e0: 5f6f 6e60 6020 2d20 2864 6566 6175 6c74  _on`` - (default
+0002f5f0: 3d20 6060 4e6f 6e65 6060 2920 6465 6669  = ``None``) defi
+0002f600: 6e65 2065 7870 7265 7373 696f 6e73 2074  ne expressions t
+0002f610: 6861 7420 6172 6520 6e6f 7420 616c 6c6f  hat are not allo
+0002f620: 7765 6420 746f 2062 650a 2020 2020 2020  wed to be.      
+0002f630: 696e 636c 7564 6564 2069 6e20 7468 6520  included in the 
+0002f640: 736b 6970 7065 6420 7465 7374 3b20 6966  skipped test; if
+0002f650: 2066 6f75 6e64 2062 6566 6f72 6520 7468   found before th
+0002f660: 6520 7461 7267 6574 2065 7870 7265 7373  e target express
+0002f670: 696f 6e20 6973 2066 6f75 6e64 2c0a 2020  ion is found,.  
+0002f680: 2020 2020 7468 6520 3a63 6c61 7373 3a60      the :class:`
+0002f690: 536b 6970 546f 6020 6973 206e 6f74 2061  SkipTo` is not a
+0002f6a0: 206d 6174 6368 0a0a 2020 2020 4578 616d   match..    Exam
+0002f6b0: 706c 653a 3a0a 0a20 2020 2020 2020 2072  ple::..        r
+0002f6c0: 6570 6f72 7420 3d20 2727 270a 2020 2020  eport = '''.    
+0002f6d0: 2020 2020 2020 2020 4f75 7473 7461 6e64          Outstand
+0002f6e0: 696e 6720 4973 7375 6573 2052 6570 6f72  ing Issues Repor
+0002f6f0: 7420 2d20 3120 4a61 6e20 3230 3030 0a0a  t - 1 Jan 2000..
+0002f700: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0002f710: 207c 2053 6576 6572 6974 7920 7c20 4465   | Severity | De
+0002f720: 7363 7269 7074 696f 6e20 2020 2020 2020  scription       
+0002f730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f740: 2020 2020 2020 2020 7c20 2044 6179 7320          |  Days 
+0002f750: 4f70 656e 0a20 2020 2020 2020 2020 2020  Open.           
+0002f760: 202d 2d2d 2d2d 2b2d 2d2d 2d2d 2d2d 2d2d   -----+---------
+0002f770: 2d2b 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  -+--------------
+0002f780: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0002f790: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2b 2d2d  -------------+--
+0002f7a0: 2d2d 2d2d 2d2d 2d2d 2d0a 2020 2020 2020  ---------.      
+0002f7b0: 2020 2020 2020 2031 3031 207c 2043 7269         101 | Cri
+0002f7c0: 7469 6361 6c20 7c20 496e 7465 726d 6974  tical | Intermit
+0002f7d0: 7465 6e74 2073 7973 7465 6d20 6372 6173  tent system cras
+0002f7e0: 6820 2020 2020 2020 2020 2020 2020 2020  h               
+0002f7f0: 2020 7c20 2020 2020 2020 2020 2036 0a20    |          6. 
+0002f800: 2020 2020 2020 2020 2020 2020 2039 3420               94 
+0002f810: 7c20 436f 736d 6574 6963 207c 2053 7065  | Cosmetic | Spe
+0002f820: 6c6c 696e 6720 6572 726f 7220 6f6e 204c  lling error on L
+0002f830: 6f67 696e 2028 276c 6f67 7c6e 2729 2020  ogin ('log|n')  
+0002f840: 2020 2020 2020 207c 2020 2020 2020 2020         |        
+0002f850: 2031 340a 2020 2020 2020 2020 2020 2020   14.            
+0002f860: 2020 3739 207c 204d 696e 6f72 2020 2020    79 | Minor    
+0002f870: 7c20 5379 7374 656d 2073 6c6f 7720 7768  | System slow wh
+0002f880: 656e 2072 756e 6e69 6e67 2074 6f6f 206d  en running too m
+0002f890: 616e 7920 7265 706f 7274 7320 7c20 2020  any reports |   
+0002f8a0: 2020 2020 2020 3437 0a20 2020 2020 2020        47.       
+0002f8b0: 2020 2020 2027 2727 0a20 2020 2020 2020       '''.       
+0002f8c0: 2069 6e74 6567 6572 203d 2057 6f72 6428   integer = Word(
+0002f8d0: 6e75 6d73 290a 2020 2020 2020 2020 5345  nums).        SE
+0002f8e0: 5020 3d20 5375 7070 7265 7373 2827 7c27  P = Suppress('|'
+0002f8f0: 290a 2020 2020 2020 2020 2320 7573 6520  ).        # use 
+0002f900: 536b 6970 546f 2074 6f20 7369 6d70 6c79  SkipTo to simply
+0002f910: 206d 6174 6368 2065 7665 7279 7468 696e   match everythin
+0002f920: 6720 7570 2075 6e74 696c 2074 6865 206e  g up until the n
+0002f930: 6578 7420 5345 500a 2020 2020 2020 2020  ext SEP.        
+0002f940: 2320 2d20 6967 6e6f 7265 2071 756f 7465  # - ignore quote
+0002f950: 6420 7374 7269 6e67 732c 2073 6f20 7468  d strings, so th
+0002f960: 6174 2061 2027 7c27 2063 6861 7261 6374  at a '|' charact
+0002f970: 6572 2069 6e73 6964 6520 6120 7175 6f74  er inside a quot
+0002f980: 6564 2073 7472 696e 6720 646f 6573 206e  ed string does n
+0002f990: 6f74 206d 6174 6368 0a20 2020 2020 2020  ot match.       
+0002f9a0: 2023 202d 2070 6172 7365 2061 6374 696f   # - parse actio
+0002f9b0: 6e20 7769 6c6c 2063 616c 6c20 746f 6b65  n will call toke
+0002f9c0: 6e2e 7374 7269 7028 2920 666f 7220 6561  n.strip() for ea
+0002f9d0: 6368 206d 6174 6368 6564 2074 6f6b 656e  ch matched token
+0002f9e0: 2c20 692e 652e 2c20 7468 6520 6465 7363  , i.e., the desc
+0002f9f0: 7269 7074 696f 6e20 626f 6479 0a20 2020  ription body.   
+0002fa00: 2020 2020 2073 7472 696e 675f 6461 7461       string_data
+0002fa10: 203d 2053 6b69 7054 6f28 5345 502c 2069   = SkipTo(SEP, i
+0002fa20: 676e 6f72 653d 7175 6f74 6564 5f73 7472  gnore=quoted_str
+0002fa30: 696e 6729 0a20 2020 2020 2020 2073 7472  ing).        str
+0002fa40: 696e 675f 6461 7461 2e73 6574 5f70 6172  ing_data.set_par
+0002fa50: 7365 5f61 6374 696f 6e28 746f 6b65 6e5f  se_action(token_
+0002fa60: 6d61 7028 7374 722e 7374 7269 7029 290a  map(str.strip)).
+0002fa70: 2020 2020 2020 2020 7469 636b 6574 5f65          ticket_e
+0002fa80: 7870 7220 3d20 2869 6e74 6567 6572 2822  xpr = (integer("
+0002fa90: 6973 7375 655f 6e75 6d22 2920 2b20 5345  issue_num") + SE
+0002faa0: 500a 2020 2020 2020 2020 2020 2020 2020  P.              
+0002fab0: 2020 2020 2020 2020 2b20 7374 7269 6e67          + string
+0002fac0: 5f64 6174 6128 2273 6576 2229 202b 2053  _data("sev") + S
+0002fad0: 4550 0a20 2020 2020 2020 2020 2020 2020  EP.             
+0002fae0: 2020 2020 2020 2020 202b 2073 7472 696e           + strin
+0002faf0: 675f 6461 7461 2822 6465 7363 2229 202b  g_data("desc") +
+0002fb00: 2053 4550 0a20 2020 2020 2020 2020 2020   SEP.           
+0002fb10: 2020 2020 2020 2020 2020 202b 2069 6e74             + int
+0002fb20: 6567 6572 2822 6461 7973 5f6f 7065 6e22  eger("days_open"
+0002fb30: 2929 0a0a 2020 2020 2020 2020 666f 7220  ))..        for 
+0002fb40: 746b 7420 696e 2074 6963 6b65 745f 6578  tkt in ticket_ex
+0002fb50: 7072 2e73 6561 7263 685f 7374 7269 6e67  pr.search_string
+0002fb60: 2872 6570 6f72 7429 3a0a 2020 2020 2020  (report):.      
+0002fb70: 2020 2020 2020 7072 696e 7420 746b 742e        print tkt.
+0002fb80: 6475 6d70 2829 0a0a 2020 2020 7072 696e  dump()..    prin
+0002fb90: 7473 3a3a 0a0a 2020 2020 2020 2020 5b27  ts::..        ['
+0002fba0: 3130 3127 2c20 2743 7269 7469 6361 6c27  101', 'Critical'
+0002fbb0: 2c20 2749 6e74 6572 6d69 7474 656e 7420  , 'Intermittent 
+0002fbc0: 7379 7374 656d 2063 7261 7368 272c 2027  system crash', '
+0002fbd0: 3627 5d0a 2020 2020 2020 2020 2d20 6461  6'].        - da
+0002fbe0: 7973 5f6f 7065 6e3a 2027 3627 0a20 2020  ys_open: '6'.   
+0002fbf0: 2020 2020 202d 2064 6573 633a 2027 496e       - desc: 'In
+0002fc00: 7465 726d 6974 7465 6e74 2073 7973 7465  termittent syste
+0002fc10: 6d20 6372 6173 6827 0a20 2020 2020 2020  m crash'.       
+0002fc20: 202d 2069 7373 7565 5f6e 756d 3a20 2731   - issue_num: '1
+0002fc30: 3031 270a 2020 2020 2020 2020 2d20 7365  01'.        - se
+0002fc40: 763a 2027 4372 6974 6963 616c 270a 2020  v: 'Critical'.  
+0002fc50: 2020 2020 2020 5b27 3934 272c 2027 436f        ['94', 'Co
+0002fc60: 736d 6574 6963 272c 2022 5370 656c 6c69  smetic', "Spelli
+0002fc70: 6e67 2065 7272 6f72 206f 6e20 4c6f 6769  ng error on Logi
+0002fc80: 6e20 2827 6c6f 677c 6e27 2922 2c20 2731  n ('log|n')", '1
+0002fc90: 3427 5d0a 2020 2020 2020 2020 2d20 6461  4'].        - da
+0002fca0: 7973 5f6f 7065 6e3a 2027 3134 270a 2020  ys_open: '14'.  
+0002fcb0: 2020 2020 2020 2d20 6465 7363 3a20 2253        - desc: "S
+0002fcc0: 7065 6c6c 696e 6720 6572 726f 7220 6f6e  pelling error on
+0002fcd0: 204c 6f67 696e 2028 276c 6f67 7c6e 2729   Login ('log|n')
+0002fce0: 220a 2020 2020 2020 2020 2d20 6973 7375  ".        - issu
+0002fcf0: 655f 6e75 6d3a 2027 3934 270a 2020 2020  e_num: '94'.    
+0002fd00: 2020 2020 2d20 7365 763a 2027 436f 736d      - sev: 'Cosm
+0002fd10: 6574 6963 270a 2020 2020 2020 2020 5b27  etic'.        ['
+0002fd20: 3739 272c 2027 4d69 6e6f 7227 2c20 2753  79', 'Minor', 'S
+0002fd30: 7973 7465 6d20 736c 6f77 2077 6865 6e20  ystem slow when 
+0002fd40: 7275 6e6e 696e 6720 746f 6f20 6d61 6e79  running too many
+0002fd50: 2072 6570 6f72 7473 272c 2027 3437 275d   reports', '47']
+0002fd60: 0a20 2020 2020 2020 202d 2064 6179 735f  .        - days_
+0002fd70: 6f70 656e 3a20 2734 3727 0a20 2020 2020  open: '47'.     
+0002fd80: 2020 202d 2064 6573 633a 2027 5379 7374     - desc: 'Syst
+0002fd90: 656d 2073 6c6f 7720 7768 656e 2072 756e  em slow when run
+0002fda0: 6e69 6e67 2074 6f6f 206d 616e 7920 7265  ning too many re
+0002fdb0: 706f 7274 7327 0a20 2020 2020 2020 202d  ports'.        -
+0002fdc0: 2069 7373 7565 5f6e 756d 3a20 2737 3927   issue_num: '79'
+0002fdd0: 0a20 2020 2020 2020 202d 2073 6576 3a20  .        - sev: 
+0002fde0: 274d 696e 6f72 270a 2020 2020 2222 220a  'Minor'.    """.
+0002fdf0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+0002fe00: 5f28 0a20 2020 2020 2020 2073 656c 662c  _(.        self,
+0002fe10: 0a20 2020 2020 2020 206f 7468 6572 3a20  .        other: 
+0002fe20: 556e 696f 6e5b 5061 7273 6572 456c 656d  Union[ParserElem
+0002fe30: 656e 742c 2073 7472 5d2c 0a20 2020 2020  ent, str],.     
+0002fe40: 2020 2069 6e63 6c75 6465 3a20 626f 6f6c     include: bool
+0002fe50: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
+0002fe60: 2020 6967 6e6f 7265 3a20 7479 7069 6e67    ignore: typing
+0002fe70: 2e4f 7074 696f 6e61 6c5b 556e 696f 6e5b  .Optional[Union[
+0002fe80: 5061 7273 6572 456c 656d 656e 742c 2073  ParserElement, s
+0002fe90: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
+0002fea0: 2020 2020 2066 6169 6c5f 6f6e 3a20 7479       fail_on: ty
+0002feb0: 7069 6e67 2e4f 7074 696f 6e61 6c5b 556e  ping.Optional[Un
+0002fec0: 696f 6e5b 5061 7273 6572 456c 656d 656e  ion[ParserElemen
+0002fed0: 742c 2073 7472 5d5d 203d 204e 6f6e 652c  t, str]] = None,
+0002fee0: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
+0002fef0: 2020 2020 6661 696c 4f6e 3a20 7479 7069      failOn: typi
+0002ff00: 6e67 2e4f 7074 696f 6e61 6c5b 556e 696f  ng.Optional[Unio
+0002ff10: 6e5b 5061 7273 6572 456c 656d 656e 742c  n[ParserElement,
+0002ff20: 2073 7472 5d5d 203d 204e 6f6e 652c 0a20   str]] = None,. 
+0002ff30: 2020 2029 3a0a 2020 2020 2020 2020 7375     ):.        su
+0002ff40: 7065 7228 292e 5f5f 696e 6974 5f5f 286f  per().__init__(o
+0002ff50: 7468 6572 290a 2020 2020 2020 2020 6661  ther).        fa
+0002ff60: 696c 4f6e 203d 2066 6169 6c4f 6e20 6f72  ilOn = failOn or
+0002ff70: 2066 6169 6c5f 6f6e 0a20 2020 2020 2020   fail_on.       
+0002ff80: 2073 656c 662e 6967 6e6f 7265 4578 7072   self.ignoreExpr
+0002ff90: 203d 2069 676e 6f72 650a 2020 2020 2020   = ignore.      
+0002ffa0: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
+0002ffb0: 456d 7074 7920 3d20 5472 7565 0a20 2020  Empty = True.   
+0002ffc0: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
+0002ffd0: 6578 4572 726f 7220 3d20 4661 6c73 650a  exError = False.
+0002ffe0: 2020 2020 2020 2020 7365 6c66 2e69 6e63          self.inc
+0002fff0: 6c75 6465 4d61 7463 6820 3d20 696e 636c  ludeMatch = incl
+00030000: 7564 650a 2020 2020 2020 2020 7365 6c66  ude.        self
+00030010: 2e73 6176 6541 734c 6973 7420 3d20 4661  .saveAsList = Fa
+00030020: 6c73 650a 2020 2020 2020 2020 6966 2069  lse.        if i
+00030030: 7369 6e73 7461 6e63 6528 6661 696c 4f6e  sinstance(failOn
+00030040: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
+00030050: 2020 2020 2020 2020 2073 656c 662e 6661           self.fa
+00030060: 696c 4f6e 203d 2073 656c 662e 5f6c 6974  ilOn = self._lit
+00030070: 6572 616c 5374 7269 6e67 436c 6173 7328  eralStringClass(
+00030080: 6661 696c 4f6e 290a 2020 2020 2020 2020  failOn).        
+00030090: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000300a0: 2020 7365 6c66 2e66 6169 6c4f 6e20 3d20    self.failOn = 
+000300b0: 6661 696c 4f6e 0a20 2020 2020 2020 2073  failOn.        s
+000300c0: 656c 662e 6572 726d 7367 203d 2022 4e6f  elf.errmsg = "No
+000300d0: 206d 6174 6368 2066 6f75 6e64 2066 6f72   match found for
+000300e0: 2022 202b 2073 7472 2873 656c 662e 6578   " + str(self.ex
+000300f0: 7072 290a 2020 2020 2020 2020 7365 6c66  pr).        self
+00030100: 2e69 676e 6f72 6572 203d 2045 6d70 7479  .ignorer = Empty
+00030110: 2829 2e6c 6561 7665 5f77 6869 7465 7370  ().leave_whitesp
+00030120: 6163 6528 290a 2020 2020 2020 2020 7365  ace().        se
+00030130: 6c66 2e5f 7570 6461 7465 5f69 676e 6f72  lf._update_ignor
+00030140: 6572 2829 0a0a 2020 2020 6465 6620 5f75  er()..    def _u
+00030150: 7064 6174 655f 6967 6e6f 7265 7228 7365  pdate_ignorer(se
+00030160: 6c66 293a 0a20 2020 2020 2020 2023 2072  lf):.        # r
+00030170: 6562 7569 6c64 2069 6e74 6572 6e61 6c20  ebuild internal 
+00030180: 6967 6e6f 7265 2065 7870 7220 6672 6f6d  ignore expr from
+00030190: 2063 7572 7265 6e74 2069 676e 6f72 6520   current ignore 
+000301a0: 6578 7072 7320 616e 6420 6173 7369 676e  exprs and assign
+000301b0: 6564 2069 676e 6f72 6545 7870 720a 2020  ed ignoreExpr.  
+000301c0: 2020 2020 2020 7365 6c66 2e69 676e 6f72        self.ignor
+000301d0: 6572 2e69 676e 6f72 6545 7870 7273 2e63  er.ignoreExprs.c
+000301e0: 6c65 6172 2829 0a20 2020 2020 2020 2066  lear().        f
+000301f0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00030200: 722e 6967 6e6f 7265 4578 7072 733a 0a20  r.ignoreExprs:. 
+00030210: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00030220: 6967 6e6f 7265 722e 6967 6e6f 7265 2865  ignorer.ignore(e
+00030230: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
+00030240: 662e 6967 6e6f 7265 4578 7072 3a0a 2020  f.ignoreExpr:.  
+00030250: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
+00030260: 676e 6f72 6572 2e69 676e 6f72 6528 7365  gnorer.ignore(se
+00030270: 6c66 2e69 676e 6f72 6545 7870 7229 0a0a  lf.ignoreExpr)..
+00030280: 2020 2020 6465 6620 6967 6e6f 7265 2873      def ignore(s
+00030290: 656c 662c 2065 7870 7229 3a0a 2020 2020  elf, expr):.    
+000302a0: 2020 2020 7375 7065 7228 292e 6967 6e6f      super().igno
+000302b0: 7265 2865 7870 7229 0a20 2020 2020 2020  re(expr).       
+000302c0: 2073 656c 662e 5f75 7064 6174 655f 6967   self._update_ig
+000302d0: 6e6f 7265 7228 290a 0a20 2020 2064 6566  norer()..    def
+000302e0: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+000302f0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00030300: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+00030310: 0a20 2020 2020 2020 2073 7461 7274 6c6f  .        startlo
+00030320: 6320 3d20 6c6f 630a 2020 2020 2020 2020  c = loc.        
+00030330: 696e 7374 726c 656e 203d 206c 656e 2869  instrlen = len(i
+00030340: 6e73 7472 696e 6729 0a20 2020 2020 2020  nstring).       
+00030350: 2073 656c 665f 6578 7072 5f70 6172 7365   self_expr_parse
+00030360: 203d 2073 656c 662e 6578 7072 2e5f 7061   = self.expr._pa
+00030370: 7273 650a 2020 2020 2020 2020 7365 6c66  rse.        self
+00030380: 5f66 6169 6c4f 6e5f 6361 6e50 6172 7365  _failOn_canParse
+00030390: 4e65 7874 203d 2028 0a20 2020 2020 2020  Next = (.       
+000303a0: 2020 2020 2073 656c 662e 6661 696c 4f6e       self.failOn
+000303b0: 2e63 616e 5061 7273 654e 6578 7420 6966  .canParseNext if
+000303c0: 2073 656c 662e 6661 696c 4f6e 2069 7320   self.failOn is 
+000303d0: 6e6f 7420 4e6f 6e65 2065 6c73 6520 4e6f  not None else No
+000303e0: 6e65 0a20 2020 2020 2020 2029 0a20 2020  ne.        ).   
+000303f0: 2020 2020 2069 676e 6f72 6572 5f74 7279       ignorer_try
+00030400: 5f70 6172 7365 203d 2073 656c 662e 6967  _parse = self.ig
+00030410: 6e6f 7265 722e 7472 795f 7061 7273 6520  norer.try_parse 
+00030420: 6966 2073 656c 662e 6967 6e6f 7265 722e  if self.ignorer.
+00030430: 6967 6e6f 7265 4578 7072 7320 656c 7365  ignoreExprs else
+00030440: 204e 6f6e 650a 0a20 2020 2020 2020 2074   None..        t
+00030450: 6d70 6c6f 6320 3d20 6c6f 630a 2020 2020  mploc = loc.    
+00030460: 2020 2020 7768 696c 6520 746d 706c 6f63      while tmploc
+00030470: 203c 3d20 696e 7374 726c 656e 3a0a 2020   <= instrlen:.  
+00030480: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+00030490: 665f 6661 696c 4f6e 5f63 616e 5061 7273  f_failOn_canPars
+000304a0: 654e 6578 7420 6973 206e 6f74 204e 6f6e  eNext is not Non
+000304b0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000304c0: 2020 2023 2062 7265 616b 2069 6620 6661     # break if fa
+000304d0: 696c 4f6e 2065 7870 7265 7373 696f 6e20  ilOn expression 
+000304e0: 6d61 7463 6865 730a 2020 2020 2020 2020  matches.        
+000304f0: 2020 2020 2020 2020 6966 2073 656c 665f          if self_
+00030500: 6661 696c 4f6e 5f63 616e 5061 7273 654e  failOn_canParseN
+00030510: 6578 7428 696e 7374 7269 6e67 2c20 746d  ext(instring, tm
+00030520: 706c 6f63 293a 0a20 2020 2020 2020 2020  ploc):.         
+00030530: 2020 2020 2020 2020 2020 2062 7265 616b             break
+00030540: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00030550: 2069 676e 6f72 6572 5f74 7279 5f70 6172   ignorer_try_par
+00030560: 7365 2069 7320 6e6f 7420 4e6f 6e65 3a0a  se is not None:.
+00030570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030580: 2320 6164 7661 6e63 6520 7061 7374 2069  # advance past i
+00030590: 676e 6f72 6520 6578 7072 6573 7369 6f6e  gnore expression
+000305a0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+000305b0: 2020 7072 6576 5f74 6d70 6c6f 6320 3d20    prev_tmploc = 
+000305c0: 746d 706c 6f63 0a20 2020 2020 2020 2020  tmploc.         
+000305d0: 2020 2020 2020 2077 6869 6c65 2031 3a0a         while 1:.
+000305e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000305f0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00030600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030610: 2074 6d70 6c6f 6320 3d20 6967 6e6f 7265   tmploc = ignore
+00030620: 725f 7472 795f 7061 7273 6528 696e 7374  r_try_parse(inst
+00030630: 7269 6e67 2c20 746d 706c 6f63 290a 2020  ring, tmploc).  
+00030640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030650: 2020 6578 6365 7074 2050 6172 7365 4261    except ParseBa
+00030660: 7365 4578 6365 7074 696f 6e3a 0a20 2020  seException:.   
+00030670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030680: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+00030690: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+000306a0: 2073 6565 2069 6620 616c 6c20 6967 6e6f   see if all igno
+000306b0: 7265 7273 206d 6174 6368 6564 2c20 6275  rers matched, bu
+000306c0: 7420 6469 646e 2774 2061 6374 7561 6c6c  t didn't actuall
+000306d0: 7920 6967 6e6f 7265 2061 6e79 7468 696e  y ignore anythin
+000306e0: 670a 2020 2020 2020 2020 2020 2020 2020  g.              
+000306f0: 2020 2020 2020 6966 2074 6d70 6c6f 6320        if tmploc 
+00030700: 3d3d 2070 7265 765f 746d 706c 6f63 3a0a  == prev_tmploc:.
+00030710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030720: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
+00030730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030740: 2020 7072 6576 5f74 6d70 6c6f 6320 3d20    prev_tmploc = 
+00030750: 746d 706c 6f63 0a0a 2020 2020 2020 2020  tmploc..        
+00030760: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00030770: 2020 2020 2020 2020 2073 656c 665f 6578           self_ex
+00030780: 7072 5f70 6172 7365 2869 6e73 7472 696e  pr_parse(instrin
+00030790: 672c 2074 6d70 6c6f 632c 2064 6f41 6374  g, tmploc, doAct
+000307a0: 696f 6e73 3d46 616c 7365 2c20 6361 6c6c  ions=False, call
+000307b0: 5072 6550 6172 7365 3d46 616c 7365 290a  PreParse=False).
+000307c0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+000307d0: 7074 2028 5061 7273 6545 7863 6570 7469  pt (ParseExcepti
+000307e0: 6f6e 2c20 496e 6465 7845 7272 6f72 293a  on, IndexError):
+000307f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00030800: 2023 206e 6f20 6d61 7463 682c 2061 6476   # no match, adv
+00030810: 616e 6365 206c 6f63 2069 6e20 7374 7269  ance loc in stri
+00030820: 6e67 0a20 2020 2020 2020 2020 2020 2020  ng.             
+00030830: 2020 2074 6d70 6c6f 6320 2b3d 2031 0a20     tmploc += 1. 
+00030840: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00030850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00030860: 2023 206d 6174 6368 6564 2073 6b69 7074   # matched skipt
+00030870: 6f20 6578 7072 2c20 646f 6e65 0a20 2020  o expr, done.   
+00030880: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+00030890: 616b 0a0a 2020 2020 2020 2020 656c 7365  ak..        else
+000308a0: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
+000308b0: 7261 6e20 6f66 6620 7468 6520 656e 6420  ran off the end 
+000308c0: 6f66 2074 6865 2069 6e70 7574 2073 7472  of the input str
+000308d0: 696e 6720 7769 7468 6f75 7420 6d61 7463  ing without matc
+000308e0: 6869 6e67 2073 6b69 7074 6f20 6578 7072  hing skipto expr
+000308f0: 2c20 6661 696c 0a20 2020 2020 2020 2020  , fail.         
+00030900: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
+00030910: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
+00030920: 2c20 6c6f 632c 2073 656c 662e 6572 726d  , loc, self.errm
+00030930: 7367 2c20 7365 6c66 290a 0a20 2020 2020  sg, self)..     
+00030940: 2020 2023 2062 7569 6c64 2075 7020 7265     # build up re
+00030950: 7475 726e 2076 616c 7565 730a 2020 2020  turn values.    
+00030960: 2020 2020 6c6f 6320 3d20 746d 706c 6f63      loc = tmploc
+00030970: 0a20 2020 2020 2020 2073 6b69 7074 6578  .        skiptex
+00030980: 7420 3d20 696e 7374 7269 6e67 5b73 7461  t = instring[sta
+00030990: 7274 6c6f 633a 6c6f 635d 0a20 2020 2020  rtloc:loc].     
+000309a0: 2020 2073 6b69 7072 6573 756c 7420 3d20     skipresult = 
+000309b0: 5061 7273 6552 6573 756c 7473 2873 6b69  ParseResults(ski
+000309c0: 7074 6578 7429 0a0a 2020 2020 2020 2020  ptext)..        
+000309d0: 6966 2073 656c 662e 696e 636c 7564 654d  if self.includeM
+000309e0: 6174 6368 3a0a 2020 2020 2020 2020 2020  atch:.          
+000309f0: 2020 6c6f 632c 206d 6174 203d 2073 656c    loc, mat = sel
+00030a00: 665f 6578 7072 5f70 6172 7365 2869 6e73  f_expr_parse(ins
+00030a10: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+00030a20: 7469 6f6e 732c 2063 616c 6c50 7265 5061  tions, callPrePa
+00030a30: 7273 653d 4661 6c73 6529 0a20 2020 2020  rse=False).     
+00030a40: 2020 2020 2020 2073 6b69 7072 6573 756c         skipresul
+00030a50: 7420 2b3d 206d 6174 0a0a 2020 2020 2020  t += mat..      
+00030a60: 2020 7265 7475 726e 206c 6f63 2c20 736b    return loc, sk
+00030a70: 6970 7265 7375 6c74 0a0a 0a63 6c61 7373  ipresult...class
+00030a80: 2046 6f72 7761 7264 2850 6172 7365 456c   Forward(ParseEl
+00030a90: 656d 656e 7445 6e68 616e 6365 293a 0a20  ementEnhance):. 
+00030aa0: 2020 2022 2222 0a20 2020 2046 6f72 7761     """.    Forwa
+00030ab0: 7264 2064 6563 6c61 7261 7469 6f6e 206f  rd declaration o
+00030ac0: 6620 616e 2065 7870 7265 7373 696f 6e20  f an expression 
+00030ad0: 746f 2062 6520 6465 6669 6e65 6420 6c61  to be defined la
+00030ae0: 7465 7220 2d0a 2020 2020 7573 6564 2066  ter -.    used f
+00030af0: 6f72 2072 6563 7572 7369 7665 2067 7261  or recursive gra
+00030b00: 6d6d 6172 732c 2073 7563 6820 6173 2061  mmars, such as a
+00030b10: 6c67 6562 7261 6963 2069 6e66 6978 206e  lgebraic infix n
+00030b20: 6f74 6174 696f 6e2e 0a20 2020 2057 6865  otation..    Whe
+00030b30: 6e20 7468 6520 6578 7072 6573 7369 6f6e  n the expression
+00030b40: 2069 7320 6b6e 6f77 6e2c 2069 7420 6973   is known, it is
+00030b50: 2061 7373 6967 6e65 6420 746f 2074 6865   assigned to the
+00030b60: 2060 6046 6f72 7761 7264 6060 0a20 2020   ``Forward``.   
+00030b70: 2076 6172 6961 626c 6520 7573 696e 6720   variable using 
+00030b80: 7468 6520 6060 273c 3c27 6060 206f 7065  the ``'<<'`` ope
+00030b90: 7261 746f 722e 0a0a 2020 2020 4e6f 7465  rator...    Note
+00030ba0: 3a20 7461 6b65 2063 6172 6520 7768 656e  : take care when
+00030bb0: 2061 7373 6967 6e69 6e67 2074 6f20 6060   assigning to ``
+00030bc0: 466f 7277 6172 6460 6020 6e6f 7420 746f  Forward`` not to
+00030bd0: 206f 7665 726c 6f6f 6b0a 2020 2020 7072   overlook.    pr
+00030be0: 6563 6564 656e 6365 206f 6620 6f70 6572  ecedence of oper
+00030bf0: 6174 6f72 732e 0a0a 2020 2020 5370 6563  ators...    Spec
+00030c00: 6966 6963 616c 6c79 2c20 6060 277c 2760  ifically, ``'|'`
+00030c10: 6020 6861 7320 6120 6c6f 7765 7220 7072  ` has a lower pr
+00030c20: 6563 6564 656e 6365 2074 6861 6e20 6060  ecedence than ``
+00030c30: 273c 3c27 6060 2c20 736f 2074 6861 743a  '<<'``, so that:
+00030c40: 3a0a 0a20 2020 2020 2020 2066 7764 5f65  :..        fwd_e
+00030c50: 7870 7220 3c3c 2061 207c 2062 207c 2063  xpr << a | b | c
+00030c60: 0a0a 2020 2020 7769 6c6c 2061 6374 7561  ..    will actua
+00030c70: 6c6c 7920 6265 2065 7661 6c75 6174 6564  lly be evaluated
+00030c80: 2061 733a 3a0a 0a20 2020 2020 2020 2028   as::..        (
+00030c90: 6677 645f 6578 7072 203c 3c20 6129 207c  fwd_expr << a) |
+00030ca0: 2062 207c 2063 0a0a 2020 2020 7468 6572   b | c..    ther
+00030cb0: 6562 7920 6c65 6176 696e 6720 6220 616e  eby leaving b an
+00030cc0: 6420 6320 6f75 7420 6173 2070 6172 7365  d c out as parse
+00030cd0: 6162 6c65 2061 6c74 6572 6e61 7469 7665  able alternative
+00030ce0: 732e 2020 4974 2069 7320 7265 636f 6d6d  s.  It is recomm
+00030cf0: 656e 6465 6420 7468 6174 2079 6f75 0a20  ended that you. 
+00030d00: 2020 2065 7870 6c69 6369 746c 7920 6772     explicitly gr
+00030d10: 6f75 7020 7468 6520 7661 6c75 6573 2069  oup the values i
+00030d20: 6e73 6572 7465 6420 696e 746f 2074 6865  nserted into the
+00030d30: 2060 6046 6f72 7761 7264 6060 3a3a 0a0a   ``Forward``::..
+00030d40: 2020 2020 2020 2020 6677 645f 6578 7072          fwd_expr
+00030d50: 203c 3c20 2861 207c 2062 207c 2063 290a   << (a | b | c).
+00030d60: 0a20 2020 2043 6f6e 7665 7274 696e 6720  .    Converting 
+00030d70: 746f 2075 7365 2074 6865 2060 6027 3c3c  to use the ``'<<
+00030d80: 3d27 6060 206f 7065 7261 746f 7220 696e  ='`` operator in
+00030d90: 7374 6561 6420 7769 6c6c 2061 766f 6964  stead will avoid
+00030da0: 2074 6869 7320 7072 6f62 6c65 6d2e 0a0a   this problem...
+00030db0: 2020 2020 5365 6520 3a63 6c61 7373 3a60      See :class:`
+00030dc0: 5061 7273 6552 6573 756c 7473 2e70 7072  ParseResults.ppr
+00030dd0: 696e 7460 2066 6f72 2061 6e20 6578 616d  int` for an exam
+00030de0: 706c 6520 6f66 2061 2072 6563 7572 7369  ple of a recursi
+00030df0: 7665 0a20 2020 2070 6172 7365 7220 6372  ve.    parser cr
+00030e00: 6561 7465 6420 7573 696e 6720 6060 466f  eated using ``Fo
+00030e10: 7277 6172 6460 602e 0a20 2020 2022 2222  rward``..    """
+00030e20: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
+00030e30: 5f5f 2873 656c 662c 206f 7468 6572 3a20  __(self, other: 
+00030e40: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
+00030e50: 556e 696f 6e5b 5061 7273 6572 456c 656d  Union[ParserElem
+00030e60: 656e 742c 2073 7472 5d5d 203d 204e 6f6e  ent, str]] = Non
+00030e70: 6529 3a0a 2020 2020 2020 2020 7365 6c66  e):.        self
+00030e80: 2e63 616c 6c65 725f 6672 616d 6520 3d20  .caller_frame = 
+00030e90: 7472 6163 6562 6163 6b2e 6578 7472 6163  traceback.extrac
+00030ea0: 745f 7374 6163 6b28 6c69 6d69 743d 3229  t_stack(limit=2)
+00030eb0: 5b30 5d0a 2020 2020 2020 2020 7375 7065  [0].        supe
+00030ec0: 7228 292e 5f5f 696e 6974 5f5f 286f 7468  r().__init__(oth
+00030ed0: 6572 2c20 7361 7665 6c69 7374 3d46 616c  er, savelist=Fal
+00030ee0: 7365 2920 2023 2074 7970 653a 2069 676e  se)  # type: ign
+00030ef0: 6f72 655b 6172 672d 7479 7065 5d0a 2020  ore[arg-type].  
+00030f00: 2020 2020 2020 7365 6c66 2e6c 7368 6966        self.lshif
+00030f10: 745f 6c69 6e65 203d 204e 6f6e 650a 0a20  t_line = None.. 
+00030f20: 2020 2064 6566 205f 5f6c 7368 6966 745f     def __lshift_
+00030f30: 5f28 7365 6c66 2c20 6f74 6865 7229 202d  _(self, other) -
+00030f40: 3e20 2246 6f72 7761 7264 223a 0a20 2020  > "Forward":.   
+00030f50: 2020 2020 2069 6620 6861 7361 7474 7228       if hasattr(
+00030f60: 7365 6c66 2c20 2263 616c 6c65 725f 6672  self, "caller_fr
+00030f70: 616d 6522 293a 0a20 2020 2020 2020 2020  ame"):.         
+00030f80: 2020 2064 656c 2073 656c 662e 6361 6c6c     del self.call
+00030f90: 6572 5f66 7261 6d65 0a20 2020 2020 2020  er_frame.       
+00030fa0: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
+00030fb0: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
+00030fc0: 0a20 2020 2020 2020 2020 2020 206f 7468  .            oth
+00030fd0: 6572 203d 2073 656c 662e 5f6c 6974 6572  er = self._liter
+00030fe0: 616c 5374 7269 6e67 436c 6173 7328 6f74  alStringClass(ot
+00030ff0: 6865 7229 0a0a 2020 2020 2020 2020 6966  her)..        if
+00031000: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
+00031010: 6f74 6865 722c 2050 6172 7365 7245 6c65  other, ParserEle
+00031020: 6d65 6e74 293a 0a20 2020 2020 2020 2020  ment):.         
+00031030: 2020 2072 6574 7572 6e20 4e6f 7449 6d70     return NotImp
+00031040: 6c65 6d65 6e74 6564 0a0a 2020 2020 2020  lemented..      
+00031050: 2020 7365 6c66 2e65 7870 7220 3d20 6f74    self.expr = ot
+00031060: 6865 720a 2020 2020 2020 2020 7365 6c66  her.        self
+00031070: 2e73 7472 6561 6d6c 696e 6564 203d 206f  .streamlined = o
+00031080: 7468 6572 2e73 7472 6561 6d6c 696e 6564  ther.streamlined
+00031090: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+000310a0: 7949 6e64 6578 4572 726f 7220 3d20 7365  yIndexError = se
+000310b0: 6c66 2e65 7870 722e 6d61 7949 6e64 6578  lf.expr.mayIndex
+000310c0: 4572 726f 720a 2020 2020 2020 2020 7365  Error.        se
+000310d0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
+000310e0: 7920 3d20 7365 6c66 2e65 7870 722e 6d61  y = self.expr.ma
+000310f0: 7952 6574 7572 6e45 6d70 7479 0a20 2020  yReturnEmpty.   
+00031100: 2020 2020 2073 656c 662e 7365 745f 7768       self.set_wh
+00031110: 6974 6573 7061 6365 5f63 6861 7273 280a  itespace_chars(.
+00031120: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00031130: 2e65 7870 722e 7768 6974 6543 6861 7273  .expr.whiteChars
+00031140: 2c20 636f 7079 5f64 6566 6175 6c74 733d  , copy_defaults=
+00031150: 7365 6c66 2e65 7870 722e 636f 7079 4465  self.expr.copyDe
+00031160: 6661 756c 7457 6869 7465 4368 6172 730a  faultWhiteChars.
+00031170: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00031180: 2020 7365 6c66 2e73 6b69 7057 6869 7465    self.skipWhite
+00031190: 7370 6163 6520 3d20 7365 6c66 2e65 7870  space = self.exp
+000311a0: 722e 736b 6970 5768 6974 6573 7061 6365  r.skipWhitespace
+000311b0: 0a20 2020 2020 2020 2073 656c 662e 7361  .        self.sa
+000311c0: 7665 4173 4c69 7374 203d 2073 656c 662e  veAsList = self.
+000311d0: 6578 7072 2e73 6176 6541 734c 6973 740a  expr.saveAsList.
+000311e0: 2020 2020 2020 2020 7365 6c66 2e69 676e          self.ign
+000311f0: 6f72 6545 7870 7273 2e65 7874 656e 6428  oreExprs.extend(
+00031200: 7365 6c66 2e65 7870 722e 6967 6e6f 7265  self.expr.ignore
+00031210: 4578 7072 7329 0a20 2020 2020 2020 2073  Exprs).        s
+00031220: 656c 662e 6c73 6869 6674 5f6c 696e 6520  elf.lshift_line 
+00031230: 3d20 7472 6163 6562 6163 6b2e 6578 7472  = traceback.extr
+00031240: 6163 745f 7374 6163 6b28 6c69 6d69 743d  act_stack(limit=
+00031250: 3229 5b2d 325d 2020 2320 7479 7065 3a20  2)[-2]  # type: 
+00031260: 6967 6e6f 7265 5b61 7373 6967 6e6d 656e  ignore[assignmen
+00031270: 745d 0a20 2020 2020 2020 2072 6574 7572  t].        retur
+00031280: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
+00031290: 5f5f 696c 7368 6966 745f 5f28 7365 6c66  __ilshift__(self
+000312a0: 2c20 6f74 6865 7229 202d 3e20 2246 6f72  , other) -> "For
+000312b0: 7761 7264 223a 0a20 2020 2020 2020 2069  ward":.        i
+000312c0: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
+000312d0: 286f 7468 6572 2c20 5061 7273 6572 456c  (other, ParserEl
+000312e0: 656d 656e 7429 3a0a 2020 2020 2020 2020  ement):.        
+000312f0: 2020 2020 7265 7475 726e 204e 6f74 496d      return NotIm
+00031300: 706c 656d 656e 7465 640a 0a20 2020 2020  plemented..     
+00031310: 2020 2072 6574 7572 6e20 7365 6c66 203c     return self <
+00031320: 3c20 6f74 6865 720a 0a20 2020 2064 6566  < other..    def
+00031330: 205f 5f6f 725f 5f28 7365 6c66 2c20 6f74   __or__(self, ot
+00031340: 6865 7229 202d 3e20 2250 6172 7365 7245  her) -> "ParserE
+00031350: 6c65 6d65 6e74 223a 0a20 2020 2020 2020  lement":.       
+00031360: 2063 616c 6c65 725f 6c69 6e65 203d 2074   caller_line = t
+00031370: 7261 6365 6261 636b 2e65 7874 7261 6374  raceback.extract
+00031380: 5f73 7461 636b 286c 696d 6974 3d32 295b  _stack(limit=2)[
+00031390: 2d32 5d0a 2020 2020 2020 2020 6966 2028  -2].        if (
+000313a0: 0a20 2020 2020 2020 2020 2020 205f 5f64  .            __d
+000313b0: 6961 675f 5f2e 7761 726e 5f6f 6e5f 6d61  iag__.warn_on_ma
+000313c0: 7463 685f 6669 7273 745f 7769 7468 5f6c  tch_first_with_l
+000313d0: 7368 6966 745f 6f70 6572 6174 6f72 0a20  shift_operator. 
+000313e0: 2020 2020 2020 2020 2020 2061 6e64 2063             and c
+000313f0: 616c 6c65 725f 6c69 6e65 203d 3d20 7365  aller_line == se
+00031400: 6c66 2e6c 7368 6966 745f 6c69 6e65 0a20  lf.lshift_line. 
+00031410: 2020 2020 2020 2020 2020 2061 6e64 2044             and D
+00031420: 6961 676e 6f73 7469 6373 2e77 6172 6e5f  iagnostics.warn_
+00031430: 6f6e 5f6d 6174 6368 5f66 6972 7374 5f77  on_match_first_w
+00031440: 6974 685f 6c73 6869 6674 5f6f 7065 7261  ith_lshift_opera
+00031450: 746f 720a 2020 2020 2020 2020 2020 2020  tor.            
+00031460: 6e6f 7420 696e 2073 656c 662e 7375 7070  not in self.supp
+00031470: 7265 7373 5f77 6172 6e69 6e67 735f 0a20  ress_warnings_. 
+00031480: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
+00031490: 2020 2020 2020 7761 726e 696e 6773 2e77        warnings.w
+000314a0: 6172 6e28 0a20 2020 2020 2020 2020 2020  arn(.           
+000314b0: 2020 2020 2022 7573 696e 6720 273c 3c27       "using '<<'
+000314c0: 206f 7065 7261 746f 7220 7769 7468 2027   operator with '
+000314d0: 7c27 2069 7320 7072 6f62 6162 6c79 2061  |' is probably a
+000314e0: 6e20 6572 726f 722c 2075 7365 2027 3c3c  n error, use '<<
+000314f0: 3d27 222c 0a20 2020 2020 2020 2020 2020  ='",.           
+00031500: 2020 2020 2073 7461 636b 6c65 7665 6c3d       stacklevel=
+00031510: 322c 0a20 2020 2020 2020 2020 2020 2029  2,.            )
+00031520: 0a20 2020 2020 2020 2072 6574 203d 2073  .        ret = s
+00031530: 7570 6572 2829 2e5f 5f6f 725f 5f28 6f74  uper().__or__(ot
+00031540: 6865 7229 0a20 2020 2020 2020 2072 6574  her).        ret
+00031550: 7572 6e20 7265 740a 0a20 2020 2064 6566  urn ret..    def
+00031560: 205f 5f64 656c 5f5f 2873 656c 6629 3a0a   __del__(self):.
+00031570: 2020 2020 2020 2020 2320 7365 6520 6966          # see if
+00031580: 2077 6520 6172 6520 6765 7474 696e 6720   we are getting 
+00031590: 6472 6f70 7065 6420 6265 6361 7573 6520  dropped because 
+000315a0: 6f66 2027 3d27 2072 6561 7373 6967 6e6d  of '=' reassignm
+000315b0: 656e 7420 6f66 2076 6172 2069 6e73 7465  ent of var inste
+000315c0: 6164 206f 6620 273c 3c3d 2720 6f72 2027  ad of '<<=' or '
+000315d0: 3c3c 270a 2020 2020 2020 2020 6966 2028  <<'.        if (
+000315e0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000315f0: 662e 6578 7072 2069 7320 4e6f 6e65 0a20  f.expr is None. 
+00031600: 2020 2020 2020 2020 2020 2061 6e64 205f             and _
+00031610: 5f64 6961 675f 5f2e 7761 726e 5f6f 6e5f  _diag__.warn_on_
+00031620: 6173 7369 676e 6d65 6e74 5f74 6f5f 466f  assignment_to_Fo
+00031630: 7277 6172 640a 2020 2020 2020 2020 2020  rward.          
+00031640: 2020 616e 6420 4469 6167 6e6f 7374 6963    and Diagnostic
+00031650: 732e 7761 726e 5f6f 6e5f 6173 7369 676e  s.warn_on_assign
+00031660: 6d65 6e74 5f74 6f5f 466f 7277 6172 6420  ment_to_Forward 
+00031670: 6e6f 7420 696e 2073 656c 662e 7375 7070  not in self.supp
+00031680: 7265 7373 5f77 6172 6e69 6e67 735f 0a20  ress_warnings_. 
+00031690: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
+000316a0: 2020 2020 2020 7761 726e 696e 6773 2e77        warnings.w
+000316b0: 6172 6e5f 6578 706c 6963 6974 280a 2020  arn_explicit(.  
+000316c0: 2020 2020 2020 2020 2020 2020 2020 2246                "F
+000316d0: 6f72 7761 7264 2064 6566 696e 6564 2068  orward defined h
+000316e0: 6572 6520 6275 7420 6e6f 2065 7870 7265  ere but no expre
+000316f0: 7373 696f 6e20 6174 7461 6368 6564 206c  ssion attached l
+00031700: 6174 6572 2075 7369 6e67 2027 3c3c 3d27  ater using '<<='
+00031710: 206f 7220 273c 3c27 222c 0a20 2020 2020   or '<<'",.     
+00031720: 2020 2020 2020 2020 2020 2055 7365 7257             UserW
+00031730: 6172 6e69 6e67 2c0a 2020 2020 2020 2020  arning,.        
+00031740: 2020 2020 2020 2020 6669 6c65 6e61 6d65          filename
+00031750: 3d73 656c 662e 6361 6c6c 6572 5f66 7261  =self.caller_fra
+00031760: 6d65 2e66 696c 656e 616d 652c 0a20 2020  me.filename,.   
+00031770: 2020 2020 2020 2020 2020 2020 206c 696e               lin
+00031780: 656e 6f3d 7365 6c66 2e63 616c 6c65 725f  eno=self.caller_
+00031790: 6672 616d 652e 6c69 6e65 6e6f 2c0a 2020  frame.lineno,.  
+000317a0: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
+000317b0: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+000317c0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+000317d0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+000317e0: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
+000317f0: 280a 2020 2020 2020 2020 2020 2020 7365  (.            se
+00031800: 6c66 2e65 7870 7220 6973 204e 6f6e 650a  lf.expr is None.
+00031810: 2020 2020 2020 2020 2020 2020 616e 6420              and 
+00031820: 5f5f 6469 6167 5f5f 2e77 6172 6e5f 6f6e  __diag__.warn_on
+00031830: 5f70 6172 7365 5f75 7369 6e67 5f65 6d70  _parse_using_emp
+00031840: 7479 5f46 6f72 7761 7264 0a20 2020 2020  ty_Forward.     
+00031850: 2020 2020 2020 2061 6e64 2044 6961 676e         and Diagn
+00031860: 6f73 7469 6373 2e77 6172 6e5f 6f6e 5f70  ostics.warn_on_p
+00031870: 6172 7365 5f75 7369 6e67 5f65 6d70 7479  arse_using_empty
+00031880: 5f46 6f72 7761 7264 0a20 2020 2020 2020  _Forward.       
+00031890: 2020 2020 206e 6f74 2069 6e20 7365 6c66       not in self
+000318a0: 2e73 7570 7072 6573 735f 7761 726e 696e  .suppress_warnin
+000318b0: 6773 5f0a 2020 2020 2020 2020 293a 0a20  gs_.        ):. 
+000318c0: 2020 2020 2020 2020 2020 2023 2077 616c             # wal
+000318d0: 6b20 7374 6163 6b20 756e 7469 6c20 7061  k stack until pa
+000318e0: 7273 655f 7374 7269 6e67 2c20 7363 616e  rse_string, scan
+000318f0: 5f73 7472 696e 672c 2073 6561 7263 685f  _string, search_
+00031900: 7374 7269 6e67 2c20 6f72 2074 7261 6e73  string, or trans
+00031910: 666f 726d 5f73 7472 696e 6720 6973 2066  form_string is f
+00031920: 6f75 6e64 0a20 2020 2020 2020 2020 2020  ound.           
+00031930: 2070 6172 7365 5f66 6e73 203d 2028 0a20   parse_fns = (. 
+00031940: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00031950: 7061 7273 655f 7374 7269 6e67 222c 0a20  parse_string",. 
+00031960: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00031970: 7363 616e 5f73 7472 696e 6722 2c0a 2020  scan_string",.  
+00031980: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00031990: 6561 7263 685f 7374 7269 6e67 222c 0a20  earch_string",. 
+000319a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000319b0: 7472 616e 7366 6f72 6d5f 7374 7269 6e67  transform_string
+000319c0: 222c 0a20 2020 2020 2020 2020 2020 2029  ",.            )
+000319d0: 0a20 2020 2020 2020 2020 2020 2074 6220  .            tb 
+000319e0: 3d20 7472 6163 6562 6163 6b2e 6578 7472  = traceback.extr
+000319f0: 6163 745f 7374 6163 6b28 6c69 6d69 743d  act_stack(limit=
+00031a00: 3230 3029 0a20 2020 2020 2020 2020 2020  200).           
+00031a10: 2066 6f72 2069 2c20 6672 6d20 696e 2065   for i, frm in e
+00031a20: 6e75 6d65 7261 7465 2872 6576 6572 7365  numerate(reverse
+00031a30: 6428 7462 292c 2073 7461 7274 3d31 293a  d(tb), start=1):
+00031a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031a50: 2069 6620 6672 6d2e 6e61 6d65 2069 6e20   if frm.name in 
+00031a60: 7061 7273 655f 666e 733a 0a20 2020 2020  parse_fns:.     
+00031a70: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00031a80: 7461 636b 6c65 7665 6c20 3d20 6920 2b20  tacklevel = i + 
+00031a90: 310a 2020 2020 2020 2020 2020 2020 2020  1.              
+00031aa0: 2020 2020 2020 6272 6561 6b0a 2020 2020        break.    
+00031ab0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00031ac0: 2020 2020 2020 2020 2020 2020 2020 7374                st
+00031ad0: 6163 6b6c 6576 656c 203d 2032 0a20 2020  acklevel = 2.   
+00031ae0: 2020 2020 2020 2020 2077 6172 6e69 6e67           warning
+00031af0: 732e 7761 726e 280a 2020 2020 2020 2020  s.warn(.        
+00031b00: 2020 2020 2020 2020 2246 6f72 7761 7264          "Forward
+00031b10: 2065 7870 7265 7373 696f 6e20 7761 7320   expression was 
+00031b20: 6e65 7665 7220 6173 7369 676e 6564 2061  never assigned a
+00031b30: 2076 616c 7565 2c20 7769 6c6c 206e 6f74   value, will not
+00031b40: 2070 6172 7365 2061 6e79 2069 6e70 7574   parse any input
+00031b50: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00031b60: 2020 2073 7461 636b 6c65 7665 6c3d 7374     stacklevel=st
+00031b70: 6163 6b6c 6576 656c 2c0a 2020 2020 2020  acklevel,.      
+00031b80: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00031b90: 6966 206e 6f74 2050 6172 7365 7245 6c65  if not ParserEle
+00031ba0: 6d65 6e74 2e5f 6c65 6674 5f72 6563 7572  ment._left_recur
+00031bb0: 7369 6f6e 5f65 6e61 626c 6564 3a0a 2020  sion_enabled:.  
+00031bc0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00031bd0: 2073 7570 6572 2829 2e70 6172 7365 496d   super().parseIm
+00031be0: 706c 2869 6e73 7472 696e 672c 206c 6f63  pl(instring, loc
+00031bf0: 2c20 646f 4163 7469 6f6e 7329 0a20 2020  , doActions).   
+00031c00: 2020 2020 2023 2023 2320 426f 756e 6465       # ## Bounde
+00031c10: 6420 5265 6375 7273 696f 6e20 616c 676f  d Recursion algo
+00031c20: 7269 7468 6d20 2323 0a20 2020 2020 2020  rithm ##.       
+00031c30: 2023 2052 6563 7572 7369 6f6e 206f 6e6c   # Recursion onl
+00031c40: 7920 6e65 6564 7320 746f 2062 6520 7072  y needs to be pr
+00031c50: 6f63 6573 7365 6420 6174 2060 6046 6f72  ocessed at ``For
+00031c60: 7761 7264 6060 2065 6c65 6d65 6e74 732c  ward`` elements,
+00031c70: 2073 696e 6365 2074 6865 7920 6172 650a   since they are.
+00031c80: 2020 2020 2020 2020 2320 7468 6520 6f6e          # the on
+00031c90: 6c79 206f 6e65 7320 7468 6174 2063 616e  ly ones that can
+00031ca0: 2061 6374 7561 6c6c 7920 7265 6665 7220   actually refer 
+00031cb0: 746f 2074 6865 6d73 656c 7665 732e 2054  to themselves. T
+00031cc0: 6865 2067 656e 6572 616c 2069 6465 6120  he general idea 
+00031cd0: 6973 0a20 2020 2020 2020 2023 2074 6f20  is.        # to 
+00031ce0: 6861 6e64 6c65 2072 6563 7572 7369 6f6e  handle recursion
+00031cf0: 2073 7465 7077 6973 653a 2057 6520 7374   stepwise: We st
+00031d00: 6172 7420 6174 206e 6f20 7265 6375 7273  art at no recurs
+00031d10: 696f 6e2c 2074 6865 6e20 7265 6375 7273  ion, then recurs
+00031d20: 6520 6f6e 6365 2c0a 2020 2020 2020 2020  e once,.        
+00031d30: 2320 7265 6375 7273 6520 7477 6963 652c  # recurse twice,
+00031d40: 202e 2e2e 2c20 756e 7469 6c20 6d6f 7265   ..., until more
+00031d50: 2072 6563 7572 7369 6f6e 206f 6666 6572   recursion offer
+00031d60: 7320 6e6f 2062 656e 6566 6974 2028 7765  s no benefit (we
+00031d70: 2068 6974 2074 6865 2062 6f75 6e64 292e   hit the bound).
+00031d80: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
+00031d90: 2020 2023 2054 6865 2022 7472 6963 6b22     # The "trick"
+00031da0: 2068 6572 6520 6973 2074 6861 7420 6561   here is that ea
+00031db0: 6368 2060 6046 6f72 7761 7264 6060 2067  ch ``Forward`` g
+00031dc0: 6574 7320 6576 616c 7561 7465 6420 696e  ets evaluated in
+00031dd0: 2074 776f 2063 6f6e 7465 7874 730a 2020   two contexts.  
+00031de0: 2020 2020 2020 2320 2d20 746f 202a 6d61        # - to *ma
+00031df0: 7463 682a 2061 2073 7065 6369 6669 6320  tch* a specific 
+00031e00: 7265 6375 7273 696f 6e20 6c65 7665 6c2c  recursion level,
+00031e10: 2061 6e64 0a20 2020 2020 2020 2023 202d   and.        # -
+00031e20: 2074 6f20 2a73 6561 7263 682a 2074 6865   to *search* the
+00031e30: 2062 6f75 6e64 6564 2072 6563 7572 7369   bounded recursi
+00031e40: 6f6e 206c 6576 656c 0a20 2020 2020 2020  on level.       
+00031e50: 2023 2061 6e64 2074 6865 2074 776f 2072   # and the two r
+00031e60: 756e 2063 6f6e 6375 7272 656e 746c 792e  un concurrently.
+00031e70: 2054 6865 202a 7365 6172 6368 2a20 6d75   The *search* mu
+00031e80: 7374 202a 6d61 7463 682a 2065 6163 6820  st *match* each 
+00031e90: 7265 6375 7273 696f 6e20 6c65 7665 6c0a  recursion level.
+00031ea0: 2020 2020 2020 2020 2320 746f 2066 696e          # to fin
+00031eb0: 6420 7468 6520 6265 7374 2070 6f73 7369  d the best possi
+00031ec0: 626c 6520 6d61 7463 682e 2054 6869 7320  ble match. This 
+00031ed0: 6973 2068 616e 646c 6564 2062 7920 6120  is handled by a 
+00031ee0: 6d65 6d6f 2074 6162 6c65 2c20 7768 6963  memo table, whic
+00031ef0: 680a 2020 2020 2020 2020 2320 7072 6f76  h.        # prov
+00031f00: 6964 6573 2074 6865 2070 7265 7669 6f75  ides the previou
+00031f10: 7320 6d61 7463 6820 746f 2074 6865 206e  s match to the n
+00031f20: 6578 7420 6c65 7665 6c20 6d61 7463 6820  ext level match 
+00031f30: 6174 7465 6d70 742e 0a20 2020 2020 2020  attempt..       
+00031f40: 2023 0a20 2020 2020 2020 2023 2053 6565   #.        # See
+00031f50: 2061 6c73 6f20 224c 6566 7420 5265 6375   also "Left Recu
+00031f60: 7273 696f 6e20 696e 2050 6172 7369 6e67  rsion in Parsing
+00031f70: 2045 7870 7265 7373 696f 6e20 4772 616d   Expression Gram
+00031f80: 6d61 7273 222c 204d 6564 6569 726f 7320  mars", Medeiros 
+00031f90: 6574 2061 6c2e 0a20 2020 2020 2020 2023  et al..        #
+00031fa0: 0a20 2020 2020 2020 2023 2054 6865 7265  .        # There
+00031fb0: 2069 7320 6120 636f 6d70 6c69 6361 7469   is a complicati
+00031fc0: 6f6e 2073 696e 6365 2077 6520 6e6f 7420  on since we not 
+00031fd0: 6f6e 6c79 202a 7061 7273 652a 2062 7574  only *parse* but
+00031fe0: 2061 6c73 6f20 2a74 7261 6e73 666f 726d   also *transform
+00031ff0: 2a20 7669 610a 2020 2020 2020 2020 2320  * via.        # 
+00032000: 6163 7469 6f6e 733a 2057 6520 646f 206e  actions: We do n
+00032010: 6f74 2077 616e 7420 746f 2072 756e 2074  ot want to run t
+00032020: 6865 2061 6374 696f 6e73 2074 6f6f 206f  he actions too o
+00032030: 6674 656e 2077 6869 6c65 2065 7870 616e  ften while expan
+00032040: 6469 6e67 2e20 5468 7573 2c0a 2020 2020  ding. Thus,.    
+00032050: 2020 2020 2320 7765 2065 7870 616e 6420      # we expand 
+00032060: 7573 696e 6720 6064 6f41 6374 696f 6e73  using `doActions
+00032070: 3d46 616c 7365 6020 616e 6420 6f6e 6c79  =False` and only
+00032080: 2072 756e 2060 646f 4163 7469 6f6e 733d   run `doActions=
+00032090: 5472 7565 6020 6966 2074 6865 206e 6578  True` if the nex
+000320a0: 740a 2020 2020 2020 2020 2320 7265 6375  t.        # recu
+000320b0: 7273 696f 6e20 6c65 7665 6c20 6973 2061  rsion level is a
+000320c0: 6363 6570 7461 626c 652e 0a20 2020 2020  cceptable..     
+000320d0: 2020 2077 6974 6820 5061 7273 6572 456c     with ParserEl
+000320e0: 656d 656e 742e 7265 6375 7273 696f 6e5f  ement.recursion_
+000320f0: 6c6f 636b 3a0a 2020 2020 2020 2020 2020  lock:.          
+00032100: 2020 6d65 6d6f 203d 2050 6172 7365 7245    memo = ParserE
+00032110: 6c65 6d65 6e74 2e72 6563 7572 7369 6f6e  lement.recursion
+00032120: 5f6d 656d 6f73 0a20 2020 2020 2020 2020  _memos.         
+00032130: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00032140: 2020 2020 2020 2020 2320 7765 2061 7265          # we are
+00032150: 2070 6172 7369 6e67 2061 7420 6120 7370   parsing at a sp
+00032160: 6563 6966 6963 2072 6563 7572 7369 6f6e  ecific recursion
+00032170: 2065 7870 616e 7369 6f6e 202d 2075 7365   expansion - use
+00032180: 2069 7420 6173 2d69 730a 2020 2020 2020   it as-is.      
+00032190: 2020 2020 2020 2020 2020 7072 6576 5f6c            prev_l
+000321a0: 6f63 2c20 7072 6576 5f72 6573 756c 7420  oc, prev_result 
+000321b0: 3d20 6d65 6d6f 5b6c 6f63 2c20 7365 6c66  = memo[loc, self
+000321c0: 2c20 646f 4163 7469 6f6e 735d 0a20 2020  , doActions].   
+000321d0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000321e0: 6973 696e 7374 616e 6365 2870 7265 765f  isinstance(prev_
+000321f0: 7265 7375 6c74 2c20 4578 6365 7074 696f  result, Exceptio
+00032200: 6e29 3a0a 2020 2020 2020 2020 2020 2020  n):.            
+00032210: 2020 2020 2020 2020 7261 6973 6520 7072          raise pr
+00032220: 6576 5f72 6573 756c 740a 2020 2020 2020  ev_result.      
+00032230: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00032240: 2070 7265 765f 6c6f 632c 2070 7265 765f   prev_loc, prev_
+00032250: 7265 7375 6c74 2e63 6f70 7928 290a 2020  result.copy().  
+00032260: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00032270: 204b 6579 4572 726f 723a 0a20 2020 2020   KeyError:.     
+00032280: 2020 2020 2020 2020 2020 2061 6374 5f6b             act_k
+00032290: 6579 203d 2028 6c6f 632c 2073 656c 662c  ey = (loc, self,
+000322a0: 2054 7275 6529 0a20 2020 2020 2020 2020   True).         
+000322b0: 2020 2020 2020 2070 6565 6b5f 6b65 7920         peek_key 
+000322c0: 3d20 286c 6f63 2c20 7365 6c66 2c20 4661  = (loc, self, Fa
+000322d0: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
+000322e0: 2020 2020 2023 2077 6520 6172 6520 7365       # we are se
+000322f0: 6172 6368 696e 6720 666f 7220 7468 6520  arching for the 
+00032300: 6265 7374 2072 6563 7572 7369 6f6e 2065  best recursion e
+00032310: 7870 616e 7369 6f6e 202d 206b 6565 7020  xpansion - keep 
+00032320: 6f6e 2069 6d70 726f 7669 6e67 0a20 2020  on improving.   
+00032330: 2020 2020 2020 2020 2020 2020 2023 2062               # b
+00032340: 6f74 6820 6064 6f41 6374 696f 6e73 6020  oth `doActions` 
+00032350: 6361 7365 7320 6d75 7374 2062 6520 7472  cases must be tr
+00032360: 6163 6b65 6420 7365 7061 7261 7465 6c79  acked separately
+00032370: 2068 6572 6521 0a20 2020 2020 2020 2020   here!.         
+00032380: 2020 2020 2020 2070 7265 765f 6c6f 632c         prev_loc,
+00032390: 2070 7265 765f 7065 656b 203d 206d 656d   prev_peek = mem
+000323a0: 6f5b 7065 656b 5f6b 6579 5d20 3d20 280a  o[peek_key] = (.
+000323b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000323c0: 2020 2020 6c6f 6320 2d20 312c 0a20 2020      loc - 1,.   
+000323d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000323e0: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
+000323f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00032400: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
+00032410: 672c 206c 6f63 2c20 2246 6f72 7761 7264  g, loc, "Forward
+00032420: 2072 6563 7572 7369 6f6e 2077 6974 686f   recursion witho
+00032430: 7574 2062 6173 6520 6361 7365 222c 2073  ut base case", s
+00032440: 656c 660a 2020 2020 2020 2020 2020 2020  elf.            
+00032450: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+00032460: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00032470: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00032480: 646f 4163 7469 6f6e 733a 0a20 2020 2020  doActions:.     
+00032490: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+000324a0: 656d 6f5b 6163 745f 6b65 795d 203d 206d  emo[act_key] = m
+000324b0: 656d 6f5b 7065 656b 5f6b 6579 5d0a 2020  emo[peek_key].  
+000324c0: 2020 2020 2020 2020 2020 2020 2020 7768                wh
+000324d0: 696c 6520 5472 7565 3a0a 2020 2020 2020  ile True:.      
+000324e0: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+000324f0: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+00032500: 2020 2020 2020 2020 2020 206e 6577 5f6c             new_l
+00032510: 6f63 2c20 6e65 775f 7065 656b 203d 2073  oc, new_peek = s
+00032520: 7570 6572 2829 2e70 6172 7365 496d 706c  uper().parseImpl
+00032530: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+00032540: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
+00032550: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00032560: 7420 5061 7273 6545 7863 6570 7469 6f6e  t ParseException
+00032570: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00032580: 2020 2020 2020 2020 2020 2320 7765 2066            # we f
+00032590: 6169 6c65 6420 6265 666f 7265 2067 6574  ailed before get
+000325a0: 7469 6e67 2061 6e79 206d 6174 6368 20e2  ting any match .
+000325b0: 8093 2064 6f20 6e6f 7420 6869 6465 2074  .. do not hide t
+000325c0: 6865 2065 7272 6f72 0a20 2020 2020 2020  he error.       
+000325d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000325e0: 2069 6620 6973 696e 7374 616e 6365 2870   if isinstance(p
+000325f0: 7265 765f 7065 656b 2c20 4578 6365 7074  rev_peek, Except
+00032600: 696f 6e29 3a0a 2020 2020 2020 2020 2020  ion):.          
+00032610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032620: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
+00032630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032640: 6e65 775f 6c6f 632c 206e 6577 5f70 6565  new_loc, new_pee
+00032650: 6b20 3d20 7072 6576 5f6c 6f63 2c20 7072  k = prev_loc, pr
+00032660: 6576 5f70 6565 6b0a 2020 2020 2020 2020  ev_peek.        
+00032670: 2020 2020 2020 2020 2020 2020 2320 7468              # th
+00032680: 6520 6d61 7463 6820 6469 6420 6e6f 7420  e match did not 
+00032690: 6765 7420 6265 7474 6572 3a20 7765 2061  get better: we a
+000326a0: 7265 2064 6f6e 650a 2020 2020 2020 2020  re done.        
+000326b0: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+000326c0: 6577 5f6c 6f63 203c 3d20 7072 6576 5f6c  ew_loc <= prev_l
+000326d0: 6f63 3a0a 2020 2020 2020 2020 2020 2020  oc:.            
+000326e0: 2020 2020 2020 2020 2020 2020 6966 2064              if d
+000326f0: 6f41 6374 696f 6e73 3a0a 2020 2020 2020  oActions:.      
+00032700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032710: 2020 2020 2020 2320 7265 706c 6163 6520        # replace 
+00032720: 7468 6520 6d61 7463 6820 666f 7220 646f  the match for do
+00032730: 4163 7469 6f6e 733d 4661 6c73 6520 6173  Actions=False as
+00032740: 2077 656c 6c2c 0a20 2020 2020 2020 2020   well,.         
+00032750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032760: 2020 2023 2069 6e20 6361 7365 2074 6865     # in case the
+00032770: 2061 6374 696f 6e20 6469 6420 6261 636b   action did back
+00032780: 7472 6163 6b0a 2020 2020 2020 2020 2020  track.          
+00032790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000327a0: 2020 7072 6576 5f6c 6f63 2c20 7072 6576    prev_loc, prev
+000327b0: 5f72 6573 756c 7420 3d20 6d65 6d6f 5b70  _result = memo[p
+000327c0: 6565 6b5f 6b65 795d 203d 206d 656d 6f5b  eek_key] = memo[
+000327d0: 6163 745f 6b65 795d 0a20 2020 2020 2020  act_key].       
+000327e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000327f0: 2020 2020 2064 656c 206d 656d 6f5b 7065       del memo[pe
+00032800: 656b 5f6b 6579 5d2c 206d 656d 6f5b 6163  ek_key], memo[ac
+00032810: 745f 6b65 795d 0a20 2020 2020 2020 2020  t_key].         
+00032820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032830: 2020 2072 6574 7572 6e20 7072 6576 5f6c     return prev_l
+00032840: 6f63 2c20 7072 6576 5f72 6573 756c 742e  oc, prev_result.
+00032850: 636f 7079 2829 0a20 2020 2020 2020 2020  copy().         
+00032860: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00032870: 656c 206d 656d 6f5b 7065 656b 5f6b 6579  el memo[peek_key
+00032880: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+00032890: 2020 2020 2020 2020 2020 7265 7475 726e            return
+000328a0: 2070 7265 765f 6c6f 632c 2070 7265 765f   prev_loc, prev_
+000328b0: 7065 656b 2e63 6f70 7928 290a 2020 2020  peek.copy().    
+000328c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000328d0: 2320 7468 6520 6d61 7463 6820 6469 6420  # the match did 
+000328e0: 6765 7420 6265 7474 6572 3a20 7365 6520  get better: see 
+000328f0: 6966 2077 6520 6361 6e20 696d 7072 6f76  if we can improv
+00032900: 6520 6675 7274 6865 720a 2020 2020 2020  e further.      
+00032910: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00032920: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00032930: 2020 2020 2020 2020 2020 2020 6966 2064              if d
+00032940: 6f41 6374 696f 6e73 3a0a 2020 2020 2020  oActions:.      
+00032950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032960: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00032970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032980: 2020 2020 2020 2020 2020 206d 656d 6f5b             memo[
+00032990: 6163 745f 6b65 795d 203d 2073 7570 6572  act_key] = super
+000329a0: 2829 2e70 6172 7365 496d 706c 2869 6e73  ().parseImpl(ins
+000329b0: 7472 696e 672c 206c 6f63 2c20 5472 7565  tring, loc, True
+000329c0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000329d0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+000329e0: 6365 7074 2050 6172 7365 4578 6365 7074  cept ParseExcept
+000329f0: 696f 6e20 6173 2065 3a0a 2020 2020 2020  ion as e:.      
+00032a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032a10: 2020 2020 2020 2020 2020 6d65 6d6f 5b70            memo[p
+00032a20: 6565 6b5f 6b65 795d 203d 206d 656d 6f5b  eek_key] = memo[
+00032a30: 6163 745f 6b65 795d 203d 2028 6e65 775f  act_key] = (new_
+00032a40: 6c6f 632c 2065 290a 2020 2020 2020 2020  loc, e).        
 00032a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032a60: 2274 6861 7420 6861 7320 6e6f 2063 6f6e  "that has no con
-00032a70: 7461 696e 6564 2065 7870 7265 7373 696f  tained expressio
-00032a80: 6e22 2e66 6f72 6d61 7428 0a20 2020 2020  n".format(.     
-00032a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032aa0: 2020 2022 7761 726e 5f6e 616d 655f 7365     "warn_name_se
-00032ab0: 745f 6f6e 5f65 6d70 7479 5f46 6f72 7761  t_on_empty_Forwa
-00032ac0: 7264 222c 206e 616d 652c 2074 7970 6528  rd", name, type(
-00032ad0: 7365 6c66 292e 5f5f 6e61 6d65 5f5f 0a20  self).__name__. 
-00032ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032af0: 2020 2029 2c0a 2020 2020 2020 2020 2020     ),.          
-00032b00: 2020 2020 2020 2020 2020 7374 6163 6b6c            stackl
-00032b10: 6576 656c 3d33 2c0a 2020 2020 2020 2020  evel=3,.        
-00032b20: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-00032b30: 2020 2072 6574 7572 6e20 7375 7065 7228     return super(
-00032b40: 292e 5f73 6574 5265 7375 6c74 734e 616d  )._setResultsNam
-00032b50: 6528 6e61 6d65 2c20 6c69 7374 5f61 6c6c  e(name, list_all
-00032b60: 5f6d 6174 6368 6573 290a 0a20 2020 2023  _matches)..    #
-00032b70: 2043 6f6d 7061 7469 6269 6c69 7479 2073   Compatibility s
-00032b80: 796e 6f6e 796d 730a 2020 2020 2320 666d  ynonyms.    # fm
-00032b90: 743a 206f 6666 0a20 2020 2040 7265 706c  t: off.    @repl
-00032ba0: 6163 6564 5f62 795f 7065 7038 286c 6561  aced_by_pep8(lea
-00032bb0: 7665 5f77 6869 7465 7370 6163 6529 0a20  ve_whitespace). 
-00032bc0: 2020 2064 6566 206c 6561 7665 5768 6974     def leaveWhit
-00032bd0: 6573 7061 6365 2873 656c 6629 3a20 2e2e  espace(self): ..
-00032be0: 2e0a 0a20 2020 2040 7265 706c 6163 6564  ...    @replaced
-00032bf0: 5f62 795f 7065 7038 2869 676e 6f72 655f  _by_pep8(ignore_
-00032c00: 7768 6974 6573 7061 6365 290a 2020 2020  whitespace).    
-00032c10: 6465 6620 6967 6e6f 7265 5768 6974 6573  def ignoreWhites
-00032c20: 7061 6365 2873 656c 6629 3a20 2e2e 2e0a  pace(self): ....
-00032c30: 2020 2020 2320 666d 743a 206f 6e0a 0a0a      # fmt: on...
-00032c40: 636c 6173 7320 546f 6b65 6e43 6f6e 7665  class TokenConve
-00032c50: 7274 6572 2850 6172 7365 456c 656d 656e  rter(ParseElemen
-00032c60: 7445 6e68 616e 6365 293a 0a20 2020 2022  tEnhance):.    "
-00032c70: 2222 0a20 2020 2041 6273 7472 6163 7420  "".    Abstract 
-00032c80: 7375 6263 6c61 7373 206f 6620 3a63 6c61  subclass of :cla
-00032c90: 7373 3a60 5061 7273 6545 7870 7265 7373  ss:`ParseExpress
-00032ca0: 696f 6e60 2c20 666f 7220 636f 6e76 6572  ion`, for conver
-00032cb0: 7469 6e67 2070 6172 7365 6420 7265 7375  ting parsed resu
-00032cc0: 6c74 732e 0a20 2020 2022 2222 0a0a 2020  lts..    """..  
-00032cd0: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-00032ce0: 656c 662c 2065 7870 723a 2055 6e69 6f6e  elf, expr: Union
-00032cf0: 5b50 6172 7365 7245 6c65 6d65 6e74 2c20  [ParserElement, 
-00032d00: 7374 725d 2c20 7361 7665 6c69 7374 3d46  str], savelist=F
-00032d10: 616c 7365 293a 0a20 2020 2020 2020 2073  alse):.        s
-00032d20: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-00032d30: 6578 7072 2920 2023 202c 2073 6176 656c  expr)  # , savel
-00032d40: 6973 7429 0a20 2020 2020 2020 2073 656c  ist).        sel
-00032d50: 662e 7361 7665 4173 4c69 7374 203d 2046  f.saveAsList = F
-00032d60: 616c 7365 0a0a 0a63 6c61 7373 2043 6f6d  alse...class Com
-00032d70: 6269 6e65 2854 6f6b 656e 436f 6e76 6572  bine(TokenConver
-00032d80: 7465 7229 3a0a 2020 2020 2222 2243 6f6e  ter):.    """Con
-00032d90: 7665 7274 6572 2074 6f20 636f 6e63 6174  verter to concat
-00032da0: 656e 6174 6520 616c 6c20 6d61 7463 6869  enate all matchi
-00032db0: 6e67 2074 6f6b 656e 7320 746f 2061 2073  ng tokens to a s
-00032dc0: 696e 676c 6520 7374 7269 6e67 2e0a 2020  ingle string..  
-00032dd0: 2020 4279 2064 6566 6175 6c74 2c20 7468    By default, th
-00032de0: 6520 6d61 7463 6869 6e67 2070 6174 7465  e matching patte
-00032df0: 726e 7320 6d75 7374 2061 6c73 6f20 6265  rns must also be
-00032e00: 2063 6f6e 7469 6775 6f75 7320 696e 2074   contiguous in t
-00032e10: 6865 0a20 2020 2069 6e70 7574 2073 7472  he.    input str
-00032e20: 696e 673b 2074 6869 7320 6361 6e20 6265  ing; this can be
-00032e30: 2064 6973 6162 6c65 6420 6279 2073 7065   disabled by spe
-00032e40: 6369 6679 696e 670a 2020 2020 6060 2761  cifying.    ``'a
-00032e50: 646a 6163 656e 743d 4661 6c73 6527 6060  djacent=False'``
-00032e60: 2069 6e20 7468 6520 636f 6e73 7472 7563   in the construc
-00032e70: 746f 722e 0a0a 2020 2020 4578 616d 706c  tor...    Exampl
-00032e80: 653a 3a0a 0a20 2020 2020 2020 2072 6561  e::..        rea
-00032e90: 6c20 3d20 576f 7264 286e 756d 7329 202b  l = Word(nums) +
-00032ea0: 2027 2e27 202b 2057 6f72 6428 6e75 6d73   '.' + Word(nums
-00032eb0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-00032ec0: 7265 616c 2e70 6172 7365 5f73 7472 696e  real.parse_strin
-00032ed0: 6728 2733 2e31 3431 3627 2929 2023 202d  g('3.1416')) # -
-00032ee0: 3e20 5b27 3327 2c20 272e 272c 2027 3134  > ['3', '.', '14
-00032ef0: 3136 275d 0a20 2020 2020 2020 2023 2077  16'].        # w
-00032f00: 696c 6c20 616c 736f 2065 7272 6f6e 656f  ill also erroneo
-00032f10: 7573 6c79 206d 6174 6368 2074 6865 2066  usly match the f
-00032f20: 6f6c 6c6f 7769 6e67 0a20 2020 2020 2020  ollowing.       
-00032f30: 2070 7269 6e74 2872 6561 6c2e 7061 7273   print(real.pars
-00032f40: 655f 7374 7269 6e67 2827 332e 2031 3431  e_string('3. 141
-00032f50: 3627 2929 2023 202d 3e20 5b27 3327 2c20  6')) # -> ['3', 
-00032f60: 272e 272c 2027 3134 3136 275d 0a0a 2020  '.', '1416']..  
-00032f70: 2020 2020 2020 7265 616c 203d 2043 6f6d        real = Com
-00032f80: 6269 6e65 2857 6f72 6428 6e75 6d73 2920  bine(Word(nums) 
-00032f90: 2b20 272e 2720 2b20 576f 7264 286e 756d  + '.' + Word(num
-00032fa0: 7329 290a 2020 2020 2020 2020 7072 696e  s)).        prin
-00032fb0: 7428 7265 616c 2e70 6172 7365 5f73 7472  t(real.parse_str
-00032fc0: 696e 6728 2733 2e31 3431 3627 2929 2023  ing('3.1416')) #
-00032fd0: 202d 3e20 5b27 332e 3134 3136 275d 0a20   -> ['3.1416']. 
-00032fe0: 2020 2020 2020 2023 206e 6f20 6d61 7463         # no matc
-00032ff0: 6820 7768 656e 2074 6865 7265 2061 7265  h when there are
-00033000: 2069 6e74 6572 6e61 6c20 7370 6163 6573   internal spaces
-00033010: 0a20 2020 2020 2020 2070 7269 6e74 2872  .        print(r
-00033020: 6561 6c2e 7061 7273 655f 7374 7269 6e67  eal.parse_string
-00033030: 2827 332e 2031 3431 3627 2929 2023 202d  ('3. 1416')) # -
-00033040: 3e20 4578 6365 7074 696f 6e3a 2045 7870  > Exception: Exp
-00033050: 6563 7465 6420 573a 2830 3132 332e 2e2e  ected W:(0123...
-00033060: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
-00033070: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
-00033080: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00033090: 2020 2065 7870 723a 2050 6172 7365 7245     expr: ParserE
-000330a0: 6c65 6d65 6e74 2c0a 2020 2020 2020 2020  lement,.        
-000330b0: 6a6f 696e 5f73 7472 696e 673a 2073 7472  join_string: str
-000330c0: 203d 2022 222c 0a20 2020 2020 2020 2061   = "",.        a
-000330d0: 646a 6163 656e 743a 2062 6f6f 6c20 3d20  djacent: bool = 
-000330e0: 5472 7565 2c0a 2020 2020 2020 2020 2a2c  True,.        *,
-000330f0: 0a20 2020 2020 2020 206a 6f69 6e53 7472  .        joinStr
-00033100: 696e 673a 2074 7970 696e 672e 4f70 7469  ing: typing.Opti
-00033110: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-00033120: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
-00033130: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-00033140: 5f28 6578 7072 290a 2020 2020 2020 2020  _(expr).        
-00033150: 6a6f 696e 5374 7269 6e67 203d 206a 6f69  joinString = joi
-00033160: 6e53 7472 696e 6720 6966 206a 6f69 6e53  nString if joinS
-00033170: 7472 696e 6720 6973 206e 6f74 204e 6f6e  tring is not Non
-00033180: 6520 656c 7365 206a 6f69 6e5f 7374 7269  e else join_stri
-00033190: 6e67 0a20 2020 2020 2020 2023 2073 7570  ng.        # sup
-000331a0: 7072 6573 7320 7768 6974 6573 7061 6365  press whitespace
-000331b0: 2d73 7472 6970 7069 6e67 2069 6e20 636f  -stripping in co
-000331c0: 6e74 6169 6e65 6420 7061 7273 6520 6578  ntained parse ex
-000331d0: 7072 6573 7369 6f6e 732c 2062 7574 2072  pressions, but r
-000331e0: 652d 656e 6162 6c65 2069 7420 6f6e 2074  e-enable it on t
-000331f0: 6865 2043 6f6d 6269 6e65 2069 7473 656c  he Combine itsel
-00033200: 660a 2020 2020 2020 2020 6966 2061 646a  f.        if adj
-00033210: 6163 656e 743a 0a20 2020 2020 2020 2020  acent:.         
-00033220: 2020 2073 656c 662e 6c65 6176 655f 7768     self.leave_wh
-00033230: 6974 6573 7061 6365 2829 0a20 2020 2020  itespace().     
-00033240: 2020 2073 656c 662e 6164 6a61 6365 6e74     self.adjacent
-00033250: 203d 2061 646a 6163 656e 740a 2020 2020   = adjacent.    
-00033260: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
-00033270: 7465 7370 6163 6520 3d20 5472 7565 0a20  tespace = True. 
-00033280: 2020 2020 2020 2073 656c 662e 6a6f 696e         self.join
-00033290: 5374 7269 6e67 203d 206a 6f69 6e53 7472  String = joinStr
-000332a0: 696e 670a 2020 2020 2020 2020 7365 6c66  ing.        self
-000332b0: 2e63 616c 6c50 7265 7061 7273 6520 3d20  .callPreparse = 
-000332c0: 5472 7565 0a0a 2020 2020 6465 6620 6967  True..    def ig
-000332d0: 6e6f 7265 2873 656c 662c 206f 7468 6572  nore(self, other
-000332e0: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
-000332f0: 6e74 3a0a 2020 2020 2020 2020 6966 2073  nt:.        if s
-00033300: 656c 662e 6164 6a61 6365 6e74 3a0a 2020  elf.adjacent:.  
-00033310: 2020 2020 2020 2020 2020 5061 7273 6572            Parser
-00033320: 456c 656d 656e 742e 6967 6e6f 7265 2873  Element.ignore(s
-00033330: 656c 662c 206f 7468 6572 290a 2020 2020  elf, other).    
-00033340: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00033350: 2020 2020 2020 7375 7065 7228 292e 6967        super().ig
-00033360: 6e6f 7265 286f 7468 6572 290a 2020 2020  nore(other).    
-00033370: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
-00033380: 0a20 2020 2064 6566 2070 6f73 7450 6172  .    def postPar
-00033390: 7365 2873 656c 662c 2069 6e73 7472 696e  se(self, instrin
-000333a0: 672c 206c 6f63 2c20 746f 6b65 6e6c 6973  g, loc, tokenlis
-000333b0: 7429 3a0a 2020 2020 2020 2020 7265 7454  t):.        retT
-000333c0: 6f6b 7320 3d20 746f 6b65 6e6c 6973 742e  oks = tokenlist.
-000333d0: 636f 7079 2829 0a20 2020 2020 2020 2064  copy().        d
-000333e0: 656c 2072 6574 546f 6b73 5b3a 5d0a 2020  el retToks[:].  
-000333f0: 2020 2020 2020 7265 7454 6f6b 7320 2b3d        retToks +=
-00033400: 2050 6172 7365 5265 7375 6c74 7328 0a20   ParseResults(. 
-00033410: 2020 2020 2020 2020 2020 205b 2222 2e6a             ["".j
-00033420: 6f69 6e28 746f 6b65 6e6c 6973 742e 5f61  oin(tokenlist._a
-00033430: 7353 7472 696e 674c 6973 7428 7365 6c66  sStringList(self
-00033440: 2e6a 6f69 6e53 7472 696e 6729 295d 2c20  .joinString))], 
-00033450: 6d6f 6461 6c3d 7365 6c66 2e6d 6f64 616c  modal=self.modal
-00033460: 5265 7375 6c74 730a 2020 2020 2020 2020  Results.        
-00033470: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
-00033480: 6c66 2e72 6573 756c 7473 4e61 6d65 2061  lf.resultsName a
-00033490: 6e64 2072 6574 546f 6b73 2e68 6173 6b65  nd retToks.haske
-000334a0: 7973 2829 3a0a 2020 2020 2020 2020 2020  ys():.          
-000334b0: 2020 7265 7475 726e 205b 7265 7454 6f6b    return [retTok
-000334c0: 735d 0a20 2020 2020 2020 2065 6c73 653a  s].        else:
-000334d0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-000334e0: 7572 6e20 7265 7454 6f6b 730a 0a0a 636c  urn retToks...cl
-000334f0: 6173 7320 4772 6f75 7028 546f 6b65 6e43  ass Group(TokenC
-00033500: 6f6e 7665 7274 6572 293a 0a20 2020 2022  onverter):.    "
-00033510: 2222 436f 6e76 6572 7465 7220 746f 2072  ""Converter to r
-00033520: 6574 7572 6e20 7468 6520 6d61 7463 6865  eturn the matche
-00033530: 6420 746f 6b65 6e73 2061 7320 6120 6c69  d tokens as a li
-00033540: 7374 202d 2075 7365 6675 6c20 666f 720a  st - useful for.
-00033550: 2020 2020 7265 7475 726e 696e 6720 746f      returning to
-00033560: 6b65 6e73 206f 6620 3a63 6c61 7373 3a60  kens of :class:`
-00033570: 5a65 726f 4f72 4d6f 7265 6020 616e 6420  ZeroOrMore` and 
-00033580: 3a63 6c61 7373 3a60 4f6e 654f 724d 6f72  :class:`OneOrMor
-00033590: 6560 2065 7870 7265 7373 696f 6e73 2e0a  e` expressions..
-000335a0: 0a20 2020 2054 6865 206f 7074 696f 6e61  .    The optiona
-000335b0: 6c20 6060 6173 6c69 7374 6060 2061 7267  l ``aslist`` arg
-000335c0: 756d 656e 7420 7768 656e 2073 6574 2074  ument when set t
-000335d0: 6f20 5472 7565 2077 696c 6c20 7265 7475  o True will retu
-000335e0: 726e 2074 6865 0a20 2020 2070 6172 7365  rn the.    parse
-000335f0: 6420 746f 6b65 6e73 2061 7320 6120 5079  d tokens as a Py
-00033600: 7468 6f6e 206c 6973 7420 696e 7374 6561  thon list instea
-00033610: 6420 6f66 2061 2070 7970 6172 7369 6e67  d of a pyparsing
-00033620: 2050 6172 7365 5265 7375 6c74 732e 0a0a   ParseResults...
-00033630: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-00033640: 2020 2020 2020 2069 6465 6e74 203d 2057         ident = W
-00033650: 6f72 6428 616c 7068 6173 290a 2020 2020  ord(alphas).    
-00033660: 2020 2020 6e75 6d20 3d20 576f 7264 286e      num = Word(n
-00033670: 756d 7329 0a20 2020 2020 2020 2074 6572  ums).        ter
-00033680: 6d20 3d20 6964 656e 7420 7c20 6e75 6d0a  m = ident | num.
-00033690: 2020 2020 2020 2020 6675 6e63 203d 2069          func = i
-000336a0: 6465 6e74 202b 204f 7074 2844 656c 696d  dent + Opt(Delim
-000336b0: 6974 6564 4c69 7374 2874 6572 6d29 290a  itedList(term)).
-000336c0: 2020 2020 2020 2020 7072 696e 7428 6675          print(fu
-000336d0: 6e63 2e70 6172 7365 5f73 7472 696e 6728  nc.parse_string(
-000336e0: 2266 6e20 612c 2062 2c20 3130 3022 2929  "fn a, b, 100"))
-000336f0: 0a20 2020 2020 2020 2023 202d 3e20 5b27  .        # -> ['
-00033700: 666e 272c 2027 6127 2c20 2762 272c 2027  fn', 'a', 'b', '
-00033710: 3130 3027 5d0a 0a20 2020 2020 2020 2066  100']..        f
-00033720: 756e 6320 3d20 6964 656e 7420 2b20 4772  unc = ident + Gr
-00033730: 6f75 7028 4f70 7428 4465 6c69 6d69 7465  oup(Opt(Delimite
-00033740: 644c 6973 7428 7465 726d 2929 290a 2020  dList(term))).  
-00033750: 2020 2020 2020 7072 696e 7428 6675 6e63        print(func
-00033760: 2e70 6172 7365 5f73 7472 696e 6728 2266  .parse_string("f
-00033770: 6e20 612c 2062 2c20 3130 3022 2929 0a20  n a, b, 100")). 
-00033780: 2020 2020 2020 2023 202d 3e20 5b27 666e         # -> ['fn
-00033790: 272c 205b 2761 272c 2027 6227 2c20 2731  ', ['a', 'b', '1
-000337a0: 3030 275d 5d0a 2020 2020 2222 220a 0a20  00']].    """.. 
-000337b0: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-000337c0: 7365 6c66 2c20 6578 7072 3a20 5061 7273  self, expr: Pars
-000337d0: 6572 456c 656d 656e 742c 2061 736c 6973  erElement, aslis
-000337e0: 743a 2062 6f6f 6c20 3d20 4661 6c73 6529  t: bool = False)
-000337f0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-00033800: 292e 5f5f 696e 6974 5f5f 2865 7870 7229  ).__init__(expr)
-00033810: 0a20 2020 2020 2020 2073 656c 662e 7361  .        self.sa
-00033820: 7665 4173 4c69 7374 203d 2054 7275 650a  veAsList = True.
-00033830: 2020 2020 2020 2020 7365 6c66 2e5f 6173          self._as
-00033840: 5079 7468 6f6e 4c69 7374 203d 2061 736c  PythonList = asl
-00033850: 6973 740a 0a20 2020 2064 6566 2070 6f73  ist..    def pos
-00033860: 7450 6172 7365 2873 656c 662c 2069 6e73  tParse(self, ins
-00033870: 7472 696e 672c 206c 6f63 2c20 746f 6b65  tring, loc, toke
-00033880: 6e6c 6973 7429 3a0a 2020 2020 2020 2020  nlist):.        
-00033890: 6966 2073 656c 662e 5f61 7350 7974 686f  if self._asPytho
-000338a0: 6e4c 6973 743a 0a20 2020 2020 2020 2020  nList:.         
-000338b0: 2020 2072 6574 7572 6e20 5061 7273 6552     return ParseR
-000338c0: 6573 756c 7473 2e4c 6973 7428 0a20 2020  esults.List(.   
-000338d0: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
-000338e0: 656e 6c69 7374 2e61 734c 6973 7428 290a  enlist.asList().
-000338f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033900: 6966 2069 7369 6e73 7461 6e63 6528 746f  if isinstance(to
-00033910: 6b65 6e6c 6973 742c 2050 6172 7365 5265  kenlist, ParseRe
-00033920: 7375 6c74 7329 0a20 2020 2020 2020 2020  sults).         
-00033930: 2020 2020 2020 2065 6c73 6520 6c69 7374         else list
-00033940: 2874 6f6b 656e 6c69 7374 290a 2020 2020  (tokenlist).    
-00033950: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00033960: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00033970: 2020 2020 7265 7475 726e 205b 746f 6b65      return [toke
-00033980: 6e6c 6973 745d 0a0a 0a63 6c61 7373 2044  nlist]...class D
-00033990: 6963 7428 546f 6b65 6e43 6f6e 7665 7274  ict(TokenConvert
-000339a0: 6572 293a 0a20 2020 2022 2222 436f 6e76  er):.    """Conv
-000339b0: 6572 7465 7220 746f 2072 6574 7572 6e20  erter to return 
-000339c0: 6120 7265 7065 7469 7469 7665 2065 7870  a repetitive exp
-000339d0: 7265 7373 696f 6e20 6173 2061 206c 6973  ression as a lis
-000339e0: 742c 2062 7574 2061 6c73 6f0a 2020 2020  t, but also.    
-000339f0: 6173 2061 2064 6963 7469 6f6e 6172 792e  as a dictionary.
-00033a00: 2045 6163 6820 656c 656d 656e 7420 6361   Each element ca
-00033a10: 6e20 616c 736f 2062 6520 7265 6665 7265  n also be refere
-00033a20: 6e63 6564 2075 7369 6e67 2074 6865 2066  nced using the f
-00033a30: 6972 7374 0a20 2020 2074 6f6b 656e 2069  irst.    token i
-00033a40: 6e20 7468 6520 6578 7072 6573 7369 6f6e  n the expression
-00033a50: 2061 7320 6974 7320 6b65 792e 2055 7365   as its key. Use
-00033a60: 6675 6c20 666f 7220 7461 6275 6c61 7220  ful for tabular 
-00033a70: 7265 706f 7274 0a20 2020 2073 6372 6170  report.    scrap
-00033a80: 696e 6720 7768 656e 2074 6865 2066 6972  ing when the fir
-00033a90: 7374 2063 6f6c 756d 6e20 6361 6e20 6265  st column can be
-00033aa0: 2075 7365 6420 6173 2061 2069 7465 6d20   used as a item 
-00033ab0: 6b65 792e 0a0a 2020 2020 5468 6520 6f70  key...    The op
-00033ac0: 7469 6f6e 616c 2060 6061 7364 6963 7460  tional ``asdict`
-00033ad0: 6020 6172 6775 6d65 6e74 2077 6865 6e20  ` argument when 
-00033ae0: 7365 7420 746f 2054 7275 6520 7769 6c6c  set to True will
-00033af0: 2072 6574 7572 6e20 7468 650a 2020 2020   return the.    
-00033b00: 7061 7273 6564 2074 6f6b 656e 7320 6173  parsed tokens as
-00033b10: 2061 2050 7974 686f 6e20 6469 6374 2069   a Python dict i
-00033b20: 6e73 7465 6164 206f 6620 6120 7079 7061  nstead of a pypa
-00033b30: 7273 696e 6720 5061 7273 6552 6573 756c  rsing ParseResul
-00033b40: 7473 2e0a 0a20 2020 2045 7861 6d70 6c65  ts...    Example
-00033b50: 3a3a 0a0a 2020 2020 2020 2020 6461 7461  ::..        data
-00033b60: 5f77 6f72 6420 3d20 576f 7264 2861 6c70  _word = Word(alp
-00033b70: 6861 7329 0a20 2020 2020 2020 206c 6162  has).        lab
-00033b80: 656c 203d 2064 6174 615f 776f 7264 202b  el = data_word +
-00033b90: 2046 6f6c 6c6f 7765 6442 7928 273a 2729   FollowedBy(':')
-00033ba0: 0a0a 2020 2020 2020 2020 7465 7874 203d  ..        text =
-00033bb0: 2022 7368 6170 653a 2053 5155 4152 4520   "shape: SQUARE 
-00033bc0: 706f 736e 3a20 7570 7065 7220 6c65 6674  posn: upper left
-00033bd0: 2063 6f6c 6f72 3a20 6c69 6768 7420 626c   color: light bl
-00033be0: 7565 2074 6578 7475 7265 3a20 6275 726c  ue texture: burl
-00033bf0: 6170 220a 2020 2020 2020 2020 6174 7472  ap".        attr
-00033c00: 5f65 7870 7220 3d20 286c 6162 656c 202b  _expr = (label +
-00033c10: 2053 7570 7072 6573 7328 273a 2729 202b   Suppress(':') +
-00033c20: 204f 6e65 4f72 4d6f 7265 2864 6174 615f   OneOrMore(data_
-00033c30: 776f 7264 2c20 7374 6f70 5f6f 6e3d 6c61  word, stop_on=la
-00033c40: 6265 6c29 2e73 6574 5f70 6172 7365 5f61  bel).set_parse_a
-00033c50: 6374 696f 6e28 2720 272e 6a6f 696e 2929  ction(' '.join))
-00033c60: 0a0a 2020 2020 2020 2020 2320 7072 696e  ..        # prin
-00033c70: 7420 6174 7472 6962 7574 6573 2061 7320  t attributes as 
-00033c80: 706c 6169 6e20 6772 6f75 7073 0a20 2020  plain groups.   
-00033c90: 2020 2020 2070 7269 6e74 2861 7474 725f       print(attr_
-00033ca0: 6578 7072 5b31 2c20 2e2e 2e5d 2e70 6172  expr[1, ...].par
-00033cb0: 7365 5f73 7472 696e 6728 7465 7874 292e  se_string(text).
-00033cc0: 6475 6d70 2829 290a 0a20 2020 2020 2020  dump())..       
-00033cd0: 2023 2069 6e73 7465 6164 206f 6620 4f6e   # instead of On
-00033ce0: 654f 724d 6f72 6528 6578 7072 292c 2070  eOrMore(expr), p
-00033cf0: 6172 7365 2075 7369 6e67 2044 6963 7428  arse using Dict(
-00033d00: 4772 6f75 7028 6578 7072 295b 312c 202e  Group(expr)[1, .
-00033d10: 2e2e 5d29 202d 2044 6963 7420 7769 6c6c  ..]) - Dict will
-00033d20: 2061 7574 6f2d 6173 7369 676e 206e 616d   auto-assign nam
-00033d30: 6573 0a20 2020 2020 2020 2072 6573 756c  es.        resul
-00033d40: 7420 3d20 4469 6374 2847 726f 7570 2861  t = Dict(Group(a
-00033d50: 7474 725f 6578 7072 295b 312c 202e 2e2e  ttr_expr)[1, ...
-00033d60: 5d29 2e70 6172 7365 5f73 7472 696e 6728  ]).parse_string(
-00033d70: 7465 7874 290a 2020 2020 2020 2020 7072  text).        pr
-00033d80: 696e 7428 7265 7375 6c74 2e64 756d 7028  int(result.dump(
-00033d90: 2929 0a0a 2020 2020 2020 2020 2320 6163  ))..        # ac
-00033da0: 6365 7373 206e 616d 6564 2066 6965 6c64  cess named field
-00033db0: 7320 6173 2064 6963 7420 656e 7472 6965  s as dict entrie
-00033dc0: 732c 206f 7220 6f75 7470 7574 2061 7320  s, or output as 
-00033dd0: 6469 6374 0a20 2020 2020 2020 2070 7269  dict.        pri
-00033de0: 6e74 2872 6573 756c 745b 2773 6861 7065  nt(result['shape
-00033df0: 275d 290a 2020 2020 2020 2020 7072 696e  ']).        prin
-00033e00: 7428 7265 7375 6c74 2e61 735f 6469 6374  t(result.as_dict
-00033e10: 2829 290a 0a20 2020 2070 7269 6e74 733a  ())..    prints:
-00033e20: 3a0a 0a20 2020 2020 2020 205b 2773 6861  :..        ['sha
-00033e30: 7065 272c 2027 5351 5541 5245 272c 2027  pe', 'SQUARE', '
-00033e40: 706f 736e 272c 2027 7570 7065 7220 6c65  posn', 'upper le
-00033e50: 6674 272c 2027 636f 6c6f 7227 2c20 276c  ft', 'color', 'l
-00033e60: 6967 6874 2062 6c75 6527 2c20 2774 6578  ight blue', 'tex
-00033e70: 7475 7265 272c 2027 6275 726c 6170 275d  ture', 'burlap']
-00033e80: 0a20 2020 2020 2020 205b 5b27 7368 6170  .        [['shap
-00033e90: 6527 2c20 2753 5155 4152 4527 5d2c 205b  e', 'SQUARE'], [
-00033ea0: 2770 6f73 6e27 2c20 2775 7070 6572 206c  'posn', 'upper l
-00033eb0: 6566 7427 5d2c 205b 2763 6f6c 6f72 272c  eft'], ['color',
-00033ec0: 2027 6c69 6768 7420 626c 7565 275d 2c20   'light blue'], 
-00033ed0: 5b27 7465 7874 7572 6527 2c20 2762 7572  ['texture', 'bur
-00033ee0: 6c61 7027 5d5d 0a20 2020 2020 2020 202d  lap']].        -
-00033ef0: 2063 6f6c 6f72 3a20 276c 6967 6874 2062   color: 'light b
-00033f00: 6c75 6527 0a20 2020 2020 2020 202d 2070  lue'.        - p
-00033f10: 6f73 6e3a 2027 7570 7065 7220 6c65 6674  osn: 'upper left
-00033f20: 270a 2020 2020 2020 2020 2d20 7368 6170  '.        - shap
-00033f30: 653a 2027 5351 5541 5245 270a 2020 2020  e: 'SQUARE'.    
-00033f40: 2020 2020 2d20 7465 7874 7572 653a 2027      - texture: '
-00033f50: 6275 726c 6170 270a 2020 2020 2020 2020  burlap'.        
-00033f60: 5351 5541 5245 0a20 2020 2020 2020 207b  SQUARE.        {
-00033f70: 2763 6f6c 6f72 273a 2027 6c69 6768 7420  'color': 'light 
-00033f80: 626c 7565 272c 2027 706f 736e 273a 2027  blue', 'posn': '
-00033f90: 7570 7065 7220 6c65 6674 272c 2027 7465  upper left', 'te
-00033fa0: 7874 7572 6527 3a20 2762 7572 6c61 7027  xture': 'burlap'
-00033fb0: 2c20 2773 6861 7065 273a 2027 5351 5541  , 'shape': 'SQUA
-00033fc0: 5245 277d 0a0a 2020 2020 5365 6520 6d6f  RE'}..    See mo
-00033fd0: 7265 2065 7861 6d70 6c65 7320 6174 203a  re examples at :
-00033fe0: 636c 6173 733a 6050 6172 7365 5265 7375  class:`ParseResu
-00033ff0: 6c74 7360 206f 6620 6163 6365 7373 696e  lts` of accessin
-00034000: 6720 6669 656c 6473 2062 7920 7265 7375  g fields by resu
-00034010: 6c74 7320 6e61 6d65 2e0a 2020 2020 2222  lts name..    ""
-00034020: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-00034030: 745f 5f28 7365 6c66 2c20 6578 7072 3a20  t__(self, expr: 
-00034040: 5061 7273 6572 456c 656d 656e 742c 2061  ParserElement, a
-00034050: 7364 6963 743a 2062 6f6f 6c20 3d20 4661  sdict: bool = Fa
-00034060: 6c73 6529 3a0a 2020 2020 2020 2020 7375  lse):.        su
-00034070: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
-00034080: 7870 7229 0a20 2020 2020 2020 2073 656c  xpr).        sel
-00034090: 662e 7361 7665 4173 4c69 7374 203d 2054  f.saveAsList = T
-000340a0: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
-000340b0: 2e5f 6173 5079 7468 6f6e 4469 6374 203d  ._asPythonDict =
-000340c0: 2061 7364 6963 740a 0a20 2020 2064 6566   asdict..    def
-000340d0: 2070 6f73 7450 6172 7365 2873 656c 662c   postParse(self,
-000340e0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-000340f0: 746f 6b65 6e6c 6973 7429 3a0a 2020 2020  tokenlist):.    
-00034100: 2020 2020 666f 7220 692c 2074 6f6b 2069      for i, tok i
-00034110: 6e20 656e 756d 6572 6174 6528 746f 6b65  n enumerate(toke
-00034120: 6e6c 6973 7429 3a0a 2020 2020 2020 2020  nlist):.        
-00034130: 2020 2020 6966 206c 656e 2874 6f6b 2920      if len(tok) 
-00034140: 3d3d 2030 3a0a 2020 2020 2020 2020 2020  == 0:.          
-00034150: 2020 2020 2020 636f 6e74 696e 7565 0a0a        continue..
-00034160: 2020 2020 2020 2020 2020 2020 696b 6579              ikey
-00034170: 203d 2074 6f6b 5b30 5d0a 2020 2020 2020   = tok[0].      
-00034180: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00034190: 6e63 6528 696b 6579 2c20 696e 7429 3a0a  nce(ikey, int):.
-000341a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000341b0: 696b 6579 203d 2073 7472 2869 6b65 7929  ikey = str(ikey)
-000341c0: 2e73 7472 6970 2829 0a0a 2020 2020 2020  .strip()..      
-000341d0: 2020 2020 2020 6966 206c 656e 2874 6f6b        if len(tok
-000341e0: 2920 3d3d 2031 3a0a 2020 2020 2020 2020  ) == 1:.        
-000341f0: 2020 2020 2020 2020 746f 6b65 6e6c 6973          tokenlis
-00034200: 745b 696b 6579 5d20 3d20 5f50 6172 7365  t[ikey] = _Parse
-00034210: 5265 7375 6c74 7357 6974 684f 6666 7365  ResultsWithOffse
-00034220: 7428 2222 2c20 6929 0a0a 2020 2020 2020  t("", i)..      
-00034230: 2020 2020 2020 656c 6966 206c 656e 2874        elif len(t
-00034240: 6f6b 2920 3d3d 2032 2061 6e64 206e 6f74  ok) == 2 and not
-00034250: 2069 7369 6e73 7461 6e63 6528 746f 6b5b   isinstance(tok[
-00034260: 315d 2c20 5061 7273 6552 6573 756c 7473  1], ParseResults
-00034270: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00034280: 2020 2074 6f6b 656e 6c69 7374 5b69 6b65     tokenlist[ike
-00034290: 795d 203d 205f 5061 7273 6552 6573 756c  y] = _ParseResul
-000342a0: 7473 5769 7468 4f66 6673 6574 2874 6f6b  tsWithOffset(tok
-000342b0: 5b31 5d2c 2069 290a 0a20 2020 2020 2020  [1], i)..       
-000342c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-000342d0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-000342e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000342f0: 2020 2020 6469 6374 7661 6c75 6520 3d20      dictvalue = 
-00034300: 746f 6b2e 636f 7079 2829 2020 2320 5061  tok.copy()  # Pa
-00034310: 7273 6552 6573 756c 7473 2869 290a 2020  rseResults(i).  
-00034320: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00034330: 6365 7074 2045 7863 6570 7469 6f6e 3a0a  cept Exception:.
-00034340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034350: 2020 2020 6578 6320 3d20 5479 7065 4572      exc = TypeEr
-00034360: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
-00034370: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-00034380: 756c 6420 6e6f 7420 6578 7472 6163 7420  uld not extract 
-00034390: 6469 6374 2076 616c 7565 7320 6672 6f6d  dict values from
-000343a0: 2070 6172 7365 6420 7265 7375 6c74 7322   parsed results"
-000343b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000343c0: 2020 2020 2020 2020 2022 202d 2044 6963           " - Dic
-000343d0: 7420 6578 7072 6573 7369 6f6e 206d 7573  t expression mus
-000343e0: 7420 636f 6e74 6169 6e20 4772 6f75 7065  t contain Groupe
-000343f0: 6420 6578 7072 6573 7369 6f6e 7322 0a20  d expressions". 
-00034400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034410: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00034420: 2020 2020 2020 2020 2072 6169 7365 2065           raise e
-00034430: 7863 2066 726f 6d20 4e6f 6e65 0a0a 2020  xc from None..  
-00034440: 2020 2020 2020 2020 2020 2020 2020 6465                de
-00034450: 6c20 6469 6374 7661 6c75 655b 305d 0a0a  l dictvalue[0]..
-00034460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034470: 6966 206c 656e 2864 6963 7476 616c 7565  if len(dictvalue
-00034480: 2920 213d 2031 206f 7220 280a 2020 2020  ) != 1 or (.    
-00034490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000344a0: 6973 696e 7374 616e 6365 2864 6963 7476  isinstance(dictv
-000344b0: 616c 7565 2c20 5061 7273 6552 6573 756c  alue, ParseResul
-000344c0: 7473 2920 616e 6420 6469 6374 7661 6c75  ts) and dictvalu
-000344d0: 652e 6861 736b 6579 7328 290a 2020 2020  e.haskeys().    
-000344e0: 2020 2020 2020 2020 2020 2020 293a 0a20              ):. 
-000344f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034500: 2020 2074 6f6b 656e 6c69 7374 5b69 6b65     tokenlist[ike
-00034510: 795d 203d 205f 5061 7273 6552 6573 756c  y] = _ParseResul
-00034520: 7473 5769 7468 4f66 6673 6574 2864 6963  tsWithOffset(dic
-00034530: 7476 616c 7565 2c20 6929 0a20 2020 2020  tvalue, i).     
-00034540: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00034550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00034560: 2020 2020 2074 6f6b 656e 6c69 7374 5b69       tokenlist[i
-00034570: 6b65 795d 203d 205f 5061 7273 6552 6573  key] = _ParseRes
-00034580: 756c 7473 5769 7468 4f66 6673 6574 2864  ultsWithOffset(d
-00034590: 6963 7476 616c 7565 5b30 5d2c 2069 290a  ictvalue[0], i).
-000345a0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-000345b0: 2e5f 6173 5079 7468 6f6e 4469 6374 3a0a  ._asPythonDict:.
-000345c0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-000345d0: 726e 205b 746f 6b65 6e6c 6973 742e 6173  rn [tokenlist.as
-000345e0: 5f64 6963 7428 295d 2069 6620 7365 6c66  _dict()] if self
-000345f0: 2e72 6573 756c 7473 4e61 6d65 2065 6c73  .resultsName els
-00034600: 6520 746f 6b65 6e6c 6973 742e 6173 5f64  e tokenlist.as_d
-00034610: 6963 7428 290a 2020 2020 2020 2020 656c  ict().        el
-00034620: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00034630: 7265 7475 726e 205b 746f 6b65 6e6c 6973  return [tokenlis
-00034640: 745d 2069 6620 7365 6c66 2e72 6573 756c  t] if self.resul
-00034650: 7473 4e61 6d65 2065 6c73 6520 746f 6b65  tsName else toke
-00034660: 6e6c 6973 740a 0a0a 636c 6173 7320 5375  nlist...class Su
-00034670: 7070 7265 7373 2854 6f6b 656e 436f 6e76  ppress(TokenConv
-00034680: 6572 7465 7229 3a0a 2020 2020 2222 2243  erter):.    """C
-00034690: 6f6e 7665 7274 6572 2066 6f72 2069 676e  onverter for ign
-000346a0: 6f72 696e 6720 7468 6520 7265 7375 6c74  oring the result
-000346b0: 7320 6f66 2061 2070 6172 7365 6420 6578  s of a parsed ex
-000346c0: 7072 6573 7369 6f6e 2e0a 0a20 2020 2045  pression...    E
-000346d0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-000346e0: 2020 736f 7572 6365 203d 2022 612c 2062    source = "a, b
-000346f0: 2c20 632c 6422 0a20 2020 2020 2020 2077  , c,d".        w
-00034700: 6420 3d20 576f 7264 2861 6c70 6861 7329  d = Word(alphas)
-00034710: 0a20 2020 2020 2020 2077 645f 6c69 7374  .        wd_list
-00034720: 3120 3d20 7764 202b 2028 272c 2720 2b20  1 = wd + (',' + 
-00034730: 7764 295b 2e2e 2e5d 0a20 2020 2020 2020  wd)[...].       
-00034740: 2070 7269 6e74 2877 645f 6c69 7374 312e   print(wd_list1.
-00034750: 7061 7273 655f 7374 7269 6e67 2873 6f75  parse_string(sou
-00034760: 7263 6529 290a 0a20 2020 2020 2020 2023  rce))..        #
-00034770: 206f 6674 656e 2c20 6465 6c69 6d69 7465   often, delimite
-00034780: 7273 2074 6861 7420 6172 6520 7573 6566  rs that are usef
-00034790: 756c 2064 7572 696e 6720 7061 7273 696e  ul during parsin
-000347a0: 6720 6172 6520 6a75 7374 2069 6e20 7468  g are just in th
-000347b0: 650a 2020 2020 2020 2020 2320 7761 7920  e.        # way 
-000347c0: 6166 7465 7277 6172 6420 2d20 7573 6520  afterward - use 
-000347d0: 5375 7070 7265 7373 2074 6f20 6b65 6570  Suppress to keep
-000347e0: 2074 6865 6d20 6f75 7420 6f66 2074 6865   them out of the
-000347f0: 2070 6172 7365 6420 6f75 7470 7574 0a20   parsed output. 
-00034800: 2020 2020 2020 2077 645f 6c69 7374 3220         wd_list2 
-00034810: 3d20 7764 202b 2028 5375 7070 7265 7373  = wd + (Suppress
-00034820: 2827 2c27 2920 2b20 7764 295b 2e2e 2e5d  (',') + wd)[...]
-00034830: 0a20 2020 2020 2020 2070 7269 6e74 2877  .        print(w
-00034840: 645f 6c69 7374 322e 7061 7273 655f 7374  d_list2.parse_st
-00034850: 7269 6e67 2873 6f75 7263 6529 290a 0a20  ring(source)).. 
-00034860: 2020 2020 2020 2023 2053 6b69 7070 6564         # Skipped
-00034870: 2074 6578 7420 2875 7369 6e67 2027 2e2e   text (using '..
-00034880: 2e27 2920 6361 6e20 6265 2073 7570 7072  .') can be suppr
-00034890: 6573 7365 6420 6173 2077 656c 6c0a 2020  essed as well.  
-000348a0: 2020 2020 2020 736f 7572 6365 203d 2022        source = "
-000348b0: 6c65 6164 2069 6e20 5354 4152 5420 7265  lead in START re
-000348c0: 6c65 7661 6e74 2074 6578 7420 454e 4420  levant text END 
-000348d0: 7472 6169 6c69 6e67 2074 6578 7422 0a20  trailing text". 
-000348e0: 2020 2020 2020 2073 7461 7274 5f6d 6172         start_mar
-000348f0: 6b65 7220 3d20 4b65 7977 6f72 6428 2253  ker = Keyword("S
-00034900: 5441 5254 2229 0a20 2020 2020 2020 2065  TART").        e
-00034910: 6e64 5f6d 6172 6b65 7220 3d20 4b65 7977  nd_marker = Keyw
-00034920: 6f72 6428 2245 4e44 2229 0a20 2020 2020  ord("END").     
-00034930: 2020 2066 696e 645f 626f 6479 203d 2053     find_body = S
-00034940: 7570 7072 6573 7328 2e2e 2e29 202b 2073  uppress(...) + s
-00034950: 7461 7274 5f6d 6172 6b65 7220 2b20 2e2e  tart_marker + ..
-00034960: 2e20 2b20 656e 645f 6d61 726b 6572 0a20  . + end_marker. 
-00034970: 2020 2020 2020 2070 7269 6e74 2866 696e         print(fin
-00034980: 645f 626f 6479 2e70 6172 7365 5f73 7472  d_body.parse_str
-00034990: 696e 6728 736f 7572 6365 290a 0a20 2020  ing(source)..   
-000349a0: 2070 7269 6e74 733a 3a0a 0a20 2020 2020   prints::..     
-000349b0: 2020 205b 2761 272c 2027 2c27 2c20 2762     ['a', ',', 'b
-000349c0: 272c 2027 2c27 2c20 2763 272c 2027 2c27  ', ',', 'c', ','
-000349d0: 2c20 2764 275d 0a20 2020 2020 2020 205b  , 'd'].        [
-000349e0: 2761 272c 2027 6227 2c20 2763 272c 2027  'a', 'b', 'c', '
-000349f0: 6427 5d0a 2020 2020 2020 2020 5b27 5354  d'].        ['ST
-00034a00: 4152 5427 2c20 2772 656c 6576 616e 7420  ART', 'relevant 
-00034a10: 7465 7874 2027 2c20 2745 4e44 275d 0a0a  text ', 'END']..
-00034a20: 2020 2020 2853 6565 2061 6c73 6f20 3a63      (See also :c
-00034a30: 6c61 7373 3a60 4465 6c69 6d69 7465 644c  lass:`DelimitedL
-00034a40: 6973 7460 2e29 0a20 2020 2022 2222 0a0a  ist`.).    """..
-00034a50: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00034a60: 2873 656c 662c 2065 7870 723a 2055 6e69  (self, expr: Uni
-00034a70: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
-00034a80: 2c20 7374 725d 2c20 7361 7665 6c69 7374  , str], savelist
-00034a90: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
-00034aa0: 0a20 2020 2020 2020 2069 6620 6578 7072  .        if expr
-00034ab0: 2069 7320 2e2e 2e3a 0a20 2020 2020 2020   is ...:.       
-00034ac0: 2020 2020 2065 7870 7220 3d20 5f50 656e       expr = _Pen
-00034ad0: 6469 6e67 536b 6970 284e 6f4d 6174 6368  dingSkip(NoMatch
-00034ae0: 2829 290a 2020 2020 2020 2020 7375 7065  ()).        supe
-00034af0: 7228 292e 5f5f 696e 6974 5f5f 2865 7870  r().__init__(exp
-00034b00: 7229 0a0a 2020 2020 6465 6620 5f5f 6164  r)..    def __ad
-00034b10: 645f 5f28 7365 6c66 2c20 6f74 6865 7229  d__(self, other)
-00034b20: 202d 3e20 2250 6172 7365 7245 6c65 6d65   -> "ParserEleme
-00034b30: 6e74 223a 0a20 2020 2020 2020 2069 6620  nt":.        if 
-00034b40: 6973 696e 7374 616e 6365 2873 656c 662e  isinstance(self.
-00034b50: 6578 7072 2c20 5f50 656e 6469 6e67 536b  expr, _PendingSk
-00034b60: 6970 293a 0a20 2020 2020 2020 2020 2020  ip):.           
-00034b70: 2072 6574 7572 6e20 5375 7070 7265 7373   return Suppress
-00034b80: 2853 6b69 7054 6f28 6f74 6865 7229 2920  (SkipTo(other)) 
-00034b90: 2b20 6f74 6865 720a 2020 2020 2020 2020  + other.        
-00034ba0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00034bb0: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
-00034bc0: 2e5f 5f61 6464 5f5f 286f 7468 6572 290a  .__add__(other).
-00034bd0: 0a20 2020 2064 6566 205f 5f73 7562 5f5f  .    def __sub__
-00034be0: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
-00034bf0: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-00034c00: 3a0a 2020 2020 2020 2020 6966 2069 7369  :.        if isi
-00034c10: 6e73 7461 6e63 6528 7365 6c66 2e65 7870  nstance(self.exp
-00034c20: 722c 205f 5065 6e64 696e 6753 6b69 7029  r, _PendingSkip)
-00034c30: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00034c40: 7475 726e 2053 7570 7072 6573 7328 536b  turn Suppress(Sk
-00034c50: 6970 546f 286f 7468 6572 2929 202d 206f  ipTo(other)) - o
-00034c60: 7468 6572 0a20 2020 2020 2020 2065 6c73  ther.        els
-00034c70: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00034c80: 6574 7572 6e20 7375 7065 7228 292e 5f5f  eturn super().__
-00034c90: 7375 625f 5f28 6f74 6865 7229 0a0a 2020  sub__(other)..  
-00034ca0: 2020 6465 6620 706f 7374 5061 7273 6528    def postParse(
-00034cb0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-00034cc0: 6c6f 632c 2074 6f6b 656e 6c69 7374 293a  loc, tokenlist):
-00034cd0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00034ce0: 5b5d 0a0a 2020 2020 6465 6620 7375 7070  []..    def supp
-00034cf0: 7265 7373 2873 656c 6629 202d 3e20 5061  ress(self) -> Pa
-00034d00: 7273 6572 456c 656d 656e 743a 0a20 2020  rserElement:.   
-00034d10: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00034d20: 0a0a 0a64 6566 2074 7261 6365 5f70 6172  ...def trace_par
-00034d30: 7365 5f61 6374 696f 6e28 663a 2050 6172  se_action(f: Par
-00034d40: 7365 4163 7469 6f6e 2920 2d3e 2050 6172  seAction) -> Par
-00034d50: 7365 4163 7469 6f6e 3a0a 2020 2020 2222  seAction:.    ""
-00034d60: 2244 6563 6f72 6174 6f72 2066 6f72 2064  "Decorator for d
-00034d70: 6562 7567 6769 6e67 2070 6172 7365 2061  ebugging parse a
-00034d80: 6374 696f 6e73 2e0a 0a20 2020 2057 6865  ctions...    Whe
-00034d90: 6e20 7468 6520 7061 7273 6520 6163 7469  n the parse acti
-00034da0: 6f6e 2069 7320 6361 6c6c 6564 2c20 7468  on is called, th
-00034db0: 6973 2064 6563 6f72 6174 6f72 2077 696c  is decorator wil
-00034dc0: 6c20 7072 696e 740a 2020 2020 6060 223e  l print.    ``">
-00034dd0: 3e20 656e 7465 7269 6e67 206d 6574 686f  > entering metho
-00034de0: 642d 6e61 6d65 286c 696e 653a 3c63 7572  d-name(line:<cur
-00034df0: 7265 6e74 5f73 6f75 7263 655f 6c69 6e65  rent_source_line
-00034e00: 3e2c 203c 7061 7273 655f 6c6f 6361 7469  >, <parse_locati
-00034e10: 6f6e 3e2c 203c 6d61 7463 6865 645f 746f  on>, <matched_to
-00034e20: 6b65 6e73 3e29 2260 602e 0a20 2020 2057  kens>)"``..    W
-00034e30: 6865 6e20 7468 6520 7061 7273 6520 6163  hen the parse ac
-00034e40: 7469 6f6e 2063 6f6d 706c 6574 6573 2c20  tion completes, 
-00034e50: 7468 6520 6465 636f 7261 746f 7220 7769  the decorator wi
-00034e60: 6c6c 2070 7269 6e74 0a20 2020 2060 6022  ll print.    ``"
-00034e70: 3c3c 2260 6020 666f 6c6c 6f77 6564 2062  <<"`` followed b
-00034e80: 7920 7468 6520 7265 7475 726e 6564 2076  y the returned v
-00034e90: 616c 7565 2c20 6f72 2061 6e79 2065 7863  alue, or any exc
-00034ea0: 6570 7469 6f6e 2074 6861 7420 7468 6520  eption that the 
-00034eb0: 7061 7273 6520 6163 7469 6f6e 2072 6169  parse action rai
-00034ec0: 7365 642e 0a0a 2020 2020 4578 616d 706c  sed...    Exampl
-00034ed0: 653a 3a0a 0a20 2020 2020 2020 2077 6420  e::..        wd 
-00034ee0: 3d20 576f 7264 2861 6c70 6861 7329 0a0a  = Word(alphas)..
-00034ef0: 2020 2020 2020 2020 4074 7261 6365 5f70          @trace_p
-00034f00: 6172 7365 5f61 6374 696f 6e0a 2020 2020  arse_action.    
-00034f10: 2020 2020 6465 6620 7265 6d6f 7665 5f64      def remove_d
-00034f20: 7570 6c69 6361 7465 5f63 6861 7273 2874  uplicate_chars(t
-00034f30: 6f6b 656e 7329 3a0a 2020 2020 2020 2020  okens):.        
-00034f40: 2020 2020 7265 7475 726e 2027 272e 6a6f      return ''.jo
-00034f50: 696e 2873 6f72 7465 6428 7365 7428 2727  in(sorted(set(''
-00034f60: 2e6a 6f69 6e28 746f 6b65 6e73 2929 2929  .join(tokens))))
-00034f70: 0a0a 2020 2020 2020 2020 7764 7320 3d20  ..        wds = 
-00034f80: 7764 5b31 2c20 2e2e 2e5d 2e73 6574 5f70  wd[1, ...].set_p
-00034f90: 6172 7365 5f61 6374 696f 6e28 7265 6d6f  arse_action(remo
-00034fa0: 7665 5f64 7570 6c69 6361 7465 5f63 6861  ve_duplicate_cha
-00034fb0: 7273 290a 2020 2020 2020 2020 7072 696e  rs).        prin
-00034fc0: 7428 7764 732e 7061 7273 655f 7374 7269  t(wds.parse_stri
-00034fd0: 6e67 2822 736c 6b64 6a73 2073 6c64 2073  ng("slkdjs sld s
-00034fe0: 6c64 6420 7364 6c66 2073 646c 6a66 2229  ldd sdlf sdljf")
-00034ff0: 290a 0a20 2020 2070 7269 6e74 733a 3a0a  )..    prints::.
-00035000: 0a20 2020 2020 2020 203e 3e65 6e74 6572  .        >>enter
-00035010: 696e 6720 7265 6d6f 7665 5f64 7570 6c69  ing remove_dupli
-00035020: 6361 7465 5f63 6861 7273 286c 696e 653a  cate_chars(line:
-00035030: 2027 736c 6b64 6a73 2073 6c64 2073 6c64   'slkdjs sld sld
-00035040: 6420 7364 6c66 2073 646c 6a66 272c 2030  d sdlf sdljf', 0
-00035050: 2c20 285b 2773 6c6b 646a 7327 2c20 2773  , (['slkdjs', 's
-00035060: 6c64 272c 2027 736c 6464 272c 2027 7364  ld', 'sldd', 'sd
-00035070: 6c66 272c 2027 7364 6c6a 6627 5d2c 207b  lf', 'sdljf'], {
-00035080: 7d29 290a 2020 2020 2020 2020 3c3c 6c65  })).        <<le
-00035090: 6176 696e 6720 7265 6d6f 7665 5f64 7570  aving remove_dup
-000350a0: 6c69 6361 7465 5f63 6861 7273 2028 7265  licate_chars (re
-000350b0: 743a 2027 6466 6a6b 6c73 2729 0a20 2020  t: 'dfjkls').   
-000350c0: 2020 2020 205b 2764 666a 6b6c 7327 5d0a       ['dfjkls'].
-000350d0: 2020 2020 2222 220a 2020 2020 6620 3d20      """.    f = 
-000350e0: 5f74 7269 6d5f 6172 6974 7928 6629 0a0a  _trim_arity(f)..
-000350f0: 2020 2020 6465 6620 7a28 2a70 6141 7267      def z(*paArg
-00035100: 7329 3a0a 2020 2020 2020 2020 7468 6973  s):.        this
-00035110: 4675 6e63 203d 2066 2e5f 5f6e 616d 655f  Func = f.__name_
-00035120: 5f0a 2020 2020 2020 2020 732c 206c 2c20  _.        s, l, 
-00035130: 7420 3d20 7061 4172 6773 5b2d 333a 5d0a  t = paArgs[-3:].
-00035140: 2020 2020 2020 2020 6966 206c 656e 2870          if len(p
-00035150: 6141 7267 7329 203e 2033 3a0a 2020 2020  aArgs) > 3:.    
-00035160: 2020 2020 2020 2020 7468 6973 4675 6e63          thisFunc
-00035170: 203d 2070 6141 7267 735b 305d 2e5f 5f63   = paArgs[0].__c
-00035180: 6c61 7373 5f5f 2e5f 5f6e 616d 655f 5f20  lass__.__name__ 
-00035190: 2b20 222e 2220 2b20 7468 6973 4675 6e63  + "." + thisFunc
-000351a0: 0a20 2020 2020 2020 2073 7973 2e73 7464  .        sys.std
-000351b0: 6572 722e 7772 6974 6528 6622 3e3e 656e  err.write(f">>en
-000351c0: 7465 7269 6e67 207b 7468 6973 4675 6e63  tering {thisFunc
-000351d0: 7d28 6c69 6e65 3a20 7b6c 696e 6528 6c2c  }(line: {line(l,
-000351e0: 2073 2921 727d 2c20 7b6c 7d2c 207b 7421   s)!r}, {l}, {t!
-000351f0: 727d 295c 6e22 290a 2020 2020 2020 2020  r})\n").        
-00035200: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00035210: 2072 6574 203d 2066 282a 7061 4172 6773   ret = f(*paArgs
-00035220: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
-00035230: 2045 7863 6570 7469 6f6e 2061 7320 6578   Exception as ex
-00035240: 633a 0a20 2020 2020 2020 2020 2020 2073  c:.            s
-00035250: 7973 2e73 7464 6572 722e 7772 6974 6528  ys.stderr.write(
-00035260: 6622 3c3c 6c65 6176 696e 6720 7b74 6869  f"<<leaving {thi
-00035270: 7346 756e 637d 2028 6578 6365 7074 696f  sFunc} (exceptio
-00035280: 6e3a 207b 6578 637d 295c 6e22 290a 2020  n: {exc})\n").  
-00035290: 2020 2020 2020 2020 2020 7261 6973 650a            raise.
-000352a0: 2020 2020 2020 2020 7379 732e 7374 6465          sys.stde
-000352b0: 7272 2e77 7269 7465 2866 223c 3c6c 6561  rr.write(f"<<lea
-000352c0: 7669 6e67 207b 7468 6973 4675 6e63 7d20  ving {thisFunc} 
-000352d0: 2872 6574 3a20 7b72 6574 2172 7d29 5c6e  (ret: {ret!r})\n
-000352e0: 2229 0a20 2020 2020 2020 2072 6574 7572  ").        retur
-000352f0: 6e20 7265 740a 0a20 2020 207a 2e5f 5f6e  n ret..    z.__n
-00035300: 616d 655f 5f20 3d20 662e 5f5f 6e61 6d65  ame__ = f.__name
-00035310: 5f5f 0a20 2020 2072 6574 7572 6e20 7a0a  __.    return z.
-00035320: 0a0a 2320 636f 6e76 656e 6965 6e63 6520  ..# convenience 
-00035330: 636f 6e73 7461 6e74 7320 666f 7220 706f  constants for po
-00035340: 7369 7469 6f6e 616c 2065 7870 7265 7373  sitional express
-00035350: 696f 6e73 0a65 6d70 7479 203d 2045 6d70  ions.empty = Emp
-00035360: 7479 2829 2e73 6574 5f6e 616d 6528 2265  ty().set_name("e
-00035370: 6d70 7479 2229 0a6c 696e 655f 7374 6172  mpty").line_star
-00035380: 7420 3d20 4c69 6e65 5374 6172 7428 292e  t = LineStart().
-00035390: 7365 745f 6e61 6d65 2822 6c69 6e65 5f73  set_name("line_s
-000353a0: 7461 7274 2229 0a6c 696e 655f 656e 6420  tart").line_end 
-000353b0: 3d20 4c69 6e65 456e 6428 292e 7365 745f  = LineEnd().set_
-000353c0: 6e61 6d65 2822 6c69 6e65 5f65 6e64 2229  name("line_end")
-000353d0: 0a73 7472 696e 675f 7374 6172 7420 3d20  .string_start = 
-000353e0: 5374 7269 6e67 5374 6172 7428 292e 7365  StringStart().se
-000353f0: 745f 6e61 6d65 2822 7374 7269 6e67 5f73  t_name("string_s
-00035400: 7461 7274 2229 0a73 7472 696e 675f 656e  tart").string_en
-00035410: 6420 3d20 5374 7269 6e67 456e 6428 292e  d = StringEnd().
-00035420: 7365 745f 6e61 6d65 2822 7374 7269 6e67  set_name("string
-00035430: 5f65 6e64 2229 0a0a 5f65 7363 6170 6564  _end").._escaped
-00035440: 5075 6e63 203d 2052 6567 6578 2872 225c  Punc = Regex(r"\
-00035450: 5c5b 5c5c 5b5c 5d5c 2f5c 2d5c 2a5c 2e5c  \[\\[\]\/\-\*\.\
-00035460: 245c 2b5c 5e5c 3f28 297e 205d 2229 2e73  $\+\^\?()~ ]").s
-00035470: 6574 5f70 6172 7365 5f61 6374 696f 6e28  et_parse_action(
-00035480: 0a20 2020 206c 616d 6264 6120 732c 206c  .    lambda s, l
-00035490: 2c20 743a 2074 5b30 5d5b 315d 0a29 0a5f  , t: t[0][1].)._
-000354a0: 6573 6361 7065 6448 6578 4368 6172 203d  escapedHexChar =
-000354b0: 2052 6567 6578 2872 225c 5c30 3f5b 7858   Regex(r"\\0?[xX
-000354c0: 5d5b 302d 3961 2d66 412d 465d 2b22 292e  ][0-9a-fA-F]+").
-000354d0: 7365 745f 7061 7273 655f 6163 7469 6f6e  set_parse_action
-000354e0: 280a 2020 2020 6c61 6d62 6461 2073 2c20  (.    lambda s, 
-000354f0: 6c2c 2074 3a20 6368 7228 696e 7428 745b  l, t: chr(int(t[
-00035500: 305d 2e6c 7374 7269 7028 7222 5c30 7822  0].lstrip(r"\0x"
-00035510: 292c 2031 3629 290a 290a 5f65 7363 6170  ), 16)).)._escap
-00035520: 6564 4f63 7443 6861 7220 3d20 5265 6765  edOctChar = Rege
-00035530: 7828 7222 5c5c 305b 302d 375d 2b22 292e  x(r"\\0[0-7]+").
-00035540: 7365 745f 7061 7273 655f 6163 7469 6f6e  set_parse_action
-00035550: 280a 2020 2020 6c61 6d62 6461 2073 2c20  (.    lambda s, 
-00035560: 6c2c 2074 3a20 6368 7228 696e 7428 745b  l, t: chr(int(t[
-00035570: 305d 5b31 3a5d 2c20 3829 290a 290a 5f73  0][1:], 8)).)._s
-00035580: 696e 676c 6543 6861 7220 3d20 280a 2020  ingleChar = (.  
-00035590: 2020 5f65 7363 6170 6564 5075 6e63 207c    _escapedPunc |
-000355a0: 205f 6573 6361 7065 6448 6578 4368 6172   _escapedHexChar
-000355b0: 207c 205f 6573 6361 7065 644f 6374 4368   | _escapedOctCh
-000355c0: 6172 207c 2043 6861 7273 4e6f 7449 6e28  ar | CharsNotIn(
-000355d0: 7222 5c5d 222c 2065 7861 6374 3d31 290a  r"\]", exact=1).
-000355e0: 290a 5f63 6861 7252 616e 6765 203d 2047  )._charRange = G
-000355f0: 726f 7570 285f 7369 6e67 6c65 4368 6172  roup(_singleChar
-00035600: 202b 2053 7570 7072 6573 7328 222d 2229   + Suppress("-")
-00035610: 202b 205f 7369 6e67 6c65 4368 6172 290a   + _singleChar).
-00035620: 5f72 6542 7261 636b 6574 4578 7072 203d  _reBracketExpr =
-00035630: 2028 0a20 2020 204c 6974 6572 616c 2822   (.    Literal("
-00035640: 5b22 290a 2020 2020 2b20 4f70 7428 225e  [").    + Opt("^
-00035650: 2229 2e73 6574 5f72 6573 756c 7473 5f6e  ").set_results_n
-00035660: 616d 6528 226e 6567 6174 6522 290a 2020  ame("negate").  
-00035670: 2020 2b20 4772 6f75 7028 4f6e 654f 724d    + Group(OneOrM
-00035680: 6f72 6528 5f63 6861 7252 616e 6765 207c  ore(_charRange |
-00035690: 205f 7369 6e67 6c65 4368 6172 2929 2e73   _singleChar)).s
-000356a0: 6574 5f72 6573 756c 7473 5f6e 616d 6528  et_results_name(
-000356b0: 2262 6f64 7922 290a 2020 2020 2b20 4c69  "body").    + Li
-000356c0: 7465 7261 6c28 225d 2229 0a29 0a0a 0a64  teral("]").)...d
-000356d0: 6566 2073 7261 6e67 6528 733a 2073 7472  ef srange(s: str
-000356e0: 2920 2d3e 2073 7472 3a0a 2020 2020 7222  ) -> str:.    r"
-000356f0: 2222 4865 6c70 6572 2074 6f20 6561 7369  ""Helper to easi
-00035700: 6c79 2064 6566 696e 6520 7374 7269 6e67  ly define string
-00035710: 2072 616e 6765 7320 666f 7220 7573 6520   ranges for use 
-00035720: 696e 203a 636c 6173 733a 6057 6f72 6460  in :class:`Word`
-00035730: 0a20 2020 2063 6f6e 7374 7275 6374 696f  .    constructio
-00035740: 6e2e 2042 6f72 726f 7773 2073 796e 7461  n. Borrows synta
-00035750: 7820 6672 6f6d 2072 6567 6578 7020 6060  x from regexp ``
-00035760: 275b 5d27 6060 2073 7472 696e 6720 7261  '[]'`` string ra
-00035770: 6e67 650a 2020 2020 6465 6669 6e69 7469  nge.    definiti
-00035780: 6f6e 733a 3a0a 0a20 2020 2020 2020 2073  ons::..        s
-00035790: 7261 6e67 6528 225b 302d 395d 2229 2020  range("[0-9]")  
-000357a0: 202d 3e20 2230 3132 3334 3536 3738 3922   -> "0123456789"
-000357b0: 0a20 2020 2020 2020 2073 7261 6e67 6528  .        srange(
-000357c0: 225b 612d 7a5d 2229 2020 202d 3e20 2261  "[a-z]")   -> "a
-000357d0: 6263 6465 6667 6869 6a6b 6c6d 6e6f 7071  bcdefghijklmnopq
-000357e0: 7273 7475 7677 7879 7a22 0a20 2020 2020  rstuvwxyz".     
-000357f0: 2020 2073 7261 6e67 6528 225b 612d 7a24     srange("[a-z$
-00035800: 5f5d 2229 202d 3e20 2261 6263 6465 6667  _]") -> "abcdefg
-00035810: 6869 6a6b 6c6d 6e6f 7071 7273 7475 7677  hijklmnopqrstuvw
-00035820: 7879 7a24 5f22 0a0a 2020 2020 5468 6520  xyz$_"..    The 
-00035830: 696e 7075 7420 7374 7269 6e67 206d 7573  input string mus
-00035840: 7420 6265 2065 6e63 6c6f 7365 6420 696e  t be enclosed in
-00035850: 205b 5d27 732c 2061 6e64 2074 6865 2072   []'s, and the r
-00035860: 6574 7572 6e65 6420 7374 7269 6e67 0a20  eturned string. 
-00035870: 2020 2069 7320 7468 6520 6578 7061 6e64     is the expand
-00035880: 6564 2063 6861 7261 6374 6572 2073 6574  ed character set
-00035890: 206a 6f69 6e65 6420 696e 746f 2061 2073   joined into a s
-000358a0: 696e 676c 6520 7374 7269 6e67 2e20 5468  ingle string. Th
-000358b0: 650a 2020 2020 7661 6c75 6573 2065 6e63  e.    values enc
-000358c0: 6c6f 7365 6420 696e 2074 6865 205b 5d27  losed in the []'
-000358d0: 7320 6d61 7920 6265 3a0a 0a20 2020 202d  s may be:..    -
-000358e0: 2061 2073 696e 676c 6520 6368 6172 6163   a single charac
-000358f0: 7465 720a 2020 2020 2d20 616e 2065 7363  ter.    - an esc
-00035900: 6170 6564 2063 6861 7261 6374 6572 2077  aped character w
-00035910: 6974 6820 6120 6c65 6164 696e 6720 6261  ith a leading ba
-00035920: 636b 736c 6173 6820 2873 7563 6820 6173  ckslash (such as
-00035930: 2060 605c 2d60 600a 2020 2020 2020 6f72   ``\-``.      or
-00035940: 2060 605c 5d60 6029 0a20 2020 202d 2061   ``\]``).    - a
-00035950: 6e20 6573 6361 7065 6420 6865 7820 6368  n escaped hex ch
-00035960: 6172 6163 7465 7220 7769 7468 2061 206c  aracter with a l
-00035970: 6561 6469 6e67 2060 6027 5c78 2760 600a  eading ``'\x'``.
-00035980: 2020 2020 2020 2860 605c 7832 3160 602c        (``\x21``,
-00035990: 2077 6869 6368 2069 7320 6120 6060 2721   which is a ``'!
-000359a0: 2760 6020 6368 6172 6163 7465 7229 2028  '`` character) (
-000359b0: 6060 5c30 7823 2360 600a 2020 2020 2020  ``\0x##``.      
-000359c0: 6973 2061 6c73 6f20 7375 7070 6f72 7465  is also supporte
-000359d0: 6420 666f 7220 6261 636b 7761 7264 7320  d for backwards 
-000359e0: 636f 6d70 6174 6962 696c 6974 7929 0a20  compatibility). 
-000359f0: 2020 202d 2061 6e20 6573 6361 7065 6420     - an escaped 
-00035a00: 6f63 7461 6c20 6368 6172 6163 7465 7220  octal character 
-00035a10: 7769 7468 2061 206c 6561 6469 6e67 2060  with a leading `
-00035a20: 6027 5c30 2760 600a 2020 2020 2020 2860  `'\0'``.      (`
-00035a30: 605c 3034 3160 602c 2077 6869 6368 2069  `\041``, which i
-00035a40: 7320 6120 6060 2721 2760 6020 6368 6172  s a ``'!'`` char
-00035a50: 6163 7465 7229 0a20 2020 202d 2061 2072  acter).    - a r
-00035a60: 616e 6765 206f 6620 616e 7920 6f66 2074  ange of any of t
-00035a70: 6865 2061 626f 7665 2c20 7365 7061 7261  he above, separa
-00035a80: 7465 6420 6279 2061 2064 6173 6820 2860  ted by a dash (`
-00035a90: 6027 612d 7a27 6060 2c0a 2020 2020 2020  `'a-z'``,.      
-00035aa0: 6574 632e 290a 2020 2020 2d20 616e 7920  etc.).    - any 
-00035ab0: 636f 6d62 696e 6174 696f 6e20 6f66 2074  combination of t
-00035ac0: 6865 2061 626f 7665 2028 6060 2761 6569  he above (``'aei
-00035ad0: 6f75 7927 6060 2c0a 2020 2020 2020 6060  ouy'``,.      ``
-00035ae0: 2761 2d7a 412d 5a30 2d39 5f24 2760 602c  'a-zA-Z0-9_$'``,
-00035af0: 2065 7463 2e29 0a20 2020 2022 2222 0a20   etc.).    """. 
-00035b00: 2020 205f 6578 7061 6e64 6564 203d 2028     _expanded = (
-00035b10: 0a20 2020 2020 2020 206c 616d 6264 6120  .        lambda 
-00035b20: 703a 2070 0a20 2020 2020 2020 2069 6620  p: p.        if 
-00035b30: 6e6f 7420 6973 696e 7374 616e 6365 2870  not isinstance(p
-00035b40: 2c20 5061 7273 6552 6573 756c 7473 290a  , ParseResults).
-00035b50: 2020 2020 2020 2020 656c 7365 2022 222e          else "".
-00035b60: 6a6f 696e 2863 6872 2863 2920 666f 7220  join(chr(c) for 
-00035b70: 6320 696e 2072 616e 6765 286f 7264 2870  c in range(ord(p
-00035b80: 5b30 5d29 2c20 6f72 6428 705b 315d 2920  [0]), ord(p[1]) 
-00035b90: 2b20 3129 290a 2020 2020 290a 2020 2020  + 1)).    ).    
-00035ba0: 7472 793a 0a20 2020 2020 2020 2072 6574  try:.        ret
-00035bb0: 7572 6e20 2222 2e6a 6f69 6e28 5f65 7870  urn "".join(_exp
-00035bc0: 616e 6465 6428 7061 7274 2920 666f 7220  anded(part) for 
-00035bd0: 7061 7274 2069 6e20 5f72 6542 7261 636b  part in _reBrack
-00035be0: 6574 4578 7072 2e70 6172 7365 5f73 7472  etExpr.parse_str
-00035bf0: 696e 6728 7329 2e62 6f64 7929 0a20 2020  ing(s).body).   
-00035c00: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00035c10: 6e20 6173 2065 3a0a 2020 2020 2020 2020  n as e:.        
-00035c20: 7265 7475 726e 2022 220a 0a0a 6465 6620  return ""...def 
-00035c30: 746f 6b65 6e5f 6d61 7028 6675 6e63 2c20  token_map(func, 
-00035c40: 2a61 7267 7329 202d 3e20 5061 7273 6541  *args) -> ParseA
-00035c50: 6374 696f 6e3a 0a20 2020 2022 2222 4865  ction:.    """He
-00035c60: 6c70 6572 2074 6f20 6465 6669 6e65 2061  lper to define a
-00035c70: 2070 6172 7365 2061 6374 696f 6e20 6279   parse action by
-00035c80: 206d 6170 7069 6e67 2061 2066 756e 6374   mapping a funct
-00035c90: 696f 6e20 746f 2061 6c6c 0a20 2020 2065  ion to all.    e
-00035ca0: 6c65 6d65 6e74 7320 6f66 2061 203a 636c  lements of a :cl
-00035cb0: 6173 733a 6050 6172 7365 5265 7375 6c74  ass:`ParseResult
-00035cc0: 7360 206c 6973 742e 2049 6620 616e 7920  s` list. If any 
-00035cd0: 6164 6469 7469 6f6e 616c 2061 7267 7320  additional args 
-00035ce0: 6172 6520 7061 7373 6564 2c0a 2020 2020  are passed,.    
-00035cf0: 7468 6579 2061 7265 2066 6f72 7761 7264  they are forward
-00035d00: 6564 2074 6f20 7468 6520 6769 7665 6e20  ed to the given 
-00035d10: 6675 6e63 7469 6f6e 2061 7320 6164 6469  function as addi
-00035d20: 7469 6f6e 616c 2061 7267 756d 656e 7473  tional arguments
-00035d30: 0a20 2020 2061 6674 6572 2074 6865 2074  .    after the t
-00035d40: 6f6b 656e 2c20 6173 2069 6e0a 2020 2020  oken, as in.    
-00035d50: 6060 6865 785f 696e 7465 6765 7220 3d20  ``hex_integer = 
-00035d60: 576f 7264 2868 6578 6e75 6d73 292e 7365  Word(hexnums).se
-00035d70: 745f 7061 7273 655f 6163 7469 6f6e 2874  t_parse_action(t
-00035d80: 6f6b 656e 5f6d 6170 2869 6e74 2c20 3136  oken_map(int, 16
-00035d90: 2929 6060 2c0a 2020 2020 7768 6963 6820  ))``,.    which 
-00035da0: 7769 6c6c 2063 6f6e 7665 7274 2074 6865  will convert the
-00035db0: 2070 6172 7365 6420 6461 7461 2074 6f20   parsed data to 
-00035dc0: 616e 2069 6e74 6567 6572 2075 7369 6e67  an integer using
-00035dd0: 2062 6173 6520 3136 2e0a 0a20 2020 2045   base 16...    E
-00035de0: 7861 6d70 6c65 2028 636f 6d70 6172 6520  xample (compare 
-00035df0: 7468 6520 6c61 7374 2074 6f20 6578 616d  the last to exam
-00035e00: 706c 6520 696e 203a 636c 6173 733a 6050  ple in :class:`P
-00035e10: 6172 7365 7245 6c65 6d65 6e74 2e74 7261  arserElement.tra
-00035e20: 6e73 666f 726d 5f73 7472 696e 6760 3a3a  nsform_string`::
-00035e30: 0a0a 2020 2020 2020 2020 6865 785f 696e  ..        hex_in
-00035e40: 7473 203d 2057 6f72 6428 6865 786e 756d  ts = Word(hexnum
-00035e50: 7329 5b31 2c20 2e2e 2e5d 2e73 6574 5f70  s)[1, ...].set_p
-00035e60: 6172 7365 5f61 6374 696f 6e28 746f 6b65  arse_action(toke
-00035e70: 6e5f 6d61 7028 696e 742c 2031 3629 290a  n_map(int, 16)).
-00035e80: 2020 2020 2020 2020 6865 785f 696e 7473          hex_ints
-00035e90: 2e72 756e 5f74 6573 7473 2827 2727 0a20  .run_tests('''. 
-00035ea0: 2020 2020 2020 2020 2020 2030 3020 3131             00 11
-00035eb0: 2032 3220 6161 2046 4620 3061 2030 6420   22 aa FF 0a 0d 
-00035ec0: 3161 0a20 2020 2020 2020 2020 2020 2027  1a.            '
-00035ed0: 2727 290a 0a20 2020 2020 2020 2075 7070  '')..        upp
-00035ee0: 6572 776f 7264 203d 2057 6f72 6428 616c  erword = Word(al
-00035ef0: 7068 6173 292e 7365 745f 7061 7273 655f  phas).set_parse_
-00035f00: 6163 7469 6f6e 2874 6f6b 656e 5f6d 6170  action(token_map
-00035f10: 2873 7472 2e75 7070 6572 2929 0a20 2020  (str.upper)).   
-00035f20: 2020 2020 2075 7070 6572 776f 7264 5b31       upperword[1
-00035f30: 2c20 2e2e 2e5d 2e72 756e 5f74 6573 7473  , ...].run_tests
-00035f40: 2827 2727 0a20 2020 2020 2020 2020 2020  ('''.           
-00035f50: 206d 7920 6b69 6e67 646f 6d20 666f 7220   my kingdom for 
-00035f60: 6120 686f 7273 650a 2020 2020 2020 2020  a horse.        
-00035f70: 2020 2020 2727 2729 0a0a 2020 2020 2020      ''')..      
-00035f80: 2020 7764 203d 2057 6f72 6428 616c 7068    wd = Word(alph
-00035f90: 6173 292e 7365 745f 7061 7273 655f 6163  as).set_parse_ac
-00035fa0: 7469 6f6e 2874 6f6b 656e 5f6d 6170 2873  tion(token_map(s
-00035fb0: 7472 2e74 6974 6c65 2929 0a20 2020 2020  tr.title)).     
-00035fc0: 2020 2077 645b 312c 202e 2e2e 5d2e 7365     wd[1, ...].se
-00035fd0: 745f 7061 7273 655f 6163 7469 6f6e 2827  t_parse_action('
-00035fe0: 2027 2e6a 6f69 6e29 2e72 756e 5f74 6573   '.join).run_tes
-00035ff0: 7473 2827 2727 0a20 2020 2020 2020 2020  ts('''.         
-00036000: 2020 206e 6f77 2069 7320 7468 6520 7769     now is the wi
-00036010: 6e74 6572 206f 6620 6f75 7220 6469 7363  nter of our disc
-00036020: 6f6e 7465 6e74 206d 6164 6520 676c 6f72  ontent made glor
-00036030: 696f 7573 2073 756d 6d65 7220 6279 2074  ious summer by t
-00036040: 6869 7320 7375 6e20 6f66 2079 6f72 6b0a  his sun of york.
-00036050: 2020 2020 2020 2020 2020 2020 2727 2729              ''')
-00036060: 0a0a 2020 2020 7072 696e 7473 3a3a 0a0a  ..    prints::..
-00036070: 2020 2020 2020 2020 3030 2031 3120 3232          00 11 22
-00036080: 2061 6120 4646 2030 6120 3064 2031 610a   aa FF 0a 0d 1a.
-00036090: 2020 2020 2020 2020 5b30 2c20 3137 2c20          [0, 17, 
-000360a0: 3334 2c20 3137 302c 2032 3535 2c20 3130  34, 170, 255, 10
-000360b0: 2c20 3133 2c20 3236 5d0a 0a20 2020 2020  , 13, 26]..     
-000360c0: 2020 206d 7920 6b69 6e67 646f 6d20 666f     my kingdom fo
-000360d0: 7220 6120 686f 7273 650a 2020 2020 2020  r a horse.      
-000360e0: 2020 5b27 4d59 272c 2027 4b49 4e47 444f    ['MY', 'KINGDO
-000360f0: 4d27 2c20 2746 4f52 272c 2027 4127 2c20  M', 'FOR', 'A', 
-00036100: 2748 4f52 5345 275d 0a0a 2020 2020 2020  'HORSE']..      
-00036110: 2020 6e6f 7720 6973 2074 6865 2077 696e    now is the win
-00036120: 7465 7220 6f66 206f 7572 2064 6973 636f  ter of our disco
-00036130: 6e74 656e 7420 6d61 6465 2067 6c6f 7269  ntent made glori
-00036140: 6f75 7320 7375 6d6d 6572 2062 7920 7468  ous summer by th
-00036150: 6973 2073 756e 206f 6620 796f 726b 0a20  is sun of york. 
-00036160: 2020 2020 2020 205b 274e 6f77 2049 7320         ['Now Is 
-00036170: 5468 6520 5769 6e74 6572 204f 6620 4f75  The Winter Of Ou
-00036180: 7220 4469 7363 6f6e 7465 6e74 204d 6164  r Discontent Mad
-00036190: 6520 476c 6f72 696f 7573 2053 756d 6d65  e Glorious Summe
-000361a0: 7220 4279 2054 6869 7320 5375 6e20 4f66  r By This Sun Of
-000361b0: 2059 6f72 6b27 5d0a 2020 2020 2222 220a   York'].    """.
-000361c0: 0a20 2020 2064 6566 2070 6128 732c 206c  .    def pa(s, l
-000361d0: 2c20 7429 3a0a 2020 2020 2020 2020 7265  , t):.        re
-000361e0: 7475 726e 205b 6675 6e63 2874 6f6b 6e2c  turn [func(tokn,
-000361f0: 202a 6172 6773 2920 666f 7220 746f 6b6e   *args) for tokn
-00036200: 2069 6e20 745d 0a0a 2020 2020 6675 6e63   in t]..    func
-00036210: 5f6e 616d 6520 3d20 6765 7461 7474 7228  _name = getattr(
-00036220: 6675 6e63 2c20 225f 5f6e 616d 655f 5f22  func, "__name__"
-00036230: 2c20 6765 7461 7474 7228 6675 6e63 2c20  , getattr(func, 
-00036240: 225f 5f63 6c61 7373 5f5f 2229 2e5f 5f6e  "__class__").__n
-00036250: 616d 655f 5f29 0a20 2020 2070 612e 5f5f  ame__).    pa.__
-00036260: 6e61 6d65 5f5f 203d 2066 756e 635f 6e61  name__ = func_na
-00036270: 6d65 0a0a 2020 2020 7265 7475 726e 2070  me..    return p
-00036280: 610a 0a0a 6465 6620 6175 746f 6e61 6d65  a...def autoname
-00036290: 5f65 6c65 6d65 6e74 7328 2920 2d3e 204e  _elements() -> N
-000362a0: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
-000362b0: 2055 7469 6c69 7479 2074 6f20 7369 6d70   Utility to simp
-000362c0: 6c69 6679 206d 6173 732d 6e61 6d69 6e67  lify mass-naming
-000362d0: 206f 6620 7061 7273 6572 2065 6c65 6d65   of parser eleme
-000362e0: 6e74 732c 2066 6f72 0a20 2020 2067 656e  nts, for.    gen
-000362f0: 6572 6174 696e 6720 7261 696c 726f 6164  erating railroad
-00036300: 2064 6961 6772 616d 2077 6974 6820 6e61   diagram with na
-00036310: 6d65 6420 7375 6264 6961 6772 616d 732e  med subdiagrams.
-00036320: 0a20 2020 2022 2222 0a20 2020 2063 616c  .    """.    cal
-00036330: 6c69 6e67 5f66 7261 6d65 203d 2073 7973  ling_frame = sys
-00036340: 2e5f 6765 7466 7261 6d65 2829 2e66 5f62  ._getframe().f_b
-00036350: 6163 6b0a 2020 2020 6966 2063 616c 6c69  ack.    if calli
-00036360: 6e67 5f66 7261 6d65 2069 7320 4e6f 6e65  ng_frame is None
-00036370: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00036380: 0a20 2020 2063 616c 6c69 6e67 5f66 7261  .    calling_fra
-00036390: 6d65 203d 2074 7970 696e 672e 6361 7374  me = typing.cast
-000363a0: 2874 7970 6573 2e46 7261 6d65 5479 7065  (types.FrameType
-000363b0: 2c20 6361 6c6c 696e 675f 6672 616d 6529  , calling_frame)
-000363c0: 0a20 2020 2066 6f72 206e 616d 652c 2076  .    for name, v
-000363d0: 6172 2069 6e20 6361 6c6c 696e 675f 6672  ar in calling_fr
-000363e0: 616d 652e 665f 6c6f 6361 6c73 2e69 7465  ame.f_locals.ite
-000363f0: 6d73 2829 3a0a 2020 2020 2020 2020 6966  ms():.        if
-00036400: 2069 7369 6e73 7461 6e63 6528 7661 722c   isinstance(var,
-00036410: 2050 6172 7365 7245 6c65 6d65 6e74 2920   ParserElement) 
-00036420: 616e 6420 6e6f 7420 7661 722e 6375 7374  and not var.cust
-00036430: 6f6d 4e61 6d65 3a0a 2020 2020 2020 2020  omName:.        
-00036440: 2020 2020 7661 722e 7365 745f 6e61 6d65      var.set_name
-00036450: 286e 616d 6529 0a0a 0a64 626c 5f71 756f  (name)...dbl_quo
-00036460: 7465 645f 7374 7269 6e67 203d 2043 6f6d  ted_string = Com
-00036470: 6269 6e65 280a 2020 2020 5265 6765 7828  bine(.    Regex(
-00036480: 7227 2228 3f3a 5b5e 225c 6e5c 725c 5c5d  r'"(?:[^"\n\r\\]
-00036490: 7c28 3f3a 2222 297c 283f 3a5c 5c28 3f3a  |(?:"")|(?:\\(?:
-000364a0: 5b5e 785d 7c78 5b30 2d39 612d 6641 2d46  [^x]|x[0-9a-fA-F
-000364b0: 5d2b 2929 292a 2729 202b 2027 2227 0a29  ]+)))*') + '"'.)
-000364c0: 2e73 6574 5f6e 616d 6528 2273 7472 696e  .set_name("strin
-000364d0: 6720 656e 636c 6f73 6564 2069 6e20 646f  g enclosed in do
-000364e0: 7562 6c65 2071 756f 7465 7322 290a 0a73  uble quotes")..s
-000364f0: 676c 5f71 756f 7465 645f 7374 7269 6e67  gl_quoted_string
-00036500: 203d 2043 6f6d 6269 6e65 280a 2020 2020   = Combine(.    
-00036510: 5265 6765 7828 7222 2728 3f3a 5b5e 275c  Regex(r"'(?:[^'\
-00036520: 6e5c 725c 5c5d 7c28 3f3a 2727 297c 283f  n\r\\]|(?:'')|(?
-00036530: 3a5c 5c28 3f3a 5b5e 785d 7c78 5b30 2d39  :\\(?:[^x]|x[0-9
-00036540: 612d 6641 2d46 5d2b 2929 292a 2229 202b  a-fA-F]+)))*") +
-00036550: 2022 2722 0a29 2e73 6574 5f6e 616d 6528   "'".).set_name(
-00036560: 2273 7472 696e 6720 656e 636c 6f73 6564  "string enclosed
-00036570: 2069 6e20 7369 6e67 6c65 2071 756f 7465   in single quote
-00036580: 7322 290a 0a71 756f 7465 645f 7374 7269  s")..quoted_stri
-00036590: 6e67 203d 2043 6f6d 6269 6e65 280a 2020  ng = Combine(.  
-000365a0: 2020 2852 6567 6578 2872 2722 283f 3a5b    (Regex(r'"(?:[
-000365b0: 5e22 5c6e 5c72 5c5c 5d7c 283f 3a22 2229  ^"\n\r\\]|(?:"")
-000365c0: 7c28 3f3a 5c5c 283f 3a5b 5e78 5d7c 785b  |(?:\\(?:[^x]|x[
-000365d0: 302d 3961 2d66 412d 465d 2b29 2929 2a27  0-9a-fA-F]+)))*'
-000365e0: 2920 2b20 2722 2729 2e73 6574 5f6e 616d  ) + '"').set_nam
-000365f0: 6528 0a20 2020 2020 2020 2022 646f 7562  e(.        "doub
-00036600: 6c65 2071 756f 7465 6420 7374 7269 6e67  le quoted string
-00036610: 220a 2020 2020 290a 2020 2020 7c20 2852  ".    ).    | (R
-00036620: 6567 6578 2872 2227 283f 3a5b 5e27 5c6e  egex(r"'(?:[^'\n
-00036630: 5c72 5c5c 5d7c 283f 3a27 2729 7c28 3f3a  \r\\]|(?:'')|(?:
-00036640: 5c5c 283f 3a5b 5e78 5d7c 785b 302d 3961  \\(?:[^x]|x[0-9a
-00036650: 2d66 412d 465d 2b29 2929 2a22 2920 2b20  -fA-F]+)))*") + 
-00036660: 2227 2229 2e73 6574 5f6e 616d 6528 0a20  "'").set_name(. 
-00036670: 2020 2020 2020 2022 7369 6e67 6c65 2071         "single q
-00036680: 756f 7465 6420 7374 7269 6e67 220a 2020  uoted string".  
-00036690: 2020 290a 292e 7365 745f 6e61 6d65 2822    ).).set_name("
-000366a0: 7175 6f74 6564 2073 7472 696e 6720 7573  quoted string us
-000366b0: 696e 6720 7369 6e67 6c65 206f 7220 646f  ing single or do
-000366c0: 7562 6c65 2071 756f 7465 7322 290a 0a70  uble quotes")..p
-000366d0: 7974 686f 6e5f 7175 6f74 6564 5f73 7472  ython_quoted_str
-000366e0: 696e 6720 3d20 436f 6d62 696e 6528 0a20  ing = Combine(. 
-000366f0: 2020 2028 5265 6765 7828 7227 2222 2228     (Regex(r'"""(
-00036700: 3f3a 5b5e 225c 5c5d 7c22 2228 3f21 2229  ?:[^"\\]|""(?!")
-00036710: 7c22 283f 2122 2229 7c5c 5c2e 292a 272c  |"(?!"")|\\.)*',
-00036720: 2066 6c61 6773 3d72 652e 4d55 4c54 494c   flags=re.MULTIL
-00036730: 494e 4529 202b 2027 2222 2227 292e 7365  INE) + '"""').se
-00036740: 745f 6e61 6d65 280a 2020 2020 2020 2020  t_name(.        
-00036750: 226d 756c 7469 6c69 6e65 2064 6f75 626c  "multiline doubl
-00036760: 6520 7175 6f74 6564 2073 7472 696e 6722  e quoted string"
-00036770: 0a20 2020 2029 0a20 2020 205e 2028 0a20  .    ).    ^ (. 
-00036780: 2020 2020 2020 2052 6567 6578 2872 2227         Regex(r"'
-00036790: 2727 283f 3a5b 5e27 5c5c 5d7c 2727 283f  ''(?:[^'\\]|''(?
-000367a0: 2127 297c 2728 3f21 2727 297c 5c5c 2e29  !')|'(?!'')|\\.)
-000367b0: 2a22 2c20 666c 6167 733d 7265 2e4d 554c  *", flags=re.MUL
-000367c0: 5449 4c49 4e45 2920 2b20 2227 2727 220a  TILINE) + "'''".
-000367d0: 2020 2020 292e 7365 745f 6e61 6d65 2822      ).set_name("
-000367e0: 6d75 6c74 696c 696e 6520 7369 6e67 6c65  multiline single
-000367f0: 2071 756f 7465 6420 7374 7269 6e67 2229   quoted string")
-00036800: 0a20 2020 205e 2028 5265 6765 7828 7227  .    ^ (Regex(r'
-00036810: 2228 3f3a 5b5e 225c 6e5c 725c 5c5d 7c28  "(?:[^"\n\r\\]|(
-00036820: 3f3a 5c5c 2229 7c28 3f3a 5c5c 283f 3a5b  ?:\\")|(?:\\(?:[
-00036830: 5e78 5d7c 785b 302d 3961 2d66 412d 465d  ^x]|x[0-9a-fA-F]
-00036840: 2b29 2929 2a27 2920 2b20 2722 2729 2e73  +)))*') + '"').s
-00036850: 6574 5f6e 616d 6528 0a20 2020 2020 2020  et_name(.       
-00036860: 2022 646f 7562 6c65 2071 756f 7465 6420   "double quoted 
-00036870: 7374 7269 6e67 220a 2020 2020 290a 2020  string".    ).  
-00036880: 2020 5e20 2852 6567 6578 2872 2227 283f    ^ (Regex(r"'(?
-00036890: 3a5b 5e27 5c6e 5c72 5c5c 5d7c 283f 3a5c  :[^'\n\r\\]|(?:\
-000368a0: 5c27 297c 283f 3a5c 5c28 3f3a 5b5e 785d  \')|(?:\\(?:[^x]
-000368b0: 7c78 5b30 2d39 612d 6641 2d46 5d2b 2929  |x[0-9a-fA-F]+))
-000368c0: 292a 2229 202b 2022 2722 292e 7365 745f  )*") + "'").set_
-000368d0: 6e61 6d65 280a 2020 2020 2020 2020 2273  name(.        "s
-000368e0: 696e 676c 6520 7175 6f74 6564 2073 7472  ingle quoted str
-000368f0: 696e 6722 0a20 2020 2029 0a29 2e73 6574  ing".    ).).set
-00036900: 5f6e 616d 6528 2250 7974 686f 6e20 7175  _name("Python qu
-00036910: 6f74 6564 2073 7472 696e 6722 290a 0a75  oted string")..u
-00036920: 6e69 636f 6465 5f73 7472 696e 6720 3d20  nicode_string = 
-00036930: 436f 6d62 696e 6528 2275 2220 2b20 7175  Combine("u" + qu
-00036940: 6f74 6564 5f73 7472 696e 672e 636f 7079  oted_string.copy
-00036950: 2829 292e 7365 745f 6e61 6d65 2822 756e  ()).set_name("un
-00036960: 6963 6f64 6520 7374 7269 6e67 206c 6974  icode string lit
-00036970: 6572 616c 2229 0a0a 0a61 6c70 6861 7338  eral")...alphas8
-00036980: 6269 7420 3d20 7372 616e 6765 2872 225b  bit = srange(r"[
-00036990: 5c30 7863 302d 5c30 7864 365c 3078 6438  \0xc0-\0xd6\0xd8
-000369a0: 2d5c 3078 6636 5c30 7866 382d 5c30 7866  -\0xf6\0xf8-\0xf
-000369b0: 665d 2229 0a70 756e 6338 6269 7420 3d20  f]").punc8bit = 
-000369c0: 7372 616e 6765 2872 225b 5c30 7861 312d  srange(r"[\0xa1-
-000369d0: 5c30 7862 665c 3078 6437 5c30 7866 375d  \0xbf\0xd7\0xf7]
-000369e0: 2229 0a0a 2320 6275 696c 6420 6c69 7374  ")..# build list
-000369f0: 206f 6620 6275 696c 742d 696e 2065 7870   of built-in exp
-00036a00: 7265 7373 696f 6e73 2c20 666f 7220 6675  ressions, for fu
-00036a10: 7475 7265 2072 6566 6572 656e 6365 2069  ture reference i
-00036a20: 6620 6120 676c 6f62 616c 2064 6566 6175  f a global defau
-00036a30: 6c74 2076 616c 7565 0a23 2067 6574 7320  lt value.# gets 
-00036a40: 7570 6461 7465 640a 5f62 7569 6c74 696e  updated._builtin
-00036a50: 5f65 7870 7273 3a20 4c69 7374 5b50 6172  _exprs: List[Par
-00036a60: 7365 7245 6c65 6d65 6e74 5d20 3d20 5b0a  serElement] = [.
-00036a70: 2020 2020 7620 666f 7220 7620 696e 2076      v for v in v
-00036a80: 6172 7328 292e 7661 6c75 6573 2829 2069  ars().values() i
-00036a90: 6620 6973 696e 7374 616e 6365 2876 2c20  f isinstance(v, 
-00036aa0: 5061 7273 6572 456c 656d 656e 7429 0a5d  ParserElement).]
-00036ab0: 0a0a 2320 6261 636b 7761 7264 2063 6f6d  ..# backward com
-00036ac0: 7061 7469 6269 6c69 7479 206e 616d 6573  patibility names
-00036ad0: 0a23 2066 6d74 3a20 6f66 660a 7367 6c51  .# fmt: off.sglQ
-00036ae0: 756f 7465 6453 7472 696e 6720 3d20 7367  uotedString = sg
-00036af0: 6c5f 7175 6f74 6564 5f73 7472 696e 670a  l_quoted_string.
-00036b00: 6462 6c51 756f 7465 6453 7472 696e 6720  dblQuotedString 
-00036b10: 3d20 6462 6c5f 7175 6f74 6564 5f73 7472  = dbl_quoted_str
-00036b20: 696e 670a 7175 6f74 6564 5374 7269 6e67  ing.quotedString
-00036b30: 203d 2071 756f 7465 645f 7374 7269 6e67   = quoted_string
-00036b40: 0a75 6e69 636f 6465 5374 7269 6e67 203d  .unicodeString =
-00036b50: 2075 6e69 636f 6465 5f73 7472 696e 670a   unicode_string.
-00036b60: 6c69 6e65 5374 6172 7420 3d20 6c69 6e65  lineStart = line
-00036b70: 5f73 7461 7274 0a6c 696e 6545 6e64 203d  _start.lineEnd =
-00036b80: 206c 696e 655f 656e 640a 7374 7269 6e67   line_end.string
-00036b90: 5374 6172 7420 3d20 7374 7269 6e67 5f73  Start = string_s
-00036ba0: 7461 7274 0a73 7472 696e 6745 6e64 203d  tart.stringEnd =
-00036bb0: 2073 7472 696e 675f 656e 640a 0a40 7265   string_end..@re
-00036bc0: 706c 6163 6564 5f62 795f 7065 7038 286e  placed_by_pep8(n
-00036bd0: 756c 6c5f 6465 6275 675f 6163 7469 6f6e  ull_debug_action
-00036be0: 290a 6465 6620 6e75 6c6c 4465 6275 6741  ).def nullDebugA
-00036bf0: 6374 696f 6e28 293a 202e 2e2e 0a0a 4072  ction(): .....@r
-00036c00: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
-00036c10: 7472 6163 655f 7061 7273 655f 6163 7469  trace_parse_acti
-00036c20: 6f6e 290a 6465 6620 7472 6163 6550 6172  on).def tracePar
-00036c30: 7365 4163 7469 6f6e 2829 3a20 2e2e 2e0a  seAction(): ....
-00036c40: 0a40 7265 706c 6163 6564 5f62 795f 7065  .@replaced_by_pe
-00036c50: 7038 2863 6f6e 6469 7469 6f6e 5f61 735f  p8(condition_as_
-00036c60: 7061 7273 655f 6163 7469 6f6e 290a 6465  parse_action).de
-00036c70: 6620 636f 6e64 6974 696f 6e41 7350 6172  f conditionAsPar
-00036c80: 7365 4163 7469 6f6e 2829 3a20 2e2e 2e0a  seAction(): ....
-00036c90: 0a40 7265 706c 6163 6564 5f62 795f 7065  .@replaced_by_pe
-00036ca0: 7038 2874 6f6b 656e 5f6d 6170 290a 6465  p8(token_map).de
-00036cb0: 6620 746f 6b65 6e4d 6170 2829 3a20 2e2e  f tokenMap(): ..
-00036cc0: 2e0a 2320 666d 743a 206f 6e0a            ..# fmt: on.
+00032a60: 2020 2020 2020 2020 7261 6973 650a 2020          raise.  
+00032a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032a80: 2020 2020 2020 7072 6576 5f6c 6f63 2c20        prev_loc, 
+00032a90: 7072 6576 5f70 6565 6b20 3d20 6d65 6d6f  prev_peek = memo
+00032aa0: 5b70 6565 6b5f 6b65 795d 203d 206e 6577  [peek_key] = new
+00032ab0: 5f6c 6f63 2c20 6e65 775f 7065 656b 0a0a  _loc, new_peek..
+00032ac0: 2020 2020 6465 6620 6c65 6176 655f 7768      def leave_wh
+00032ad0: 6974 6573 7061 6365 2873 656c 662c 2072  itespace(self, r
+00032ae0: 6563 7572 7369 7665 3a20 626f 6f6c 203d  ecursive: bool =
+00032af0: 2054 7275 6529 202d 3e20 5061 7273 6572   True) -> Parser
+00032b00: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
+00032b10: 2073 656c 662e 736b 6970 5768 6974 6573   self.skipWhites
+00032b20: 7061 6365 203d 2046 616c 7365 0a20 2020  pace = False.   
+00032b30: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00032b40: 0a0a 2020 2020 6465 6620 6967 6e6f 7265  ..    def ignore
+00032b50: 5f77 6869 7465 7370 6163 6528 7365 6c66  _whitespace(self
+00032b60: 2c20 7265 6375 7273 6976 653a 2062 6f6f  , recursive: boo
+00032b70: 6c20 3d20 5472 7565 2920 2d3e 2050 6172  l = True) -> Par
+00032b80: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
+00032b90: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
+00032ba0: 7465 7370 6163 6520 3d20 5472 7565 0a20  tespace = True. 
+00032bb0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00032bc0: 6c66 0a0a 2020 2020 6465 6620 7374 7265  lf..    def stre
+00032bd0: 616d 6c69 6e65 2873 656c 6629 202d 3e20  amline(self) -> 
+00032be0: 5061 7273 6572 456c 656d 656e 743a 0a20  ParserElement:. 
+00032bf0: 2020 2020 2020 2069 6620 6e6f 7420 7365         if not se
+00032c00: 6c66 2e73 7472 6561 6d6c 696e 6564 3a0a  lf.streamlined:.
+00032c10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00032c20: 2e73 7472 6561 6d6c 696e 6564 203d 2054  .streamlined = T
+00032c30: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
+00032c40: 6966 2073 656c 662e 6578 7072 2069 7320  if self.expr is 
+00032c50: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00032c60: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
+00032c70: 7870 722e 7374 7265 616d 6c69 6e65 2829  xpr.streamline()
+00032c80: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00032c90: 7365 6c66 0a0a 2020 2020 6465 6620 7661  self..    def va
+00032ca0: 6c69 6461 7465 2873 656c 662c 2076 616c  lidate(self, val
+00032cb0: 6964 6174 6554 7261 6365 3d4e 6f6e 6529  idateTrace=None)
+00032cc0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+00032cd0: 2020 7761 726e 696e 6773 2e77 6172 6e28    warnings.warn(
+00032ce0: 0a20 2020 2020 2020 2020 2020 2022 5061  .            "Pa
+00032cf0: 7273 6572 456c 656d 656e 742e 7661 6c69  rserElement.vali
+00032d00: 6461 7465 2829 2069 7320 6465 7072 6563  date() is deprec
+00032d10: 6174 6564 2c20 616e 6420 7368 6f75 6c64  ated, and should
+00032d20: 206e 6f74 2062 6520 7573 6564 2074 6f20   not be used to 
+00032d30: 6368 6563 6b20 666f 7220 6c65 6674 2072  check for left r
+00032d40: 6563 7572 7369 6f6e 222c 0a20 2020 2020  ecursion",.     
+00032d50: 2020 2020 2020 2044 6570 7265 6361 7469         Deprecati
+00032d60: 6f6e 5761 726e 696e 672c 0a20 2020 2020  onWarning,.     
+00032d70: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
+00032d80: 6c3d 322c 0a20 2020 2020 2020 2029 0a20  l=2,.        ). 
+00032d90: 2020 2020 2020 2069 6620 7661 6c69 6461         if valida
+00032da0: 7465 5472 6163 6520 6973 204e 6f6e 653a  teTrace is None:
+00032db0: 0a20 2020 2020 2020 2020 2020 2076 616c  .            val
+00032dc0: 6964 6174 6554 7261 6365 203d 205b 5d0a  idateTrace = [].
+00032dd0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00032de0: 206e 6f74 2069 6e20 7661 6c69 6461 7465   not in validate
+00032df0: 5472 6163 653a 0a20 2020 2020 2020 2020  Trace:.         
+00032e00: 2020 2074 6d70 203d 2076 616c 6964 6174     tmp = validat
+00032e10: 6554 7261 6365 5b3a 5d20 2b20 5b73 656c  eTrace[:] + [sel
+00032e20: 665d 0a20 2020 2020 2020 2020 2020 2069  f].            i
+00032e30: 6620 7365 6c66 2e65 7870 7220 6973 206e  f self.expr is n
+00032e40: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+00032e50: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
+00032e60: 7072 2e76 616c 6964 6174 6528 746d 7029  pr.validate(tmp)
+00032e70: 0a20 2020 2020 2020 2073 656c 662e 5f63  .        self._c
+00032e80: 6865 636b 5265 6375 7273 696f 6e28 5b5d  heckRecursion([]
+00032e90: 290a 0a20 2020 2064 6566 205f 6765 6e65  )..    def _gene
+00032ea0: 7261 7465 4465 6661 756c 744e 616d 6528  rateDefaultName(
+00032eb0: 7365 6c66 2920 2d3e 2073 7472 3a0a 2020  self) -> str:.  
+00032ec0: 2020 2020 2020 2320 4176 6f69 6420 696e        # Avoid in
+00032ed0: 6669 6e69 7465 2072 6563 7572 7369 6f6e  finite recursion
+00032ee0: 2062 7920 7365 7474 696e 6720 6120 7465   by setting a te
+00032ef0: 6d70 6f72 6172 7920 5f64 6566 6175 6c74  mporary _default
+00032f00: 4e61 6d65 0a20 2020 2020 2020 2073 656c  Name.        sel
+00032f10: 662e 5f64 6566 6175 6c74 4e61 6d65 203d  f._defaultName =
+00032f20: 2022 3a20 2e2e 2e22 0a0a 2020 2020 2020   ": ..."..      
+00032f30: 2020 2320 5573 6520 7468 6520 7374 7269    # Use the stri
+00032f40: 6e67 2072 6570 7265 7365 6e74 6174 696f  ng representatio
+00032f50: 6e20 6f66 206d 6169 6e20 6578 7072 6573  n of main expres
+00032f60: 7369 6f6e 2e0a 2020 2020 2020 2020 7265  sion..        re
+00032f70: 7453 7472 696e 6720 3d20 222e 2e2e 220a  tString = "...".
+00032f80: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00032f90: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00032fa0: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
+00032fb0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00032fc0: 2020 2072 6574 5374 7269 6e67 203d 2073     retString = s
+00032fd0: 7472 2873 656c 662e 6578 7072 295b 3a31  tr(self.expr)[:1
+00032fe0: 3030 305d 0a20 2020 2020 2020 2020 2020  000].           
+00032ff0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00033000: 2020 2020 2020 2072 6574 5374 7269 6e67         retString
+00033010: 203d 2022 4e6f 6e65 220a 2020 2020 2020   = "None".      
+00033020: 2020 6669 6e61 6c6c 793a 0a20 2020 2020    finally:.     
+00033030: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00033040: 6c66 2e5f 5f63 6c61 7373 5f5f 2e5f 5f6e  lf.__class__.__n
+00033050: 616d 655f 5f20 2b20 223a 2022 202b 2072  ame__ + ": " + r
+00033060: 6574 5374 7269 6e67 0a0a 2020 2020 6465  etString..    de
+00033070: 6620 636f 7079 2873 656c 6629 202d 3e20  f copy(self) -> 
+00033080: 5061 7273 6572 456c 656d 656e 743a 0a20  ParserElement:. 
+00033090: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
+000330a0: 7870 7220 6973 206e 6f74 204e 6f6e 653a  xpr is not None:
+000330b0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000330c0: 7572 6e20 7375 7065 7228 292e 636f 7079  urn super().copy
+000330d0: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
+000330e0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000330f0: 203d 2046 6f72 7761 7264 2829 0a20 2020   = Forward().   
+00033100: 2020 2020 2020 2020 2072 6574 203c 3c3d           ret <<=
+00033110: 2073 656c 660a 2020 2020 2020 2020 2020   self.          
+00033120: 2020 7265 7475 726e 2072 6574 0a0a 2020    return ret..  
+00033130: 2020 6465 6620 5f73 6574 5265 7375 6c74    def _setResult
+00033140: 734e 616d 6528 7365 6c66 2c20 6e61 6d65  sName(self, name
+00033150: 2c20 6c69 7374 5f61 6c6c 5f6d 6174 6368  , list_all_match
+00033160: 6573 3d46 616c 7365 293a 0a20 2020 2020  es=False):.     
+00033170: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
+00033180: 2020 2020 5f5f 6469 6167 5f5f 2e77 6172      __diag__.war
+00033190: 6e5f 6e61 6d65 5f73 6574 5f6f 6e5f 656d  n_name_set_on_em
+000331a0: 7074 795f 466f 7277 6172 640a 2020 2020  pty_Forward.    
+000331b0: 2020 2020 2020 2020 616e 6420 4469 6167          and Diag
+000331c0: 6e6f 7374 6963 732e 7761 726e 5f6e 616d  nostics.warn_nam
+000331d0: 655f 7365 745f 6f6e 5f65 6d70 7479 5f46  e_set_on_empty_F
+000331e0: 6f72 7761 7264 0a20 2020 2020 2020 2020  orward.         
+000331f0: 2020 206e 6f74 2069 6e20 7365 6c66 2e73     not in self.s
+00033200: 7570 7072 6573 735f 7761 726e 696e 6773  uppress_warnings
+00033210: 5f0a 2020 2020 2020 2020 293a 0a20 2020  _.        ):.   
+00033220: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00033230: 2e65 7870 7220 6973 204e 6f6e 653a 0a20  .expr is None:. 
+00033240: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+00033250: 6172 6e69 6e67 732e 7761 726e 280a 2020  arnings.warn(.  
+00033260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00033270: 2020 227b 7d3a 2073 6574 7469 6e67 2072    "{}: setting r
+00033280: 6573 756c 7473 206e 616d 6520 7b21 727d  esults name {!r}
+00033290: 206f 6e20 7b7d 2065 7870 7265 7373 696f   on {} expressio
+000332a0: 6e20 220a 2020 2020 2020 2020 2020 2020  n ".            
+000332b0: 2020 2020 2020 2020 2274 6861 7420 6861          "that ha
+000332c0: 7320 6e6f 2063 6f6e 7461 696e 6564 2065  s no contained e
+000332d0: 7870 7265 7373 696f 6e22 2e66 6f72 6d61  xpression".forma
+000332e0: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+000332f0: 2020 2020 2020 2020 2020 2022 7761 726e             "warn
+00033300: 5f6e 616d 655f 7365 745f 6f6e 5f65 6d70  _name_set_on_emp
+00033310: 7479 5f46 6f72 7761 7264 222c 206e 616d  ty_Forward", nam
+00033320: 652c 2074 7970 6528 7365 6c66 292e 5f5f  e, type(self).__
+00033330: 6e61 6d65 5f5f 0a20 2020 2020 2020 2020  name__.         
+00033340: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
+00033350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00033360: 2020 7374 6163 6b6c 6576 656c 3d33 2c0a    stacklevel=3,.
+00033370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00033380: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+00033390: 6e20 7375 7065 7228 292e 5f73 6574 5265  n super()._setRe
+000333a0: 7375 6c74 734e 616d 6528 6e61 6d65 2c20  sultsName(name, 
+000333b0: 6c69 7374 5f61 6c6c 5f6d 6174 6368 6573  list_all_matches
+000333c0: 290a 0a20 2020 2023 2043 6f6d 7061 7469  )..    # Compati
+000333d0: 6269 6c69 7479 2073 796e 6f6e 796d 730a  bility synonyms.
+000333e0: 2020 2020 2320 666d 743a 206f 6666 0a20      # fmt: off. 
+000333f0: 2020 2040 7265 706c 6163 6564 5f62 795f     @replaced_by_
+00033400: 7065 7038 286c 6561 7665 5f77 6869 7465  pep8(leave_white
+00033410: 7370 6163 6529 0a20 2020 2064 6566 206c  space).    def l
+00033420: 6561 7665 5768 6974 6573 7061 6365 2873  eaveWhitespace(s
+00033430: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
+00033440: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00033450: 2869 676e 6f72 655f 7768 6974 6573 7061  (ignore_whitespa
+00033460: 6365 290a 2020 2020 6465 6620 6967 6e6f  ce).    def igno
+00033470: 7265 5768 6974 6573 7061 6365 2873 656c  reWhitespace(sel
+00033480: 6629 3a20 2e2e 2e0a 2020 2020 2320 666d  f): ....    # fm
+00033490: 743a 206f 6e0a 0a0a 636c 6173 7320 546f  t: on...class To
+000334a0: 6b65 6e43 6f6e 7665 7274 6572 2850 6172  kenConverter(Par
+000334b0: 7365 456c 656d 656e 7445 6e68 616e 6365  seElementEnhance
+000334c0: 293a 0a20 2020 2022 2222 0a20 2020 2041  ):.    """.    A
+000334d0: 6273 7472 6163 7420 7375 6263 6c61 7373  bstract subclass
+000334e0: 206f 6620 3a63 6c61 7373 3a60 5061 7273   of :class:`Pars
+000334f0: 6545 7870 7265 7373 696f 6e60 2c20 666f  eExpression`, fo
+00033500: 7220 636f 6e76 6572 7469 6e67 2070 6172  r converting par
+00033510: 7365 6420 7265 7375 6c74 732e 0a20 2020  sed results..   
+00033520: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
+00033530: 696e 6974 5f5f 2873 656c 662c 2065 7870  init__(self, exp
+00033540: 723a 2055 6e69 6f6e 5b50 6172 7365 7245  r: Union[ParserE
+00033550: 6c65 6d65 6e74 2c20 7374 725d 2c20 7361  lement, str], sa
+00033560: 7665 6c69 7374 3d46 616c 7365 293a 0a20  velist=False):. 
+00033570: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+00033580: 5f69 6e69 745f 5f28 6578 7072 2920 2023  _init__(expr)  #
+00033590: 202c 2073 6176 656c 6973 7429 0a20 2020   , savelist).   
+000335a0: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
+000335b0: 4c69 7374 203d 2046 616c 7365 0a0a 0a63  List = False...c
+000335c0: 6c61 7373 2043 6f6d 6269 6e65 2854 6f6b  lass Combine(Tok
+000335d0: 656e 436f 6e76 6572 7465 7229 3a0a 2020  enConverter):.  
+000335e0: 2020 2222 2243 6f6e 7665 7274 6572 2074    """Converter t
+000335f0: 6f20 636f 6e63 6174 656e 6174 6520 616c  o concatenate al
+00033600: 6c20 6d61 7463 6869 6e67 2074 6f6b 656e  l matching token
+00033610: 7320 746f 2061 2073 696e 676c 6520 7374  s to a single st
+00033620: 7269 6e67 2e0a 2020 2020 4279 2064 6566  ring..    By def
+00033630: 6175 6c74 2c20 7468 6520 6d61 7463 6869  ault, the matchi
+00033640: 6e67 2070 6174 7465 726e 7320 6d75 7374  ng patterns must
+00033650: 2061 6c73 6f20 6265 2063 6f6e 7469 6775   also be contigu
+00033660: 6f75 7320 696e 2074 6865 0a20 2020 2069  ous in the.    i
+00033670: 6e70 7574 2073 7472 696e 673b 2074 6869  nput string; thi
+00033680: 7320 6361 6e20 6265 2064 6973 6162 6c65  s can be disable
+00033690: 6420 6279 2073 7065 6369 6679 696e 670a  d by specifying.
+000336a0: 2020 2020 6060 2761 646a 6163 656e 743d      ``'adjacent=
+000336b0: 4661 6c73 6527 6060 2069 6e20 7468 6520  False'`` in the 
+000336c0: 636f 6e73 7472 7563 746f 722e 0a0a 2020  constructor...  
+000336d0: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+000336e0: 2020 2020 2072 6561 6c20 3d20 576f 7264       real = Word
+000336f0: 286e 756d 7329 202b 2027 2e27 202b 2057  (nums) + '.' + W
+00033700: 6f72 6428 6e75 6d73 290a 2020 2020 2020  ord(nums).      
+00033710: 2020 7072 696e 7428 7265 616c 2e70 6172    print(real.par
+00033720: 7365 5f73 7472 696e 6728 2733 2e31 3431  se_string('3.141
+00033730: 3627 2929 2023 202d 3e20 5b27 3327 2c20  6')) # -> ['3', 
+00033740: 272e 272c 2027 3134 3136 275d 0a20 2020  '.', '1416'].   
+00033750: 2020 2020 2023 2077 696c 6c20 616c 736f       # will also
+00033760: 2065 7272 6f6e 656f 7573 6c79 206d 6174   erroneously mat
+00033770: 6368 2074 6865 2066 6f6c 6c6f 7769 6e67  ch the following
+00033780: 0a20 2020 2020 2020 2070 7269 6e74 2872  .        print(r
+00033790: 6561 6c2e 7061 7273 655f 7374 7269 6e67  eal.parse_string
+000337a0: 2827 332e 2031 3431 3627 2929 2023 202d  ('3. 1416')) # -
+000337b0: 3e20 5b27 3327 2c20 272e 272c 2027 3134  > ['3', '.', '14
+000337c0: 3136 275d 0a0a 2020 2020 2020 2020 7265  16']..        re
+000337d0: 616c 203d 2043 6f6d 6269 6e65 2857 6f72  al = Combine(Wor
+000337e0: 6428 6e75 6d73 2920 2b20 272e 2720 2b20  d(nums) + '.' + 
+000337f0: 576f 7264 286e 756d 7329 290a 2020 2020  Word(nums)).    
+00033800: 2020 2020 7072 696e 7428 7265 616c 2e70      print(real.p
+00033810: 6172 7365 5f73 7472 696e 6728 2733 2e31  arse_string('3.1
+00033820: 3431 3627 2929 2023 202d 3e20 5b27 332e  416')) # -> ['3.
+00033830: 3134 3136 275d 0a20 2020 2020 2020 2023  1416'].        #
+00033840: 206e 6f20 6d61 7463 6820 7768 656e 2074   no match when t
+00033850: 6865 7265 2061 7265 2069 6e74 6572 6e61  here are interna
+00033860: 6c20 7370 6163 6573 0a20 2020 2020 2020  l spaces.       
+00033870: 2070 7269 6e74 2872 6561 6c2e 7061 7273   print(real.pars
+00033880: 655f 7374 7269 6e67 2827 332e 2031 3431  e_string('3. 141
+00033890: 3627 2929 2023 202d 3e20 4578 6365 7074  6')) # -> Except
+000338a0: 696f 6e3a 2045 7870 6563 7465 6420 573a  ion: Expected W:
+000338b0: 2830 3132 332e 2e2e 290a 2020 2020 2222  (0123...).    ""
+000338c0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+000338d0: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
+000338e0: 662c 0a20 2020 2020 2020 2065 7870 723a  f,.        expr:
+000338f0: 2050 6172 7365 7245 6c65 6d65 6e74 2c0a   ParserElement,.
+00033900: 2020 2020 2020 2020 6a6f 696e 5f73 7472          join_str
+00033910: 696e 673a 2073 7472 203d 2022 222c 0a20  ing: str = "",. 
+00033920: 2020 2020 2020 2061 646a 6163 656e 743a         adjacent:
+00033930: 2062 6f6f 6c20 3d20 5472 7565 2c0a 2020   bool = True,.  
+00033940: 2020 2020 2020 2a2c 0a20 2020 2020 2020        *,.       
+00033950: 206a 6f69 6e53 7472 696e 673a 2074 7970   joinString: typ
+00033960: 696e 672e 4f70 7469 6f6e 616c 5b73 7472  ing.Optional[str
+00033970: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 293a  ] = None,.    ):
+00033980: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00033990: 2e5f 5f69 6e69 745f 5f28 6578 7072 290a  .__init__(expr).
+000339a0: 2020 2020 2020 2020 6a6f 696e 5374 7269          joinStri
+000339b0: 6e67 203d 206a 6f69 6e53 7472 696e 6720  ng = joinString 
+000339c0: 6966 206a 6f69 6e53 7472 696e 6720 6973  if joinString is
+000339d0: 206e 6f74 204e 6f6e 6520 656c 7365 206a   not None else j
+000339e0: 6f69 6e5f 7374 7269 6e67 0a20 2020 2020  oin_string.     
+000339f0: 2020 2023 2073 7570 7072 6573 7320 7768     # suppress wh
+00033a00: 6974 6573 7061 6365 2d73 7472 6970 7069  itespace-strippi
+00033a10: 6e67 2069 6e20 636f 6e74 6169 6e65 6420  ng in contained 
+00033a20: 7061 7273 6520 6578 7072 6573 7369 6f6e  parse expression
+00033a30: 732c 2062 7574 2072 652d 656e 6162 6c65  s, but re-enable
+00033a40: 2069 7420 6f6e 2074 6865 2043 6f6d 6269   it on the Combi
+00033a50: 6e65 2069 7473 656c 660a 2020 2020 2020  ne itself.      
+00033a60: 2020 6966 2061 646a 6163 656e 743a 0a20    if adjacent:. 
+00033a70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00033a80: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
+00033a90: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+00033aa0: 6164 6a61 6365 6e74 203d 2061 646a 6163  adjacent = adjac
+00033ab0: 656e 740a 2020 2020 2020 2020 7365 6c66  ent.        self
+00033ac0: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
+00033ad0: 3d20 5472 7565 0a20 2020 2020 2020 2073  = True.        s
+00033ae0: 656c 662e 6a6f 696e 5374 7269 6e67 203d  elf.joinString =
+00033af0: 206a 6f69 6e53 7472 696e 670a 2020 2020   joinString.    
+00033b00: 2020 2020 7365 6c66 2e63 616c 6c50 7265      self.callPre
+00033b10: 7061 7273 6520 3d20 5472 7565 0a0a 2020  parse = True..  
+00033b20: 2020 6465 6620 6967 6e6f 7265 2873 656c    def ignore(sel
+00033b30: 662c 206f 7468 6572 2920 2d3e 2050 6172  f, other) -> Par
+00033b40: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
+00033b50: 2020 2020 6966 2073 656c 662e 6164 6a61      if self.adja
+00033b60: 6365 6e74 3a0a 2020 2020 2020 2020 2020  cent:.          
+00033b70: 2020 5061 7273 6572 456c 656d 656e 742e    ParserElement.
+00033b80: 6967 6e6f 7265 2873 656c 662c 206f 7468  ignore(self, oth
+00033b90: 6572 290a 2020 2020 2020 2020 656c 7365  er).        else
+00033ba0: 3a0a 2020 2020 2020 2020 2020 2020 7375  :.            su
+00033bb0: 7065 7228 292e 6967 6e6f 7265 286f 7468  per().ignore(oth
+00033bc0: 6572 290a 2020 2020 2020 2020 7265 7475  er).        retu
+00033bd0: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+00033be0: 2070 6f73 7450 6172 7365 2873 656c 662c   postParse(self,
+00033bf0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00033c00: 746f 6b65 6e6c 6973 7429 3a0a 2020 2020  tokenlist):.    
+00033c10: 2020 2020 7265 7454 6f6b 7320 3d20 746f      retToks = to
+00033c20: 6b65 6e6c 6973 742e 636f 7079 2829 0a20  kenlist.copy(). 
+00033c30: 2020 2020 2020 2064 656c 2072 6574 546f         del retTo
+00033c40: 6b73 5b3a 5d0a 2020 2020 2020 2020 7265  ks[:].        re
+00033c50: 7454 6f6b 7320 2b3d 2050 6172 7365 5265  tToks += ParseRe
+00033c60: 7375 6c74 7328 0a20 2020 2020 2020 2020  sults(.         
+00033c70: 2020 205b 2222 2e6a 6f69 6e28 746f 6b65     ["".join(toke
+00033c80: 6e6c 6973 742e 5f61 7353 7472 696e 674c  nlist._asStringL
+00033c90: 6973 7428 7365 6c66 2e6a 6f69 6e53 7472  ist(self.joinStr
+00033ca0: 696e 6729 295d 2c20 6d6f 6461 6c3d 7365  ing))], modal=se
+00033cb0: 6c66 2e6d 6f64 616c 5265 7375 6c74 730a  lf.modalResults.
+00033cc0: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+00033cd0: 2020 2069 6620 7365 6c66 2e72 6573 756c     if self.resul
+00033ce0: 7473 4e61 6d65 2061 6e64 2072 6574 546f  tsName and retTo
+00033cf0: 6b73 2e68 6173 6b65 7973 2829 3a0a 2020  ks.haskeys():.  
+00033d00: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00033d10: 205b 7265 7454 6f6b 735d 0a20 2020 2020   [retToks].     
+00033d20: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00033d30: 2020 2020 2072 6574 7572 6e20 7265 7454       return retT
+00033d40: 6f6b 730a 0a0a 636c 6173 7320 4772 6f75  oks...class Grou
+00033d50: 7028 546f 6b65 6e43 6f6e 7665 7274 6572  p(TokenConverter
+00033d60: 293a 0a20 2020 2022 2222 436f 6e76 6572  ):.    """Conver
+00033d70: 7465 7220 746f 2072 6574 7572 6e20 7468  ter to return th
+00033d80: 6520 6d61 7463 6865 6420 746f 6b65 6e73  e matched tokens
+00033d90: 2061 7320 6120 6c69 7374 202d 2075 7365   as a list - use
+00033da0: 6675 6c20 666f 720a 2020 2020 7265 7475  ful for.    retu
+00033db0: 726e 696e 6720 746f 6b65 6e73 206f 6620  rning tokens of 
+00033dc0: 3a63 6c61 7373 3a60 5a65 726f 4f72 4d6f  :class:`ZeroOrMo
+00033dd0: 7265 6020 616e 6420 3a63 6c61 7373 3a60  re` and :class:`
+00033de0: 4f6e 654f 724d 6f72 6560 2065 7870 7265  OneOrMore` expre
+00033df0: 7373 696f 6e73 2e0a 0a20 2020 2054 6865  ssions...    The
+00033e00: 206f 7074 696f 6e61 6c20 6060 6173 6c69   optional ``asli
+00033e10: 7374 6060 2061 7267 756d 656e 7420 7768  st`` argument wh
+00033e20: 656e 2073 6574 2074 6f20 5472 7565 2077  en set to True w
+00033e30: 696c 6c20 7265 7475 726e 2074 6865 0a20  ill return the. 
+00033e40: 2020 2070 6172 7365 6420 746f 6b65 6e73     parsed tokens
+00033e50: 2061 7320 6120 5079 7468 6f6e 206c 6973   as a Python lis
+00033e60: 7420 696e 7374 6561 6420 6f66 2061 2070  t instead of a p
+00033e70: 7970 6172 7369 6e67 2050 6172 7365 5265  yparsing ParseRe
+00033e80: 7375 6c74 732e 0a0a 2020 2020 4578 616d  sults...    Exam
+00033e90: 706c 653a 3a0a 0a20 2020 2020 2020 2069  ple::..        i
+00033ea0: 6465 6e74 203d 2057 6f72 6428 616c 7068  dent = Word(alph
+00033eb0: 6173 290a 2020 2020 2020 2020 6e75 6d20  as).        num 
+00033ec0: 3d20 576f 7264 286e 756d 7329 0a20 2020  = Word(nums).   
+00033ed0: 2020 2020 2074 6572 6d20 3d20 6964 656e       term = iden
+00033ee0: 7420 7c20 6e75 6d0a 2020 2020 2020 2020  t | num.        
+00033ef0: 6675 6e63 203d 2069 6465 6e74 202b 204f  func = ident + O
+00033f00: 7074 2844 656c 696d 6974 6564 4c69 7374  pt(DelimitedList
+00033f10: 2874 6572 6d29 290a 2020 2020 2020 2020  (term)).        
+00033f20: 7072 696e 7428 6675 6e63 2e70 6172 7365  print(func.parse
+00033f30: 5f73 7472 696e 6728 2266 6e20 612c 2062  _string("fn a, b
+00033f40: 2c20 3130 3022 2929 0a20 2020 2020 2020  , 100")).       
+00033f50: 2023 202d 3e20 5b27 666e 272c 2027 6127   # -> ['fn', 'a'
+00033f60: 2c20 2762 272c 2027 3130 3027 5d0a 0a20  , 'b', '100'].. 
+00033f70: 2020 2020 2020 2066 756e 6320 3d20 6964         func = id
+00033f80: 656e 7420 2b20 4772 6f75 7028 4f70 7428  ent + Group(Opt(
+00033f90: 4465 6c69 6d69 7465 644c 6973 7428 7465  DelimitedList(te
+00033fa0: 726d 2929 290a 2020 2020 2020 2020 7072  rm))).        pr
+00033fb0: 696e 7428 6675 6e63 2e70 6172 7365 5f73  int(func.parse_s
+00033fc0: 7472 696e 6728 2266 6e20 612c 2062 2c20  tring("fn a, b, 
+00033fd0: 3130 3022 2929 0a20 2020 2020 2020 2023  100")).        #
+00033fe0: 202d 3e20 5b27 666e 272c 205b 2761 272c   -> ['fn', ['a',
+00033ff0: 2027 6227 2c20 2731 3030 275d 5d0a 2020   'b', '100']].  
+00034000: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+00034010: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
+00034020: 7072 3a20 5061 7273 6572 456c 656d 656e  pr: ParserElemen
+00034030: 742c 2061 736c 6973 743a 2062 6f6f 6c20  t, aslist: bool 
+00034040: 3d20 4661 6c73 6529 3a0a 2020 2020 2020  = False):.      
+00034050: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+00034060: 5f5f 2865 7870 7229 0a20 2020 2020 2020  __(expr).       
+00034070: 2073 656c 662e 7361 7665 4173 4c69 7374   self.saveAsList
+00034080: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+00034090: 7365 6c66 2e5f 6173 5079 7468 6f6e 4c69  self._asPythonLi
+000340a0: 7374 203d 2061 736c 6973 740a 0a20 2020  st = aslist..   
+000340b0: 2064 6566 2070 6f73 7450 6172 7365 2873   def postParse(s
+000340c0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+000340d0: 6f63 2c20 746f 6b65 6e6c 6973 7429 3a0a  oc, tokenlist):.
+000340e0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+000340f0: 5f61 7350 7974 686f 6e4c 6973 743a 0a20  _asPythonList:. 
+00034100: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00034110: 6e20 5061 7273 6552 6573 756c 7473 2e4c  n ParseResults.L
+00034120: 6973 7428 0a20 2020 2020 2020 2020 2020  ist(.           
+00034130: 2020 2020 2074 6f6b 656e 6c69 7374 2e61       tokenlist.a
+00034140: 734c 6973 7428 290a 2020 2020 2020 2020  sList().        
+00034150: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00034160: 7461 6e63 6528 746f 6b65 6e6c 6973 742c  tance(tokenlist,
+00034170: 2050 6172 7365 5265 7375 6c74 7329 0a20   ParseResults). 
+00034180: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00034190: 6c73 6520 6c69 7374 2874 6f6b 656e 6c69  lse list(tokenli
+000341a0: 7374 290a 2020 2020 2020 2020 2020 2020  st).            
+000341b0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+000341c0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000341d0: 726e 205b 746f 6b65 6e6c 6973 745d 0a0a  rn [tokenlist]..
+000341e0: 0a63 6c61 7373 2044 6963 7428 546f 6b65  .class Dict(Toke
+000341f0: 6e43 6f6e 7665 7274 6572 293a 0a20 2020  nConverter):.   
+00034200: 2022 2222 436f 6e76 6572 7465 7220 746f   """Converter to
+00034210: 2072 6574 7572 6e20 6120 7265 7065 7469   return a repeti
+00034220: 7469 7665 2065 7870 7265 7373 696f 6e20  tive expression 
+00034230: 6173 2061 206c 6973 742c 2062 7574 2061  as a list, but a
+00034240: 6c73 6f0a 2020 2020 6173 2061 2064 6963  lso.    as a dic
+00034250: 7469 6f6e 6172 792e 2045 6163 6820 656c  tionary. Each el
+00034260: 656d 656e 7420 6361 6e20 616c 736f 2062  ement can also b
+00034270: 6520 7265 6665 7265 6e63 6564 2075 7369  e referenced usi
+00034280: 6e67 2074 6865 2066 6972 7374 0a20 2020  ng the first.   
+00034290: 2074 6f6b 656e 2069 6e20 7468 6520 6578   token in the ex
+000342a0: 7072 6573 7369 6f6e 2061 7320 6974 7320  pression as its 
+000342b0: 6b65 792e 2055 7365 6675 6c20 666f 7220  key. Useful for 
+000342c0: 7461 6275 6c61 7220 7265 706f 7274 0a20  tabular report. 
+000342d0: 2020 2073 6372 6170 696e 6720 7768 656e     scraping when
+000342e0: 2074 6865 2066 6972 7374 2063 6f6c 756d   the first colum
+000342f0: 6e20 6361 6e20 6265 2075 7365 6420 6173  n can be used as
+00034300: 2061 2069 7465 6d20 6b65 792e 0a0a 2020   a item key...  
+00034310: 2020 5468 6520 6f70 7469 6f6e 616c 2060    The optional `
+00034320: 6061 7364 6963 7460 6020 6172 6775 6d65  `asdict`` argume
+00034330: 6e74 2077 6865 6e20 7365 7420 746f 2054  nt when set to T
+00034340: 7275 6520 7769 6c6c 2072 6574 7572 6e20  rue will return 
+00034350: 7468 650a 2020 2020 7061 7273 6564 2074  the.    parsed t
+00034360: 6f6b 656e 7320 6173 2061 2050 7974 686f  okens as a Pytho
+00034370: 6e20 6469 6374 2069 6e73 7465 6164 206f  n dict instead o
+00034380: 6620 6120 7079 7061 7273 696e 6720 5061  f a pyparsing Pa
+00034390: 7273 6552 6573 756c 7473 2e0a 0a20 2020  rseResults...   
+000343a0: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
+000343b0: 2020 2020 6461 7461 5f77 6f72 6420 3d20      data_word = 
+000343c0: 576f 7264 2861 6c70 6861 7329 0a20 2020  Word(alphas).   
+000343d0: 2020 2020 206c 6162 656c 203d 2064 6174       label = dat
+000343e0: 615f 776f 7264 202b 2046 6f6c 6c6f 7765  a_word + Followe
+000343f0: 6442 7928 273a 2729 0a0a 2020 2020 2020  dBy(':')..      
+00034400: 2020 7465 7874 203d 2022 7368 6170 653a    text = "shape:
+00034410: 2053 5155 4152 4520 706f 736e 3a20 7570   SQUARE posn: up
+00034420: 7065 7220 6c65 6674 2063 6f6c 6f72 3a20  per left color: 
+00034430: 6c69 6768 7420 626c 7565 2074 6578 7475  light blue textu
+00034440: 7265 3a20 6275 726c 6170 220a 2020 2020  re: burlap".    
+00034450: 2020 2020 6174 7472 5f65 7870 7220 3d20      attr_expr = 
+00034460: 286c 6162 656c 202b 2053 7570 7072 6573  (label + Suppres
+00034470: 7328 273a 2729 202b 204f 6e65 4f72 4d6f  s(':') + OneOrMo
+00034480: 7265 2864 6174 615f 776f 7264 2c20 7374  re(data_word, st
+00034490: 6f70 5f6f 6e3d 6c61 6265 6c29 2e73 6574  op_on=label).set
+000344a0: 5f70 6172 7365 5f61 6374 696f 6e28 2720  _parse_action(' 
+000344b0: 272e 6a6f 696e 2929 0a0a 2020 2020 2020  '.join))..      
+000344c0: 2020 2320 7072 696e 7420 6174 7472 6962    # print attrib
+000344d0: 7574 6573 2061 7320 706c 6169 6e20 6772  utes as plain gr
+000344e0: 6f75 7073 0a20 2020 2020 2020 2070 7269  oups.        pri
+000344f0: 6e74 2861 7474 725f 6578 7072 5b31 2c20  nt(attr_expr[1, 
+00034500: 2e2e 2e5d 2e70 6172 7365 5f73 7472 696e  ...].parse_strin
+00034510: 6728 7465 7874 292e 6475 6d70 2829 290a  g(text).dump()).
+00034520: 0a20 2020 2020 2020 2023 2069 6e73 7465  .        # inste
+00034530: 6164 206f 6620 4f6e 654f 724d 6f72 6528  ad of OneOrMore(
+00034540: 6578 7072 292c 2070 6172 7365 2075 7369  expr), parse usi
+00034550: 6e67 2044 6963 7428 4772 6f75 7028 6578  ng Dict(Group(ex
+00034560: 7072 295b 312c 202e 2e2e 5d29 202d 2044  pr)[1, ...]) - D
+00034570: 6963 7420 7769 6c6c 2061 7574 6f2d 6173  ict will auto-as
+00034580: 7369 676e 206e 616d 6573 0a20 2020 2020  sign names.     
+00034590: 2020 2072 6573 756c 7420 3d20 4469 6374     result = Dict
+000345a0: 2847 726f 7570 2861 7474 725f 6578 7072  (Group(attr_expr
+000345b0: 295b 312c 202e 2e2e 5d29 2e70 6172 7365  )[1, ...]).parse
+000345c0: 5f73 7472 696e 6728 7465 7874 290a 2020  _string(text).  
+000345d0: 2020 2020 2020 7072 696e 7428 7265 7375        print(resu
+000345e0: 6c74 2e64 756d 7028 2929 0a0a 2020 2020  lt.dump())..    
+000345f0: 2020 2020 2320 6163 6365 7373 206e 616d      # access nam
+00034600: 6564 2066 6965 6c64 7320 6173 2064 6963  ed fields as dic
+00034610: 7420 656e 7472 6965 732c 206f 7220 6f75  t entries, or ou
+00034620: 7470 7574 2061 7320 6469 6374 0a20 2020  tput as dict.   
+00034630: 2020 2020 2070 7269 6e74 2872 6573 756c       print(resul
+00034640: 745b 2773 6861 7065 275d 290a 2020 2020  t['shape']).    
+00034650: 2020 2020 7072 696e 7428 7265 7375 6c74      print(result
+00034660: 2e61 735f 6469 6374 2829 290a 0a20 2020  .as_dict())..   
+00034670: 2070 7269 6e74 733a 3a0a 0a20 2020 2020   prints::..     
+00034680: 2020 205b 2773 6861 7065 272c 2027 5351     ['shape', 'SQ
+00034690: 5541 5245 272c 2027 706f 736e 272c 2027  UARE', 'posn', '
+000346a0: 7570 7065 7220 6c65 6674 272c 2027 636f  upper left', 'co
+000346b0: 6c6f 7227 2c20 276c 6967 6874 2062 6c75  lor', 'light blu
+000346c0: 6527 2c20 2774 6578 7475 7265 272c 2027  e', 'texture', '
+000346d0: 6275 726c 6170 275d 0a20 2020 2020 2020  burlap'].       
+000346e0: 205b 5b27 7368 6170 6527 2c20 2753 5155   [['shape', 'SQU
+000346f0: 4152 4527 5d2c 205b 2770 6f73 6e27 2c20  ARE'], ['posn', 
+00034700: 2775 7070 6572 206c 6566 7427 5d2c 205b  'upper left'], [
+00034710: 2763 6f6c 6f72 272c 2027 6c69 6768 7420  'color', 'light 
+00034720: 626c 7565 275d 2c20 5b27 7465 7874 7572  blue'], ['textur
+00034730: 6527 2c20 2762 7572 6c61 7027 5d5d 0a20  e', 'burlap']]. 
+00034740: 2020 2020 2020 202d 2063 6f6c 6f72 3a20         - color: 
+00034750: 276c 6967 6874 2062 6c75 6527 0a20 2020  'light blue'.   
+00034760: 2020 2020 202d 2070 6f73 6e3a 2027 7570       - posn: 'up
+00034770: 7065 7220 6c65 6674 270a 2020 2020 2020  per left'.      
+00034780: 2020 2d20 7368 6170 653a 2027 5351 5541    - shape: 'SQUA
+00034790: 5245 270a 2020 2020 2020 2020 2d20 7465  RE'.        - te
+000347a0: 7874 7572 653a 2027 6275 726c 6170 270a  xture: 'burlap'.
+000347b0: 2020 2020 2020 2020 5351 5541 5245 0a20          SQUARE. 
+000347c0: 2020 2020 2020 207b 2763 6f6c 6f72 273a         {'color':
+000347d0: 2027 6c69 6768 7420 626c 7565 272c 2027   'light blue', '
+000347e0: 706f 736e 273a 2027 7570 7065 7220 6c65  posn': 'upper le
+000347f0: 6674 272c 2027 7465 7874 7572 6527 3a20  ft', 'texture': 
+00034800: 2762 7572 6c61 7027 2c20 2773 6861 7065  'burlap', 'shape
+00034810: 273a 2027 5351 5541 5245 277d 0a0a 2020  ': 'SQUARE'}..  
+00034820: 2020 5365 6520 6d6f 7265 2065 7861 6d70    See more examp
+00034830: 6c65 7320 6174 203a 636c 6173 733a 6050  les at :class:`P
+00034840: 6172 7365 5265 7375 6c74 7360 206f 6620  arseResults` of 
+00034850: 6163 6365 7373 696e 6720 6669 656c 6473  accessing fields
+00034860: 2062 7920 7265 7375 6c74 7320 6e61 6d65   by results name
+00034870: 2e0a 2020 2020 2222 220a 0a20 2020 2064  ..    """..    d
+00034880: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+00034890: 2c20 6578 7072 3a20 5061 7273 6572 456c  , expr: ParserEl
+000348a0: 656d 656e 742c 2061 7364 6963 743a 2062  ement, asdict: b
+000348b0: 6f6f 6c20 3d20 4661 6c73 6529 3a0a 2020  ool = False):.  
+000348c0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+000348d0: 696e 6974 5f5f 2865 7870 7229 0a20 2020  init__(expr).   
+000348e0: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
+000348f0: 4c69 7374 203d 2054 7275 650a 2020 2020  List = True.    
+00034900: 2020 2020 7365 6c66 2e5f 6173 5079 7468      self._asPyth
+00034910: 6f6e 4469 6374 203d 2061 7364 6963 740a  onDict = asdict.
+00034920: 0a20 2020 2064 6566 2070 6f73 7450 6172  .    def postPar
+00034930: 7365 2873 656c 662c 2069 6e73 7472 696e  se(self, instrin
+00034940: 672c 206c 6f63 2c20 746f 6b65 6e6c 6973  g, loc, tokenlis
+00034950: 7429 3a0a 2020 2020 2020 2020 666f 7220  t):.        for 
+00034960: 692c 2074 6f6b 2069 6e20 656e 756d 6572  i, tok in enumer
+00034970: 6174 6528 746f 6b65 6e6c 6973 7429 3a0a  ate(tokenlist):.
+00034980: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+00034990: 656e 2874 6f6b 2920 3d3d 2030 3a0a 2020  en(tok) == 0:.  
+000349a0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+000349b0: 6e74 696e 7565 0a0a 2020 2020 2020 2020  ntinue..        
+000349c0: 2020 2020 696b 6579 203d 2074 6f6b 5b30      ikey = tok[0
+000349d0: 5d0a 2020 2020 2020 2020 2020 2020 6966  ].            if
+000349e0: 2069 7369 6e73 7461 6e63 6528 696b 6579   isinstance(ikey
+000349f0: 2c20 696e 7429 3a0a 2020 2020 2020 2020  , int):.        
+00034a00: 2020 2020 2020 2020 696b 6579 203d 2073          ikey = s
+00034a10: 7472 2869 6b65 7929 2e73 7472 6970 2829  tr(ikey).strip()
+00034a20: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00034a30: 206c 656e 2874 6f6b 2920 3d3d 2031 3a0a   len(tok) == 1:.
+00034a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034a50: 746f 6b65 6e6c 6973 745b 696b 6579 5d20  tokenlist[ikey] 
+00034a60: 3d20 5f50 6172 7365 5265 7375 6c74 7357  = _ParseResultsW
+00034a70: 6974 684f 6666 7365 7428 2222 2c20 6929  ithOffset("", i)
+00034a80: 0a0a 2020 2020 2020 2020 2020 2020 656c  ..            el
+00034a90: 6966 206c 656e 2874 6f6b 2920 3d3d 2032  if len(tok) == 2
+00034aa0: 2061 6e64 206e 6f74 2069 7369 6e73 7461   and not isinsta
+00034ab0: 6e63 6528 746f 6b5b 315d 2c20 5061 7273  nce(tok[1], Pars
+00034ac0: 6552 6573 756c 7473 293a 0a20 2020 2020  eResults):.     
+00034ad0: 2020 2020 2020 2020 2020 2074 6f6b 656e             token
+00034ae0: 6c69 7374 5b69 6b65 795d 203d 205f 5061  list[ikey] = _Pa
+00034af0: 7273 6552 6573 756c 7473 5769 7468 4f66  rseResultsWithOf
+00034b00: 6673 6574 2874 6f6b 5b31 5d2c 2069 290a  fset(tok[1], i).
+00034b10: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+00034b20: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00034b30: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00034b40: 2020 2020 2020 2020 2020 2020 6469 6374              dict
+00034b50: 7661 6c75 6520 3d20 746f 6b2e 636f 7079  value = tok.copy
+00034b60: 2829 2020 2320 5061 7273 6552 6573 756c  ()  # ParseResul
+00034b70: 7473 2869 290a 2020 2020 2020 2020 2020  ts(i).          
+00034b80: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+00034b90: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
+00034ba0: 2020 2020 2020 2020 2020 2020 6578 6320              exc 
+00034bb0: 3d20 5479 7065 4572 726f 7228 0a20 2020  = TypeError(.   
+00034bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034bd0: 2020 2020 2022 636f 756c 6420 6e6f 7420       "could not 
+00034be0: 6578 7472 6163 7420 6469 6374 2076 616c  extract dict val
+00034bf0: 7565 7320 6672 6f6d 2070 6172 7365 6420  ues from parsed 
+00034c00: 7265 7375 6c74 7322 0a20 2020 2020 2020  results".       
+00034c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034c20: 2022 202d 2044 6963 7420 6578 7072 6573   " - Dict expres
+00034c30: 7369 6f6e 206d 7573 7420 636f 6e74 6169  sion must contai
+00034c40: 6e20 4772 6f75 7065 6420 6578 7072 6573  n Grouped expres
+00034c50: 7369 6f6e 7322 0a20 2020 2020 2020 2020  sions".         
+00034c60: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00034c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034c80: 2072 6169 7365 2065 7863 2066 726f 6d20   raise exc from 
+00034c90: 4e6f 6e65 0a0a 2020 2020 2020 2020 2020  None..          
+00034ca0: 2020 2020 2020 6465 6c20 6469 6374 7661        del dictva
+00034cb0: 6c75 655b 305d 0a0a 2020 2020 2020 2020  lue[0]..        
+00034cc0: 2020 2020 2020 2020 6966 206c 656e 2864          if len(d
+00034cd0: 6963 7476 616c 7565 2920 213d 2031 206f  ictvalue) != 1 o
+00034ce0: 7220 280a 2020 2020 2020 2020 2020 2020  r (.            
+00034cf0: 2020 2020 2020 2020 6973 696e 7374 616e          isinstan
+00034d00: 6365 2864 6963 7476 616c 7565 2c20 5061  ce(dictvalue, Pa
+00034d10: 7273 6552 6573 756c 7473 2920 616e 6420  rseResults) and 
+00034d20: 6469 6374 7661 6c75 652e 6861 736b 6579  dictvalue.haskey
+00034d30: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
+00034d40: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
+00034d50: 2020 2020 2020 2020 2020 2074 6f6b 656e             token
+00034d60: 6c69 7374 5b69 6b65 795d 203d 205f 5061  list[ikey] = _Pa
+00034d70: 7273 6552 6573 756c 7473 5769 7468 4f66  rseResultsWithOf
+00034d80: 6673 6574 2864 6963 7476 616c 7565 2c20  fset(dictvalue, 
+00034d90: 6929 0a20 2020 2020 2020 2020 2020 2020  i).             
+00034da0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00034db0: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
+00034dc0: 656e 6c69 7374 5b69 6b65 795d 203d 205f  enlist[ikey] = _
+00034dd0: 5061 7273 6552 6573 756c 7473 5769 7468  ParseResultsWith
+00034de0: 4f66 6673 6574 2864 6963 7476 616c 7565  Offset(dictvalue
+00034df0: 5b30 5d2c 2069 290a 0a20 2020 2020 2020  [0], i)..       
+00034e00: 2069 6620 7365 6c66 2e5f 6173 5079 7468   if self._asPyth
+00034e10: 6f6e 4469 6374 3a0a 2020 2020 2020 2020  onDict:.        
+00034e20: 2020 2020 7265 7475 726e 205b 746f 6b65      return [toke
+00034e30: 6e6c 6973 742e 6173 5f64 6963 7428 295d  nlist.as_dict()]
+00034e40: 2069 6620 7365 6c66 2e72 6573 756c 7473   if self.results
+00034e50: 4e61 6d65 2065 6c73 6520 746f 6b65 6e6c  Name else tokenl
+00034e60: 6973 742e 6173 5f64 6963 7428 290a 2020  ist.as_dict().  
+00034e70: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00034e80: 2020 2020 2020 2020 7265 7475 726e 205b          return [
+00034e90: 746f 6b65 6e6c 6973 745d 2069 6620 7365  tokenlist] if se
+00034ea0: 6c66 2e72 6573 756c 7473 4e61 6d65 2065  lf.resultsName e
+00034eb0: 6c73 6520 746f 6b65 6e6c 6973 740a 0a0a  lse tokenlist...
+00034ec0: 636c 6173 7320 5375 7070 7265 7373 2854  class Suppress(T
+00034ed0: 6f6b 656e 436f 6e76 6572 7465 7229 3a0a  okenConverter):.
+00034ee0: 2020 2020 2222 2243 6f6e 7665 7274 6572      """Converter
+00034ef0: 2066 6f72 2069 676e 6f72 696e 6720 7468   for ignoring th
+00034f00: 6520 7265 7375 6c74 7320 6f66 2061 2070  e results of a p
+00034f10: 6172 7365 6420 6578 7072 6573 7369 6f6e  arsed expression
+00034f20: 2e0a 0a20 2020 2045 7861 6d70 6c65 3a3a  ...    Example::
+00034f30: 0a0a 2020 2020 2020 2020 736f 7572 6365  ..        source
+00034f40: 203d 2022 612c 2062 2c20 632c 6422 0a20   = "a, b, c,d". 
+00034f50: 2020 2020 2020 2077 6420 3d20 576f 7264         wd = Word
+00034f60: 2861 6c70 6861 7329 0a20 2020 2020 2020  (alphas).       
+00034f70: 2077 645f 6c69 7374 3120 3d20 7764 202b   wd_list1 = wd +
+00034f80: 2028 272c 2720 2b20 7764 295b 2e2e 2e5d   (',' + wd)[...]
+00034f90: 0a20 2020 2020 2020 2070 7269 6e74 2877  .        print(w
+00034fa0: 645f 6c69 7374 312e 7061 7273 655f 7374  d_list1.parse_st
+00034fb0: 7269 6e67 2873 6f75 7263 6529 290a 0a20  ring(source)).. 
+00034fc0: 2020 2020 2020 2023 206f 6674 656e 2c20         # often, 
+00034fd0: 6465 6c69 6d69 7465 7273 2074 6861 7420  delimiters that 
+00034fe0: 6172 6520 7573 6566 756c 2064 7572 696e  are useful durin
+00034ff0: 6720 7061 7273 696e 6720 6172 6520 6a75  g parsing are ju
+00035000: 7374 2069 6e20 7468 650a 2020 2020 2020  st in the.      
+00035010: 2020 2320 7761 7920 6166 7465 7277 6172    # way afterwar
+00035020: 6420 2d20 7573 6520 5375 7070 7265 7373  d - use Suppress
+00035030: 2074 6f20 6b65 6570 2074 6865 6d20 6f75   to keep them ou
+00035040: 7420 6f66 2074 6865 2070 6172 7365 6420  t of the parsed 
+00035050: 6f75 7470 7574 0a20 2020 2020 2020 2077  output.        w
+00035060: 645f 6c69 7374 3220 3d20 7764 202b 2028  d_list2 = wd + (
+00035070: 5375 7070 7265 7373 2827 2c27 2920 2b20  Suppress(',') + 
+00035080: 7764 295b 2e2e 2e5d 0a20 2020 2020 2020  wd)[...].       
+00035090: 2070 7269 6e74 2877 645f 6c69 7374 322e   print(wd_list2.
+000350a0: 7061 7273 655f 7374 7269 6e67 2873 6f75  parse_string(sou
+000350b0: 7263 6529 290a 0a20 2020 2020 2020 2023  rce))..        #
+000350c0: 2053 6b69 7070 6564 2074 6578 7420 2875   Skipped text (u
+000350d0: 7369 6e67 2027 2e2e 2e27 2920 6361 6e20  sing '...') can 
+000350e0: 6265 2073 7570 7072 6573 7365 6420 6173  be suppressed as
+000350f0: 2077 656c 6c0a 2020 2020 2020 2020 736f   well.        so
+00035100: 7572 6365 203d 2022 6c65 6164 2069 6e20  urce = "lead in 
+00035110: 5354 4152 5420 7265 6c65 7661 6e74 2074  START relevant t
+00035120: 6578 7420 454e 4420 7472 6169 6c69 6e67  ext END trailing
+00035130: 2074 6578 7422 0a20 2020 2020 2020 2073   text".        s
+00035140: 7461 7274 5f6d 6172 6b65 7220 3d20 4b65  tart_marker = Ke
+00035150: 7977 6f72 6428 2253 5441 5254 2229 0a20  yword("START"). 
+00035160: 2020 2020 2020 2065 6e64 5f6d 6172 6b65         end_marke
+00035170: 7220 3d20 4b65 7977 6f72 6428 2245 4e44  r = Keyword("END
+00035180: 2229 0a20 2020 2020 2020 2066 696e 645f  ").        find_
+00035190: 626f 6479 203d 2053 7570 7072 6573 7328  body = Suppress(
+000351a0: 2e2e 2e29 202b 2073 7461 7274 5f6d 6172  ...) + start_mar
+000351b0: 6b65 7220 2b20 2e2e 2e20 2b20 656e 645f  ker + ... + end_
+000351c0: 6d61 726b 6572 0a20 2020 2020 2020 2070  marker.        p
+000351d0: 7269 6e74 2866 696e 645f 626f 6479 2e70  rint(find_body.p
+000351e0: 6172 7365 5f73 7472 696e 6728 736f 7572  arse_string(sour
+000351f0: 6365 290a 0a20 2020 2070 7269 6e74 733a  ce)..    prints:
+00035200: 3a0a 0a20 2020 2020 2020 205b 2761 272c  :..        ['a',
+00035210: 2027 2c27 2c20 2762 272c 2027 2c27 2c20   ',', 'b', ',', 
+00035220: 2763 272c 2027 2c27 2c20 2764 275d 0a20  'c', ',', 'd']. 
+00035230: 2020 2020 2020 205b 2761 272c 2027 6227         ['a', 'b'
+00035240: 2c20 2763 272c 2027 6427 5d0a 2020 2020  , 'c', 'd'].    
+00035250: 2020 2020 5b27 5354 4152 5427 2c20 2772      ['START', 'r
+00035260: 656c 6576 616e 7420 7465 7874 2027 2c20  elevant text ', 
+00035270: 2745 4e44 275d 0a0a 2020 2020 2853 6565  'END']..    (See
+00035280: 2061 6c73 6f20 3a63 6c61 7373 3a60 4465   also :class:`De
+00035290: 6c69 6d69 7465 644c 6973 7460 2e29 0a20  limitedList`.). 
+000352a0: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
+000352b0: 5f5f 696e 6974 5f5f 2873 656c 662c 2065  __init__(self, e
+000352c0: 7870 723a 2055 6e69 6f6e 5b50 6172 7365  xpr: Union[Parse
+000352d0: 7245 6c65 6d65 6e74 2c20 7374 725d 2c20  rElement, str], 
+000352e0: 7361 7665 6c69 7374 3a20 626f 6f6c 203d  savelist: bool =
+000352f0: 2046 616c 7365 293a 0a20 2020 2020 2020   False):.       
+00035300: 2069 6620 6578 7072 2069 7320 2e2e 2e3a   if expr is ...:
+00035310: 0a20 2020 2020 2020 2020 2020 2065 7870  .            exp
+00035320: 7220 3d20 5f50 656e 6469 6e67 536b 6970  r = _PendingSkip
+00035330: 284e 6f4d 6174 6368 2829 290a 2020 2020  (NoMatch()).    
+00035340: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+00035350: 6974 5f5f 2865 7870 7229 0a0a 2020 2020  it__(expr)..    
+00035360: 6465 6620 5f5f 6164 645f 5f28 7365 6c66  def __add__(self
+00035370: 2c20 6f74 6865 7229 202d 3e20 2250 6172  , other) -> "Par
+00035380: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
+00035390: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+000353a0: 6365 2873 656c 662e 6578 7072 2c20 5f50  ce(self.expr, _P
+000353b0: 656e 6469 6e67 536b 6970 293a 0a20 2020  endingSkip):.   
+000353c0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+000353d0: 5375 7070 7265 7373 2853 6b69 7054 6f28  Suppress(SkipTo(
+000353e0: 6f74 6865 7229 2920 2b20 6f74 6865 720a  other)) + other.
+000353f0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00035400: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00035410: 2073 7570 6572 2829 2e5f 5f61 6464 5f5f   super().__add__
+00035420: 286f 7468 6572 290a 0a20 2020 2064 6566  (other)..    def
+00035430: 205f 5f73 7562 5f5f 2873 656c 662c 206f   __sub__(self, o
+00035440: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
+00035450: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+00035460: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+00035470: 7365 6c66 2e65 7870 722c 205f 5065 6e64  self.expr, _Pend
+00035480: 696e 6753 6b69 7029 3a0a 2020 2020 2020  ingSkip):.      
+00035490: 2020 2020 2020 7265 7475 726e 2053 7570        return Sup
+000354a0: 7072 6573 7328 536b 6970 546f 286f 7468  press(SkipTo(oth
+000354b0: 6572 2929 202d 206f 7468 6572 0a20 2020  er)) - other.   
+000354c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000354d0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
+000354e0: 7065 7228 292e 5f5f 7375 625f 5f28 6f74  per().__sub__(ot
+000354f0: 6865 7229 0a0a 2020 2020 6465 6620 706f  her)..    def po
+00035500: 7374 5061 7273 6528 7365 6c66 2c20 696e  stParse(self, in
+00035510: 7374 7269 6e67 2c20 6c6f 632c 2074 6f6b  string, loc, tok
+00035520: 656e 6c69 7374 293a 0a20 2020 2020 2020  enlist):.       
+00035530: 2072 6574 7572 6e20 5b5d 0a0a 2020 2020   return []..    
+00035540: 6465 6620 7375 7070 7265 7373 2873 656c  def suppress(sel
+00035550: 6629 202d 3e20 5061 7273 6572 456c 656d  f) -> ParserElem
+00035560: 656e 743a 0a20 2020 2020 2020 2072 6574  ent:.        ret
+00035570: 7572 6e20 7365 6c66 0a0a 0a64 6566 2074  urn self...def t
+00035580: 7261 6365 5f70 6172 7365 5f61 6374 696f  race_parse_actio
+00035590: 6e28 663a 2050 6172 7365 4163 7469 6f6e  n(f: ParseAction
+000355a0: 2920 2d3e 2050 6172 7365 4163 7469 6f6e  ) -> ParseAction
+000355b0: 3a0a 2020 2020 2222 2244 6563 6f72 6174  :.    """Decorat
+000355c0: 6f72 2066 6f72 2064 6562 7567 6769 6e67  or for debugging
+000355d0: 2070 6172 7365 2061 6374 696f 6e73 2e0a   parse actions..
+000355e0: 0a20 2020 2057 6865 6e20 7468 6520 7061  .    When the pa
+000355f0: 7273 6520 6163 7469 6f6e 2069 7320 6361  rse action is ca
+00035600: 6c6c 6564 2c20 7468 6973 2064 6563 6f72  lled, this decor
+00035610: 6174 6f72 2077 696c 6c20 7072 696e 740a  ator will print.
+00035620: 2020 2020 6060 223e 3e20 656e 7465 7269      ``">> enteri
+00035630: 6e67 206d 6574 686f 642d 6e61 6d65 286c  ng method-name(l
+00035640: 696e 653a 3c63 7572 7265 6e74 5f73 6f75  ine:<current_sou
+00035650: 7263 655f 6c69 6e65 3e2c 203c 7061 7273  rce_line>, <pars
+00035660: 655f 6c6f 6361 7469 6f6e 3e2c 203c 6d61  e_location>, <ma
+00035670: 7463 6865 645f 746f 6b65 6e73 3e29 2260  tched_tokens>)"`
+00035680: 602e 0a20 2020 2057 6865 6e20 7468 6520  `..    When the 
+00035690: 7061 7273 6520 6163 7469 6f6e 2063 6f6d  parse action com
+000356a0: 706c 6574 6573 2c20 7468 6520 6465 636f  pletes, the deco
+000356b0: 7261 746f 7220 7769 6c6c 2070 7269 6e74  rator will print
+000356c0: 0a20 2020 2060 6022 3c3c 2260 6020 666f  .    ``"<<"`` fo
+000356d0: 6c6c 6f77 6564 2062 7920 7468 6520 7265  llowed by the re
+000356e0: 7475 726e 6564 2076 616c 7565 2c20 6f72  turned value, or
+000356f0: 2061 6e79 2065 7863 6570 7469 6f6e 2074   any exception t
+00035700: 6861 7420 7468 6520 7061 7273 6520 6163  hat the parse ac
+00035710: 7469 6f6e 2072 6169 7365 642e 0a0a 2020  tion raised...  
+00035720: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+00035730: 2020 2020 2077 6420 3d20 576f 7264 2861       wd = Word(a
+00035740: 6c70 6861 7329 0a0a 2020 2020 2020 2020  lphas)..        
+00035750: 4074 7261 6365 5f70 6172 7365 5f61 6374  @trace_parse_act
+00035760: 696f 6e0a 2020 2020 2020 2020 6465 6620  ion.        def 
+00035770: 7265 6d6f 7665 5f64 7570 6c69 6361 7465  remove_duplicate
+00035780: 5f63 6861 7273 2874 6f6b 656e 7329 3a0a  _chars(tokens):.
+00035790: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000357a0: 726e 2027 272e 6a6f 696e 2873 6f72 7465  rn ''.join(sorte
+000357b0: 6428 7365 7428 2727 2e6a 6f69 6e28 746f  d(set(''.join(to
+000357c0: 6b65 6e73 2929 2929 0a0a 2020 2020 2020  kens))))..      
+000357d0: 2020 7764 7320 3d20 7764 5b31 2c20 2e2e    wds = wd[1, ..
+000357e0: 2e5d 2e73 6574 5f70 6172 7365 5f61 6374  .].set_parse_act
+000357f0: 696f 6e28 7265 6d6f 7665 5f64 7570 6c69  ion(remove_dupli
+00035800: 6361 7465 5f63 6861 7273 290a 2020 2020  cate_chars).    
+00035810: 2020 2020 7072 696e 7428 7764 732e 7061      print(wds.pa
+00035820: 7273 655f 7374 7269 6e67 2822 736c 6b64  rse_string("slkd
+00035830: 6a73 2073 6c64 2073 6c64 6420 7364 6c66  js sld sldd sdlf
+00035840: 2073 646c 6a66 2229 290a 0a20 2020 2070   sdljf"))..    p
+00035850: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
+00035860: 203e 3e65 6e74 6572 696e 6720 7265 6d6f   >>entering remo
+00035870: 7665 5f64 7570 6c69 6361 7465 5f63 6861  ve_duplicate_cha
+00035880: 7273 286c 696e 653a 2027 736c 6b64 6a73  rs(line: 'slkdjs
+00035890: 2073 6c64 2073 6c64 6420 7364 6c66 2073   sld sldd sdlf s
+000358a0: 646c 6a66 272c 2030 2c20 285b 2773 6c6b  dljf', 0, (['slk
+000358b0: 646a 7327 2c20 2773 6c64 272c 2027 736c  djs', 'sld', 'sl
+000358c0: 6464 272c 2027 7364 6c66 272c 2027 7364  dd', 'sdlf', 'sd
+000358d0: 6c6a 6627 5d2c 207b 7d29 290a 2020 2020  ljf'], {})).    
+000358e0: 2020 2020 3c3c 6c65 6176 696e 6720 7265      <<leaving re
+000358f0: 6d6f 7665 5f64 7570 6c69 6361 7465 5f63  move_duplicate_c
+00035900: 6861 7273 2028 7265 743a 2027 6466 6a6b  hars (ret: 'dfjk
+00035910: 6c73 2729 0a20 2020 2020 2020 205b 2764  ls').        ['d
+00035920: 666a 6b6c 7327 5d0a 2020 2020 2222 220a  fjkls'].    """.
+00035930: 2020 2020 6620 3d20 5f74 7269 6d5f 6172      f = _trim_ar
+00035940: 6974 7928 6629 0a0a 2020 2020 6465 6620  ity(f)..    def 
+00035950: 7a28 2a70 6141 7267 7329 3a0a 2020 2020  z(*paArgs):.    
+00035960: 2020 2020 7468 6973 4675 6e63 203d 2066      thisFunc = f
+00035970: 2e5f 5f6e 616d 655f 5f0a 2020 2020 2020  .__name__.      
+00035980: 2020 732c 206c 2c20 7420 3d20 7061 4172    s, l, t = paAr
+00035990: 6773 5b2d 333a 5d0a 2020 2020 2020 2020  gs[-3:].        
+000359a0: 6966 206c 656e 2870 6141 7267 7329 203e  if len(paArgs) >
+000359b0: 2033 3a0a 2020 2020 2020 2020 2020 2020   3:.            
+000359c0: 7468 6973 4675 6e63 203d 2070 6141 7267  thisFunc = paArg
+000359d0: 735b 305d 2e5f 5f63 6c61 7373 5f5f 2e5f  s[0].__class__._
+000359e0: 5f6e 616d 655f 5f20 2b20 222e 2220 2b20  _name__ + "." + 
+000359f0: 7468 6973 4675 6e63 0a20 2020 2020 2020  thisFunc.       
+00035a00: 2073 7973 2e73 7464 6572 722e 7772 6974   sys.stderr.writ
+00035a10: 6528 6622 3e3e 656e 7465 7269 6e67 207b  e(f">>entering {
+00035a20: 7468 6973 4675 6e63 7d28 6c69 6e65 3a20  thisFunc}(line: 
+00035a30: 7b6c 696e 6528 6c2c 2073 2921 727d 2c20  {line(l, s)!r}, 
+00035a40: 7b6c 7d2c 207b 7421 727d 295c 6e22 290a  {l}, {t!r})\n").
+00035a50: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00035a60: 2020 2020 2020 2020 2072 6574 203d 2066           ret = f
+00035a70: 282a 7061 4172 6773 290a 2020 2020 2020  (*paArgs).      
+00035a80: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+00035a90: 6f6e 2061 7320 6578 633a 0a20 2020 2020  on as exc:.     
+00035aa0: 2020 2020 2020 2073 7973 2e73 7464 6572         sys.stder
+00035ab0: 722e 7772 6974 6528 6622 3c3c 6c65 6176  r.write(f"<<leav
+00035ac0: 696e 6720 7b74 6869 7346 756e 637d 2028  ing {thisFunc} (
+00035ad0: 6578 6365 7074 696f 6e3a 207b 6578 637d  exception: {exc}
+00035ae0: 295c 6e22 290a 2020 2020 2020 2020 2020  )\n").          
+00035af0: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
+00035b00: 7379 732e 7374 6465 7272 2e77 7269 7465  sys.stderr.write
+00035b10: 2866 223c 3c6c 6561 7669 6e67 207b 7468  (f"<<leaving {th
+00035b20: 6973 4675 6e63 7d20 2872 6574 3a20 7b72  isFunc} (ret: {r
+00035b30: 6574 2172 7d29 5c6e 2229 0a20 2020 2020  et!r})\n").     
+00035b40: 2020 2072 6574 7572 6e20 7265 740a 0a20     return ret.. 
+00035b50: 2020 207a 2e5f 5f6e 616d 655f 5f20 3d20     z.__name__ = 
+00035b60: 662e 5f5f 6e61 6d65 5f5f 0a20 2020 2072  f.__name__.    r
+00035b70: 6574 7572 6e20 7a0a 0a0a 2320 636f 6e76  eturn z...# conv
+00035b80: 656e 6965 6e63 6520 636f 6e73 7461 6e74  enience constant
+00035b90: 7320 666f 7220 706f 7369 7469 6f6e 616c  s for positional
+00035ba0: 2065 7870 7265 7373 696f 6e73 0a65 6d70   expressions.emp
+00035bb0: 7479 203d 2045 6d70 7479 2829 2e73 6574  ty = Empty().set
+00035bc0: 5f6e 616d 6528 2265 6d70 7479 2229 0a6c  _name("empty").l
+00035bd0: 696e 655f 7374 6172 7420 3d20 4c69 6e65  ine_start = Line
+00035be0: 5374 6172 7428 292e 7365 745f 6e61 6d65  Start().set_name
+00035bf0: 2822 6c69 6e65 5f73 7461 7274 2229 0a6c  ("line_start").l
+00035c00: 696e 655f 656e 6420 3d20 4c69 6e65 456e  ine_end = LineEn
+00035c10: 6428 292e 7365 745f 6e61 6d65 2822 6c69  d().set_name("li
+00035c20: 6e65 5f65 6e64 2229 0a73 7472 696e 675f  ne_end").string_
+00035c30: 7374 6172 7420 3d20 5374 7269 6e67 5374  start = StringSt
+00035c40: 6172 7428 292e 7365 745f 6e61 6d65 2822  art().set_name("
+00035c50: 7374 7269 6e67 5f73 7461 7274 2229 0a73  string_start").s
+00035c60: 7472 696e 675f 656e 6420 3d20 5374 7269  tring_end = Stri
+00035c70: 6e67 456e 6428 292e 7365 745f 6e61 6d65  ngEnd().set_name
+00035c80: 2822 7374 7269 6e67 5f65 6e64 2229 0a0a  ("string_end")..
+00035c90: 5f65 7363 6170 6564 5075 6e63 203d 2052  _escapedPunc = R
+00035ca0: 6567 6578 2872 225c 5c5b 5c5c 5b5c 5d5c  egex(r"\\[\\[\]\
+00035cb0: 2f5c 2d5c 2a5c 2e5c 245c 2b5c 5e5c 3f28  /\-\*\.\$\+\^\?(
+00035cc0: 297e 205d 2229 2e73 6574 5f70 6172 7365  )~ ]").set_parse
+00035cd0: 5f61 6374 696f 6e28 0a20 2020 206c 616d  _action(.    lam
+00035ce0: 6264 6120 732c 206c 2c20 743a 2074 5b30  bda s, l, t: t[0
+00035cf0: 5d5b 315d 0a29 0a5f 6573 6361 7065 6448  ][1].)._escapedH
+00035d00: 6578 4368 6172 203d 2052 6567 6578 2872  exChar = Regex(r
+00035d10: 225c 5c30 3f5b 7858 5d5b 302d 3961 2d66  "\\0?[xX][0-9a-f
+00035d20: 412d 465d 2b22 292e 7365 745f 7061 7273  A-F]+").set_pars
+00035d30: 655f 6163 7469 6f6e 280a 2020 2020 6c61  e_action(.    la
+00035d40: 6d62 6461 2073 2c20 6c2c 2074 3a20 6368  mbda s, l, t: ch
+00035d50: 7228 696e 7428 745b 305d 2e6c 7374 7269  r(int(t[0].lstri
+00035d60: 7028 7222 5c30 7822 292c 2031 3629 290a  p(r"\0x"), 16)).
+00035d70: 290a 5f65 7363 6170 6564 4f63 7443 6861  )._escapedOctCha
+00035d80: 7220 3d20 5265 6765 7828 7222 5c5c 305b  r = Regex(r"\\0[
+00035d90: 302d 375d 2b22 292e 7365 745f 7061 7273  0-7]+").set_pars
+00035da0: 655f 6163 7469 6f6e 280a 2020 2020 6c61  e_action(.    la
+00035db0: 6d62 6461 2073 2c20 6c2c 2074 3a20 6368  mbda s, l, t: ch
+00035dc0: 7228 696e 7428 745b 305d 5b31 3a5d 2c20  r(int(t[0][1:], 
+00035dd0: 3829 290a 290a 5f73 696e 676c 6543 6861  8)).)._singleCha
+00035de0: 7220 3d20 280a 2020 2020 5f65 7363 6170  r = (.    _escap
+00035df0: 6564 5075 6e63 207c 205f 6573 6361 7065  edPunc | _escape
+00035e00: 6448 6578 4368 6172 207c 205f 6573 6361  dHexChar | _esca
+00035e10: 7065 644f 6374 4368 6172 207c 2043 6861  pedOctChar | Cha
+00035e20: 7273 4e6f 7449 6e28 7222 5c5d 222c 2065  rsNotIn(r"\]", e
+00035e30: 7861 6374 3d31 290a 290a 5f63 6861 7252  xact=1).)._charR
+00035e40: 616e 6765 203d 2047 726f 7570 285f 7369  ange = Group(_si
+00035e50: 6e67 6c65 4368 6172 202b 2053 7570 7072  ngleChar + Suppr
+00035e60: 6573 7328 222d 2229 202b 205f 7369 6e67  ess("-") + _sing
+00035e70: 6c65 4368 6172 290a 5f72 6542 7261 636b  leChar)._reBrack
+00035e80: 6574 4578 7072 203d 2028 0a20 2020 204c  etExpr = (.    L
+00035e90: 6974 6572 616c 2822 5b22 290a 2020 2020  iteral("[").    
+00035ea0: 2b20 4f70 7428 225e 2229 2e73 6574 5f72  + Opt("^").set_r
+00035eb0: 6573 756c 7473 5f6e 616d 6528 226e 6567  esults_name("neg
+00035ec0: 6174 6522 290a 2020 2020 2b20 4772 6f75  ate").    + Grou
+00035ed0: 7028 4f6e 654f 724d 6f72 6528 5f63 6861  p(OneOrMore(_cha
+00035ee0: 7252 616e 6765 207c 205f 7369 6e67 6c65  rRange | _single
+00035ef0: 4368 6172 2929 2e73 6574 5f72 6573 756c  Char)).set_resul
+00035f00: 7473 5f6e 616d 6528 2262 6f64 7922 290a  ts_name("body").
+00035f10: 2020 2020 2b20 4c69 7465 7261 6c28 225d      + Literal("]
+00035f20: 2229 0a29 0a0a 0a64 6566 2073 7261 6e67  ").)...def srang
+00035f30: 6528 733a 2073 7472 2920 2d3e 2073 7472  e(s: str) -> str
+00035f40: 3a0a 2020 2020 7222 2222 4865 6c70 6572  :.    r"""Helper
+00035f50: 2074 6f20 6561 7369 6c79 2064 6566 696e   to easily defin
+00035f60: 6520 7374 7269 6e67 2072 616e 6765 7320  e string ranges 
+00035f70: 666f 7220 7573 6520 696e 203a 636c 6173  for use in :clas
+00035f80: 733a 6057 6f72 6460 0a20 2020 2063 6f6e  s:`Word`.    con
+00035f90: 7374 7275 6374 696f 6e2e 2042 6f72 726f  struction. Borro
+00035fa0: 7773 2073 796e 7461 7820 6672 6f6d 2072  ws syntax from r
+00035fb0: 6567 6578 7020 6060 275b 5d27 6060 2073  egexp ``'[]'`` s
+00035fc0: 7472 696e 6720 7261 6e67 650a 2020 2020  tring range.    
+00035fd0: 6465 6669 6e69 7469 6f6e 733a 3a0a 0a20  definitions::.. 
+00035fe0: 2020 2020 2020 2073 7261 6e67 6528 225b         srange("[
+00035ff0: 302d 395d 2229 2020 202d 3e20 2230 3132  0-9]")   -> "012
+00036000: 3334 3536 3738 3922 0a20 2020 2020 2020  3456789".       
+00036010: 2073 7261 6e67 6528 225b 612d 7a5d 2229   srange("[a-z]")
+00036020: 2020 202d 3e20 2261 6263 6465 6667 6869     -> "abcdefghi
+00036030: 6a6b 6c6d 6e6f 7071 7273 7475 7677 7879  jklmnopqrstuvwxy
+00036040: 7a22 0a20 2020 2020 2020 2073 7261 6e67  z".        srang
+00036050: 6528 225b 612d 7a24 5f5d 2229 202d 3e20  e("[a-z$_]") -> 
+00036060: 2261 6263 6465 6667 6869 6a6b 6c6d 6e6f  "abcdefghijklmno
+00036070: 7071 7273 7475 7677 7879 7a24 5f22 0a0a  pqrstuvwxyz$_"..
+00036080: 2020 2020 5468 6520 696e 7075 7420 7374      The input st
+00036090: 7269 6e67 206d 7573 7420 6265 2065 6e63  ring must be enc
+000360a0: 6c6f 7365 6420 696e 205b 5d27 732c 2061  losed in []'s, a
+000360b0: 6e64 2074 6865 2072 6574 7572 6e65 6420  nd the returned 
+000360c0: 7374 7269 6e67 0a20 2020 2069 7320 7468  string.    is th
+000360d0: 6520 6578 7061 6e64 6564 2063 6861 7261  e expanded chara
+000360e0: 6374 6572 2073 6574 206a 6f69 6e65 6420  cter set joined 
+000360f0: 696e 746f 2061 2073 696e 676c 6520 7374  into a single st
+00036100: 7269 6e67 2e20 5468 650a 2020 2020 7661  ring. The.    va
+00036110: 6c75 6573 2065 6e63 6c6f 7365 6420 696e  lues enclosed in
+00036120: 2074 6865 205b 5d27 7320 6d61 7920 6265   the []'s may be
+00036130: 3a0a 0a20 2020 202d 2061 2073 696e 676c  :..    - a singl
+00036140: 6520 6368 6172 6163 7465 720a 2020 2020  e character.    
+00036150: 2d20 616e 2065 7363 6170 6564 2063 6861  - an escaped cha
+00036160: 7261 6374 6572 2077 6974 6820 6120 6c65  racter with a le
+00036170: 6164 696e 6720 6261 636b 736c 6173 6820  ading backslash 
+00036180: 2873 7563 6820 6173 2060 605c 2d60 600a  (such as ``\-``.
+00036190: 2020 2020 2020 6f72 2060 605c 5d60 6029        or ``\]``)
+000361a0: 0a20 2020 202d 2061 6e20 6573 6361 7065  .    - an escape
+000361b0: 6420 6865 7820 6368 6172 6163 7465 7220  d hex character 
+000361c0: 7769 7468 2061 206c 6561 6469 6e67 2060  with a leading `
+000361d0: 6027 5c78 2760 600a 2020 2020 2020 2860  `'\x'``.      (`
+000361e0: 605c 7832 3160 602c 2077 6869 6368 2069  `\x21``, which i
+000361f0: 7320 6120 6060 2721 2760 6020 6368 6172  s a ``'!'`` char
+00036200: 6163 7465 7229 2028 6060 5c30 7823 2360  acter) (``\0x##`
+00036210: 600a 2020 2020 2020 6973 2061 6c73 6f20  `.      is also 
+00036220: 7375 7070 6f72 7465 6420 666f 7220 6261  supported for ba
+00036230: 636b 7761 7264 7320 636f 6d70 6174 6962  ckwards compatib
+00036240: 696c 6974 7929 0a20 2020 202d 2061 6e20  ility).    - an 
+00036250: 6573 6361 7065 6420 6f63 7461 6c20 6368  escaped octal ch
+00036260: 6172 6163 7465 7220 7769 7468 2061 206c  aracter with a l
+00036270: 6561 6469 6e67 2060 6027 5c30 2760 600a  eading ``'\0'``.
+00036280: 2020 2020 2020 2860 605c 3034 3160 602c        (``\041``,
+00036290: 2077 6869 6368 2069 7320 6120 6060 2721   which is a ``'!
+000362a0: 2760 6020 6368 6172 6163 7465 7229 0a20  '`` character). 
+000362b0: 2020 202d 2061 2072 616e 6765 206f 6620     - a range of 
+000362c0: 616e 7920 6f66 2074 6865 2061 626f 7665  any of the above
+000362d0: 2c20 7365 7061 7261 7465 6420 6279 2061  , separated by a
+000362e0: 2064 6173 6820 2860 6027 612d 7a27 6060   dash (``'a-z'``
+000362f0: 2c0a 2020 2020 2020 6574 632e 290a 2020  ,.      etc.).  
+00036300: 2020 2d20 616e 7920 636f 6d62 696e 6174    - any combinat
+00036310: 696f 6e20 6f66 2074 6865 2061 626f 7665  ion of the above
+00036320: 2028 6060 2761 6569 6f75 7927 6060 2c0a   (``'aeiouy'``,.
+00036330: 2020 2020 2020 6060 2761 2d7a 412d 5a30        ``'a-zA-Z0
+00036340: 2d39 5f24 2760 602c 2065 7463 2e29 0a20  -9_$'``, etc.). 
+00036350: 2020 2022 2222 0a20 2020 205f 6578 7061     """.    _expa
+00036360: 6e64 6564 203d 2028 0a20 2020 2020 2020  nded = (.       
+00036370: 206c 616d 6264 6120 703a 2070 0a20 2020   lambda p: p.   
+00036380: 2020 2020 2069 6620 6e6f 7420 6973 696e       if not isin
+00036390: 7374 616e 6365 2870 2c20 5061 7273 6552  stance(p, ParseR
+000363a0: 6573 756c 7473 290a 2020 2020 2020 2020  esults).        
+000363b0: 656c 7365 2022 222e 6a6f 696e 2863 6872  else "".join(chr
+000363c0: 2863 2920 666f 7220 6320 696e 2072 616e  (c) for c in ran
+000363d0: 6765 286f 7264 2870 5b30 5d29 2c20 6f72  ge(ord(p[0]), or
+000363e0: 6428 705b 315d 2920 2b20 3129 290a 2020  d(p[1]) + 1)).  
+000363f0: 2020 290a 2020 2020 7472 793a 0a20 2020    ).    try:.   
+00036400: 2020 2020 2072 6574 7572 6e20 2222 2e6a       return "".j
+00036410: 6f69 6e28 5f65 7870 616e 6465 6428 7061  oin(_expanded(pa
+00036420: 7274 2920 666f 7220 7061 7274 2069 6e20  rt) for part in 
+00036430: 5f72 6542 7261 636b 6574 4578 7072 2e70  _reBracketExpr.p
+00036440: 6172 7365 5f73 7472 696e 6728 7329 2e62  arse_string(s).b
+00036450: 6f64 7929 0a20 2020 2065 7863 6570 7420  ody).    except 
+00036460: 4578 6365 7074 696f 6e20 6173 2065 3a0a  Exception as e:.
+00036470: 2020 2020 2020 2020 7265 7475 726e 2022          return "
+00036480: 220a 0a0a 6465 6620 746f 6b65 6e5f 6d61  "...def token_ma
+00036490: 7028 6675 6e63 2c20 2a61 7267 7329 202d  p(func, *args) -
+000364a0: 3e20 5061 7273 6541 6374 696f 6e3a 0a20  > ParseAction:. 
+000364b0: 2020 2022 2222 4865 6c70 6572 2074 6f20     """Helper to 
+000364c0: 6465 6669 6e65 2061 2070 6172 7365 2061  define a parse a
+000364d0: 6374 696f 6e20 6279 206d 6170 7069 6e67  ction by mapping
+000364e0: 2061 2066 756e 6374 696f 6e20 746f 2061   a function to a
+000364f0: 6c6c 0a20 2020 2065 6c65 6d65 6e74 7320  ll.    elements 
+00036500: 6f66 2061 203a 636c 6173 733a 6050 6172  of a :class:`Par
+00036510: 7365 5265 7375 6c74 7360 206c 6973 742e  seResults` list.
+00036520: 2049 6620 616e 7920 6164 6469 7469 6f6e   If any addition
+00036530: 616c 2061 7267 7320 6172 6520 7061 7373  al args are pass
+00036540: 6564 2c0a 2020 2020 7468 6579 2061 7265  ed,.    they are
+00036550: 2066 6f72 7761 7264 6564 2074 6f20 7468   forwarded to th
+00036560: 6520 6769 7665 6e20 6675 6e63 7469 6f6e  e given function
+00036570: 2061 7320 6164 6469 7469 6f6e 616c 2061   as additional a
+00036580: 7267 756d 656e 7473 0a20 2020 2061 6674  rguments.    aft
+00036590: 6572 2074 6865 2074 6f6b 656e 2c20 6173  er the token, as
+000365a0: 2069 6e0a 2020 2020 6060 6865 785f 696e   in.    ``hex_in
+000365b0: 7465 6765 7220 3d20 576f 7264 2868 6578  teger = Word(hex
+000365c0: 6e75 6d73 292e 7365 745f 7061 7273 655f  nums).set_parse_
+000365d0: 6163 7469 6f6e 2874 6f6b 656e 5f6d 6170  action(token_map
+000365e0: 2869 6e74 2c20 3136 2929 6060 2c0a 2020  (int, 16))``,.  
+000365f0: 2020 7768 6963 6820 7769 6c6c 2063 6f6e    which will con
+00036600: 7665 7274 2074 6865 2070 6172 7365 6420  vert the parsed 
+00036610: 6461 7461 2074 6f20 616e 2069 6e74 6567  data to an integ
+00036620: 6572 2075 7369 6e67 2062 6173 6520 3136  er using base 16
+00036630: 2e0a 0a20 2020 2045 7861 6d70 6c65 2028  ...    Example (
+00036640: 636f 6d70 6172 6520 7468 6520 6c61 7374  compare the last
+00036650: 2074 6f20 6578 616d 706c 6520 696e 203a   to example in :
+00036660: 636c 6173 733a 6050 6172 7365 7245 6c65  class:`ParserEle
+00036670: 6d65 6e74 2e74 7261 6e73 666f 726d 5f73  ment.transform_s
+00036680: 7472 696e 6760 3a3a 0a0a 2020 2020 2020  tring`::..      
+00036690: 2020 6865 785f 696e 7473 203d 2057 6f72    hex_ints = Wor
+000366a0: 6428 6865 786e 756d 7329 5b31 2c20 2e2e  d(hexnums)[1, ..
+000366b0: 2e5d 2e73 6574 5f70 6172 7365 5f61 6374  .].set_parse_act
+000366c0: 696f 6e28 746f 6b65 6e5f 6d61 7028 696e  ion(token_map(in
+000366d0: 742c 2031 3629 290a 2020 2020 2020 2020  t, 16)).        
+000366e0: 6865 785f 696e 7473 2e72 756e 5f74 6573  hex_ints.run_tes
+000366f0: 7473 2827 2727 0a20 2020 2020 2020 2020  ts('''.         
+00036700: 2020 2030 3020 3131 2032 3220 6161 2046     00 11 22 aa F
+00036710: 4620 3061 2030 6420 3161 0a20 2020 2020  F 0a 0d 1a.     
+00036720: 2020 2020 2020 2027 2727 290a 0a20 2020         ''')..   
+00036730: 2020 2020 2075 7070 6572 776f 7264 203d       upperword =
+00036740: 2057 6f72 6428 616c 7068 6173 292e 7365   Word(alphas).se
+00036750: 745f 7061 7273 655f 6163 7469 6f6e 2874  t_parse_action(t
+00036760: 6f6b 656e 5f6d 6170 2873 7472 2e75 7070  oken_map(str.upp
+00036770: 6572 2929 0a20 2020 2020 2020 2075 7070  er)).        upp
+00036780: 6572 776f 7264 5b31 2c20 2e2e 2e5d 2e72  erword[1, ...].r
+00036790: 756e 5f74 6573 7473 2827 2727 0a20 2020  un_tests('''.   
+000367a0: 2020 2020 2020 2020 206d 7920 6b69 6e67           my king
+000367b0: 646f 6d20 666f 7220 6120 686f 7273 650a  dom for a horse.
+000367c0: 2020 2020 2020 2020 2020 2020 2727 2729              ''')
+000367d0: 0a0a 2020 2020 2020 2020 7764 203d 2057  ..        wd = W
+000367e0: 6f72 6428 616c 7068 6173 292e 7365 745f  ord(alphas).set_
+000367f0: 7061 7273 655f 6163 7469 6f6e 2874 6f6b  parse_action(tok
+00036800: 656e 5f6d 6170 2873 7472 2e74 6974 6c65  en_map(str.title
+00036810: 2929 0a20 2020 2020 2020 2077 645b 312c  )).        wd[1,
+00036820: 202e 2e2e 5d2e 7365 745f 7061 7273 655f   ...].set_parse_
+00036830: 6163 7469 6f6e 2827 2027 2e6a 6f69 6e29  action(' '.join)
+00036840: 2e72 756e 5f74 6573 7473 2827 2727 0a20  .run_tests('''. 
+00036850: 2020 2020 2020 2020 2020 206e 6f77 2069             now i
+00036860: 7320 7468 6520 7769 6e74 6572 206f 6620  s the winter of 
+00036870: 6f75 7220 6469 7363 6f6e 7465 6e74 206d  our discontent m
+00036880: 6164 6520 676c 6f72 696f 7573 2073 756d  ade glorious sum
+00036890: 6d65 7220 6279 2074 6869 7320 7375 6e20  mer by this sun 
+000368a0: 6f66 2079 6f72 6b0a 2020 2020 2020 2020  of york.        
+000368b0: 2020 2020 2727 2729 0a0a 2020 2020 7072      ''')..    pr
+000368c0: 696e 7473 3a3a 0a0a 2020 2020 2020 2020  ints::..        
+000368d0: 3030 2031 3120 3232 2061 6120 4646 2030  00 11 22 aa FF 0
+000368e0: 6120 3064 2031 610a 2020 2020 2020 2020  a 0d 1a.        
+000368f0: 5b30 2c20 3137 2c20 3334 2c20 3137 302c  [0, 17, 34, 170,
+00036900: 2032 3535 2c20 3130 2c20 3133 2c20 3236   255, 10, 13, 26
+00036910: 5d0a 0a20 2020 2020 2020 206d 7920 6b69  ]..        my ki
+00036920: 6e67 646f 6d20 666f 7220 6120 686f 7273  ngdom for a hors
+00036930: 650a 2020 2020 2020 2020 5b27 4d59 272c  e.        ['MY',
+00036940: 2027 4b49 4e47 444f 4d27 2c20 2746 4f52   'KINGDOM', 'FOR
+00036950: 272c 2027 4127 2c20 2748 4f52 5345 275d  ', 'A', 'HORSE']
+00036960: 0a0a 2020 2020 2020 2020 6e6f 7720 6973  ..        now is
+00036970: 2074 6865 2077 696e 7465 7220 6f66 206f   the winter of o
+00036980: 7572 2064 6973 636f 6e74 656e 7420 6d61  ur discontent ma
+00036990: 6465 2067 6c6f 7269 6f75 7320 7375 6d6d  de glorious summ
+000369a0: 6572 2062 7920 7468 6973 2073 756e 206f  er by this sun o
+000369b0: 6620 796f 726b 0a20 2020 2020 2020 205b  f york.        [
+000369c0: 274e 6f77 2049 7320 5468 6520 5769 6e74  'Now Is The Wint
+000369d0: 6572 204f 6620 4f75 7220 4469 7363 6f6e  er Of Our Discon
+000369e0: 7465 6e74 204d 6164 6520 476c 6f72 696f  tent Made Glorio
+000369f0: 7573 2053 756d 6d65 7220 4279 2054 6869  us Summer By Thi
+00036a00: 7320 5375 6e20 4f66 2059 6f72 6b27 5d0a  s Sun Of York'].
+00036a10: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+00036a20: 2070 6128 732c 206c 2c20 7429 3a0a 2020   pa(s, l, t):.  
+00036a30: 2020 2020 2020 7265 7475 726e 205b 6675        return [fu
+00036a40: 6e63 2874 6f6b 6e2c 202a 6172 6773 2920  nc(tokn, *args) 
+00036a50: 666f 7220 746f 6b6e 2069 6e20 745d 0a0a  for tokn in t]..
+00036a60: 2020 2020 6675 6e63 5f6e 616d 6520 3d20      func_name = 
+00036a70: 6765 7461 7474 7228 6675 6e63 2c20 225f  getattr(func, "_
+00036a80: 5f6e 616d 655f 5f22 2c20 6765 7461 7474  _name__", getatt
+00036a90: 7228 6675 6e63 2c20 225f 5f63 6c61 7373  r(func, "__class
+00036aa0: 5f5f 2229 2e5f 5f6e 616d 655f 5f29 0a20  __").__name__). 
+00036ab0: 2020 2070 612e 5f5f 6e61 6d65 5f5f 203d     pa.__name__ =
+00036ac0: 2066 756e 635f 6e61 6d65 0a0a 2020 2020   func_name..    
+00036ad0: 7265 7475 726e 2070 610a 0a0a 6465 6620  return pa...def 
+00036ae0: 6175 746f 6e61 6d65 5f65 6c65 6d65 6e74  autoname_element
+00036af0: 7328 2920 2d3e 204e 6f6e 653a 0a20 2020  s() -> None:.   
+00036b00: 2022 2222 0a20 2020 2055 7469 6c69 7479   """.    Utility
+00036b10: 2074 6f20 7369 6d70 6c69 6679 206d 6173   to simplify mas
+00036b20: 732d 6e61 6d69 6e67 206f 6620 7061 7273  s-naming of pars
+00036b30: 6572 2065 6c65 6d65 6e74 732c 2066 6f72  er elements, for
+00036b40: 0a20 2020 2067 656e 6572 6174 696e 6720  .    generating 
+00036b50: 7261 696c 726f 6164 2064 6961 6772 616d  railroad diagram
+00036b60: 2077 6974 6820 6e61 6d65 6420 7375 6264   with named subd
+00036b70: 6961 6772 616d 732e 0a20 2020 2022 2222  iagrams..    """
+00036b80: 0a20 2020 2063 616c 6c69 6e67 5f66 7261  .    calling_fra
+00036b90: 6d65 203d 2073 7973 2e5f 6765 7466 7261  me = sys._getfra
+00036ba0: 6d65 2829 2e66 5f62 6163 6b0a 2020 2020  me().f_back.    
+00036bb0: 6966 2063 616c 6c69 6e67 5f66 7261 6d65  if calling_frame
+00036bc0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00036bd0: 2020 7265 7475 726e 0a20 2020 2063 616c    return.    cal
+00036be0: 6c69 6e67 5f66 7261 6d65 203d 2074 7970  ling_frame = typ
+00036bf0: 696e 672e 6361 7374 2874 7970 6573 2e46  ing.cast(types.F
+00036c00: 7261 6d65 5479 7065 2c20 6361 6c6c 696e  rameType, callin
+00036c10: 675f 6672 616d 6529 0a20 2020 2066 6f72  g_frame).    for
+00036c20: 206e 616d 652c 2076 6172 2069 6e20 6361   name, var in ca
+00036c30: 6c6c 696e 675f 6672 616d 652e 665f 6c6f  lling_frame.f_lo
+00036c40: 6361 6c73 2e69 7465 6d73 2829 3a0a 2020  cals.items():.  
+00036c50: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00036c60: 6e63 6528 7661 722c 2050 6172 7365 7245  nce(var, ParserE
+00036c70: 6c65 6d65 6e74 2920 616e 6420 6e6f 7420  lement) and not 
+00036c80: 7661 722e 6375 7374 6f6d 4e61 6d65 3a0a  var.customName:.
+00036c90: 2020 2020 2020 2020 2020 2020 7661 722e              var.
+00036ca0: 7365 745f 6e61 6d65 286e 616d 6529 0a0a  set_name(name)..
+00036cb0: 0a64 626c 5f71 756f 7465 645f 7374 7269  .dbl_quoted_stri
+00036cc0: 6e67 203d 2043 6f6d 6269 6e65 280a 2020  ng = Combine(.  
+00036cd0: 2020 5265 6765 7828 7227 2228 3f3a 5b5e    Regex(r'"(?:[^
+00036ce0: 225c 6e5c 725c 5c5d 7c28 3f3a 2222 297c  "\n\r\\]|(?:"")|
+00036cf0: 283f 3a5c 5c28 3f3a 5b5e 785d 7c78 5b30  (?:\\(?:[^x]|x[0
+00036d00: 2d39 612d 6641 2d46 5d2b 2929 292a 2729  -9a-fA-F]+)))*')
+00036d10: 202b 2027 2227 0a29 2e73 6574 5f6e 616d   + '"'.).set_nam
+00036d20: 6528 2273 7472 696e 6720 656e 636c 6f73  e("string enclos
+00036d30: 6564 2069 6e20 646f 7562 6c65 2071 756f  ed in double quo
+00036d40: 7465 7322 290a 0a73 676c 5f71 756f 7465  tes")..sgl_quote
+00036d50: 645f 7374 7269 6e67 203d 2043 6f6d 6269  d_string = Combi
+00036d60: 6e65 280a 2020 2020 5265 6765 7828 7222  ne(.    Regex(r"
+00036d70: 2728 3f3a 5b5e 275c 6e5c 725c 5c5d 7c28  '(?:[^'\n\r\\]|(
+00036d80: 3f3a 2727 297c 283f 3a5c 5c28 3f3a 5b5e  ?:'')|(?:\\(?:[^
+00036d90: 785d 7c78 5b30 2d39 612d 6641 2d46 5d2b  x]|x[0-9a-fA-F]+
+00036da0: 2929 292a 2229 202b 2022 2722 0a29 2e73  )))*") + "'".).s
+00036db0: 6574 5f6e 616d 6528 2273 7472 696e 6720  et_name("string 
+00036dc0: 656e 636c 6f73 6564 2069 6e20 7369 6e67  enclosed in sing
+00036dd0: 6c65 2071 756f 7465 7322 290a 0a71 756f  le quotes")..quo
+00036de0: 7465 645f 7374 7269 6e67 203d 2043 6f6d  ted_string = Com
+00036df0: 6269 6e65 280a 2020 2020 2852 6567 6578  bine(.    (Regex
+00036e00: 2872 2722 283f 3a5b 5e22 5c6e 5c72 5c5c  (r'"(?:[^"\n\r\\
+00036e10: 5d7c 283f 3a22 2229 7c28 3f3a 5c5c 283f  ]|(?:"")|(?:\\(?
+00036e20: 3a5b 5e78 5d7c 785b 302d 3961 2d66 412d  :[^x]|x[0-9a-fA-
+00036e30: 465d 2b29 2929 2a27 2920 2b20 2722 2729  F]+)))*') + '"')
+00036e40: 2e73 6574 5f6e 616d 6528 0a20 2020 2020  .set_name(.     
+00036e50: 2020 2022 646f 7562 6c65 2071 756f 7465     "double quote
+00036e60: 6420 7374 7269 6e67 220a 2020 2020 290a  d string".    ).
+00036e70: 2020 2020 7c20 2852 6567 6578 2872 2227      | (Regex(r"'
+00036e80: 283f 3a5b 5e27 5c6e 5c72 5c5c 5d7c 283f  (?:[^'\n\r\\]|(?
+00036e90: 3a27 2729 7c28 3f3a 5c5c 283f 3a5b 5e78  :'')|(?:\\(?:[^x
+00036ea0: 5d7c 785b 302d 3961 2d66 412d 465d 2b29  ]|x[0-9a-fA-F]+)
+00036eb0: 2929 2a22 2920 2b20 2227 2229 2e73 6574  ))*") + "'").set
+00036ec0: 5f6e 616d 6528 0a20 2020 2020 2020 2022  _name(.        "
+00036ed0: 7369 6e67 6c65 2071 756f 7465 6420 7374  single quoted st
+00036ee0: 7269 6e67 220a 2020 2020 290a 292e 7365  ring".    ).).se
+00036ef0: 745f 6e61 6d65 2822 7175 6f74 6564 2073  t_name("quoted s
+00036f00: 7472 696e 6720 7573 696e 6720 7369 6e67  tring using sing
+00036f10: 6c65 206f 7220 646f 7562 6c65 2071 756f  le or double quo
+00036f20: 7465 7322 290a 0a70 7974 686f 6e5f 7175  tes")..python_qu
+00036f30: 6f74 6564 5f73 7472 696e 6720 3d20 436f  oted_string = Co
+00036f40: 6d62 696e 6528 0a20 2020 2028 5265 6765  mbine(.    (Rege
+00036f50: 7828 7227 2222 2228 3f3a 5b5e 225c 5c5d  x(r'"""(?:[^"\\]
+00036f60: 7c22 2228 3f21 2229 7c22 283f 2122 2229  |""(?!")|"(?!"")
+00036f70: 7c5c 5c2e 292a 272c 2066 6c61 6773 3d72  |\\.)*', flags=r
+00036f80: 652e 4d55 4c54 494c 494e 4529 202b 2027  e.MULTILINE) + '
+00036f90: 2222 2227 292e 7365 745f 6e61 6d65 280a  """').set_name(.
+00036fa0: 2020 2020 2020 2020 226d 756c 7469 6c69          "multili
+00036fb0: 6e65 2064 6f75 626c 6520 7175 6f74 6564  ne double quoted
+00036fc0: 2073 7472 696e 6722 0a20 2020 2029 0a20   string".    ). 
+00036fd0: 2020 205e 2028 0a20 2020 2020 2020 2052     ^ (.        R
+00036fe0: 6567 6578 2872 2227 2727 283f 3a5b 5e27  egex(r"'''(?:[^'
+00036ff0: 5c5c 5d7c 2727 283f 2127 297c 2728 3f21  \\]|''(?!')|'(?!
+00037000: 2727 297c 5c5c 2e29 2a22 2c20 666c 6167  '')|\\.)*", flag
+00037010: 733d 7265 2e4d 554c 5449 4c49 4e45 2920  s=re.MULTILINE) 
+00037020: 2b20 2227 2727 220a 2020 2020 292e 7365  + "'''".    ).se
+00037030: 745f 6e61 6d65 2822 6d75 6c74 696c 696e  t_name("multilin
+00037040: 6520 7369 6e67 6c65 2071 756f 7465 6420  e single quoted 
+00037050: 7374 7269 6e67 2229 0a20 2020 205e 2028  string").    ^ (
+00037060: 5265 6765 7828 7227 2228 3f3a 5b5e 225c  Regex(r'"(?:[^"\
+00037070: 6e5c 725c 5c5d 7c28 3f3a 5c5c 2229 7c28  n\r\\]|(?:\\")|(
+00037080: 3f3a 5c5c 283f 3a5b 5e78 5d7c 785b 302d  ?:\\(?:[^x]|x[0-
+00037090: 3961 2d66 412d 465d 2b29 2929 2a27 2920  9a-fA-F]+)))*') 
+000370a0: 2b20 2722 2729 2e73 6574 5f6e 616d 6528  + '"').set_name(
+000370b0: 0a20 2020 2020 2020 2022 646f 7562 6c65  .        "double
+000370c0: 2071 756f 7465 6420 7374 7269 6e67 220a   quoted string".
+000370d0: 2020 2020 290a 2020 2020 5e20 2852 6567      ).    ^ (Reg
+000370e0: 6578 2872 2227 283f 3a5b 5e27 5c6e 5c72  ex(r"'(?:[^'\n\r
+000370f0: 5c5c 5d7c 283f 3a5c 5c27 297c 283f 3a5c  \\]|(?:\\')|(?:\
+00037100: 5c28 3f3a 5b5e 785d 7c78 5b30 2d39 612d  \(?:[^x]|x[0-9a-
+00037110: 6641 2d46 5d2b 2929 292a 2229 202b 2022  fA-F]+)))*") + "
+00037120: 2722 292e 7365 745f 6e61 6d65 280a 2020  '").set_name(.  
+00037130: 2020 2020 2020 2273 696e 676c 6520 7175        "single qu
+00037140: 6f74 6564 2073 7472 696e 6722 0a20 2020  oted string".   
+00037150: 2029 0a29 2e73 6574 5f6e 616d 6528 2250   ).).set_name("P
+00037160: 7974 686f 6e20 7175 6f74 6564 2073 7472  ython quoted str
+00037170: 696e 6722 290a 0a75 6e69 636f 6465 5f73  ing")..unicode_s
+00037180: 7472 696e 6720 3d20 436f 6d62 696e 6528  tring = Combine(
+00037190: 2275 2220 2b20 7175 6f74 6564 5f73 7472  "u" + quoted_str
+000371a0: 696e 672e 636f 7079 2829 292e 7365 745f  ing.copy()).set_
+000371b0: 6e61 6d65 2822 756e 6963 6f64 6520 7374  name("unicode st
+000371c0: 7269 6e67 206c 6974 6572 616c 2229 0a0a  ring literal")..
+000371d0: 0a61 6c70 6861 7338 6269 7420 3d20 7372  .alphas8bit = sr
+000371e0: 616e 6765 2872 225b 5c30 7863 302d 5c30  ange(r"[\0xc0-\0
+000371f0: 7864 365c 3078 6438 2d5c 3078 6636 5c30  xd6\0xd8-\0xf6\0
+00037200: 7866 382d 5c30 7866 665d 2229 0a70 756e  xf8-\0xff]").pun
+00037210: 6338 6269 7420 3d20 7372 616e 6765 2872  c8bit = srange(r
+00037220: 225b 5c30 7861 312d 5c30 7862 665c 3078  "[\0xa1-\0xbf\0x
+00037230: 6437 5c30 7866 375d 2229 0a0a 2320 6275  d7\0xf7]")..# bu
+00037240: 696c 6420 6c69 7374 206f 6620 6275 696c  ild list of buil
+00037250: 742d 696e 2065 7870 7265 7373 696f 6e73  t-in expressions
+00037260: 2c20 666f 7220 6675 7475 7265 2072 6566  , for future ref
+00037270: 6572 656e 6365 2069 6620 6120 676c 6f62  erence if a glob
+00037280: 616c 2064 6566 6175 6c74 2076 616c 7565  al default value
+00037290: 0a23 2067 6574 7320 7570 6461 7465 640a  .# gets updated.
+000372a0: 5f62 7569 6c74 696e 5f65 7870 7273 3a20  _builtin_exprs: 
+000372b0: 4c69 7374 5b50 6172 7365 7245 6c65 6d65  List[ParserEleme
+000372c0: 6e74 5d20 3d20 5b0a 2020 2020 7620 666f  nt] = [.    v fo
+000372d0: 7220 7620 696e 2076 6172 7328 292e 7661  r v in vars().va
+000372e0: 6c75 6573 2829 2069 6620 6973 696e 7374  lues() if isinst
+000372f0: 616e 6365 2876 2c20 5061 7273 6572 456c  ance(v, ParserEl
+00037300: 656d 656e 7429 0a5d 0a0a 2320 6261 636b  ement).]..# back
+00037310: 7761 7264 2063 6f6d 7061 7469 6269 6c69  ward compatibili
+00037320: 7479 206e 616d 6573 0a23 2066 6d74 3a20  ty names.# fmt: 
+00037330: 6f66 660a 7367 6c51 756f 7465 6453 7472  off.sglQuotedStr
+00037340: 696e 6720 3d20 7367 6c5f 7175 6f74 6564  ing = sgl_quoted
+00037350: 5f73 7472 696e 670a 6462 6c51 756f 7465  _string.dblQuote
+00037360: 6453 7472 696e 6720 3d20 6462 6c5f 7175  dString = dbl_qu
+00037370: 6f74 6564 5f73 7472 696e 670a 7175 6f74  oted_string.quot
+00037380: 6564 5374 7269 6e67 203d 2071 756f 7465  edString = quote
+00037390: 645f 7374 7269 6e67 0a75 6e69 636f 6465  d_string.unicode
+000373a0: 5374 7269 6e67 203d 2075 6e69 636f 6465  String = unicode
+000373b0: 5f73 7472 696e 670a 6c69 6e65 5374 6172  _string.lineStar
+000373c0: 7420 3d20 6c69 6e65 5f73 7461 7274 0a6c  t = line_start.l
+000373d0: 696e 6545 6e64 203d 206c 696e 655f 656e  ineEnd = line_en
+000373e0: 640a 7374 7269 6e67 5374 6172 7420 3d20  d.stringStart = 
+000373f0: 7374 7269 6e67 5f73 7461 7274 0a73 7472  string_start.str
+00037400: 696e 6745 6e64 203d 2073 7472 696e 675f  ingEnd = string_
+00037410: 656e 640a 0a40 7265 706c 6163 6564 5f62  end..@replaced_b
+00037420: 795f 7065 7038 286e 756c 6c5f 6465 6275  y_pep8(null_debu
+00037430: 675f 6163 7469 6f6e 290a 6465 6620 6e75  g_action).def nu
+00037440: 6c6c 4465 6275 6741 6374 696f 6e28 293a  llDebugAction():
+00037450: 202e 2e2e 0a0a 4072 6570 6c61 6365 645f   .....@replaced_
+00037460: 6279 5f70 6570 3828 7472 6163 655f 7061  by_pep8(trace_pa
+00037470: 7273 655f 6163 7469 6f6e 290a 6465 6620  rse_action).def 
+00037480: 7472 6163 6550 6172 7365 4163 7469 6f6e  traceParseAction
+00037490: 2829 3a20 2e2e 2e0a 0a40 7265 706c 6163  (): .....@replac
+000374a0: 6564 5f62 795f 7065 7038 2863 6f6e 6469  ed_by_pep8(condi
+000374b0: 7469 6f6e 5f61 735f 7061 7273 655f 6163  tion_as_parse_ac
+000374c0: 7469 6f6e 290a 6465 6620 636f 6e64 6974  tion).def condit
+000374d0: 696f 6e41 7350 6172 7365 4163 7469 6f6e  ionAsParseAction
+000374e0: 2829 3a20 2e2e 2e0a 0a40 7265 706c 6163  (): .....@replac
+000374f0: 6564 5f62 795f 7065 7038 2874 6f6b 656e  ed_by_pep8(token
+00037500: 5f6d 6170 290a 6465 6620 746f 6b65 6e4d  _map).def tokenM
+00037510: 6170 2829 3a20 2e2e 2e0a 2320 666d 743a  ap(): ....# fmt:
+00037520: 206f 6e0a                                 on.
```

### Comparing `pyparsing-3.1.0b2/pyparsing/diagram/__init__.py` & `pyparsing-3.1.1/pyparsing/diagram/__init__.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/exceptions.py` & `pyparsing-3.1.1/pyparsing/exceptions.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/helpers.py` & `pyparsing-3.1.1/pyparsing/helpers.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/results.py` & `pyparsing-3.1.1/pyparsing/results.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/testing.py` & `pyparsing-3.1.1/pyparsing/testing.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/unicode.py` & `pyparsing-3.1.1/pyparsing/unicode.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyparsing/util.py` & `pyparsing-3.1.1/pyparsing/util.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/pyproject.toml` & `pyparsing-3.1.1/pyproject.toml`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/tests/diag_embed.html` & `pyparsing-3.1.1/tests/diag_embed.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/tests/diag_no_embed.html` & `pyparsing-3.1.1/tests/diag_no_embed.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/tests/json_parser_tests.py` & `pyparsing-3.1.1/tests/json_parser_tests.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/tests/mypy-ignore-cases/forward_methods.py` & `pyparsing-3.1.1/tests/mypy-ignore-cases/forward_methods.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/tests/test_diagram.py` & `pyparsing-3.1.1/tests/test_diagram.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b2/tests/test_examples.py` & `pyparsing-3.1.1/tests/test_examples.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,18 +1,24 @@
 #
 # test_examples.py
 #
 from importlib import import_module
 import unittest
 
+from pyparsing import testing as ppt
+
 
 class TestExamples(unittest.TestCase):
     def _run(self, name):
         mod = import_module("examples." + name)
-        getattr(mod, "main", lambda *args, **kwargs: None)()
+
+        # use pyparsing context to reset each test to clean
+        # pyparsing settings
+        with ppt.reset_pyparsing_context():
+            getattr(mod, "main", lambda *args, **kwargs: None)()
 
     def test_numerics(self):
         self._run("numerics")
 
     def test_tap(self):
         self._run("TAP")
 
@@ -44,7 +50,10 @@
         self._run("excel_expr")
 
     def test_lucene_grammar(self):
         self._run("lucene_grammar")
 
     def test_range_check(self):
         self._run("range_check")
+
+    def test_stackish(self):
+        self._run("stackish")
```

### Comparing `pyparsing-3.1.0b2/tests/test_simple_unit.py` & `pyparsing-3.1.1/tests/test_simple_unit.py`

 * *Files 2% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 # and failing parse cases of some basic pyparsing expressions.
 #
 # Copyright (c) 2018  Paul T. McGuire
 #
 import unittest
 import pyparsing as pp
 from collections import namedtuple
-from datetime import datetime
+from datetime import datetime, timezone
 
 ppt = pp.pyparsing_test
 TestParseResultsAsserts = ppt.TestParseResultsAsserts
 
 # Test spec data class for specifying simple pyparsing test cases
 PpTestSpec = namedtuple(
     "PpTestSpec",
@@ -399,26 +399,26 @@
             expr=pp.Word("0123456789").addParseAction(lambda t: int(t[0])),
             text="12345",
             expected_list=[12345],  # note - result is type int, not str
         ),
         PpTestSpec(
             desc="Use two parse actions to convert numeric string, then convert to datetime",
             expr=pp.Word(pp.nums).add_parse_action(
-                lambda t: int(t[0]), lambda t: datetime.utcfromtimestamp(t[0])
+                lambda t: int(t[0]), lambda t: datetime.fromtimestamp(t[0], timezone.utc)
             ),
             text="1537415628",
-            expected_list=[datetime(2018, 9, 20, 3, 53, 48)],
+            expected_list=[datetime(2018, 9, 20, 3, 53, 48, tzinfo=timezone.utc)],
         ),
         PpTestSpec(
             desc="Use tokenMap for parse actions that operate on a single-length token",
             expr=pp.Word(pp.nums).add_parse_action(
-                pp.token_map(int), pp.token_map(datetime.utcfromtimestamp)
+                pp.token_map(int), pp.token_map(lambda t: datetime.fromtimestamp(t, timezone.utc))
             ),
             text="1537415628",
-            expected_list=[datetime(2018, 9, 20, 3, 53, 48)],
+            expected_list=[datetime(2018, 9, 20, 3, 53, 48, tzinfo=timezone.utc)],
         ),
         PpTestSpec(
             desc="Using a built-in function that takes a sequence of strs as a parse action",
             expr=pp.Word(pp.hexnums, exact=2)[...].add_parse_action(":".join),
             text="0A4B7321FE76",
             expected_list=["0A:4B:73:21:FE:76"],
         ),
```

### Comparing `pyparsing-3.1.0b2/tests/test_unit.py` & `pyparsing-3.1.1/tests/test_unit.py`

 * *Files 1% similar despite different names*

```diff
@@ -1800,14 +1800,23 @@
             )
         except ParseException as pe:
             print(pe.explain())
             raise
         else:
             print(result.dump())
 
+    def testSkipToIgnoreExpr2(self):
+        a, star = pp.Literal.using_each("a*")
+        wrapper = a + ... + a
+        expr = star + pp.SkipTo(star, ignore=wrapper) + star
+
+        # pyparsing 3.0.9 -> ['*', 'a_*_a', '*']
+        # pyparsing 3.1.0 -> ['*', '', '*']
+        self.assertParseAndCheckList(expr, "*a_*_a*", ["*", "a_*_a", "*"])
+
     def testEllipsisRepetition(self):
         word = pp.Word(pp.alphas).setName("word")
         num = pp.Word(pp.nums).setName("num")
 
         exprs = [
             word[...] + num,
             word * ... + num,
@@ -3444,14 +3453,25 @@
         result1.extend(result2)
         print(result1.dump())
         expected = ["spam", "eggs", "foo", "bar"]
         self.assertParseResultsEquals(
             result1, expected, msg="issue with ParseResults.extend(ParseResults)"
         )
 
+    def testQuotedStringLoc(self):
+        expr = pp.QuotedString("'")
+        expr.add_parse_action(lambda t: t[0].upper())
+
+        test_string = "Using 'quotes' for 'sarcasm' or 'emphasis' is not good 'style'."
+        transformed = expr.transform_string(test_string)
+        print(test_string)
+        print(transformed)
+        expected = re.sub(r"'([^']+)'", lambda match: match[1].upper(), test_string)
+        self.assertEqual(expected, transformed)
+
     def testParseResultsWithNestedNames(self):
         from pyparsing import (
             Dict,
             Literal,
             Group,
             Optional,
             Regex,
@@ -5206,14 +5226,84 @@
 
                 self.assertParseAndCheckList(
                     expr + pp.restOfLine.suppress(),
                     "A1234567890",
                     ["A1234567890"[:exarg]],
                 )
 
+    def testWordMin(self):
+        # failing tests
+        for min_val in range(3, 5):
+            with self.subTest(min_val=min_val):
+                wd = pp.Word("a", "1", min=min_val)
+                print(min_val, wd.reString)
+                with self.assertRaisesParseException():
+                    wd.parse_string("a1")
+
+        for min_val in range(2, 5):
+            with self.subTest(min_val=min_val):
+                wd = pp.Word("a", min=min_val)
+                print(min_val, wd.reString)
+                with self.assertRaisesParseException():
+                    wd.parse_string("a")
+
+        for min_val in range(3, 5):
+            with self.subTest(min_val=min_val):
+                wd = pp.Word("a", "1", min=min_val)
+                print(min_val, wd.reString)
+                with self.assertRaisesParseException():
+                    wd.parse_string("a1")
+
+        # passing tests
+        for min_val in range(2, 5):
+            with self.subTest(min_val=min_val):
+                wd = pp.Word("a", min=min_val)
+                test_string = "a" * min_val
+                self.assertParseAndCheckList(
+                    wd,
+                    test_string,
+                    [test_string],
+                    msg=f"Word(min={min_val}) failed",
+                    verbose=True,
+                )
+
+        for min_val in range(2, 5):
+            with self.subTest(min_val=min_val):
+                wd = pp.Word("a", "1", min=min_val)
+                test_string = "a" + "1" * (min_val - 1)
+                self.assertParseAndCheckList(
+                    wd,
+                    test_string,
+                    [test_string],
+                    msg=f"Word(min={min_val}) failed",
+                    verbose=True,
+                )
+
+    def testWordExact(self):
+        # failing tests
+        for exact_val in range(2, 5):
+            with self.subTest(exact_val=exact_val):
+                wd = pp.Word("a", exact=exact_val)
+                print(exact_val, wd.reString)
+                with self.assertRaisesParseException():
+                    wd.parse_string("a")
+
+        # passing tests
+        for exact_val in range(2, 5):
+            with self.subTest(exact_val=exact_val):
+                wd = pp.Word("a", exact=exact_val)
+                test_string = "a" * exact_val
+                self.assertParseAndCheckList(
+                    wd,
+                    test_string,
+                    [test_string],
+                    msg=f"Word(exact={exact_val}) failed",
+                    verbose=True,
+                )
+
     def testInvalidMinMaxArgs(self):
         with self.assertRaises(ValueError):
             wd = pp.Word(min=2, max=1)
 
     def testWordExclude(self):
         allButPunc = pp.Word(pp.printables, excludeChars=".,:;-_!?")
 
@@ -6885,22 +6975,35 @@
             msg="failed to parse hex integers",
         )
 
     def testParseFile(self):
         s = """
         123 456 789
         """
-        input_file = StringIO(s)
-        integer = ppc.integer
+        from pathlib import Path
 
-        results = pp.OneOrMore(integer).parseFile(input_file)
-        print(results)
+        integer = ppc.integer
+        test_parser = integer[1, ...]
 
-        results = pp.OneOrMore(integer).parseFile("tests/parsefiletest_input_file.txt")
-        print(results)
+        input_file_as_stringio = StringIO(s)
+        input_file_as_str = "tests/parsefiletest_input_file.txt"
+        input_file_as_path = Path(input_file_as_str)
+
+        expected_list = [int(i) for i in s.split()]
+
+        for input_file in (
+            input_file_as_stringio,
+            input_file_as_str,
+            input_file_as_path,
+        ):
+            with self.subTest(input_file=input_file):
+                print(f"parse_file() called with {type(input_file).__name__}")
+                results = test_parser.parseFile(input_file)
+                print(results)
+                self.assertEqual(expected_list, results.as_list())
 
     def testHTMLStripper(self):
         sample = """
         <html>
         Here is some sample <i>HTML</i> text.
         </html>
         """
@@ -9880,14 +9983,54 @@
             # type name)
             exception_line = explain_str_lines[-(len(expected) + 1)]
             self.assertTrue(
                 exception_line.startswith("TypeError:"),
                 msg=f"unexpected exception line ({exception_line!r})",
             )
 
+    def testForwardReferenceException(self):
+        token = pp.Forward()
+        num = pp.Word(pp.nums)
+        num.setName("num")
+        text = pp.Word(pp.alphas)
+        text.setName("text")
+        fail = pp.Regex(r"\\[A-Za-z]*")("name")
+
+        def parse_fail(s, loc, toks):
+            raise pp.ParseFatalException(s, loc, f"Unknown symbol: {toks['name']}")
+
+        fail.set_parse_action(parse_fail)
+        token <<= num | text | fail
+
+        # If no name is given, do not intercept error messages
+        with self.assertRaises(pp.ParseFatalException, msg="Unknown symbol: \\fail"):
+            token.parse_string("\\fail")
+
+        # If name is given, do intercept error messages
+        token.set_name("token")
+        with self.assertRaises(pp.ParseFatalException, msg="Expected token, found.*"):
+            token.parse_string("\\fail")
+
+    def testForwardExceptionText(self):
+        wd = pp.Word(pp.alphas)
+
+        ff = pp.Forward().set_name("fffff!")
+        ff <<= wd + pp.Opt(ff)
+
+        with self.assertRaises(pp.ParseFatalException, msg="no numbers!"):
+            try:
+                ff.parse_string("123")
+            except pp.ParseException as pe:
+                raise pp.ParseSyntaxException("no numbers! just alphas!") from pe
+
+        with self.assertRaises(pp.ParseException, msg="Expected W:(A-Za-z)"):
+            ff2 = pp.Forward()
+            ff2 <<= wd
+            ff2.parse_string("123")
+
     def testMiscellaneousExceptionBits(self):
         pp.ParserElement.verbose_stacktrace = True
 
         self_testcase_name = "tests.test_unit." + type(self).__name__
 
         # force a parsing exception - match an integer against "ABC"
         try:
@@ -9964,14 +10107,34 @@
 
         for cls in (pp.And, pp.Or, pp.MatchFirst, pp.Each):
             print("testing empty", cls.__name__)
             expr = cls([])
             expr.streamline()
             to_railroad(expr)
 
+    def testForwardsDoProperStreamlining(self):
+        wd = pp.Word(pp.alphas)
+        w3 = wd + wd + wd
+        # before streamlining, w3 is {{W:(A-Za-z) W:(A-Za-z)} W:(A-Za-z)}
+        self.assertIsInstance(w3.exprs[0], pp.And)
+        self.assertEqual(len(w3.exprs), 2)
+
+        ff = pp.Forward()
+        ff <<= w3 + pp.Opt(ff)
+        # before streamlining, ff is {{{W:(A-Za-z) W:(A-Za-z)} W:(A-Za-z)} [Forward: None]}
+        self.assertEqual(len(ff.expr.exprs), 2)
+
+        ff.streamline()
+
+        # after streamlining:
+        #   w3 is {W:(A-Za-z) W:(A-Za-z) W:(A-Za-z)}
+        #   ff is {W:(A-Za-z) W:(A-Za-z) W:(A-Za-z) [Forward: None]}
+        self.assertEqual(len(ff.expr.exprs), 4)
+        self.assertEqual(len(w3.exprs), 3)
+
 
 class Test03_EnablePackratParsing(TestCase):
     def runTest(self):
         Test02_WithoutPackrat.suite_context.restore()
 
         ParserElement.enablePackrat()
```

### Comparing `pyparsing-3.1.0b2/PKG-INFO` & `pyparsing-3.1.1/PKG-INFO`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pyparsing
-Version: 3.1.0b2
+Version: 3.1.1
 Summary: pyparsing module - Classes and methods to define and execute parsing grammars
 Author-email: Paul McGuire <ptmcg.gm+pyparsing@gmail.com>
 Requires-Python: >=3.6.8
 Description-Content-Type: text/x-rst
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Intended Audience :: Developers
 Classifier: Intended Audience :: Information Technology
@@ -29,15 +29,15 @@
 Requires-Dist: jinja2 ; extra == "diagrams"
 Project-URL: Homepage, https://github.com/pyparsing/pyparsing/
 Provides-Extra: diagrams
 
 PyParsing -- A Python Parsing Module
 ====================================
 
-|Version| |Build Status| |Coverage| |License| |Python Versions|
+|Version| |Build Status| |Coverage| |License| |Python Versions| |Snyk Score|
 
 Introduction
 ============
 
 The pyparsing module is an alternative approach to creating and
 executing simple grammars, vs. the traditional lex/yacc approach, or the
 use of regular expressions. The pyparsing module provides a library of
@@ -116,7 +116,11 @@
     :target: https://pypi.org/project/pyparsing/
     :alt: License
 
 .. |Python Versions| image:: https://img.shields.io/pypi/pyversions/pyparsing.svg?style=flat-square
     :target: https://pypi.org/project/python-liquid/
     :alt: Python versions
 
+.. |Snyk Score| image:: https://snyk.io//advisor/python/pyparsing/badge.svg
+   :target: https://snyk.io//advisor/python/pyparsing
+   :alt: pyparsing
+
```

